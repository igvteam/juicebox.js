!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).juicebox=t()}(this,(function(){"use strict";function e(e){return"string"==typeof e||e instanceof String}function t(e){var t=String(e).split(/[.,]/);return t[0].split("").reverse().reduce((function(e,t,i){return i%3==0?e+","+t:e+t})).split("").reverse().join("")+(t[1]?"."+t[1]:"")}const i=function(e){return e.split(/\n|\r\n|\r/g)};function n(t){if(void 0!==t.name)return t.name;if(e(t)){let e=t.lastIndexOf("/"),i=e<0?t:t.substr(e+1);return e=i.indexOf("?"),e>0&&(i=i.substr(0,e)),i}throw Error("Expected File or string, got "+typeof t)}function o(e){return!!e&&("function"!=typeof e&&(e instanceof File||e.hasOwnProperty("name")&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer))}"object"==typeof process&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});const r={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function a(e){let t=e.length;for(;--t>=0;)e[t]=0}const s=256,c=286,l=30,h=15,d=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),f=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),p=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m=new Array(576);a(m);const g=new Array(60);a(g);const w=new Array(512);a(w);const F=new Array(256);a(F);const b=new Array(29);a(b);const v=new Array(l);function y(e,t,i,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}let _,C,x;function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}a(v);const E=e=>e<256?w[e]:w[256+(e>>>7)],N=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},S=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},I=(e,t,i)=>{S(e,i[2*t],i[2*t+1])},z=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},D=(e,t,i)=>{const n=new Array(16);let o,r,a=0;for(o=1;o<=h;o++)a=a+i[o-1]<<1,n[o]=a;for(r=0;r<=t;r++){let t=e[2*r+1];0!==t&&(e[2*r]=z(n[t]++,t))}},A=e=>{let t;for(t=0;t<c;t++)e.dyn_ltree[2*t]=0;for(t=0;t<l;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},M=e=>{e.bi_valid>8?N(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},T=(e,t,i,n)=>{const o=2*t,r=2*i;return e[o]<e[r]||e[o]===e[r]&&n[t]<=n[i]},R=(e,t,i)=>{const n=e.heap[i];let o=i<<1;for(;o<=e.heap_len&&(o<e.heap_len&&T(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!T(t,n,e.heap[o],e.depth));)e.heap[i]=e.heap[o],i=o,o<<=1;e.heap[i]=n},L=(e,t,i)=>{let n,o,r,a,c=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+c++],n+=(255&e.pending_buf[e.sym_buf+c++])<<8,o=e.pending_buf[e.sym_buf+c++],0===n?I(e,o,t):(r=F[o],I(e,r+s+1,t),a=d[r],0!==a&&(o-=b[r],S(e,o,a)),n--,r=E(n),I(e,r,i),a=f[r],0!==a&&(n-=v[r],S(e,n,a)))}while(c<e.sym_next);I(e,256,t)},B=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,r=t.stat_desc.elems;let a,s,c,l=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<r;a++)0!==i[2*a]?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):i[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,i[2*c]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=n[2*c+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)R(e,i,a);c=r;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,i,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,i[2*c]=i[2*a]+i[2*s],e.depth[c]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,i[2*a+1]=i[2*s+1]=c,e.heap[1]=c++,R(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,d,f,u,p,m,g=0;for(u=0;u<=h;u++)e.bl_count[u]=0;for(i[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)d=e.heap[l],u=i[2*i[2*d+1]+1]+1,u>c&&(u=c,g++),i[2*d+1]=u,d>n||(e.bl_count[u]++,p=0,d>=s&&(p=a[d-s]),m=i[2*d],e.opt_len+=m*(u+p),r&&(e.static_len+=m*(o[2*d+1]+p)));if(0!==g){do{for(u=c-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(u=c;0!==u;u--)for(d=e.bl_count[u];0!==d;)f=e.heap[--l],f>n||(i[2*f+1]!==u&&(e.opt_len+=(u-i[2*f+1])*i[2*f],i[2*f+1]=u),d--)}})(e,t),D(i,l,e.bl_count)},H=(e,t,i)=>{let n,o,r=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)o=a,a=t[2*(n+1)+1],++s<c&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==r&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,r=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4))},O=(e,t,i)=>{let n,o,r=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),n=0;n<=i;n++)if(o=a,a=t[2*(n+1)+1],!(++s<c&&o===a)){if(s<l)do{I(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==r&&(I(e,o,e.bl_tree),s--),I(e,16,e.bl_tree),S(e,s-3,2)):s<=10?(I(e,17,e.bl_tree),S(e,s-3,3)):(I(e,18,e.bl_tree),S(e,s-11,7));s=0,r=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4)}};let P=!1;const q=(e,t,i,n)=>{S(e,0+(n?1:0),3),M(e),N(e,i),N(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var U=(e,t,i,n)=>{let o,r,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),B(e,e.l_desc),B(e,e.d_desc),a=(e=>{let t;for(H(e,e.dyn_ltree,e.l_desc.max_code),H(e,e.dyn_dtree,e.d_desc.max_code),B(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*p[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=o&&(o=r)):o=r=i+5,i+4<=o&&-1!==t?q(e,t,i,n):4===e.strategy||r===o?(S(e,2+(n?1:0),3),L(e,m,g)):(S(e,4+(n?1:0),3),((e,t,i,n)=>{let o;for(S(e,t-257,5),S(e,i-1,5),S(e,n-4,4),o=0;o<n;o++)S(e,e.bl_tree[2*p[o]+1],3);O(e,e.dyn_ltree,t-1),O(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),L(e,e.dyn_ltree,e.dyn_dtree)),A(e),n&&M(e)},V={_tr_init:e=>{P||((()=>{let e,t,i,n,o;const r=new Array(16);for(i=0,n=0;n<28;n++)for(b[n]=i,e=0;e<1<<d[n];e++)F[i++]=n;for(F[i-1]=n,o=0,n=0;n<16;n++)for(v[n]=o,e=0;e<1<<f[n];e++)w[o++]=n;for(o>>=7;n<l;n++)for(v[n]=o<<7,e=0;e<1<<f[n]-7;e++)w[256+o++]=n;for(t=0;t<=h;t++)r[t]=0;for(e=0;e<=143;)m[2*e+1]=8,e++,r[8]++;for(;e<=255;)m[2*e+1]=9,e++,r[9]++;for(;e<=279;)m[2*e+1]=7,e++,r[7]++;for(;e<=287;)m[2*e+1]=8,e++,r[8]++;for(D(m,287,r),e=0;e<l;e++)g[2*e+1]=5,g[2*e]=z(e,5);_=new y(m,d,257,c,h),C=new y(g,f,0,l,h),x=new y(new Array(0),u,0,19,7)})(),P=!0),e.l_desc=new k(e.dyn_ltree,_),e.d_desc=new k(e.dyn_dtree,C),e.bl_desc=new k(e.bl_tree,x),e.bi_buf=0,e.bi_valid=0,A(e)},_tr_stored_block:q,_tr_flush_block:U,_tr_tally:(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(F[i]+s+1)]++,e.dyn_dtree[2*E(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{S(e,2,3),I(e,256,m),(e=>{16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var j=(e,t,i,n)=>{let o=65535&e,r=e>>>16&65535,a=0;for(;0!==i;){a=i>2e3?2e3:i,i-=a;do{o=o+t[n++]|0,r=r+o|0}while(--a);o%=65521,r%=65521}return o|r<<16};const W=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var G=(e,t,i,n)=>{const o=W,r=n+i;e^=-1;for(let i=n;i<r;i++)e=e>>>8^o[255&(e^t[i])];return~e},$={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Z={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:K,_tr_stored_block:X,_tr_flush_block:Y,_tr_tally:Q,_tr_align:J}=V,{Z_NO_FLUSH:ee,Z_PARTIAL_FLUSH:te,Z_FULL_FLUSH:ie,Z_FINISH:ne,Z_BLOCK:oe,Z_OK:re,Z_STREAM_END:ae,Z_STREAM_ERROR:se,Z_DATA_ERROR:ce,Z_BUF_ERROR:le,Z_DEFAULT_COMPRESSION:he,Z_FILTERED:de,Z_HUFFMAN_ONLY:fe,Z_RLE:ue,Z_FIXED:pe,Z_DEFAULT_STRATEGY:me,Z_UNKNOWN:ge,Z_DEFLATED:we}=Z,Fe=258,be=262,ve=42,ye=113,_e=666,Ce=(e,t)=>(e.msg=$[t],t),xe=e=>2*e-(e>4?9:0),ke=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Ee=e=>{let t,i,n,o=e.w_size;t=e.hash_size,n=t;do{i=e.head[--n],e.head[n]=i>=o?i-o:0}while(--t);t=o,n=t;do{i=e.prev[--n],e.prev[n]=i>=o?i-o:0}while(--t)};let Ne=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const Se=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},Ie=(e,t)=>{Y(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Se(e.strm)},ze=(e,t)=>{e.pending_buf[e.pending++]=t},De=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ae=(e,t,i,n)=>{let o=e.avail_in;return o>n&&(o=n),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),i),1===e.state.wrap?e.adler=j(e.adler,t,o,i):2===e.state.wrap&&(e.adler=G(e.adler,t,o,i)),e.next_in+=o,e.total_in+=o,o)},Me=(e,t)=>{let i,n,o=e.max_chain_length,r=e.strstart,a=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-be?e.strstart-(e.w_size-be):0,l=e.window,h=e.w_mask,d=e.prev,f=e.strstart+Fe;let u=l[r+a-1],p=l[r+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(i=t,l[i+a]===p&&l[i+a-1]===u&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<f);if(n=Fe-(f-r),r=f-Fe,n>a){if(e.match_start=t,a=n,n>=s)break;u=l[r+a-1],p=l[r+a]}}}while((t=d[t&h])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead},Te=e=>{const t=e.w_size;let i,n,o;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-be)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Ee(e),n+=t),0===e.strm.avail_in)break;if(i=Ae(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Ne(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Ne(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<be&&0!==e.strm.avail_in)},Re=(e,t)=>{let i,n,o,r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(i=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o)break;if(o=e.strm.avail_out-o,n=e.strstart-e.block_start,i>n+e.strm.avail_in&&(i=n+e.strm.avail_in),i>o&&(i=o),i<r&&(0===i&&t!==ne||t===ee||i!==n+e.strm.avail_in))break;a=t===ne&&i===n+e.strm.avail_in?1:0,X(e,0,0,a),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,Se(e.strm),n&&(n>i&&(n=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,i-=n),i&&(Ae(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===a);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==ee&&t!==ne&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(Ae(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,r=o>e.w_size?e.w_size:o,n=e.strstart-e.block_start,(n>=r||(n||t===ne)&&t!==ee&&0===e.strm.avail_in&&n<=o)&&(i=n>o?o:n,a=t===ne&&0===e.strm.avail_in&&i===n?1:0,X(e,e.block_start,i,a),e.block_start+=i,Se(e.strm)),a?3:1)},Le=(e,t)=>{let i,n;for(;;){if(e.lookahead<be){if(Te(e),e.lookahead<be&&t===ee)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=Ne(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-be&&(e.match_length=Me(e,i)),e.match_length>=3)if(n=Q(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ne(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ne(e,e.ins_h,e.window[e.strstart+1]);else n=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ie(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ne?(Ie(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ie(e,!1),0===e.strm.avail_out)?1:2},Be=(e,t)=>{let i,n,o;for(;;){if(e.lookahead<be){if(Te(e),e.lookahead<be&&t===ee)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=Ne(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-be&&(e.match_length=Me(e,i),e.match_length<=5&&(e.strategy===de||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,n=Q(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=Ne(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Ie(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Q(e,0,e.window[e.strstart-1]),n&&Ie(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Q(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ne?(Ie(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ie(e,!1),0===e.strm.avail_out)?1:2};function He(e,t,i,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=o}const Oe=[new He(0,0,0,0,Re),new He(4,4,8,4,Le),new He(4,5,16,8,Le),new He(4,6,32,32,Le),new He(4,4,16,16,Be),new He(8,16,32,32,Be),new He(8,16,128,128,Be),new He(8,32,128,256,Be),new He(32,128,258,1024,Be),new He(32,258,258,4096,Be)];function Pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=we,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ke(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const qe=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==ve&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==ye&&t.status!==_e?1:0},Ue=e=>{if(qe(e))return Ce(e,se);e.total_in=e.total_out=0,e.data_type=ge;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?ve:ye,e.adler=2===t.wrap?0:1,t.last_flush=-2,K(t),re},Ve=e=>{const t=Ue(e);var i;return t===re&&((i=e.state).window_size=2*i.w_size,ke(i.head),i.max_lazy_match=Oe[i.level].max_lazy,i.good_match=Oe[i.level].good_length,i.nice_match=Oe[i.level].nice_length,i.max_chain_length=Oe[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},je=(e,t,i,n,o,r)=>{if(!e)return se;let a=1;if(t===he&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>9||i!==we||n<8||n>15||t<0||t>9||r<0||r>pe||8===n&&1!==a)return Ce(e,se);8===n&&(n=9);const s=new Pe;return e.state=s,s.strm=e,s.status=ve,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=r,s.method=i,Ve(e)};var We=(e,t)=>{let i=t.length;if(qe(e))return se;const n=e.state,o=n.wrap;if(2===o||1===o&&n.status!==ve||n.lookahead)return se;if(1===o&&(e.adler=j(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===o&&(ke(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const r=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,Te(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=Ne(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Te(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=r,n.wrap=o,re},Ge={deflateInit:(e,t)=>je(e,t,we,15,8,me),deflateInit2:je,deflateReset:Ve,deflateResetKeep:Ue,deflateSetHeader:(e,t)=>qe(e)||2!==e.state.wrap?se:(e.state.gzhead=t,re),deflate:(e,t)=>{if(qe(e)||t>oe||t<0)return e?Ce(e,se):se;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===_e&&t!==ne)return Ce(e,0===e.avail_out?le:se);const n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(Se(e),0===e.avail_out)return i.last_flush=-1,re}else if(0===e.avail_in&&xe(t)<=xe(n)&&t!==ne)return Ce(e,le);if(i.status===_e&&0!==e.avail_in)return Ce(e,le);if(i.status===ve&&0===i.wrap&&(i.status=ye),i.status===ve){let t=we+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=fe||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,De(i,t),0!==i.strstart&&(De(i,e.adler>>>16),De(i,65535&e.adler)),e.adler=1,i.status=ye,Se(e),0!==i.pending)return i.last_flush=-1,re}if(57===i.status)if(e.adler=0,ze(i,31),ze(i,139),ze(i,8),i.gzhead)ze(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ze(i,255&i.gzhead.time),ze(i,i.gzhead.time>>8&255),ze(i,i.gzhead.time>>16&255),ze(i,i.gzhead.time>>24&255),ze(i,9===i.level?2:i.strategy>=fe||i.level<2?4:0),ze(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ze(i,255&i.gzhead.extra.length),ze(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=G(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(ze(i,0),ze(i,0),ze(i,0),ze(i,0),ze(i,0),ze(i,9===i.level?2:i.strategy>=fe||i.level<2?4:0),ze(i,3),i.status=ye,Se(e),0!==i.pending)return i.last_flush=-1,re;if(69===i.status){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let o=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+o),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=G(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=o,Se(e),0!==i.pending)return i.last_flush=-1,re;t=0,n-=o}let o=new Uint8Array(i.gzhead.extra);i.pending_buf.set(o.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=G(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n)),Se(e),0!==i.pending)return i.last_flush=-1,re;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ze(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n)),Se(e),0!==i.pending)return i.last_flush=-1,re;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ze(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Se(e),0!==i.pending))return i.last_flush=-1,re;ze(i,255&e.adler),ze(i,e.adler>>8&255),e.adler=0}if(i.status=ye,Se(e),0!==i.pending)return i.last_flush=-1,re}if(0!==e.avail_in||0!==i.lookahead||t!==ee&&i.status!==_e){let n=0===i.level?Re(i,t):i.strategy===fe?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(Te(e),0===e.lookahead)){if(t===ee)return 1;break}if(e.match_length=0,i=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(Ie(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ne?(Ie(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ie(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===ue?((e,t)=>{let i,n,o,r;const a=e.window;for(;;){if(e.lookahead<=Fe){if(Te(e),e.lookahead<=Fe&&t===ee)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,n=a[o],n===a[++o]&&n===a[++o]&&n===a[++o])){r=e.strstart+Fe;do{}while(n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&o<r);e.match_length=Fe-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=Q(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=Q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(Ie(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ne?(Ie(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ie(e,!1),0===e.strm.avail_out)?1:2})(i,t):Oe[i.level].func(i,t);if(3!==n&&4!==n||(i.status=_e),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),re;if(2===n&&(t===te?J(i):t!==oe&&(X(i,0,0,!1),t===ie&&(ke(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Se(e),0===e.avail_out))return i.last_flush=-1,re}return t!==ne?re:i.wrap<=0?ae:(2===i.wrap?(ze(i,255&e.adler),ze(i,e.adler>>8&255),ze(i,e.adler>>16&255),ze(i,e.adler>>24&255),ze(i,255&e.total_in),ze(i,e.total_in>>8&255),ze(i,e.total_in>>16&255),ze(i,e.total_in>>24&255)):(De(i,e.adler>>>16),De(i,65535&e.adler)),Se(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?re:ae)},deflateEnd:e=>{if(qe(e))return se;const t=e.state.status;return e.state=null,t===ye?Ce(e,ce):re},deflateSetDictionary:We,deflateInfo:"pako deflate (from Nodeca project)"};const $e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Ze=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)$e(i,t)&&(e[t]=i[t])}}return e},Ke=e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,o=e.length;t<o;t++){let o=e[t];i.set(o,n),n+=o.length}return i};let Xe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Sk){Xe=!1}const Ye=new Uint8Array(256);for(let Ik=0;Ik<256;Ik++)Ye[Ik]=Ik>=252?6:Ik>=248?5:Ik>=240?4:Ik>=224?3:Ik>=192?2:1;Ye[254]=Ye[254]=1;var Qe=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,o,r,a=e.length,s=0;for(o=0;o<a;o++)i=e.charCodeAt(o),55296==(64512&i)&&o+1<a&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),o++)),s+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(s),r=0,o=0;r<s;o++)i=e.charCodeAt(o),55296==(64512&i)&&o+1<a&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),o++)),i<128?t[r++]=i:i<2048?(t[r++]=192|i>>>6,t[r++]=128|63&i):i<65536?(t[r++]=224|i>>>12,t[r++]=128|i>>>6&63,t[r++]=128|63&i):(t[r++]=240|i>>>18,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63,t[r++]=128|63&i);return t},Je=(e,t)=>{const i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,o;const r=new Array(2*i);for(o=0,n=0;n<i;){let t=e[n++];if(t<128){r[o++]=t;continue}let a=Ye[t];if(a>4)r[o++]=65533,n+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&n<i;)t=t<<6|63&e[n++],a--;a>1?r[o++]=65533:t<65536?r[o++]=t:(t-=65536,r[o++]=55296|t>>10&1023,r[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Xe)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(r,o)},et=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+Ye[e[i]]>t?i:t};var tt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const it=Object.prototype.toString,{Z_NO_FLUSH:nt,Z_SYNC_FLUSH:ot,Z_FULL_FLUSH:rt,Z_FINISH:at,Z_OK:st,Z_STREAM_END:ct,Z_DEFAULT_COMPRESSION:lt,Z_DEFAULT_STRATEGY:ht,Z_DEFLATED:dt}=Z;function ft(e){this.options=Ze({level:lt,method:dt,chunkSize:16384,windowBits:15,memLevel:8,strategy:ht},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tt,this.strm.avail_out=0;let i=Ge.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==st)throw new Error($[i]);if(t.header&&Ge.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Qe(t.dictionary):"[object ArrayBuffer]"===it.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=Ge.deflateSetDictionary(this.strm,e),i!==st)throw new Error($[i]);this._dict_set=!0}}function ut(e,t){const i=new ft(t);if(i.push(e,!0),i.err)throw i.msg||$[i.err];return i.result}ft.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let o,r;if(this.ended)return!1;for(r=t===~~t?t:!0===t?at:nt,"string"==typeof e?i.input=Qe(e):"[object ArrayBuffer]"===it.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(r===ot||r===rt)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(o=Ge.deflate(i,r),o===ct)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),o=Ge.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===st;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},ft.prototype.onData=function(e){this.chunks.push(e)},ft.prototype.onEnd=function(e){e===st&&(this.result=Ke(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var pt=function(e,t){return(t=t||{}).raw=!0,ut(e,t)},mt=function(e,t){return(t=t||{}).gzip=!0,ut(e,t)},gt={Deflate:ft,deflate:ut,deflateRaw:pt,gzip:mt,constants:Z};const wt=16209;var Ft=function(e,t){let i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b,v,y,_,C,x,k;const E=e.state;i=e.next_in,x=e.input,n=i+(e.avail_in-5),o=e.next_out,k=e.output,r=o-(t-e.avail_out),a=o+(e.avail_out-257),s=E.dmax,c=E.wsize,l=E.whave,h=E.wnext,d=E.window,f=E.hold,u=E.bits,p=E.lencode,m=E.distcode,g=(1<<E.lenbits)-1,w=(1<<E.distbits)-1;e:do{u<15&&(f+=x[i++]<<u,u+=8,f+=x[i++]<<u,u+=8),F=p[f&g];t:for(;;){if(b=F>>>24,f>>>=b,u-=b,b=F>>>16&255,0===b)k[o++]=65535&F;else{if(!(16&b)){if(64&b){if(32&b){E.mode=16191;break e}e.msg="invalid literal/length code",E.mode=wt;break e}F=p[(65535&F)+(f&(1<<b)-1)];continue t}for(v=65535&F,b&=15,b&&(u<b&&(f+=x[i++]<<u,u+=8),v+=f&(1<<b)-1,f>>>=b,u-=b),u<15&&(f+=x[i++]<<u,u+=8,f+=x[i++]<<u,u+=8),F=m[f&w];;){if(b=F>>>24,f>>>=b,u-=b,b=F>>>16&255,16&b){if(y=65535&F,b&=15,u<b&&(f+=x[i++]<<u,u+=8,u<b&&(f+=x[i++]<<u,u+=8)),y+=f&(1<<b)-1,y>s){e.msg="invalid distance too far back",E.mode=wt;break e}if(f>>>=b,u-=b,b=o-r,y>b){if(b=y-b,b>l&&E.sane){e.msg="invalid distance too far back",E.mode=wt;break e}if(_=0,C=d,0===h){if(_+=c-b,b<v){v-=b;do{k[o++]=d[_++]}while(--b);_=o-y,C=k}}else if(h<b){if(_+=c+h-b,b-=h,b<v){v-=b;do{k[o++]=d[_++]}while(--b);if(_=0,h<v){b=h,v-=b;do{k[o++]=d[_++]}while(--b);_=o-y,C=k}}}else if(_+=h-b,b<v){v-=b;do{k[o++]=d[_++]}while(--b);_=o-y,C=k}for(;v>2;)k[o++]=C[_++],k[o++]=C[_++],k[o++]=C[_++],v-=3;v&&(k[o++]=C[_++],v>1&&(k[o++]=C[_++]))}else{_=o-y;do{k[o++]=k[_++],k[o++]=k[_++],k[o++]=k[_++],v-=3}while(v>2);v&&(k[o++]=k[_++],v>1&&(k[o++]=k[_++]))}break}if(64&b){e.msg="invalid distance code",E.mode=wt;break e}F=m[(65535&F)+(f&(1<<b)-1)]}}break}}while(i<n&&o<a);v=u>>3,i-=v,u-=v<<3,f&=(1<<u)-1,e.next_in=i,e.next_out=o,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=o<a?a-o+257:257-(o-a),E.hold=f,E.bits=u};const bt=15,vt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_t=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ct=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var xt=(e,t,i,n,o,r,a,s)=>{const c=s.bits;let l,h,d,f,u,p,m=0,g=0,w=0,F=0,b=0,v=0,y=0,_=0,C=0,x=0,k=null;const E=new Uint16Array(16),N=new Uint16Array(16);let S,I,z,D=null;for(m=0;m<=bt;m++)E[m]=0;for(g=0;g<n;g++)E[t[i+g]]++;for(b=c,F=bt;F>=1&&0===E[F];F--);if(b>F&&(b=F),0===F)return o[r++]=20971520,o[r++]=20971520,s.bits=1,0;for(w=1;w<F&&0===E[w];w++);for(b<w&&(b=w),_=1,m=1;m<=bt;m++)if(_<<=1,_-=E[m],_<0)return-1;if(_>0&&(0===e||1!==F))return-1;for(N[1]=0,m=1;m<bt;m++)N[m+1]=N[m]+E[m];for(g=0;g<n;g++)0!==t[i+g]&&(a[N[t[i+g]]++]=g);if(0===e?(k=D=a,p=20):1===e?(k=vt,D=yt,p=257):(k=_t,D=Ct,p=0),x=0,g=0,m=w,u=r,v=b,y=0,d=-1,C=1<<b,f=C-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){S=m-y,a[g]+1<p?(I=0,z=a[g]):a[g]>=p?(I=D[a[g]-p],z=k[a[g]-p]):(I=96,z=0),l=1<<m-y,h=1<<v,w=h;do{h-=l,o[u+(x>>y)+h]=S<<24|I<<16|z}while(0!==h);for(l=1<<m-1;x&l;)l>>=1;if(0!==l?(x&=l-1,x+=l):x=0,g++,0==--E[m]){if(m===F)break;m=t[i+a[g]]}if(m>b&&(x&f)!==d){for(0===y&&(y=b),u+=w,v=m-y,_=1<<v;v+y<F&&(_-=E[v+y],!(_<=0));)v++,_<<=1;if(C+=1<<v,1===e&&C>852||2===e&&C>592)return 1;d=x&f,o[d]=b<<24|v<<16|u-r}}return 0!==x&&(o[u+x]=m-y<<24|64<<16),s.bits=b,0};const{Z_FINISH:kt,Z_BLOCK:Et,Z_TREES:Nt,Z_OK:St,Z_STREAM_END:It,Z_NEED_DICT:zt,Z_STREAM_ERROR:Dt,Z_DATA_ERROR:At,Z_MEM_ERROR:Mt,Z_BUF_ERROR:Tt,Z_DEFLATED:Rt}=Z,Lt=16180,Bt=16190,Ht=16191,Ot=16192,Pt=16194,qt=16199,Ut=16200,Vt=16206,jt=16209,Wt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Gt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $t=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Lt||t.mode>16211?1:0},Zt=e=>{if($t(e))return Dt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Lt,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,St},Kt=e=>{if($t(e))return Dt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Zt(e)},Xt=(e,t)=>{let i;if($t(e))return Dt;const n=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Dt:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,Kt(e))},Yt=(e,t)=>{if(!e)return Dt;const i=new Gt;e.state=i,i.strm=e,i.window=null,i.mode=Lt;const n=Xt(e,t);return n!==St&&(e.state=null),n};let Qt,Jt,ei=!0;const ti=e=>{if(ei){Qt=new Int32Array(512),Jt=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(xt(1,e.lens,0,288,Qt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;xt(2,e.lens,0,32,Jt,0,e.work,{bits:5}),ei=!1}e.lencode=Qt,e.lenbits=9,e.distcode=Jt,e.distbits=5},ii=(e,t,i,n)=>{let o;const r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(t.subarray(i-r.wsize,i),0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>n&&(o=n),r.window.set(t.subarray(i-n,i-n+o),r.wnext),(n-=o)?(r.window.set(t.subarray(i-n,i),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0};var ni=(e,t)=>{let i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b,v,y,_,C,x=0;const k=new Uint8Array(4);let E,N;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($t(e)||!e.output||!e.input&&0!==e.avail_in)return Dt;i=e.state,i.mode===Ht&&(i.mode=Ot),a=e.next_out,o=e.output,c=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,h=i.bits,d=s,f=c,C=St;e:for(;;)switch(i.mode){case Lt:if(0===i.wrap){i.mode=Ot;break}for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(2&i.wrap&&35615===l){0===i.wbits&&(i.wbits=15),i.check=0,k[0]=255&l,k[1]=l>>>8&255,i.check=G(i.check,k,2,0),l=0,h=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",i.mode=jt;break}if((15&l)!==Rt){e.msg="unknown compression method",i.mode=jt;break}if(l>>>=4,h-=4,_=8+(15&l),0===i.wbits&&(i.wbits=_),_>15||_>i.wbits){e.msg="invalid window size",i.mode=jt;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&l?16189:Ht,l=0,h=0;break;case 16181:for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(i.flags=l,(255&i.flags)!==Rt){e.msg="unknown compression method",i.mode=jt;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=jt;break}i.head&&(i.head.text=l>>8&1),512&i.flags&&4&i.wrap&&(k[0]=255&l,k[1]=l>>>8&255,i.check=G(i.check,k,2,0)),l=0,h=0,i.mode=16182;case 16182:for(;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.head&&(i.head.time=l),512&i.flags&&4&i.wrap&&(k[0]=255&l,k[1]=l>>>8&255,k[2]=l>>>16&255,k[3]=l>>>24&255,i.check=G(i.check,k,4,0)),l=0,h=0,i.mode=16183;case 16183:for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.head&&(i.head.xflags=255&l,i.head.os=l>>8),512&i.flags&&4&i.wrap&&(k[0]=255&l,k[1]=l>>>8&255,i.check=G(i.check,k,2,0)),l=0,h=0,i.mode=16184;case 16184:if(1024&i.flags){for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.length=l,i.head&&(i.head.extra_len=l),512&i.flags&&4&i.wrap&&(k[0]=255&l,k[1]=l>>>8&255,i.check=G(i.check,k,2,0)),l=0,h=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(u=i.length,u>s&&(u=s),u&&(i.head&&(_=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(r,r+u),_)),512&i.flags&&4&i.wrap&&(i.check=G(i.check,n,u,r)),s-=u,r+=u,i.length-=u),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===s)break e;u=0;do{_=n[r+u++],i.head&&_&&i.length<65536&&(i.head.name+=String.fromCharCode(_))}while(_&&u<s);if(512&i.flags&&4&i.wrap&&(i.check=G(i.check,n,u,r)),s-=u,r+=u,_)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===s)break e;u=0;do{_=n[r+u++],i.head&&_&&i.length<65536&&(i.head.comment+=String.fromCharCode(_))}while(_&&u<s);if(512&i.flags&&4&i.wrap&&(i.check=G(i.check,n,u,r)),s-=u,r+=u,_)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(4&i.wrap&&l!==(65535&i.check)){e.msg="header crc mismatch",i.mode=jt;break}l=0,h=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=Ht;break;case 16189:for(;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}e.adler=i.check=Wt(l),l=0,h=0,i.mode=Bt;case Bt:if(0===i.havedict)return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=h,zt;e.adler=i.check=1,i.mode=Ht;case Ht:if(t===Et||t===Nt)break e;case Ot:if(i.last){l>>>=7&h,h-=7&h,i.mode=Vt;break}for(;h<3;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}switch(i.last=1&l,l>>>=1,h-=1,3&l){case 0:i.mode=16193;break;case 1:if(ti(i),i.mode=qt,t===Nt){l>>>=2,h-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg="invalid block type",i.mode=jt}l>>>=2,h-=2;break;case 16193:for(l>>>=7&h,h-=7&h;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",i.mode=jt;break}if(i.length=65535&l,l=0,h=0,i.mode=Pt,t===Nt)break e;case Pt:i.mode=16195;case 16195:if(u=i.length,u){if(u>s&&(u=s),u>c&&(u=c),0===u)break e;o.set(n.subarray(r,r+u),a),s-=u,r+=u,c-=u,a+=u,i.length-=u;break}i.mode=Ht;break;case 16196:for(;h<14;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(i.nlen=257+(31&l),l>>>=5,h-=5,i.ndist=1+(31&l),l>>>=5,h-=5,i.ncode=4+(15&l),l>>>=4,h-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=jt;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;h<3;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.lens[S[i.have++]]=7&l,l>>>=3,h-=3}for(;i.have<19;)i.lens[S[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,E={bits:i.lenbits},C=xt(0,i.lens,0,19,i.lencode,0,i.work,E),i.lenbits=E.bits,C){e.msg="invalid code lengths set",i.mode=jt;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;x=i.lencode[l&(1<<i.lenbits)-1],g=x>>>24,w=x>>>16&255,F=65535&x,!(g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(F<16)l>>>=g,h-=g,i.lens[i.have++]=F;else{if(16===F){for(N=g+2;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(l>>>=g,h-=g,0===i.have){e.msg="invalid bit length repeat",i.mode=jt;break}_=i.lens[i.have-1],u=3+(3&l),l>>>=2,h-=2}else if(17===F){for(N=g+3;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=g,h-=g,_=0,u=3+(7&l),l>>>=3,h-=3}else{for(N=g+7;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=g,h-=g,_=0,u=11+(127&l),l>>>=7,h-=7}if(i.have+u>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=jt;break}for(;u--;)i.lens[i.have++]=_}}if(i.mode===jt)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=jt;break}if(i.lenbits=9,E={bits:i.lenbits},C=xt(1,i.lens,0,i.nlen,i.lencode,0,i.work,E),i.lenbits=E.bits,C){e.msg="invalid literal/lengths set",i.mode=jt;break}if(i.distbits=6,i.distcode=i.distdyn,E={bits:i.distbits},C=xt(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,E),i.distbits=E.bits,C){e.msg="invalid distances set",i.mode=jt;break}if(i.mode=qt,t===Nt)break e;case qt:i.mode=Ut;case Ut:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=h,Ft(e,f),a=e.next_out,o=e.output,c=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,h=i.bits,i.mode===Ht&&(i.back=-1);break}for(i.back=0;x=i.lencode[l&(1<<i.lenbits)-1],g=x>>>24,w=x>>>16&255,F=65535&x,!(g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(w&&!(240&w)){for(b=g,v=w,y=F;x=i.lencode[y+((l&(1<<b+v)-1)>>b)],g=x>>>24,w=x>>>16&255,F=65535&x,!(b+g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=b,h-=b,i.back+=b}if(l>>>=g,h-=g,i.back+=g,i.length=F,0===w){i.mode=16205;break}if(32&w){i.back=-1,i.mode=Ht;break}if(64&w){e.msg="invalid literal/length code",i.mode=jt;break}i.extra=15&w,i.mode=16201;case 16201:if(i.extra){for(N=i.extra;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.length+=l&(1<<i.extra)-1,l>>>=i.extra,h-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;x=i.distcode[l&(1<<i.distbits)-1],g=x>>>24,w=x>>>16&255,F=65535&x,!(g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(!(240&w)){for(b=g,v=w,y=F;x=i.distcode[y+((l&(1<<b+v)-1)>>b)],g=x>>>24,w=x>>>16&255,F=65535&x,!(b+g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=b,h-=b,i.back+=b}if(l>>>=g,h-=g,i.back+=g,64&w){e.msg="invalid distance code",i.mode=jt;break}i.offset=F,i.extra=15&w,i.mode=16203;case 16203:if(i.extra){for(N=i.extra;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.offset+=l&(1<<i.extra)-1,l>>>=i.extra,h-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=jt;break}i.mode=16204;case 16204:if(0===c)break e;if(u=f-c,i.offset>u){if(u=i.offset-u,u>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=jt;break}u>i.wnext?(u-=i.wnext,p=i.wsize-u):p=i.wnext-u,u>i.length&&(u=i.length),m=i.window}else m=o,p=a-i.offset,u=i.length;u>c&&(u=c),c-=u,i.length-=u;do{o[a++]=m[p++]}while(--u);0===i.length&&(i.mode=Ut);break;case 16205:if(0===c)break e;o[a++]=i.length,c--,i.mode=Ut;break;case Vt:if(i.wrap){for(;h<32;){if(0===s)break e;s--,l|=n[r++]<<h,h+=8}if(f-=c,e.total_out+=f,i.total+=f,4&i.wrap&&f&&(e.adler=i.check=i.flags?G(i.check,o,f,a-f):j(i.check,o,f,a-f)),f=c,4&i.wrap&&(i.flags?l:Wt(l))!==i.check){e.msg="incorrect data check",i.mode=jt;break}l=0,h=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(4&i.wrap&&l!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=jt;break}l=0,h=0}i.mode=16208;case 16208:C=It;break e;case jt:C=At;break e;case 16210:return Mt;default:return Dt}return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=h,(i.wsize||f!==e.avail_out&&i.mode<jt&&(i.mode<Vt||t!==kt))&&ii(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,i.total+=f,4&i.wrap&&f&&(e.adler=i.check=i.flags?G(i.check,o,f,e.next_out-f):j(i.check,o,f,e.next_out-f)),e.data_type=i.bits+(i.last?64:0)+(i.mode===Ht?128:0)+(i.mode===qt||i.mode===Pt?256:0),(0===d&&0===f||t===kt)&&C===St&&(C=Tt),C},oi={inflateReset:Kt,inflateReset2:Xt,inflateResetKeep:Zt,inflateInit:e=>Yt(e,15),inflateInit2:Yt,inflate:ni,inflateEnd:e=>{if($t(e))return Dt;let t=e.state;return t.window&&(t.window=null),e.state=null,St},inflateGetHeader:(e,t)=>{if($t(e))return Dt;const i=e.state;return 2&i.wrap?(i.head=t,t.done=!1,St):Dt},inflateSetDictionary:(e,t)=>{const i=t.length;let n,o,r;return $t(e)?Dt:(n=e.state,0!==n.wrap&&n.mode!==Bt?Dt:n.mode===Bt&&(o=1,o=j(o,t,i,0),o!==n.check)?At:(r=ii(e,t,i,i),r?(n.mode=16210,Mt):(n.havedict=1,St)))},inflateInfo:"pako inflate (from Nodeca project)"};var ri=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ai=Object.prototype.toString,{Z_NO_FLUSH:si,Z_FINISH:ci,Z_OK:li,Z_STREAM_END:hi,Z_NEED_DICT:di,Z_STREAM_ERROR:fi,Z_DATA_ERROR:ui,Z_MEM_ERROR:pi}=Z;function mi(e){this.options=Ze({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tt,this.strm.avail_out=0;let i=oi.inflateInit2(this.strm,t.windowBits);if(i!==li)throw new Error($[i]);if(this.header=new ri,oi.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Qe(t.dictionary):"[object ArrayBuffer]"===ai.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=oi.inflateSetDictionary(this.strm,t.dictionary),i!==li)))throw new Error($[i])}function gi(e,t){const i=new mi(t);if(i.push(e),i.err)throw i.msg||$[i.err];return i.result}mi.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let r,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?ci:si,"[object ArrayBuffer]"===ai.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),r=oi.inflate(i,a),r===di&&o&&(r=oi.inflateSetDictionary(i,o),r===li?r=oi.inflate(i,a):r===ui&&(r=di));i.avail_in>0&&r===hi&&i.state.wrap>0&&0!==e[i.next_in];)oi.inflateReset(i),r=oi.inflate(i,a);switch(r){case fi:case ui:case di:case pi:return this.onEnd(r),this.ended=!0,!1}if(s=i.avail_out,i.next_out&&(0===i.avail_out||r===hi))if("string"===this.options.to){let e=et(i.output,i.next_out),t=i.next_out-e,o=Je(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(o)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==li||0!==s){if(r===hi)return r=oi.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},mi.prototype.onData=function(e){this.chunks.push(e)},mi.prototype.onEnd=function(e){e===li&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ke(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var wi=function(e,t){return(t=t||{}).raw=!0,gi(e,t)},Fi={Inflate:mi,inflate:gi,inflateRaw:wi,ungzip:gi,constants:Z};const{Deflate:bi,deflate:vi,deflateRaw:yi,gzip:_i}=gt,{Inflate:Ci,inflate:xi,inflateRaw:ki,ungzip:Ei}=Fi;var Ni=yi,Si=ki,Ii=Ei;function zi(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 0!==(4&t[3])&&66===t[12]&&67===t[13]?function(e,t){const i=[];let n=0,o=0;t=t||e.byteLength-18;for(;n<t;)try{const t=ArrayBuffer.isView(e)?e:new Uint8Array(e,n,18),r=t[11]<<8|t[10],a=(t[3],t[12],t[13],t[15],t[14],1+(t[17]<<8|t[16])),s=12+r+n,c=e.byteLength-s,l=a-r-19;if(c<l||l<=0)break;const h=new Uint8Array(e,s,l),d=Si(h);n+=l-1+26,o+=d.byteLength,i.push(d)}catch(e){console.error(e);break}if(1===i.length)return i[0];{const e=new Uint8Array(o);let t=0;for(let n=0;n<i.length;++n){var r=new Uint8Array(i[n]);Ai(r,0,e,t,r.length),t+=r.length}return e}}(t.buffer):Ii(t)}const Di="function"==typeof new Uint8Array(1).subarray;function Ai(e,t,i,n,o){if(0!==o){if(!e)throw"Undef src";if(!i)throw"Undef dest";0===t&&o===e.length?Mi(e,i,n):Di?Mi(e.subarray(t,t+o),i,n):1===e.BYTES_PER_ELEMENT&&o>100?Mi(new Uint8Array(e.buffer,e.byteOffset+t,o),i,n):function(e,t,i,n,o){for(let r=0;r<o;++r)i[n+r]=e[t+r]}(e,t,i,n,o)}}function Mi(e,t,i){t.set(e,i)}function Ti(e){e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");const t=atob(e),i=[];for(let e=0;e<t.length;e++)i.push(t.charCodeAt(e));const n=Si(i);let o="";for(let e of n)o+=String.fromCharCode(e);return o}const Ri=function(e,t,i){return Math.min(Math.max(e,t),i)};function Li(){this.content=[]}function Bi(e,t){return Math.random()*(t-e)+e}Li.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,i=0;i<t;i++)if(this.content[i]===e){var n=this.content.pop();if(i===t-1)break;this.content[i]=n,this.bubbleUp(i),this.sinkDown(i);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],i=t;e>0;){var n=Math.floor((e+1)/2)-1,o=this.content[n];if(i>=o)break;this.content[n]=t,this.content[e]=o,e=n}},sinkDown:function(e){for(var t=this.content.length,i=this.content[e],n=i;;){var o=2*(e+1),r=o-1,a=null;if(r<t){var s=this.content[r],c=s;s<n&&(a=r)}if(o<t)this.content[o]<(null==a?n:c)&&(a=o);if(null==a)break;this.content[e]=this.content[a],this.content[a]=i,e=a}}};const Hi={rgbListFromHSV:()=>{let e=[];for(let t=1;t>=.5;t-=.1)for(let i=0;i<1;i+=1/28){const n="rgb("+Hi.hsvToRgb(i,1,t).join(",")+")";e.push(n)}return e.pop(),e.push(Hi.rgbColor(16,16,16)),e},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(null!==t)return"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+")"},hsvToRgb:function(e,t,i){var n,o,r,a=Math.floor(6*e),s=6*e-a,c=i*(1-t),l=i*(1-s*t),h=i*(1-(1-s)*t);switch(a%6){case 0:n=i,o=h,r=c;break;case 1:n=l,o=i,r=c;break;case 2:n=c,o=i,r=h;break;case 3:n=c,o=l,r=i;break;case 4:n=h,o=c,r=i;break;case 5:n=i,o=c,r=l}return[Math.floor(255*n),Math.floor(255*o),Math.floor(255*r)]},hslToRgb:function(e,t,i){var n,o,r;if(0===t)n=o=r=i;else{var a=i<.5?i*(1+t):i+t-i*t,s=2*i-a;n=Hi.hue2rgb(s,a,e+1/3),o=Hi.hue2rgb(s,a,e),r=Hi.hue2rgb(s,a,e-1/3)}return[255*n,255*o,255*r]},hue2rgb:(e,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e),rgbaColor:function(e,t,i,n){return"rgba("+(e=Ri(e,0,255))+","+(t=Ri(t,0,255))+","+(i=Ri(i,0,255))+","+(n=Ri(n,0,1))+")"},rgbColor:function(e,t,i){return"rgb("+(e=Ri(e,0,255))+","+(t=Ri(t,0,255))+","+(i=Ri(i,0,255))+")"},greyScale:function(e){var t=Ri(e,0,255);return"rgb("+t+","+t+","+t+")"},randomGrey:function(e,t){e=Ri(e,0,255),t=Ri(t,0,255);var i=Math.round(Bi(e,t)).toString(10);return"rgb("+i+","+i+","+i+")"},randomRGB:function(e,t){return e=Ri(e,0,255),t=Ri(t,0,255),"rgb("+Math.round(Bi(e,t)).toString(10)+","+Math.round(Bi(e,t)).toString(10)+","+Math.round(Bi(e,t)).toString(10)+")"},randomRGBConstantAlpha:function(e,t,i){return e=Ri(e,0,255),t=Ri(t,0,255),"rgba("+Math.round(Bi(e,t)).toString(10)+","+Math.round(Bi(e,t)).toString(10)+","+Math.round(Bi(e,t)).toString(10)+","+i+")"},addAlpha:function(e,t){if("0"===e||"."===e)e="rgb(0,0,0)";else{const t=this.colorNameToHex(e);t&&(e=t)}var i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);if(e.startsWith("rgba")){const i=e.lastIndexOf(",");return e.substring(0,i+1)+t.toString()+")"}return i&&(e=Hi.hexToRgb(e)),e.startsWith("rgb")?e.replace("rgb","rgba").replace(")",", "+t+")"):(console.log(e+" is not an rgb style string"),e)},rgbComponents:function(e){if("0"===e||"."===e)return[0,0,0];if(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e))e=Hi.hexToRgb(e);else if(!e.startsWith("rgb")){const t=this.colorNameToHex(e);e=this.hexToRgb(t)}if(e.startsWith("rgb("))return e.substring(4,e.length-1).split(",").map((e=>Number.parseInt(e.trim())));if(e.startsWith("rgba("))return e.substring(5,e.length-1).split(",").map(((e,t)=>(e=e.trim(),3===t?Number.parseFloat(e):Number.parseInt(e))));throw Error("Unrecognized color string: color")},getCompositeColor:function(e,t,i){return"rgb("+Math.floor(i*t[0]+(1-i)*e[0])+","+Math.floor(i*t[1]+(1-i)*e[1])+","+Math.floor(i*t[2]+(1-i)*e[2])+")"},createColorString:function(e){return(e=function(e){return void 0===e||((e.startsWith("'")||e.startsWith('"'))&&(e=e.substring(1)),(e.endsWith("'")||e.endsWith('"'))&&(e=e.substring(0,e.length-1))),e}(e)).includes(",")?e.startsWith("rgb")?e:"rgb("+e+")":e},darkenLighten:function(e,t){let i,n=this.colorNameToHex(e);i=n?Hi.hexToRgb(n):e.startsWith("rgb(")?e:Hi.hexToRgb(e);const o=i.replace(")","").substring(4).split(","),r=Math.max(0,Math.min(255,Number.parseInt(o[0].trim())+t)),a=Math.max(0,Math.min(255,Number.parseInt(o[1].trim())+t)),s=Math.max(0,Math.min(255,Number.parseInt(o[2].trim())+t));return"rgb("+r.toString()+","+a.toString()+","+s.toString()+")"},colorNameToHex:function(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[e]}},Oi="googleapis";class Pi{constructor(){this.oauthTokens={}}setToken(e,t){t=t||Oi,this.oauthTokens[t]=e}getToken(e){let t;e=e||Oi;for(let i of Object.keys(this.oauthTokens)){if(qi(i).test(e)){t=this.oauthTokens[i];break}}return t}removeToken(e){e=e||Oi;for(let t of Object.keys(this.oauthTokens)){qi(t).test(e)&&(this.oauthTokens[t]=void 0)}}}function qi(e){return new RegExp("^"+e.split(/\*+/).map(Ui).join(".*")+"$")}function Ui(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function Vi(e){return e.includes("googleapis")&&!e.includes("urlshortener")||ji(e)||Wi(e)}function ji(e){return e.startsWith("gs://")||e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")}function Wi(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0}function Gi(e){let{bucket:t,object:i}=function(e){let t,i;if(e.startsWith("gs://")){const n=e.indexOf("/",5);if(n>=0){t=e.substring(5,n);const o=e.indexOf("?");i=o<0?e.substring(n+1):e.substring(n+1,o)}}else if(e.startsWith("https://storage.googleapis.com")||e.startsWith("https://storage.cloud.google.com")){const n=e.indexOf("/v1/b/",8);if(n>0){const o=e.indexOf("/o/",n);if(o>0){const r=e.indexOf("?",o);t=e.substring(n+6,o),i=r>0?e.substring(o+3,r):e.substring(o+3)}}else{const n=e.indexOf("/",8),o=e.indexOf("/",n+1),r=e.indexOf("?",o);o>0&&(t=e.substring(n+1,o),i=r<0?e.substring(o+1):e.substring(o+1,r))}}else if(e.startsWith("https://www.googleapis.com/storage/v1/b")){const n=e.indexOf("/v1/b/",8),o=e.indexOf("/o/",n);if(o>0){const r=e.indexOf("?",o);t=e.substring(n+6,o),i=r>0?e.substring(o+3,r):e.substring(o+3)}}if(t&&i)return{bucket:t,object:i};throw Error(`Unrecognized Google Storage URI: ${e}`)}(e);i=function(e){let t="";return e.split("").forEach((function(e){$i.has(e)?t+=$i.get(e):t+=e})),t}(i);const n=e.indexOf("?");return`https://storage.googleapis.com/storage/v1/b/${t}/o/${i}${n>0?e.substring(n)+"&alt=media":"?alt=media"}`}const $i=new Map;function Zi(){return window.google&&window.google.igv}function Ki(e){var t=function(e){if(e.includes("/open?id=")){const t=e.indexOf("/open?id=")+9,i=e.indexOf("&");if(t>0&&i>t)return e.substring(t,i);if(t>0)return e.substring(t)}else{if(e.includes("/file/d/")){const t=e.indexOf("/file/d/")+8,i=e.lastIndexOf("/");return e.substring(t,i)}if(e.startsWith("https://www.googleapis.com/drive")){let t=e.indexOf("/files/");const i=e.indexOf("?");if(t>0)return t+=7,i>0?e.substring(t,i):e.substring(t)}}throw Error("Unknown Google Drive url format: "+e)}(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e}$i.set("!","%21"),$i.set("#","%23"),$i.set("$","%24"),$i.set("%","%25"),$i.set("&","%26"),$i.set("'","%27"),$i.set("(","%28"),$i.set(")","%29"),$i.set("*","%2A"),$i.set("+","%2B"),$i.set(",","%2C"),$i.set("/","%2F"),$i.set(":","%3A"),$i.set(";","%3B"),$i.set("=","%3D"),$i.set("?","%3F"),$i.set("@","%40"),$i.set("[","%5B"),$i.set("]","%5D"),$i.set(" ","%20");class Xi{constructor(e){this.requestsPerSecond=e.requestsPerSecond||10,this.lastStartTime=0,this.queued=[]}add(e,t){var i=this;return new Promise((function(t,n){i.queued.push({resolve:t,reject:n,asyncFunction:e}),i.dequeue()}))}addAll(e,t){var i=e.map(function(e){return this.add(e,t)}.bind(this));return Promise.all(i)}dequeue(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond+1,i=e-this.lastStartTime;i>=t?this._execute():setTimeout(function(){this.dequeue()}.bind(this),t-i)}}async _execute(){this.lastStartTime=new Date;var e=this.queued.shift();const t=e.asyncFunction;try{const i=await t();e.resolve(i)}catch(t){e.reject(t)}}}function Yi(e){return e.indexOf("X-Goog-Signature")>-1}function Qi(){if(Zi()){return Zi()&&google.igv.tokenResponse&&Date.now()<google.igv.tokenExpiresAt?google.igv.tokenResponse.access_token:void 0}}function Ji(e){let t;return t=function(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 31===t[0]&&139===t[1]}(e)?zi(e):new Uint8Array(e),"TextDecoder"in function(){if("undefined"!=typeof self)return self;return"undefined"!=typeof global?global:window}()?(new TextDecoder).decode(t):function(e){var t="",i=0;for(;i<e.length;){var n=e[i],o=0,r=0;if(n<=127?(o=0,r=255&n):n<=223?(o=1,r=31&n):n<=239?(o=2,r=15&n):n<=244&&(o=3,r=7&n),e.length-i-o>0)for(var a=0;a<o;)r=r<<6|63&(n=e[i+a+1]),a+=1;else r=65533,o=e.length-i;t+=String.fromCodePoint(r),i+=o+1}return t}(t)}const en=new class{constructor(){this.apiKey=void 0,this.googleThrottle=new Xi({requestsPerSecond:8}),this.RANGE_WARNING_GIVEN=!1,this.oauth=new Pi,this.contentLengthMap=new Map}setApiKey(e){this.apiKey=e}async loadArrayBuffer(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),o(e)?this._loadFileSlice(e,t):this.load(e,t)}async loadJson(e,t){"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json");const i=await this.loadString(e,t);return i?JSON.parse(i):i}async loadString(e,t){return t=t||{},e instanceof File?this._loadStringFromFile(e,t):this._loadStringFromUrl(e,t)}async load(e,t){t=t||{};const i=typeof e;if(o(e=await("function"==typeof e?e():e)))return this._loadFileSlice(e,t);if("function"==typeof e.startsWith){if(e.startsWith("data:")){const i=function(e,t){const i=e.split(","),n=i[0].split(":")[1];let o=i[1];if(n.indexOf("base64")>=0){o=atob(o);const e=new Uint8Array(o.length);for(let t=0;t<o.length;t++)e[t]=o.charCodeAt(t);let i;return i=t||n.indexOf("gzip")>0?Ii(e):e,i}return decodeURIComponent(o)}(e).buffer;if(t.range){const e=t.range.size?t.range.start+t.range.size:i.byteLength;return i.slice(t.range.start,e)}return i}return e.startsWith("https://drive.google.com")&&(e=Ki(e)),Wi(e)||e.startsWith("https://www.dropbox.com")?this.googleThrottle.add((async()=>this._loadURL(e,t))):this._loadURL(e,t)}throw Error(`url must be either a 'File', 'string', 'function', or 'Promise'.  Actual type: ${i}`)}async getContentLength(e,t){if(!this.contentLengthMap.has(e)){(t=t||{}).method="HEAD",t.GET_CONTENT_LENGTH=!0;const i=await this._loadURL(e,t),n=i?Number.parseInt(i):-1;this.contentLengthMap.set(e,n)}return this.contentLengthMap.get(e)}async _loadURL(e,t){const i=this;e=function(e){return e.startsWith("https://www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.startsWith("https://drive.google.com")?Ki(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","//s3.amazonaws.com/igv.broadinstitute.org"):e.includes("//igv.genepattern.org")?e.replace("//igv.genepattern.org","//igv-genepattern-org.s3.amazonaws.com"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}(e);let n=(t=t||{}).oauthToken||this.getOauthToken(e);n&&(n=await("function"==typeof n?n():n));let o=-1;return!t.range||function(e){return e.indexOf("X-Amz-Signature")>-1}(e)||Yi(e)||(o=await this.getContentLength(e)),new Promise((function(r,a){Vi(e)&&!Yi(e)&&(ji(e)&&(e=Gi(e)),e=function(e){let t=en.apiKey;t||"undefined"==typeof gapi||(t=gapi.apiKey);if(void 0!==t&&!e.includes("key=")){const i=e.includes("?")?"&":"?";e=e+i+"key="+t}return e}(e),Wi(e)&&function(e){if(e.includes("supportsTeamDrive"))return e;{const t=e.includes("?")?"&":"?";e=e+t+"supportsTeamDrive=true"}}(e),n||(n=Qi()));const s=t.headers||{};n&&function(e,t){t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t)}(s,n);const c=t.range,l=new XMLHttpRequest,h=t.sendData||t.body,d=t.method||(h?"POST":"GET"),f=t.responseType,u=t.contentType,p=t.mimeType;if(l.open(d,e),t.timeout&&(l.timeout=t.timeout),c){let e="";c.size&&(e=c.start+c.size-1,o>0&&(e=Math.min(e,o-1))),l.setRequestHeader("Range","bytes="+c.start+"-"+e)}if(u&&l.setRequestHeader("Content-Type",u),p&&l.overrideMimeType(p),f&&(l.responseType=f),s)for(let e of Object.keys(s)){const t=s[e];l.setRequestHeader(e,t)}!0===t.withCredentials&&(l.withCredentials=!0),l.onload=async function(n){t.GET_CONTENT_LENGTH&&r(l.getResponseHeader("content-length")),0===l.status||l.status>=200&&l.status<=300?c&&206!==l.status&&0!==c.start?(l.response.length>1e5&&!i.RANGE_WARNING_GIVEN&&alert(`Warning: Range header ignored for URL: ${e}.  This can have severe performance impacts.`),r(l.response.slice(c.start,c.start+c.size))):r(l.response):"undefined"==typeof gapi||404!==l.status&&401!==l.status&&403!==l.status||!Vi(e)||t.retries?403===l.status?m("Access forbidden: "+e):416===l.status?m("Unsatisfiable range"):m(l.status):g()},l.onerror=function(i){Vi(e)&&!t.retries?g():m("Error accessing resource: "+e+" Status: "+l.status)},l.ontimeout=function(e){m("Timed out")},l.onabort=function(e){console.log("Aborted"),a(e)};try{l.send(h)}catch(i){Vi(e)&&!t.retries?g():m(i)}function m(e){if(!a)throw e;a(e)}async function g(){try{const n=await async function(e){if(Zi()){const t=function(e){return Wi(e)?"https://www.googleapis.com/auth/drive.readonly":ji(e)?"https://www.googleapis.com/auth/devstorage.read_only":"https://www.googleapis.com/auth/userinfo.profile"}(e),i=await async function(e){if(!Zi())throw Error("Google oAuth has not been initialized");if(google.igv.tokenResponse&&Date.now()<google.igv.tokenExpiresAt&&google.accounts.oauth2.hasGrantedAllScopes(google.igv.tokenResponse,e))return google.igv.tokenResponse.access_token;{const t=google.igv.tokenClient;return new Promise(((i,n)=>{try{t.callback=e=>{void 0!==e.error&&n(e),google.igv.tokenResponse=e,google.igv.tokenExpiresAt=Date.now()+1e3*e.expires_in,i(e.access_token)},t.requestAccessToken({scope:e})}catch(e){console.log(e)}}))}}(t);return i}throw Error("Authorization is required, but Google oAuth has not been initalized. Contact your site administrator for assistance.")}(e);t.retries=1,t.oauthToken=n;const o=await i.load(e,t);r(o)}catch(e){if(e.error){const t=e.error.startsWith("popup_blocked")?"Google login popup blocked by browser.":e.error;alert(t)}else m(e)}}}))}async _loadFileSlice(e,t){let i=t&&t.range?e.slice(t.range.start,t.range.start+t.range.size):e;const n=await i.arrayBuffer();return"arraybuffer"===t.responseType?n:Ji(n)}async _loadStringFromFile(e,t){const i=t.range?e.slice(t.range.start,t.range.start+t.range.size):e;return Ji(await i.arrayBuffer())}async _loadStringFromUrl(e,t){(t=t||{}).responseType="arraybuffer";return Ji(await this.load(e,t))}setOauthToken(e,t){this.oauth.setToken(e,t)}getOauthToken(e){const t=Vi(e)?void 0:function(e){for(var t=r,i=t.parser.loose.exec(e),n={},o=14;o--;)n[t.key[o]]=i[o]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,(function(e,i,o){i&&(n[t.q.name][i]=o)})),n}(e).host;let i=this.oauth.getToken(t);if(i)return i;if(void 0===t){const e=Qi();if(e&&e.expires_at>Date.now())return e.access_token}}};var tn={color:1};tn.parent=tn,tn.left=tn,tn.right=tn;
/*!
     * jQuery JavaScript Library v3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector
     * https://jquery.com/
     *
     * Includes Sizzle.js
     * https://sizzlejs.com/
     *
     * Copyright JS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2018-01-20T17:24Z
     */
var nn=[],on=window.document,rn=Object.getPrototypeOf,an=nn.slice,sn=nn.concat,cn=nn.push,ln=nn.indexOf,hn={},dn=hn.toString,fn=hn.hasOwnProperty,un=fn.toString,pn=un.call(Object),mn={},gn=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},wn=function(e){return null!=e&&e===e.window},Fn={type:!0,src:!0,noModule:!0};function bn(e,t,i){var n,o=(t=t||on).createElement("script");if(o.text=e,i)for(n in Fn)i[n]&&(o[n]=i[n]);t.head.appendChild(o).parentNode.removeChild(o)}function vn(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?hn[dn.call(e)]||"object":typeof e}var yn="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",_n=function(e,t){return new _n.fn.init(e,t)},Cn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function xn(e){var t=!!e&&"length"in e&&e.length,i=vn(e);return!gn(e)&&!wn(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}_n.fn=_n.prototype={jquery:yn,constructor:_n,length:0,toArray:function(){return an.call(this)},get:function(e){return null==e?an.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_n.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _n.each(this,e)},map:function(e){return this.pushStack(_n.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(an.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:cn,sort:nn.sort,splice:nn.splice},_n.extend=_n.fn.extend=function(){var e,t,i,n,o,r,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||gn(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)i=a[t],a!==(n=e[t])&&(l&&n&&(_n.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,r=i&&Array.isArray(i)?i:[]):r=i&&_n.isPlainObject(i)?i:{},a[t]=_n.extend(l,r,n)):void 0!==n&&(a[t]=n));return a},_n.extend({expando:"jQuery"+(yn+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==dn.call(e))&&(!(t=rn(e))||"function"==typeof(i=fn.call(t,"constructor")&&t.constructor)&&un.call(i)===pn)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){bn(e)},each:function(e,t){var i,n=0;if(xn(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Cn,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(xn(Object(e))?_n.merge(i,"string"==typeof e?[e]:e):cn.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:ln.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,r=e.length,a=!i;o<r;o++)!t(e[o],o)!==a&&n.push(e[o]);return n},map:function(e,t,i){var n,o,r=0,a=[];if(xn(e))for(n=e.length;r<n;r++)null!=(o=t(e[r],r,i))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,i))&&a.push(o);return sn.apply([],a)},guid:1,support:mn}),"function"==typeof Symbol&&(_n.fn[Symbol.iterator]=nn[Symbol.iterator]),_n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){hn["[object "+t+"]"]=t.toLowerCase()}));var kn=
/*!
     * Sizzle CSS Selector Engine v2.3.3
     * https://sizzlejs.com/
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2016-08-08
     */
function(e){var t,i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b,v="sizzle"+1*new Date,y=e.document,_=0,C=0,x=ae(),k=ae(),E=ae(),N=function(e,t){return e===t&&(d=!0),0},S={}.hasOwnProperty,I=[],z=I.pop,D=I.push,A=I.push,M=I.slice,T=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+L+"*("+B+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+L+"*\\]",O=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),U=new RegExp("^"+L+"*,"+L+"*"),V=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),j=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),W=new RegExp(O),G=new RegExp("^"+B+"$"),$={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){f()},oe=we((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{A.apply(I=M.call(y.childNodes),y.childNodes),I[y.childNodes.length].nodeType}catch(e){A={apply:I.length?function(e,t){D.apply(e,M.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function re(e,t,n,o){var r,s,l,h,d,p,w,F=t&&t.ownerDocument,_=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return n;if(!o&&((t?t.ownerDocument||t:y)!==u&&f(t),t=t||u,m)){if(11!==_&&(d=Y.exec(e)))if(r=d[1]){if(9===_){if(!(l=t.getElementById(r)))return n;if(l.id===r)return n.push(l),n}else if(F&&(l=F.getElementById(r))&&b(t,l)&&l.id===r)return n.push(l),n}else{if(d[2])return A.apply(n,t.getElementsByTagName(e)),n;if((r=d[3])&&i.getElementsByClassName&&t.getElementsByClassName)return A.apply(n,t.getElementsByClassName(r)),n}if(i.qsa&&!E[e+" "]&&(!g||!g.test(e))){if(1!==_)F=t,w=e;else if("object"!==t.nodeName.toLowerCase()){for((h=t.getAttribute("id"))?h=h.replace(te,ie):t.setAttribute("id",h=v),s=(p=a(e)).length;s--;)p[s]="#"+h+" "+ge(p[s]);w=p.join(","),F=Q.test(e)&&pe(t.parentNode)||t}if(w)try{return A.apply(n,F.querySelectorAll(w)),n}catch(e){}finally{h===v&&t.removeAttribute("id")}}}return c(e.replace(q,"$1"),t,n,o)}function ae(){var e=[];return function t(i,o){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=o}}function se(e){return e[v]=!0,e}function ce(e){var t=u.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ue(e){return se((function(t){return t=+t,se((function(i,n){for(var o,r=e([],i.length,t),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))}))}))}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=re.support={},r=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=re.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:y;return a!==u&&9===a.nodeType&&a.documentElement?(p=(u=a).documentElement,m=!r(u),y!==u&&(o=u.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ne,!1):o.attachEvent&&o.attachEvent("onunload",ne)),i.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),i.getElementsByTagName=ce((function(e){return e.appendChild(u.createComment("")),!e.getElementsByTagName("*").length})),i.getElementsByClassName=X.test(u.getElementsByClassName),i.getById=ce((function(e){return p.appendChild(e).id=v,!u.getElementsByName||!u.getElementsByName(v).length})),i.getById?(n.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i,n,o,r=t.getElementById(e);if(r){if((i=r.getAttributeNode("id"))&&i.value===e)return[r];for(o=t.getElementsByName(e),n=0;r=o[n++];)if((i=r.getAttributeNode("id"))&&i.value===e)return[r]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},w=[],g=[],(i.qsa=X.test(u.querySelectorAll))&&(ce((function(e){p.appendChild(e).innerHTML="<a id='"+v+"'></a><select id='"+v+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+v+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+v+"+*").length||g.push(".#.+[+~]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=u.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(i.matchesSelector=X.test(F=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce((function(e){i.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),w.push("!=",O)})),g=g.length&&new RegExp(g.join("|")),w=w.length&&new RegExp(w.join("|")),t=X.test(p.compareDocumentPosition),b=t||X.test(p.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument===y&&b(y,e)?-1:t===u||t.ownerDocument===y&&b(y,t)?1:h?T(h,e)-T(h,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e===u?-1:t===u?1:o?-1:r?1:h?T(h,e)-T(h,t):0;if(o===r)return le(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;a[n]===s[n];)n++;return n?le(a[n],s[n]):a[n]===y?-1:s[n]===y?1:0},u):u},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==u&&f(e),t=t.replace(j,"='$1']"),i.matchesSelector&&m&&!E[t+" "]&&(!w||!w.test(t))&&(!g||!g.test(t)))try{var n=F.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return re(t,u,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==u&&f(e),b(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==u&&f(e);var o=n.attrHandle[t.toLowerCase()],r=o&&S.call(n.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==r?r:i.attributes||!m?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},re.escape=function(e){return(e+"").replace(te,ie)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],o=0,r=0;if(d=!i.detectDuplicates,h=!i.sortStable&&e.slice(0),e.sort(N),d){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return h=null,e},o=re.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=o(t);return i},n=re.selectors={cacheLength:50,createPseudo:se,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&W.test(i)&&(t=a(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var o=re.attr(n,e);return null==o?"!="===t:!t||(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o.replace(P," ")+" ").indexOf(i)>-1:"|="===t&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,c){var l,h,d,f,u,p,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,w=s&&t.nodeName.toLowerCase(),F=!c&&!s,b=!1;if(g){if(r){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===w:1===f.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&F){for(b=(u=(l=(h=(d=(f=g)[v]||(f[v]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===_&&l[1])&&l[2],f=u&&g.childNodes[u];f=++u&&f&&f[m]||(b=u=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){h[e]=[_,u,b];break}}else if(F&&(b=u=(l=(h=(d=(f=t)[v]||(f[v]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===_&&l[1]),!1===b)for(;(f=++u&&f&&f[m]||(b=u=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==w:1!==f.nodeType)||!++b||(F&&((h=(d=f[v]||(f[v]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[_,b]),f!==t)););return(b-=o)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var i,o=n.pseudos[e]||n.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return o[v]?o(t):o.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,i){for(var n,r=o(e,t),a=r.length;a--;)e[n=T(e,r[a])]=!(i[n]=r[a])})):function(e){return o(e,0,i)}):o}},pseudos:{not:se((function(e){var t=[],i=[],n=s(e.replace(q,"$1"));return n[v]?se((function(e,t,i,o){for(var r,a=n(e,null,o,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,o,r){return t[0]=e,n(t,null,r,i),t[0]=null,!i.pop()}})),has:se((function(e){return function(t){return re(e,t).length>0}})),contains:se((function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}})),lang:se((function(e){return G.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===u.activeElement&&(!u.hasFocus||u.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ue((function(){return[0]})),last:ue((function(e,t){return[t-1]})),eq:ue((function(e,t,i){return[i<0?i+t:i]})),even:ue((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:ue((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:ue((function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e})),gt:ue((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=de(t);function me(){}function ge(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function we(e,t,i){var n=t.dir,o=t.next,r=o||n,a=i&&"parentNode"===r,s=C++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||a)return e(t,i,o);return!1}:function(t,i,c){var l,h,d,f=[_,s];if(c){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,i,c))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(h=(d=t[v]||(t[v]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((l=h[r])&&l[0]===_&&l[1]===s)return f[2]=l[2];if(h[r]=f,f[2]=e(t,i,c))return!0}return!1}}function Fe(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function be(e,t,i,n,o){for(var r,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(r=e[s])&&(i&&!i(r,n,o)||(a.push(r),l&&t.push(s)));return a}function ve(e,t,i,n,o,r){return n&&!n[v]&&(n=ve(n)),o&&!o[v]&&(o=ve(o,r)),se((function(r,a,s,c){var l,h,d,f=[],u=[],p=a.length,m=r||function(e,t,i){for(var n=0,o=t.length;n<o;n++)re(e,t[n],i);return i}(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?m:be(m,f,e,s,c),w=i?o||(r?e:p||n)?[]:a:g;if(i&&i(g,w,s,c),n)for(l=be(w,u),n(l,[],s,c),h=l.length;h--;)(d=l[h])&&(w[u[h]]=!(g[u[h]]=d));if(r){if(o||e){if(o){for(l=[],h=w.length;h--;)(d=w[h])&&l.push(g[h]=d);o(null,w=[],l,c)}for(h=w.length;h--;)(d=w[h])&&(l=o?T(r,d):f[h])>-1&&(r[l]=!(a[l]=d))}}else w=be(w===a?w.splice(p,w.length):w),o?o(null,a,w,c):A.apply(a,w)}))}function ye(e){for(var t,i,o,r=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],c=a?1:0,h=we((function(e){return e===t}),s,!0),d=we((function(e){return T(t,e)>-1}),s,!0),f=[function(e,i,n){var o=!a&&(n||i!==l)||((t=i).nodeType?h(e,i,n):d(e,i,n));return t=null,o}];c<r;c++)if(i=n.relative[e[c].type])f=[we(Fe(f),i)];else{if((i=n.filter[e[c].type].apply(null,e[c].matches))[v]){for(o=++c;o<r&&!n.relative[e[o].type];o++);return ve(c>1&&Fe(f),c>1&&ge(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(q,"$1"),i,c<o&&ye(e.slice(c,o)),o<r&&ye(e=e.slice(o)),o<r&&ge(e))}f.push(i)}return Fe(f)}return me.prototype=n.filters=n.pseudos,n.setFilters=new me,a=re.tokenize=function(e,t){var i,o,r,a,s,c,l,h=k[e+" "];if(h)return t?0:h.slice(0);for(s=e,c=[],l=n.preFilter;s;){for(a in i&&!(o=U.exec(s))||(o&&(s=s.slice(o[0].length)||s),c.push(r=[])),i=!1,(o=V.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(q," ")}),s=s.slice(i.length)),n.filter)!(o=$[a].exec(s))||l[a]&&!(o=l[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return t?s.length:s?re.error(e):k(e,c).slice(0)},s=re.compile=function(e,t){var i,o=[],r=[],s=E[e+" "];if(!s){for(t||(t=a(e)),i=t.length;i--;)(s=ye(t[i]))[v]?o.push(s):r.push(s);s=E(e,function(e,t){var i=t.length>0,o=e.length>0,r=function(r,a,s,c,h){var d,p,g,w=0,F="0",b=r&&[],v=[],y=l,C=r||o&&n.find.TAG("*",h),x=_+=null==y?1:Math.random()||.1,k=C.length;for(h&&(l=a===u||a||h);F!==k&&null!=(d=C[F]);F++){if(o&&d){for(p=0,a||d.ownerDocument===u||(f(d),s=!m);g=e[p++];)if(g(d,a||u,s)){c.push(d);break}h&&(_=x)}i&&((d=!g&&d)&&w--,r&&b.push(d))}if(w+=F,i&&F!==w){for(p=0;g=t[p++];)g(b,v,a,s);if(r){if(w>0)for(;F--;)b[F]||v[F]||(v[F]=z.call(c));v=be(v)}A.apply(c,v),h&&!r&&v.length>0&&w+t.length>1&&re.uniqueSort(c)}return h&&(_=x,l=y),b};return i?se(r):r}(r,o)),s.selector=e}return s},c=re.select=function(e,t,i,o){var r,c,l,h,d,f="function"==typeof e&&e,u=!o&&a(e=f.selector||e);if(i=i||[],1===u.length){if((c=u[0]=u[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===t.nodeType&&m&&n.relative[c[1].type]){if(!(t=(n.find.ID(l.matches[0].replace(J,ee),t)||[])[0]))return i;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(r=$.needsContext.test(e)?0:c.length;r--&&(l=c[r],!n.relative[h=l.type]);)if((d=n.find[h])&&(o=d(l.matches[0].replace(J,ee),Q.test(c[0].type)&&pe(t.parentNode)||t))){if(c.splice(r,1),!(e=o.length&&ge(c)))return A.apply(i,o),i;break}}return(f||s(e,u))(o,t,!m,i,!t||Q.test(e)&&pe(t.parentNode)||t),i},i.sortStable=v.split("").sort(N).join("")===v,i.detectDuplicates=!!d,f(),re}(window);_n.find=kn,_n.expr=kn.selectors,_n.expr[":"]=_n.expr.pseudos,_n.uniqueSort=_n.unique=kn.uniqueSort,_n.text=kn.getText,_n.isXMLDoc=kn.isXML,_n.contains=kn.contains,_n.escapeSelector=kn.escape;var En=function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&_n(e).is(i))break;n.push(e)}return n},Nn=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},Sn=_n.expr.match.needsContext;function In(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var zn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Dn(e,t,i){return gn(t)?_n.grep(e,(function(e,n){return!!t.call(e,n,e)!==i})):t.nodeType?_n.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?_n.grep(e,(function(e){return ln.call(t,e)>-1!==i})):_n.filter(t,e,i)}_n.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?_n.find.matchesSelector(n,e)?[n]:[]:_n.find.matches(e,_n.grep(t,(function(e){return 1===e.nodeType})))},_n.fn.extend({find:function(e){var t,i,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(_n(e).filter((function(){for(t=0;t<n;t++)if(_n.contains(o[t],this))return!0})));for(i=this.pushStack([]),t=0;t<n;t++)_n.find(e,o[t],i);return n>1?_n.uniqueSort(i):i},filter:function(e){return this.pushStack(Dn(this,e||[],!1))},not:function(e){return this.pushStack(Dn(this,e||[],!0))},is:function(e){return!!Dn(this,"string"==typeof e&&Sn.test(e)?_n(e):e||[],!1).length}});var An,Mn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_n.fn.init=function(e,t,i){var n,o;if(!e)return this;if(i=i||An,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Mn.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof _n?t[0]:t,_n.merge(this,_n.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:on,!0)),zn.test(n[1])&&_n.isPlainObject(t))for(n in t)gn(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(o=on.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):gn(e)?void 0!==i.ready?i.ready(e):e(_n):_n.makeArray(e,this)}).prototype=_n.fn,An=_n(on);var Tn=/^(?:parents|prev(?:Until|All))/,Rn={children:!0,contents:!0,next:!0,prev:!0};function Ln(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_n.fn.extend({has:function(e){var t=_n(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(_n.contains(this,t[e]))return!0}))},closest:function(e,t){var i,n=0,o=this.length,r=[],a="string"!=typeof e&&_n(e);if(!Sn.test(e))for(;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&_n.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?_n.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?ln.call(_n(e),this[0]):ln.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_n.uniqueSort(_n.merge(this.get(),_n(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_n.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return En(e,"parentNode")},parentsUntil:function(e,t,i){return En(e,"parentNode",i)},next:function(e){return Ln(e,"nextSibling")},prev:function(e){return Ln(e,"previousSibling")},nextAll:function(e){return En(e,"nextSibling")},prevAll:function(e){return En(e,"previousSibling")},nextUntil:function(e,t,i){return En(e,"nextSibling",i)},prevUntil:function(e,t,i){return En(e,"previousSibling",i)},siblings:function(e){return Nn((e.parentNode||{}).firstChild,e)},children:function(e){return Nn(e.firstChild)},contents:function(e){return In(e,"iframe")?e.contentDocument:(In(e,"template")&&(e=e.content||e),_n.merge([],e.childNodes))}},(function(e,t){_n.fn[e]=function(i,n){var o=_n.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=_n.filter(n,o)),this.length>1&&(Rn[e]||_n.uniqueSort(o),Tn.test(e)&&o.reverse()),this.pushStack(o)}}));var Bn=/[^\x20\t\r\n\f]+/g;function Hn(e){return e}function On(e){throw e}function Pn(e,t,i,n){var o;try{e&&gn(o=e.promise)?o.call(e).done(t).fail(i):e&&gn(o=e.then)?o.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}_n.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return _n.each(e.match(Bn)||[],(function(e,i){t[i]=!0})),t}(e):_n.extend({},e);var t,i,n,o,r=[],a=[],s=-1,c=function(){for(o=o||e.once,n=t=!0;a.length;s=-1)for(i=a.shift();++s<r.length;)!1===r[s].apply(i[0],i[1])&&e.stopOnFalse&&(s=r.length,i=!1);e.memory||(i=!1),t=!1,o&&(r=i?[]:"")},l={add:function(){return r&&(i&&!t&&(s=r.length-1,a.push(i)),function t(i){_n.each(i,(function(i,n){gn(n)?e.unique&&l.has(n)||r.push(n):n&&n.length&&"string"!==vn(n)&&t(n)}))}(arguments),i&&!t&&c()),this},remove:function(){return _n.each(arguments,(function(e,t){for(var i;(i=_n.inArray(t,r,i))>-1;)r.splice(i,1),i<=s&&s--})),this},has:function(e){return e?_n.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=a=[],r=i="",this},disabled:function(){return!r},lock:function(){return o=a=[],i||t||(r=i=""),this},locked:function(){return!!o},fireWith:function(e,i){return o||(i=[e,(i=i||[]).slice?i.slice():i],a.push(i),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},_n.extend({Deferred:function(e){var t=[["notify","progress",_n.Callbacks("memory"),_n.Callbacks("memory"),2],["resolve","done",_n.Callbacks("once memory"),_n.Callbacks("once memory"),0,"resolved"],["reject","fail",_n.Callbacks("once memory"),_n.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return _n.Deferred((function(i){_n.each(t,(function(t,n){var r=gn(e[n[4]])&&e[n[4]];o[n[1]]((function(){var e=r&&r.apply(this,arguments);e&&gn(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,n){var o=0;function r(e,t,i,n){return function(){var a=this,s=arguments,c=function(){var c,l;if(!(e<o)){if((c=i.apply(a,s))===t.promise())throw new TypeError("Thenable self-resolution");l=c&&("object"==typeof c||"function"==typeof c)&&c.then,gn(l)?n?l.call(c,r(o,t,Hn,n),r(o,t,On,n)):(o++,l.call(c,r(o,t,Hn,n),r(o,t,On,n),r(o,t,Hn,t.notifyWith))):(i!==Hn&&(a=void 0,s=[c]),(n||t.resolveWith)(a,s))}},l=n?c:function(){try{c()}catch(n){_n.Deferred.exceptionHook&&_n.Deferred.exceptionHook(n,l.stackTrace),e+1>=o&&(i!==On&&(a=void 0,s=[n]),t.rejectWith(a,s))}};e?l():(_n.Deferred.getStackHook&&(l.stackTrace=_n.Deferred.getStackHook()),window.setTimeout(l))}}return _n.Deferred((function(o){t[0][3].add(r(0,o,gn(n)?n:Hn,o.notifyWith)),t[1][3].add(r(0,o,gn(e)?e:Hn)),t[2][3].add(r(0,o,gn(i)?i:On))})).promise()},promise:function(e){return null!=e?_n.extend(e,n):n}},o={};return _n.each(t,(function(e,r){var a=r[2],s=r[5];n[r[1]]=a.add,s&&a.add((function(){i=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),n.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,i=t,n=Array(i),o=an.call(arguments),r=_n.Deferred(),a=function(e){return function(i){n[e]=this,o[e]=arguments.length>1?an.call(arguments):i,--t||r.resolveWith(n,o)}};if(t<=1&&(Pn(e,r.done(a(i)).resolve,r.reject,!t),"pending"===r.state()||gn(o[i]&&o[i].then)))return r.then();for(;i--;)Pn(o[i],a(i),r.reject);return r.promise()}});var qn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_n.Deferred.exceptionHook=function(e,t){window.console&&window.console.warn&&e&&qn.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},_n.readyException=function(e){window.setTimeout((function(){throw e}))};var Un=_n.Deferred();function Vn(){on.removeEventListener("DOMContentLoaded",Vn),window.removeEventListener("load",Vn),_n.ready()}_n.fn.ready=function(e){return Un.then(e).catch((function(e){_n.readyException(e)})),this},_n.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_n.readyWait:_n.isReady)||(_n.isReady=!0,!0!==e&&--_n.readyWait>0||Un.resolveWith(on,[_n]))}}),_n.ready.then=Un.then,"complete"===on.readyState||"loading"!==on.readyState&&!on.documentElement.doScroll?window.setTimeout(_n.ready):(on.addEventListener("DOMContentLoaded",Vn),window.addEventListener("load",Vn));var jn=function(e,t,i,n,o,r,a){var s=0,c=e.length,l=null==i;if("object"===vn(i))for(s in o=!0,i)jn(e,t,s,i[s],!0,r,a);else if(void 0!==n&&(o=!0,gn(n)||(a=!0),l&&(a?(t.call(e,n),t=null):(l=t,t=function(e,t,i){return l.call(_n(e),i)})),t))for(;s<c;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return o?e:l?t.call(e):c?t(e[0],i):r},Wn=/^-ms-/,Gn=/-([a-z])/g;function $n(e,t){return t.toUpperCase()}function Zn(e){return e.replace(Wn,"ms-").replace(Gn,$n)}var Kn=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Xn(){this.expando=_n.expando+Xn.uid++}Xn.uid=1,Xn.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Kn(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,o=this.cache(e);if("string"==typeof t)o[Zn(t)]=i;else for(n in t)o[Zn(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Zn(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(Zn):(t=Zn(t))in n?[t]:t.match(Bn)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||_n.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_n.isEmptyObject(t)}};var Yn=new Xn,Qn=new Xn,Jn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,eo=/[A-Z]/g;function to(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(eo,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Jn.test(e)?JSON.parse(e):e)}(i)}catch(e){}Qn.set(e,t,i)}else i=void 0;return i}_n.extend({hasData:function(e){return Qn.hasData(e)||Yn.hasData(e)},data:function(e,t,i){return Qn.access(e,t,i)},removeData:function(e,t){Qn.remove(e,t)},_data:function(e,t,i){return Yn.access(e,t,i)},_removeData:function(e,t){Yn.remove(e,t)}}),_n.fn.extend({data:function(e,t){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=Qn.get(r),1===r.nodeType&&!Yn.get(r,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=Zn(n.slice(5)),to(r,n,o[n]));Yn.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Qn.set(this,e)})):jn(this,(function(t){var i;if(r&&void 0===t)return void 0!==(i=Qn.get(r,e))||void 0!==(i=to(r,e))?i:void 0;this.each((function(){Qn.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Qn.remove(this,e)}))}}),_n.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Yn.get(e,t),i&&(!n||Array.isArray(i)?n=Yn.access(e,t,_n.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=_n.queue(e,t),n=i.length,o=i.shift(),r=_n._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,(function(){_n.dequeue(e,t)}),r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Yn.get(e,i)||Yn.access(e,i,{empty:_n.Callbacks("once memory").add((function(){Yn.remove(e,[t+"queue",i])}))})}}),_n.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?_n.queue(this[0],e):void 0===t?this:this.each((function(){var i=_n.queue(this,e,t);_n._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&_n.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){_n.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=_n.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=Yn.get(r[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(t)}});var io=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,no=new RegExp("^(?:([+-])=|)("+io+")([a-z%]*)$","i"),oo=["Top","Right","Bottom","Left"],ro=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&_n.contains(e.ownerDocument,e)&&"none"===_n.css(e,"display")},ao=function(e,t,i,n){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in o=i.apply(e,n||[]),t)e.style[r]=a[r];return o};var so={};function co(e){var t,i=e.ownerDocument,n=e.nodeName,o=so[n];return o||(t=i.body.appendChild(i.createElement(n)),o=_n.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),so[n]=o,o)}function lo(e,t){for(var i,n,o=[],r=0,a=e.length;r<a;r++)(n=e[r]).style&&(i=n.style.display,t?("none"===i&&(o[r]=Yn.get(n,"display")||null,o[r]||(n.style.display="")),""===n.style.display&&ro(n)&&(o[r]=co(n))):"none"!==i&&(o[r]="none",Yn.set(n,"display",i)));for(r=0;r<a;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}_n.fn.extend({show:function(){return lo(this,!0)},hide:function(){return lo(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ro(this)?_n(this).show():_n(this).hide()}))}});var ho=/^(?:checkbox|radio)$/i,fo=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,uo=/^$|^module$|\/(?:java|ecma)script/i,po={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mo(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&In(e,t)?_n.merge([e],i):i}function go(e,t){for(var i=0,n=e.length;i<n;i++)Yn.set(e[i],"globalEval",!t||Yn.get(t[i],"globalEval"))}po.optgroup=po.option,po.tbody=po.tfoot=po.colgroup=po.caption=po.thead,po.th=po.td;var wo=/<|&#?\w+;/;function Fo(e,t,i,n,o){for(var r,a,s,c,l,h,d=t.createDocumentFragment(),f=[],u=0,p=e.length;u<p;u++)if((r=e[u])||0===r)if("object"===vn(r))_n.merge(f,r.nodeType?[r]:r);else if(wo.test(r)){for(a=a||d.appendChild(t.createElement("div")),s=(fo.exec(r)||["",""])[1].toLowerCase(),c=po[s]||po._default,a.innerHTML=c[1]+_n.htmlPrefilter(r)+c[2],h=c[0];h--;)a=a.lastChild;_n.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(r));for(d.textContent="",u=0;r=f[u++];)if(n&&_n.inArray(r,n)>-1)o&&o.push(r);else if(l=_n.contains(r.ownerDocument,r),a=mo(d.appendChild(r),"script"),l&&go(a),i)for(h=0;r=a[h++];)uo.test(r.type||"")&&i.push(r);return d}!function(){var e=on.createDocumentFragment().appendChild(on.createElement("div")),t=on.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),mn.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",mn.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var bo=on.documentElement,vo=/^key/,yo=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_o=/^([^.]*)(?:\.(.+)|)/;function Co(){return!0}function xo(){return!1}function ko(){try{return on.activeElement}catch(e){}}function Eo(e,t,i,n,o,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)Eo(e,s,i,n,t[s],r);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=xo;else if(!o)return e;return 1===r&&(a=o,o=function(e){return _n().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=_n.guid++)),e.each((function(){_n.event.add(this,t,o,n,i)}))}_n.event={global:{},add:function(e,t,i,n,o){var r,a,s,c,l,h,d,f,u,p,m,g=Yn.get(e);if(g)for(i.handler&&(i=(r=i).handler,o=r.selector),o&&_n.find.matchesSelector(bo,o),i.guid||(i.guid=_n.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==_n&&_n.event.triggered!==t.type?_n.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(Bn)||[""]).length;l--;)u=m=(s=_o.exec(t[l])||[])[1],p=(s[2]||"").split(".").sort(),u&&(d=_n.event.special[u]||{},u=(o?d.delegateType:d.bindType)||u,d=_n.event.special[u]||{},h=_n.extend({type:u,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&_n.expr.match.needsContext.test(o),namespace:p.join(".")},r),(f=c[u])||((f=c[u]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,p,a)||e.addEventListener&&e.addEventListener(u,a)),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?f.splice(f.delegateCount++,0,h):f.push(h),_n.event.global[u]=!0)},remove:function(e,t,i,n,o){var r,a,s,c,l,h,d,f,u,p,m,g=Yn.hasData(e)&&Yn.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(Bn)||[""]).length;l--;)if(u=m=(s=_o.exec(t[l])||[])[1],p=(s[2]||"").split(".").sort(),u){for(d=_n.event.special[u]||{},f=c[u=(n?d.delegateType:d.bindType)||u]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=f.length;r--;)h=f[r],!o&&m!==h.origType||i&&i.guid!==h.guid||s&&!s.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(f.splice(r,1),h.selector&&f.delegateCount--,d.remove&&d.remove.call(e,h));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||_n.removeEvent(e,u,g.handle),delete c[u])}else for(u in c)_n.event.remove(e,u+t[l],i,n,!0);_n.isEmptyObject(c)&&Yn.remove(e,"handle events")}},dispatch:function(e){var t,i,n,o,r,a,s=_n.event.fix(e),c=new Array(arguments.length),l=(Yn.get(this,"events")||{})[s.type]||[],h=_n.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,s)){for(a=_n.event.handlers.call(this,s,l),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(n=((_n.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,c))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,s),s.result}},handlers:function(e,t){var i,n,o,r,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(r=[],a={},i=0;i<c;i++)void 0===a[o=(n=t[i]).selector+" "]&&(a[o]=n.needsContext?_n(o,this).index(l)>-1:_n.find(o,this,null,[l]).length),a[o]&&r.push(n);r.length&&s.push({elem:l,handlers:r})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(_n.Event.prototype,e,{enumerable:!0,configurable:!0,get:gn(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_n.expando]?e:new _n.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ko()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ko()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&In(this,"input"))return this.click(),!1},_default:function(e){return In(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_n.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},_n.Event=function(e,t){if(!(this instanceof _n.Event))return new _n.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Co:xo,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_n.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_n.expando]=!0},_n.Event.prototype={constructor:_n.Event,isDefaultPrevented:xo,isPropagationStopped:xo,isImmediatePropagationStopped:xo,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Co,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Co,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Co,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_n.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&vo.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&yo.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_n.event.addProp),_n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){_n.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||_n.contains(this,n))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}})),_n.fn.extend({on:function(e,t,i,n){return Eo(this,e,t,i,n)},one:function(e,t,i,n){return Eo(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,_n(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=xo),this.each((function(){_n.event.remove(this,e,i,t)}))}});var No=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,So=/<script|<style|<link/i,Io=/checked\s*(?:[^=]|=\s*.checked.)/i,zo=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Do(e,t){return In(e,"table")&&In(11!==t.nodeType?t:t.firstChild,"tr")&&_n(e).children("tbody")[0]||e}function Ao(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Mo(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function To(e,t){var i,n,o,r,a,s,c,l;if(1===t.nodeType){if(Yn.hasData(e)&&(r=Yn.access(e),a=Yn.set(t,r),l=r.events))for(o in delete a.handle,a.events={},l)for(i=0,n=l[o].length;i<n;i++)_n.event.add(t,o,l[o][i]);Qn.hasData(e)&&(s=Qn.access(e),c=_n.extend({},s),Qn.set(t,c))}}function Ro(e,t){var i=t.nodeName.toLowerCase();"input"===i&&ho.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function Lo(e,t,i,n){t=sn.apply([],t);var o,r,a,s,c,l,h=0,d=e.length,f=d-1,u=t[0],p=gn(u);if(p||d>1&&"string"==typeof u&&!mn.checkClone&&Io.test(u))return e.each((function(o){var r=e.eq(o);p&&(t[0]=u.call(this,o,r.html())),Lo(r,t,i,n)}));if(d&&(r=(o=Fo(t,e[0].ownerDocument,!1,e,n)).firstChild,1===o.childNodes.length&&(o=r),r||n)){for(s=(a=_n.map(mo(o,"script"),Ao)).length;h<d;h++)c=o,h!==f&&(c=_n.clone(c,!0,!0),s&&_n.merge(a,mo(c,"script"))),i.call(e[h],c,h);if(s)for(l=a[a.length-1].ownerDocument,_n.map(a,Mo),h=0;h<s;h++)c=a[h],uo.test(c.type||"")&&!Yn.access(c,"globalEval")&&_n.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_n._evalUrl&&_n._evalUrl(c.src):bn(c.textContent.replace(zo,""),l,c))}return e}function Bo(e,t,i){for(var n,o=t?_n.filter(t,e):e,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||_n.cleanData(mo(n)),n.parentNode&&(i&&_n.contains(n.ownerDocument,n)&&go(mo(n,"script")),n.parentNode.removeChild(n));return e}_n.extend({htmlPrefilter:function(e){return e.replace(No,"<$1></$2>")},clone:function(e,t,i){var n,o,r,a,s=e.cloneNode(!0),c=_n.contains(e.ownerDocument,e);if(!(mn.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_n.isXMLDoc(e)))for(a=mo(s),n=0,o=(r=mo(e)).length;n<o;n++)Ro(r[n],a[n]);if(t)if(i)for(r=r||mo(e),a=a||mo(s),n=0,o=r.length;n<o;n++)To(r[n],a[n]);else To(e,s);return(a=mo(s,"script")).length>0&&go(a,!c&&mo(e,"script")),s},cleanData:function(e){for(var t,i,n,o=_n.event.special,r=0;void 0!==(i=e[r]);r++)if(Kn(i)){if(t=i[Yn.expando]){if(t.events)for(n in t.events)o[n]?_n.event.remove(i,n):_n.removeEvent(i,n,t.handle);i[Yn.expando]=void 0}i[Qn.expando]&&(i[Qn.expando]=void 0)}}}),_n.fn.extend({detach:function(e){return Bo(this,e,!0)},remove:function(e){return Bo(this,e)},text:function(e){return jn(this,(function(e){return void 0===e?_n.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Lo(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Do(this,e).appendChild(e)}))},prepend:function(){return Lo(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Do(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Lo(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Lo(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_n.cleanData(mo(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return _n.clone(this,e,t)}))},html:function(e){return jn(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!So.test(e)&&!po[(fo.exec(e)||["",""])[1].toLowerCase()]){e=_n.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(_n.cleanData(mo(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Lo(this,arguments,(function(t){var i=this.parentNode;_n.inArray(this,e)<0&&(_n.cleanData(mo(this)),i&&i.replaceChild(t,this))}),e)}}),_n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){_n.fn[e]=function(e){for(var i,n=[],o=_n(e),r=o.length-1,a=0;a<=r;a++)i=a===r?this:this.clone(!0),_n(o[a])[t](i),cn.apply(n,i.get());return this.pushStack(n)}}));var Ho=new RegExp("^("+io+")(?!px)[a-z%]+$","i"),Oo=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)},Po=new RegExp(oo.join("|"),"i");function qo(e,t,i){var n,o,r,a,s=e.style;return(i=i||Oo(e))&&(""!==(a=i.getPropertyValue(t)||i[t])||_n.contains(e.ownerDocument,e)||(a=_n.style(e,t)),!mn.pixelBoxStyles()&&Ho.test(a)&&Po.test(t)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function Uo(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",bo.appendChild(s).appendChild(c);var e=window.getComputedStyle(c);i="1%"!==e.top,a=12===t(e.marginLeft),c.style.right="60%",r=36===t(e.right),n=36===t(e.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",bo.removeChild(s),c=null}}function t(e){return Math.round(parseFloat(e))}var i,n,o,r,a,s=on.createElement("div"),c=on.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",mn.clearCloneStyle="content-box"===c.style.backgroundClip,_n.extend(mn,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),o}}))}();var Vo,jo,Wo=/^(none|table(?!-c[ea]).+)/,Go=/^--/,$o={position:"absolute",visibility:"hidden",display:"block"},Zo={letterSpacing:"0",fontWeight:"400"},Ko=["Webkit","Moz","ms"],Xo=on.createElement("div").style;function Yo(e){var t=_n.cssProps[e];return t||(t=_n.cssProps[e]=function(e){if(e in Xo)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Ko.length;i--;)if((e=Ko[i]+t)in Xo)return e}(e)||e),t}function Qo(e,t,i){var n=no.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Jo(e,t,i,n,o,r){var a="width"===t?1:0,s=0,c=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(c+=_n.css(e,i+oo[a],!0,o)),n?("content"===i&&(c-=_n.css(e,"padding"+oo[a],!0,o)),"margin"!==i&&(c-=_n.css(e,"border"+oo[a]+"Width",!0,o))):(c+=_n.css(e,"padding"+oo[a],!0,o),"padding"!==i?c+=_n.css(e,"border"+oo[a]+"Width",!0,o):s+=_n.css(e,"border"+oo[a]+"Width",!0,o));return!n&&r>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-c-s-.5))),c}function er(e,t,i){var n=Oo(e),o=qo(e,t,n),r="border-box"===_n.css(e,"boxSizing",!1,n),a=r;if(Ho.test(o)){if(!i)return o;o="auto"}return a=a&&(mn.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===_n.css(e,"display",!1,n))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(o=parseFloat(o)||0)+Jo(e,t,i||(r?"border":"content"),a,n,o)+"px"}_n.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=qo(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=Zn(t),c=Go.test(t),l=e.style;if(c||(t=Yo(s)),a=_n.cssHooks[t]||_n.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t];"string"===(r=typeof i)&&(o=no.exec(i))&&o[1]&&(i=function(e,t,i,n){var o,r,a=20,s=n?function(){return n.cur()}:function(){return _n.css(e,t,"")},c=s(),l=i&&i[3]||(_n.cssNumber[t]?"":"px"),h=(_n.cssNumber[t]||"px"!==l&&+c)&&no.exec(_n.css(e,t));if(h&&h[3]!==l){for(c/=2,l=l||h[3],h=+c||1;a--;)_n.style(e,t,h+l),(1-r)*(1-(r=s()/c||.5))<=0&&(a=0),h/=r;h*=2,_n.style(e,t,h+l),i=i||[]}return i&&(h=+h||+c||0,o=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=h,n.end=o)),o}(e,t,o),r="number"),null!=i&&i==i&&("number"===r&&(i+=o&&o[3]||(_n.cssNumber[s]?"":"px")),mn.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(c?l.setProperty(t,i):l[t]=i))}},css:function(e,t,i,n){var o,r,a,s=Zn(t);return Go.test(t)||(t=Yo(s)),(a=_n.cssHooks[t]||_n.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=qo(e,t,n)),"normal"===o&&t in Zo&&(o=Zo[t]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),_n.each(["height","width"],(function(e,t){_n.cssHooks[t]={get:function(e,i,n){if(i)return!Wo.test(_n.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?er(e,t,n):ao(e,$o,(function(){return er(e,t,n)}))},set:function(e,i,n){var o,r=Oo(e),a="border-box"===_n.css(e,"boxSizing",!1,r),s=n&&Jo(e,t,n,a,r);return a&&mn.scrollboxSize()===r.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-Jo(e,t,"border",!1,r)-.5)),s&&(o=no.exec(i))&&"px"!==(o[3]||"px")&&(e.style[t]=i,i=_n.css(e,t)),Qo(0,i,s)}}})),_n.cssHooks.marginLeft=Uo(mn.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(qo(e,"marginLeft"))||e.getBoundingClientRect().left-ao(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),_n.each({margin:"",padding:"",border:"Width"},(function(e,t){_n.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[e+oo[n]+t]=r[n]||r[n-2]||r[0];return o}},"margin"!==e&&(_n.cssHooks[e+t].set=Qo)})),_n.fn.extend({css:function(e,t){return jn(this,(function(e,t,i){var n,o,r={},a=0;if(Array.isArray(t)){for(n=Oo(e),o=t.length;a<o;a++)r[t[a]]=_n.css(e,t[a],!1,n);return r}return void 0!==i?_n.style(e,t,i):_n.css(e,t)}),e,t,arguments.length>1)}}),_n.fn.delay=function(e,t){return e=_n.fx&&_n.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var n=window.setTimeout(t,e);i.stop=function(){window.clearTimeout(n)}}))},Vo=on.createElement("input"),jo=on.createElement("select").appendChild(on.createElement("option")),Vo.type="checkbox",mn.checkOn=""!==Vo.value,mn.optSelected=jo.selected,(Vo=on.createElement("input")).value="t",Vo.type="radio",mn.radioValue="t"===Vo.value;var tr,ir=_n.expr.attrHandle;_n.fn.extend({attr:function(e,t){return jn(this,_n.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){_n.removeAttr(this,e)}))}}),_n.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?_n.prop(e,t,i):(1===r&&_n.isXMLDoc(e)||(o=_n.attrHooks[t.toLowerCase()]||(_n.expr.match.bool.test(t)?tr:void 0)),void 0!==i?null===i?void _n.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=_n.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!mn.radioValue&&"radio"===t&&In(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,o=t&&t.match(Bn);if(o&&1===e.nodeType)for(;i=o[n++];)e.removeAttribute(i)}}),tr={set:function(e,t,i){return!1===t?_n.removeAttr(e,i):e.setAttribute(i,i),i}},_n.each(_n.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=ir[t]||_n.find.attr;ir[t]=function(e,t,n){var o,r,a=t.toLowerCase();return n||(r=ir[a],ir[a]=o,o=null!=i(e,t,n)?a:null,ir[a]=r),o}}));var nr=/^(?:input|select|textarea|button)$/i,or=/^(?:a|area)$/i;function rr(e){return(e.match(Bn)||[]).join(" ")}function ar(e){return e.getAttribute&&e.getAttribute("class")||""}function sr(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Bn)||[]}_n.fn.extend({prop:function(e,t){return jn(this,_n.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[_n.propFix[e]||e]}))}}),_n.extend({prop:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&_n.isXMLDoc(e)||(t=_n.propFix[t]||t,o=_n.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=_n.find.attr(e,"tabindex");return t?parseInt(t,10):nr.test(e.nodeName)||or.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),mn.optSelected||(_n.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){_n.propFix[this.toLowerCase()]=this})),_n.fn.extend({addClass:function(e){var t,i,n,o,r,a,s,c=0;if(gn(e))return this.each((function(t){_n(this).addClass(e.call(this,t,ar(this)))}));if((t=sr(e)).length)for(;i=this[c++];)if(o=ar(i),n=1===i.nodeType&&" "+rr(o)+" "){for(a=0;r=t[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(s=rr(n))&&i.setAttribute("class",s)}return this},removeClass:function(e){var t,i,n,o,r,a,s,c=0;if(gn(e))return this.each((function(t){_n(this).removeClass(e.call(this,t,ar(this)))}));if(!arguments.length)return this.attr("class","");if((t=sr(e)).length)for(;i=this[c++];)if(o=ar(i),n=1===i.nodeType&&" "+rr(o)+" "){for(a=0;r=t[a++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");o!==(s=rr(n))&&i.setAttribute("class",s)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):gn(e)?this.each((function(i){_n(this).toggleClass(e.call(this,i,ar(this),t),t)})):this.each((function(){var t,o,r,a;if(n)for(o=0,r=_n(this),a=sr(e);t=a[o++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||((t=ar(this))&&Yn.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Yn.get(this,"__className__")||""))}))},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+rr(ar(i))+" ").indexOf(t)>-1)return!0;return!1}});var cr=/\r/g;_n.fn.extend({val:function(e){var t,i,n,o=this[0];return arguments.length?(n=gn(e),this.each((function(i){var o;1===this.nodeType&&(null==(o=n?e.call(this,i,_n(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=_n.map(o,(function(e){return null==e?"":e+""}))),(t=_n.valHooks[this.type]||_n.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=_n.valHooks[o.type]||_n.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(cr,""):null==i?"":i:void 0}}),_n.extend({valHooks:{option:{get:function(e){var t=_n.find.attr(e,"value");return null!=t?t:rr(_n.text(e))}},select:{get:function(e){var t,i,n,o=e.options,r=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?r+1:o.length;for(n=r<0?c:a?r:0;n<c;n++)if(((i=o[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!In(i.parentNode,"optgroup"))){if(t=_n(i).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var i,n,o=e.options,r=_n.makeArray(t),a=o.length;a--;)((n=o[a]).selected=_n.inArray(_n.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),_n.each(["radio","checkbox"],(function(){_n.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_n.inArray(_n(e).val(),t)>-1}},mn.checkOn||(_n.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),mn.focusin="onfocusin"in window;var lr=/^(?:focusinfocus|focusoutblur)$/,hr=function(e){e.stopPropagation()};_n.extend(_n.event,{trigger:function(e,t,i,n){var o,r,a,s,c,l,h,d,f=[i||on],u=fn.call(e,"type")?e.type:e,p=fn.call(e,"namespace")?e.namespace.split("."):[];if(r=d=a=i=i||on,3!==i.nodeType&&8!==i.nodeType&&!lr.test(u+_n.event.triggered)&&(u.indexOf(".")>-1&&(p=u.split("."),u=p.shift(),p.sort()),c=u.indexOf(":")<0&&"on"+u,(e=e[_n.expando]?e:new _n.Event(u,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:_n.makeArray(t,[e]),h=_n.event.special[u]||{},n||!h.trigger||!1!==h.trigger.apply(i,t))){if(!n&&!h.noBubble&&!wn(i)){for(s=h.delegateType||u,lr.test(s+u)||(r=r.parentNode);r;r=r.parentNode)f.push(r),a=r;a===(i.ownerDocument||on)&&f.push(a.defaultView||a.parentWindow||window)}for(o=0;(r=f[o++])&&!e.isPropagationStopped();)d=r,e.type=o>1?s:h.bindType||u,(l=(Yn.get(r,"events")||{})[e.type]&&Yn.get(r,"handle"))&&l.apply(r,t),(l=c&&r[c])&&l.apply&&Kn(r)&&(e.result=l.apply(r,t),!1===e.result&&e.preventDefault());return e.type=u,n||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!Kn(i)||c&&gn(i[u])&&!wn(i)&&((a=i[c])&&(i[c]=null),_n.event.triggered=u,e.isPropagationStopped()&&d.addEventListener(u,hr),i[u](),e.isPropagationStopped()&&d.removeEventListener(u,hr),_n.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(e,t,i){var n=_n.extend(new _n.Event,i,{type:e,isSimulated:!0});_n.event.trigger(n,null,t)}}),_n.fn.extend({trigger:function(e,t){return this.each((function(){_n.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return _n.event.trigger(e,t,i,!0)}}),mn.focusin||_n.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){_n.event.simulate(t,e.target,_n.event.fix(e))};_n.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=Yn.access(n,t);o||n.addEventListener(e,i,!0),Yn.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Yn.access(n,t)-1;o?Yn.access(n,t,o):(n.removeEventListener(e,i,!0),Yn.remove(n,t))}}}));var dr,fr=/\[\]$/,ur=/\r?\n/g,pr=/^(?:submit|button|image|reset|file)$/i,mr=/^(?:input|select|textarea|keygen)/i;function gr(e,t,i,n){var o;if(Array.isArray(t))_n.each(t,(function(t,o){i||fr.test(e)?n(e,o):gr(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,i,n)}));else if(i||"object"!==vn(t))n(e,t);else for(o in t)gr(e+"["+o+"]",t[o],i,n)}_n.param=function(e,t){var i,n=[],o=function(e,t){var i=gn(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!_n.isPlainObject(e))_n.each(e,(function(){o(this.name,this.value)}));else for(i in e)gr(i,e[i],t,o);return n.join("&")},_n.fn.extend({serialize:function(){return _n.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=_n.prop(this,"elements");return e?_n.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!_n(this).is(":disabled")&&mr.test(this.nodeName)&&!pr.test(e)&&(this.checked||!ho.test(e))})).map((function(e,t){var i=_n(this).val();return null==i?null:Array.isArray(i)?_n.map(i,(function(e){return{name:t.name,value:e.replace(ur,"\r\n")}})):{name:t.name,value:i.replace(ur,"\r\n")}})).get()}}),_n.fn.extend({wrapAll:function(e){var t;return this[0]&&(gn(e)&&(e=e.call(this[0])),t=_n(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return gn(e)?this.each((function(t){_n(this).wrapInner(e.call(this,t))})):this.each((function(){var t=_n(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=gn(e);return this.each((function(i){_n(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){_n(this).replaceWith(this.childNodes)})),this}}),_n.expr.pseudos.hidden=function(e){return!_n.expr.pseudos.visible(e)},_n.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},mn.createHTMLDocument=((dr=on.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===dr.childNodes.length),_n.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(mn.createHTMLDocument?((n=(t=on.implementation.createHTMLDocument("")).createElement("base")).href=on.location.href,t.head.appendChild(n)):t=on),r=!i&&[],(o=zn.exec(e))?[t.createElement(o[1])]:(o=Fo([e],t,r),r&&r.length&&_n(r).remove(),_n.merge([],o.childNodes)));var n,o,r},_n.offset={setOffset:function(e,t,i){var n,o,r,a,s,c,l=_n.css(e,"position"),h=_n(e),d={};"static"===l&&(e.style.position="relative"),s=h.offset(),r=_n.css(e,"top"),c=_n.css(e,"left"),("absolute"===l||"fixed"===l)&&(r+c).indexOf("auto")>-1?(a=(n=h.position()).top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(c)||0),gn(t)&&(t=t.call(e,i,_n.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):h.css(d)}},_n.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){_n.offset.setOffset(this,e,t)}));var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],o={top:0,left:0};if("fixed"===_n.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===_n.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=_n(e).offset()).top+=_n.css(e,"borderTopWidth",!0),o.left+=_n.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-_n.css(n,"marginTop",!0),left:t.left-o.left-_n.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===_n.css(e,"position");)e=e.offsetParent;return e||bo}))}}),_n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;_n.fn[e]=function(n){return jn(this,(function(e,n,o){var r;if(wn(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===o)return r?r[t]:e[n];r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):e[n]=o}),e,n,arguments.length)}})),_n.each(["top","left"],(function(e,t){_n.cssHooks[t]=Uo(mn.pixelPosition,(function(e,i){if(i)return i=qo(e,t),Ho.test(i)?_n(e).position()[t]+"px":i}))})),_n.each({Height:"height",Width:"width"},(function(e,t){_n.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){_n.fn[n]=function(o,r){var a=arguments.length&&(i||"boolean"!=typeof o),s=i||(!0===o||!0===r?"margin":"border");return jn(this,(function(t,i,o){var r;return wn(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?_n.css(t,i,s):_n.style(t,i,o,s)}),t,a?o:void 0,a)}}))})),_n.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){_n.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}})),_n.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_n.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),_n.proxy=function(e,t){var i,n,o;if("string"==typeof t&&(i=e[t],t=e,e=i),gn(e))return n=an.call(arguments,2),o=function(){return e.apply(t||this,n.concat(an.call(arguments)))},o.guid=e.guid=e.guid||_n.guid++,o},_n.holdReady=function(e){e?_n.readyWait++:_n.ready(!0)},_n.isArray=Array.isArray,_n.parseJSON=JSON.parse,_n.nodeName=In,_n.isFunction=gn,_n.isWindow=wn,_n.camelCase=Zn,_n.type=vn,_n.now=Date.now,_n.isNumeric=function(e){var t=_n.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};const wr=_n;function Fr(e){return br("div",e)}function br(e,t){const i=document.createElement(e);return t&&(t.class&&i.classList.add(t.class),t.id&&(i.id=t.id),t.style&&_r(i,t.style)),i}function vr(e){const t=getComputedStyle(e);"none"!==t.display&&(e._initialDisplay=t.display),e.style.display="none"}function yr(e){if("none"===getComputedStyle(e).display){const t=e._initialDisplay||"block";e.style.display=t}}function _r(e,t){for(let i of Object.keys(t))e.style[i]=t[i]}function Cr(e,t){const{clientX:i,clientY:n}=e;return((e,{clientX:t,clientY:i})=>{const{left:n,top:o,width:r,height:a}=e.getBoundingClientRect(),s=t-n,c=i-o;return{x:s,y:c,xNormalized:s/r,yNormalized:c/a,width:r,height:a}})(t,{clientX:i,clientY:n})}var xr=Object.freeze({__proto__:null,applyStyle:_r,create:br,div:Fr,empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},guid:function(){return("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)},hide:vr,hideAll:function(e){document.querySelectorAll(e).forEach((e=>{vr(e)}))},offset:function(e){if(!e.getClientRects().length)return{top:0,left:0};const t=e.getBoundingClientRect(),i=e.ownerDocument.defaultView;return{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}},pageCoordinates:function(e){if(e.type.startsWith("touch")){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}},relativeDOMBBox:(e,t)=>{const{x:i,y:n,width:o,height:r}=e.getBoundingClientRect(),{x:a,y:s,width:c,height:l}=t.getBoundingClientRect();return{x:a-i,y:s-n,width:c,height:l}},show:yr,translateMouseCoordinates:Cr});
/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:kr,setPrototypeOf:Er,isFrozen:Nr,getPrototypeOf:Sr,getOwnPropertyDescriptor:Ir}=Object;let{freeze:zr,seal:Dr,create:Ar}=Object,{apply:Mr,construct:Tr}="undefined"!=typeof Reflect&&Reflect;Mr||(Mr=function(e,t,i){return e.apply(t,i)}),zr||(zr=function(e){return e}),Dr||(Dr=function(e){return e}),Tr||(Tr=function(e,t){return new e(...t)});const Rr=$r(Array.prototype.forEach),Lr=$r(Array.prototype.pop),Br=$r(Array.prototype.push),Hr=$r(String.prototype.toLowerCase),Or=$r(String.prototype.toString),Pr=$r(String.prototype.match),qr=$r(String.prototype.replace),Ur=$r(String.prototype.indexOf),Vr=$r(String.prototype.trim),jr=$r(RegExp.prototype.test),Wr=(Gr=TypeError,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Tr(Gr,t)});var Gr;function $r(e){return function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return Mr(e,t,n)}}function Zr(e,t,i){var n;i=null!==(n=i)&&void 0!==n?n:Hr,Er&&Er(e,null);let o=t.length;for(;o--;){let n=t[o];if("string"==typeof n){const e=i(n);e!==n&&(Nr(t)||(t[o]=e),n=e)}e[n]=!0}return e}function Kr(e){const t=Ar(null);for(const[i,n]of kr(e))t[i]=n;return t}function Xr(e,t){for(;null!==e;){const i=Ir(e,t);if(i){if(i.get)return $r(i.get);if("function"==typeof i.value)return $r(i.value)}e=Sr(e)}return function(e){return console.warn("fallback value for",e),null}}const Yr=zr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Qr=zr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jr=zr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ea=zr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ta=zr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ia=zr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),na=zr(["#text"]),oa=zr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ra=zr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),aa=zr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sa=zr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ca=Dr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),la=Dr(/<%[\w\W]*|[\w\W]*%>/gm),ha=Dr(/\${[\w\W]*}/gm),da=Dr(/^data-[\-\w.\u00B7-\uFFFF]/),fa=Dr(/^aria-[\-\w]+$/),ua=Dr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pa=Dr(/^(?:\w+script|data):/i),ma=Dr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ga=Dr(/^html$/i);var wa=Object.freeze({__proto__:null,MUSTACHE_EXPR:ca,ERB_EXPR:la,TMPLIT_EXPR:ha,DATA_ATTR:da,ARIA_ATTR:fa,IS_ALLOWED_URI:ua,IS_SCRIPT_OR_DATA:pa,ATTR_WHITESPACE:ma,DOCTYPE_NAME:ga});const Fa=()=>"undefined"==typeof window?null:window;var ba=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();const i=t=>e(t);if(i.version="3.0.5",i.removed=[],!t||!t.document||9!==t.document.nodeType)return i.isSupported=!1,i;const n=t.document,o=n.currentScript;let{document:r}=t;const{DocumentFragment:a,HTMLTemplateElement:s,Node:c,Element:l,NodeFilter:h,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:u,trustedTypes:p}=t,m=l.prototype,g=Xr(m,"cloneNode"),w=Xr(m,"nextSibling"),F=Xr(m,"childNodes"),b=Xr(m,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let v,y="";const{implementation:_,createNodeIterator:C,createDocumentFragment:x,getElementsByTagName:k}=r,{importNode:E}=n;let N={};i.isSupported="function"==typeof kr&&"function"==typeof b&&_&&void 0!==_.createHTMLDocument;const{MUSTACHE_EXPR:S,ERB_EXPR:I,TMPLIT_EXPR:z,DATA_ATTR:D,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:T}=wa;let{IS_ALLOWED_URI:R}=wa,L=null;const B=Zr({},[...Yr,...Qr,...Jr,...ta,...na]);let H=null;const O=Zr({},[...oa,...ra,...aa,...sa]);let P=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,U=null,V=!0,j=!0,W=!1,G=!0,$=!1,Z=!1,K=!1,X=!1,Y=!1,Q=!1,J=!1,ee=!0,te=!1,ie=!0,ne=!1,oe={},re=null;const ae=Zr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let se=null;const ce=Zr({},["audio","video","img","source","image","track"]);let le=null;const he=Zr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",ue="http://www.w3.org/1999/xhtml";let pe=ue,me=!1,ge=null;const we=Zr({},[de,fe,ue],Or);let Fe;const be=["application/xhtml+xml","text/html"];let ve,ye=null;const _e=r.createElement("form"),Ce=function(e){return e instanceof RegExp||e instanceof Function},xe=function(e){if(!ye||ye!==e){if(e&&"object"==typeof e||(e={}),e=Kr(e),Fe=Fe=-1===be.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ve="application/xhtml+xml"===Fe?Or:Hr,L="ALLOWED_TAGS"in e?Zr({},e.ALLOWED_TAGS,ve):B,H="ALLOWED_ATTR"in e?Zr({},e.ALLOWED_ATTR,ve):O,ge="ALLOWED_NAMESPACES"in e?Zr({},e.ALLOWED_NAMESPACES,Or):we,le="ADD_URI_SAFE_ATTR"in e?Zr(Kr(he),e.ADD_URI_SAFE_ATTR,ve):he,se="ADD_DATA_URI_TAGS"in e?Zr(Kr(ce),e.ADD_DATA_URI_TAGS,ve):ce,re="FORBID_CONTENTS"in e?Zr({},e.FORBID_CONTENTS,ve):ae,q="FORBID_TAGS"in e?Zr({},e.FORBID_TAGS,ve):{},U="FORBID_ATTR"in e?Zr({},e.FORBID_ATTR,ve):{},oe="USE_PROFILES"in e&&e.USE_PROFILES,V=!1!==e.ALLOW_ARIA_ATTR,j=!1!==e.ALLOW_DATA_ATTR,W=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,$=e.SAFE_FOR_TEMPLATES||!1,Z=e.WHOLE_DOCUMENT||!1,Y=e.RETURN_DOM||!1,Q=e.RETURN_DOM_FRAGMENT||!1,J=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,ee=!1!==e.SANITIZE_DOM,te=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,ne=e.IN_PLACE||!1,R=e.ALLOWED_URI_REGEXP||ua,pe=e.NAMESPACE||ue,P=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(P.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$&&(j=!1),Q&&(Y=!0),oe&&(L=Zr({},[...na]),H=[],!0===oe.html&&(Zr(L,Yr),Zr(H,oa)),!0===oe.svg&&(Zr(L,Qr),Zr(H,ra),Zr(H,sa)),!0===oe.svgFilters&&(Zr(L,Jr),Zr(H,ra),Zr(H,sa)),!0===oe.mathMl&&(Zr(L,ta),Zr(H,aa),Zr(H,sa))),e.ADD_TAGS&&(L===B&&(L=Kr(L)),Zr(L,e.ADD_TAGS,ve)),e.ADD_ATTR&&(H===O&&(H=Kr(H)),Zr(H,e.ADD_ATTR,ve)),e.ADD_URI_SAFE_ATTR&&Zr(le,e.ADD_URI_SAFE_ATTR,ve),e.FORBID_CONTENTS&&(re===ae&&(re=Kr(re)),Zr(re,e.FORBID_CONTENTS,ve)),ie&&(L["#text"]=!0),Z&&Zr(L,["html","head","body"]),L.table&&(Zr(L,["tbody"]),delete q.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Wr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Wr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=e.TRUSTED_TYPES_POLICY,y=v.createHTML("")}else void 0===v&&(v=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let i=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(i=t.getAttribute(n));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(p,o)),null!==v&&"string"==typeof y&&(y=v.createHTML(""));zr&&zr(e),ye=e}},ke=Zr({},["mi","mo","mn","ms","mtext"]),Ee=Zr({},["foreignobject","desc","title","annotation-xml"]),Ne=Zr({},["title","style","font","a","script"]),Se=Zr({},Qr);Zr(Se,Jr),Zr(Se,ea);const Ie=Zr({},ta);Zr(Ie,ia);const ze=function(e){Br(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},De=function(e,t){try{Br(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Br(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!H[e])if(Y||Q)try{ze(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ae=function(e){let t,i;if(X)e="<remove></remove>"+e;else{const t=Pr(e,/^[\r\n\t ]+/);i=t&&t[0]}"application/xhtml+xml"===Fe&&pe===ue&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const n=v?v.createHTML(e):e;if(pe===ue)try{t=(new u).parseFromString(n,Fe)}catch(e){}if(!t||!t.documentElement){t=_.createDocument(pe,"template",null);try{t.documentElement.innerHTML=me?y:n}catch(e){}}const o=t.body||t.documentElement;return e&&i&&o.insertBefore(r.createTextNode(i),o.childNodes[0]||null),pe===ue?k.call(t,Z?"html":"body")[0]:Z?t.documentElement:o},Me=function(e){return C.call(e.ownerDocument||e,e,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT,null,!1)},Te=function(e){return"object"==typeof c?e instanceof c:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Re=function(e,t,n){N[e]&&Rr(N[e],(e=>{e.call(i,t,n,ye)}))},Le=function(e){let t;if(Re("beforeSanitizeElements",e,null),(n=e)instanceof f&&("string"!=typeof n.nodeName||"string"!=typeof n.textContent||"function"!=typeof n.removeChild||!(n.attributes instanceof d)||"function"!=typeof n.removeAttribute||"function"!=typeof n.setAttribute||"string"!=typeof n.namespaceURI||"function"!=typeof n.insertBefore||"function"!=typeof n.hasChildNodes))return ze(e),!0;var n;const o=ve(e.nodeName);if(Re("uponSanitizeElement",e,{tagName:o,allowedTags:L}),e.hasChildNodes()&&!Te(e.firstElementChild)&&(!Te(e.content)||!Te(e.content.firstElementChild))&&jr(/<[/\w]/g,e.innerHTML)&&jr(/<[/\w]/g,e.textContent))return ze(e),!0;if(!L[o]||q[o]){if(!q[o]&&He(o)){if(P.tagNameCheck instanceof RegExp&&jr(P.tagNameCheck,o))return!1;if(P.tagNameCheck instanceof Function&&P.tagNameCheck(o))return!1}if(ie&&!re[o]){const t=b(e)||e.parentNode,i=F(e)||e.childNodes;if(i&&t){for(let n=i.length-1;n>=0;--n)t.insertBefore(g(i[n],!0),w(e))}}return ze(e),!0}return e instanceof l&&!function(e){let t=b(e);t&&t.tagName||(t={namespaceURI:pe,tagName:"template"});const i=Hr(e.tagName),n=Hr(t.tagName);return!!ge[e.namespaceURI]&&(e.namespaceURI===fe?t.namespaceURI===ue?"svg"===i:t.namespaceURI===de?"svg"===i&&("annotation-xml"===n||ke[n]):Boolean(Se[i]):e.namespaceURI===de?t.namespaceURI===ue?"math"===i:t.namespaceURI===fe?"math"===i&&Ee[n]:Boolean(Ie[i]):e.namespaceURI===ue?!(t.namespaceURI===fe&&!Ee[n])&&!(t.namespaceURI===de&&!ke[n])&&!Ie[i]&&(Ne[i]||!Se[i]):!("application/xhtml+xml"!==Fe||!ge[e.namespaceURI]))}(e)?(ze(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!jr(/<\/no(script|embed|frames)/i,e.innerHTML)?($&&3===e.nodeType&&(t=e.textContent,t=qr(t,S," "),t=qr(t,I," "),t=qr(t,z," "),e.textContent!==t&&(Br(i.removed,{element:e.cloneNode()}),e.textContent=t)),Re("afterSanitizeElements",e,null),!1):(ze(e),!0)},Be=function(e,t,i){if(ee&&("id"===t||"name"===t)&&(i in r||i in _e))return!1;if(j&&!U[t]&&jr(D,t));else if(V&&jr(A,t));else if(!H[t]||U[t]){if(!(He(e)&&(P.tagNameCheck instanceof RegExp&&jr(P.tagNameCheck,e)||P.tagNameCheck instanceof Function&&P.tagNameCheck(e))&&(P.attributeNameCheck instanceof RegExp&&jr(P.attributeNameCheck,t)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(t))||"is"===t&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&jr(P.tagNameCheck,i)||P.tagNameCheck instanceof Function&&P.tagNameCheck(i))))return!1}else if(le[t]);else if(jr(R,qr(i,T,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ur(i,"data:")||!se[e]){if(W&&!jr(M,qr(i,T,"")));else if(i)return!1}else;return!0},He=function(e){return e.indexOf("-")>0},Oe=function(e){let t,n,o,r;Re("beforeSanitizeAttributes",e,null);const{attributes:a}=e;if(!a)return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H};for(r=a.length;r--;){t=a[r];const{name:c,namespaceURI:l}=t;if(n="value"===c?t.value:Vr(t.value),o=ve(c),s.attrName=o,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,Re("uponSanitizeAttribute",e,s),n=s.attrValue,s.forceKeepAttr)continue;if(De(c,e),!s.keepAttr)continue;if(!G&&jr(/\/>/i,n)){De(c,e);continue}$&&(n=qr(n,S," "),n=qr(n,I," "),n=qr(n,z," "));const h=ve(e.nodeName);if(Be(h,o,n)){if(!te||"id"!==o&&"name"!==o||(De(c,e),n="user-content-"+n),v&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(l);else switch(p.getAttributeType(h,o)){case"TrustedHTML":n=v.createHTML(n);break;case"TrustedScriptURL":n=v.createScriptURL(n)}try{l?e.setAttributeNS(l,c,n):e.setAttribute(c,n),Lr(i.removed)}catch(e){}}}Re("afterSanitizeAttributes",e,null)},Pe=function e(t){let i;const n=Me(t);for(Re("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)Re("uponSanitizeShadowNode",i,null),Le(i)||(i.content instanceof a&&e(i.content),Oe(i));Re("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(e){let t,o,r,s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(me=!e,me&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Te(e)){if("function"!=typeof e.toString)throw Wr("toString is not a function");if("string"!=typeof(e=e.toString()))throw Wr("dirty is not a string, aborting")}if(!i.isSupported)return e;if(K||xe(l),i.removed=[],"string"==typeof e&&(ne=!1),ne){if(e.nodeName){const t=ve(e.nodeName);if(!L[t]||q[t])throw Wr("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)t=Ae("\x3c!----\x3e"),o=t.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?t=o:t.appendChild(o);else{if(!Y&&!$&&!Z&&-1===e.indexOf("<"))return v&&J?v.createHTML(e):e;if(t=Ae(e),!t)return Y?null:J?y:""}t&&X&&ze(t.firstChild);const h=Me(ne?e:t);for(;r=h.nextNode();)Le(r)||(r.content instanceof a&&Pe(r.content),Oe(r));if(ne)return e;if(Y){if(Q)for(s=x.call(t.ownerDocument);t.firstChild;)s.appendChild(t.firstChild);else s=t;return(H.shadowroot||H.shadowrootmode)&&(s=E.call(n,s,!0)),s}let d=Z?t.outerHTML:t.innerHTML;return Z&&L["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&jr(ga,t.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+d),$&&(d=qr(d,S," "),d=qr(d,I," "),d=qr(d,z," ")),v&&J?v.createHTML(d):d},i.setConfig=function(e){xe(e),K=!0},i.clearConfig=function(){ye=null,K=!1},i.isValidAttribute=function(e,t,i){ye||xe({});const n=ve(e),o=ve(t);return Be(n,o,i)},i.addHook=function(e,t){"function"==typeof t&&(N[e]=N[e]||[],Br(N[e],t))},i.removeHook=function(e){if(N[e])return Lr(N[e])},i.removeHooks=function(e){N[e]&&(N[e]=[])},i.removeAllHooks=function(){N={}},i}();function va(e,t){const i=Fr({class:"igv-ui-trackgear-popover-check-container"}),n=_a("check",!0===t?"#444":"transparent");n.style.borderColor="gray",n.style.borderWidth="1px",n.style.borderStyle="solid",i.appendChild(n);let o=Fr();return o.textContent=e,i.appendChild(o),i}function ya(e,t){return _a(e,t)}function _a(e,t){t=t||"currentColor";let i=Ca[e];i||(console.error(`No icon named: ${e}`),i=Ca.question);const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"viewBox","0 0 "+i[0]+" "+i[1]);const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttributeNS(null,"fill",t),o.setAttributeNS(null,"d",i[4]),n.appendChild(o),n}const Ca={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};var xa=Object.freeze({__proto__:null,createCheckbox:va,createIcon:ya});function ka(e,t){var i=document.createElement("div");e.appendChild(i),i.appendChild(ya("times")),i.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t()}))}var Ea=Object.freeze({__proto__:null,attachDialogCloseHandlerWithParent:ka});let Na;function Sa(e,t,i){t.addEventListener("mousedown",function(e){e.stopPropagation(),e.preventDefault();const t=Ia.bind(this),n=za.bind(this),o=getComputedStyle(this);Na={constraint:i,dragFunction:t,dragEndFunction:n,screenX:e.screenX,screenY:e.screenY,top:parseInt(o.top.replace("px","")),left:parseInt(o.left.replace("px",""))},document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),document.addEventListener("mouseleave",n),document.addEventListener("mouseexit",n)}.bind(e))}function Ia(e){if(!Na)return void console.error("No drag data!");e.stopPropagation(),e.preventDefault();const t=e.screenX-Na.screenX,i=e.screenY-Na.screenY,n=Na.left+t,o=Na.constraint?Math.max(Na.constraint.minY,Na.top+i):Na.top+i;this.style.left=`${n}px`,this.style.top=`${o}px`}function za(e){if(!Na)return void console.error("No drag data!");e.stopPropagation(),e.preventDefault();const t=Na.dragFunction,i=Na.dragEndFunction;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i),document.removeEventListener("mouseleave",i),document.removeEventListener("mouseexit",i),Na=void 0}const Da={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};class Aa{constructor(e,t){this.alertProps=Object.assign({shouldFocus:!0,preventScroll:!1},t),this.container=Fr({class:"igv-ui-alert-dialog-container"}),e.appendChild(this.container),this.container.setAttribute("tabIndex","-1");const i=Fr();this.container.appendChild(i),this.errorHeadline=Fr(),i.appendChild(this.errorHeadline),this.errorHeadline.textContent="";let n=Fr({class:"igv-ui-alert-dialog-body"});this.container.appendChild(n),this.body=Fr({class:"igv-ui-alert-dialog-body-copy"}),n.appendChild(this.body);let o=Fr();this.container.appendChild(o),this.ok=Fr(),o.appendChild(this.ok),this.ok.textContent="OK";const r=()=>{"function"==typeof this.callback&&(this.callback("OK"),this.callback=void 0),this.body.innerHTML="",vr(this.container)};this.ok.addEventListener("click",(e=>{e.stopPropagation(),r()})),this.container.addEventListener("keypress",(e=>{e.stopPropagation(),"Enter"===e.key&&r()})),Sa(this.container,i),vr(this.container)}present(e,t){this.errorHeadline.textContent=e.message?"ERROR":"";let i=e.message||e;Da.hasOwnProperty(i)&&(i=Da[i]);const n=ba.sanitize(i);this.body.innerHTML=n,this.callback=t,yr(this.container),this.alertProps.shouldFocus&&this.container.focus({preventScroll:this.alertProps.preventScroll})}}class Ma{constructor(e){this.parent=e,this.container=Fr({class:"igv-ui-generic-dialog-container"}),e.appendChild(this.container);const t=Fr({class:"igv-ui-generic-dialog-header"});this.container.appendChild(t),this.label=Fr({class:"igv-ui-generic-dialog-one-liner"}),this.container.appendChild(this.label),this.label.text="Unlabeled",this.input_container=Fr({class:"igv-ui-generic-dialog-input"}),this.container.appendChild(this.input_container),this.input=document.createElement("input"),this.input_container.appendChild(this.input);const i=Fr({class:"igv-ui-generic-dialog-ok-cancel"});this.container.appendChild(i),this.ok=Fr(),i.appendChild(this.ok),this.ok.textContent="OK",this.cancel=Fr(),i.appendChild(this.cancel),this.cancel.textContent="Cancel",vr(this.container),this.input.addEventListener("keyup",(e=>{13===e.keyCode&&("function"==typeof this.callback&&(this.callback(this.input.value),this.callback=void 0),this.input.value=void 0,vr(this.container))})),this.ok.addEventListener("click",(()=>{"function"==typeof this.callback&&(this.callback(this.input.value),this.callback=void 0),this.input.value=void 0,vr(this.container)}));const n=()=>{this.input.value="",vr(this.container)};this.cancel.addEventListener("click",n),ka(t,n),Sa(this.container,t)}get value(){return ba.sanitize(this.input.value)}present(e,t){this.label.textContent=e.label,this.input.value=e.value,this.callback=e.callback||e.click,yr(this.container),this.clampLocation(t.clientX,t.clientY)}clampLocation(e,t){const{width:i,height:n}=this.container.getBoundingClientRect(),o=window.innerHeight,r=window.innerWidth,a=Math.min(o-n,t),s=Math.min(r-i,e);this.container.style.left=`${s}px`,this.container.style.top=`${a}px`}}const Ta={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"#ffffff",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"};class Ra{constructor({parent:e,top:t,left:i,width:n,height:o,border:r,closeHandler:a}){let s=Fr({class:"igv-ui-generic-container"});e.appendChild(s),vr(s),this.container=s,void 0!==t&&(this.container.style.top=`${t}px`),void 0!==i&&(this.container.style.left=`${i}px`),void 0!==n&&(this.container.style.width=`${n}px`),void 0!==o&&(this.container.style.height=`${o}px`),r&&(this.container.style.border=r);const c=Fr();this.container.appendChild(c),ka(c,(e=>{vr(this.container),"function"==typeof a&&a(e)})),Sa(this.container,c)}show(){yr(this.container)}hide(){vr(this.container)}dispose(){this.container.parent&&this.container.parent.removeChild(this.container)}}class La extends Ra{constructor({parent:e,top:t,left:i,width:n,height:o,defaultColors:r,colorHandler:a}){super({parent:e,top:t,left:i,width:n,height:o,border:"1px solid gray"}),Ba(this.container,a,r)}}const Ba=(e,t,i)=>{const n=Object.values(Ta);for(let i of n){const n=Fr({class:"igv-ui-color-swatch"});e.appendChild(n),Ha(n,i,t)}if(i)for(let n of i){const i=Fr({class:"igv-ui-color-swatch"});e.appendChild(i),Ha(i,n,t)}},Ha=(e,t,i)=>{e.style.backgroundColor=t,e.addEventListener("mouseenter",(i=>e.style.borderColor=t)),e.addEventListener("mouseleave",(t=>e.style.borderColor="white")),e.addEventListener("click",(e=>{e.stopPropagation(),i(t)})),e.addEventListener("touchend",(e=>{e.stopPropagation(),i(t)}))};class Oa{constructor(e,t){this.parent=e,this.popover=Fr({class:"igv-ui-popover"}),e.appendChild(this.popover);const i=Fr();this.popover.appendChild(i);const n=Fr();i.appendChild(n),t&&(n.textContent=t),ka(i,(()=>this.hide())),Sa(this.popover,i),this.popoverContent=Fr(),this.popover.appendChild(this.popoverContent),this.popover.style.display="none"}presentContentWithEvent(e,t){this.popover.style.display="block",this.popoverContent.innerHTML=t,Pa(e,this.popover,this.popoverContent)}presentMenu(e,t){if(0===t.length)return;this.popover.style.display="block";const i=function(e,t){const i=e.map((function(e,i){let n;if("string"==typeof e)n=Fr(),n.innerHTML=e;else if("Node"==typeof e)n=e;else{if("function"==typeof e.init&&e.init(),"checkbox"===e.type)n=va("Show all bases",e.value);else if("color"===e.type){const o=new La({parent:t.parentElement,width:364,colorHandler:t=>e.click(t)});n=Fr(),"string"==typeof e.label&&(n.innerHTML=e.label);const r=e=>{o.show(),vr(t),e.preventDefault(),e.stopPropagation()};n.addEventListener("click",r),n.addEventListener("touchend",r),n.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}else n=Fr(),"string"==typeof e.label&&(n.innerHTML=e.label);if(e.click&&"color"!==e.type){function a(i){e.click(),vr(t),i.preventDefault(),i.stopPropagation()}n.addEventListener("click",a),n.addEventListener("touchend",a),n.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}}return{object:n,init:e.init}}));return i}(t,this.popover);for(let e of i)this.popoverContent.appendChild(e.object);Pa(e,this.popover,this.popoverContent)}hide(){this.popover.style.display="none",this.dispose()}dispose(){this.popover&&this.popover.parentNode.removeChild(this.popover);const e=Object.keys(this);for(let t of e)this[t]=void 0}}function Pa(e,t,i){const{x:n,y:o,width:r}=Cr(e,t.parentNode);t.style.top=`${o}px`;const{width:a}=t.getBoundingClientRect(),s=n+a,c=s-r;t.style.left=`${s>r?n-c:n}px`,i.style.maxWidth=`${Math.min(a,r)}px`}class qa extends Ra{constructor({parent:e,width:t}){super({parent:e,width:t,border:"1px solid gray"})}configure(e,t){this.colorHandlers=t,this.setActiveColorHandler("color"),this.createSwatches(e)}setActiveColorHandler(e){this.activeColorHandler=this.colorHandlers[e]}createSwatches(e){this.container.querySelectorAll(".igv-ui-color-swatch").forEach((e=>e.remove()));const t=Object.values(Ta);for(let e of t){const t=Fr({class:"igv-ui-color-swatch"});this.container.appendChild(t),this.decorateSwatch(t,e)}if(e)for(let t of e){const e=Fr({class:"igv-ui-color-swatch"});this.container.appendChild(e),this.decorateSwatch(e,t)}}decorateSwatch(e,t){e.style.backgroundColor=t,e.addEventListener("mouseenter",(()=>e.style.borderColor=t)),e.addEventListener("mouseleave",(()=>e.style.borderColor="white")),e.addEventListener("click",(e=>{e.stopPropagation(),this.activeColorHandler(t)})),e.addEventListener("touchend",(e=>{e.stopPropagation(),this.activeColorHandler(t)}))}}if("undefined"!=typeof document){function zk(e){for(let t of document.styleSheets)if(t=t.href?t.href.replace(/^.*[\\\/]/,""):"",t===e)return!0;return!1}zk("igv-ui.css")||function(){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("title","igv-ui.css"),e.innerHTML='.igv-ui-popover {\n  cursor: default;\n  position: absolute;\n  z-index: 2048;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: 1px;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  background-color: white;\n}\n.igv-ui-popover > div:first-child {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n}\n.igv-ui-popover > div:first-child > div:first-child {\n  margin-left: 4px;\n}\n.igv-ui-popover > div:first-child > div:last-child {\n  margin-right: 4px;\n  height: 12px;\n  width: 12px;\n  color: #7F7F7F;\n}\n.igv-ui-popover > div:first-child > div:last-child:hover {\n  cursor: pointer;\n  color: #444;\n}\n.igv-ui-popover > div:last-child {\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 400px;\n  max-width: 800px;\n  background-color: white;\n}\n.igv-ui-popover > div:last-child > div {\n  user-select: all;\n  margin-left: 4px;\n  margin-right: 4px;\n  min-width: 220px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.igv-ui-popover > div:last-child > div > span {\n  font-weight: bolder;\n}\n.igv-ui-popover > div:last-child hr {\n  width: 100%;\n}\n\n.igv-ui-alert-dialog-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  top: 50%;\n  left: 50%;\n  width: 400px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  outline: none;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n}\n.igv-ui-alert-dialog-container > div:first-child {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n}\n.igv-ui-alert-dialog-container > div:first-child div:first-child {\n  padding-left: 8px;\n}\n.igv-ui-alert-dialog-container .igv-ui-alert-dialog-body {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  color: #373737;\n  width: 100%;\n  height: calc(100% - 24px - 64px);\n  overflow-y: scroll;\n}\n.igv-ui-alert-dialog-container .igv-ui-alert-dialog-body .igv-ui-alert-dialog-body-copy {\n  margin: 16px;\n  width: auto;\n  height: auto;\n  overflow-wrap: break-word;\n  word-break: break-word;\n  background-color: white;\n  border: unset;\n}\n.igv-ui-alert-dialog-container > div:last-child {\n  width: 100%;\n  margin-bottom: 10px;\n  background-color: white;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n}\n.igv-ui-alert-dialog-container > div:last-child div {\n  margin: unset;\n  width: 40px;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  border-color: #2B81AF;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 4px;\n  background-color: #2B81AF;\n}\n.igv-ui-alert-dialog-container > div:last-child div:hover {\n  cursor: pointer;\n  border-color: #25597f;\n  background-color: #25597f;\n}\n\n.igv-ui-color-swatch {\n  position: relative;\n  box-sizing: content-box;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px;\n}\n\n.igv-ui-color-swatch:hover {\n  border-color: dimgray;\n}\n\n.igv-ui-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px;\n}\n.igv-ui-colorpicker-menu-close-button i.fa {\n  display: block;\n  margin-left: 4px;\n  margin-right: 4px;\n  color: #5f5f5f;\n}\n.igv-ui-colorpicker-menu-close-button i.fa:hover,\n.igv-ui-colorpicker-menu-close-button i.fa:focus,\n.igv-ui-colorpicker-menu-close-button i.fa:active {\n  cursor: pointer;\n  color: #0f0f0f;\n}\n\n.igv-ui-generic-dialog-container {\n  box-sizing: content-box;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div {\n  margin-right: 4px;\n  margin-bottom: 2px;\n  height: 12px;\n  width: 12px;\n  color: #7F7F7F;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div:hover {\n  cursor: pointer;\n  color: #444;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-one-liner {\n  color: #373737;\n  width: 95%;\n  height: 24px;\n  line-height: 24px;\n  text-align: left;\n  margin-top: 8px;\n  padding-left: 8px;\n  overflow-wrap: break-word;\n  background-color: white;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input {\n  margin-top: 8px;\n  width: 95%;\n  height: 24px;\n  color: #373737;\n  line-height: 24px;\n  padding-left: 8px;\n  background-color: white;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input div {\n  width: 30%;\n  height: 100%;\n  font-size: 16px;\n  text-align: right;\n  padding-right: 8px;\n  background-color: white;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n  display: block;\n  height: 100%;\n  width: 100%;\n  padding-left: 4px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  color: #373737;\n  text-align: left;\n  outline: none;\n  border-style: solid;\n  border-width: thin;\n  border-color: #7F7F7F;\n  background-color: white;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n  width: 50%;\n  font-size: 16px;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input {\n  margin-top: 8px;\n  width: calc(100% - 16px);\n  height: 24px;\n  color: #373737;\n  line-height: 24px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n  display: block;\n  height: 100%;\n  width: 100%;\n  padding-left: 4px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  color: #373737;\n  text-align: left;\n  outline: none;\n  border-style: solid;\n  border-width: thin;\n  border-color: #7F7F7F;\n  background-color: white;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n  font-size: 16px;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel {\n  width: 100%;\n  height: 28px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div {\n  margin-top: 32px;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: 14px;\n  font-weight: 400;\n  width: 75px;\n  height: 28px;\n  line-height: 28px;\n  text-align: center;\n  border-color: transparent;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 2px;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child {\n  margin-left: 32px;\n  margin-right: 0;\n  background-color: #5ea4e0;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child {\n  margin-left: 0;\n  margin-right: 32px;\n  background-color: #c4c4c4;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child:hover {\n  cursor: pointer;\n  background-color: #3b5c7f;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child:hover {\n  cursor: pointer;\n  background-color: #7f7f7f;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok {\n  width: 100%;\n  height: 36px;\n  margin-top: 32px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div {\n  width: 98px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  border-color: white;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 4px;\n  background-color: #2B81AF;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div:hover {\n  cursor: pointer;\n  background-color: #25597f;\n}\n\n.igv-ui-generic-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-ui-generic-container > div:first-child {\n  cursor: move;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  height: 24px;\n  width: 100%;\n  background-color: #dddddd;\n}\n.igv-ui-generic-container > div:first-child > div {\n  display: block;\n  color: #5f5f5f;\n  cursor: pointer;\n  width: 14px;\n  height: 14px;\n  margin-right: 8px;\n  margin-bottom: 4px;\n}\n\n.igv-ui-dialog {\n  z-index: 2048;\n  position: fixed;\n  width: fit-content;\n  height: fit-content;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n}\n.igv-ui-dialog .igv-ui-dialog-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n}\n.igv-ui-dialog .igv-ui-dialog-header div {\n  margin-right: 4px;\n  margin-bottom: 2px;\n  height: 12px;\n  width: 12px;\n  color: #7F7F7F;\n}\n.igv-ui-dialog .igv-ui-dialog-header div:hover {\n  cursor: pointer;\n  color: #444;\n}\n.igv-ui-dialog .igv-ui-dialog-one-liner {\n  width: 95%;\n  height: 24px;\n  line-height: 24px;\n  text-align: left;\n  margin: 8px;\n  overflow-wrap: break-word;\n  background-color: white;\n  font-weight: bold;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel {\n  width: 100%;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div {\n  margin: 16px;\n  margin-top: 32px;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: 14px;\n  font-weight: 400;\n  width: 75px;\n  height: 28px;\n  line-height: 28px;\n  text-align: center;\n  border-color: transparent;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 2px;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child {\n  background-color: #5ea4e0;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child {\n  background-color: #c4c4c4;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child:hover {\n  cursor: pointer;\n  background-color: #3b5c7f;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child:hover {\n  cursor: pointer;\n  background-color: #7f7f7f;\n}\n.igv-ui-dialog .igv-ui-dialog-ok {\n  width: 100%;\n  height: 36px;\n  margin-top: 32px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-dialog .igv-ui-dialog-ok div {\n  width: 98px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  border-color: white;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 4px;\n  background-color: #2B81AF;\n}\n.igv-ui-dialog .igv-ui-dialog-ok div:hover {\n  cursor: pointer;\n  background-color: #25597f;\n}\n\n.igv-ui-panel, .igv-ui-panel-row, .igv-ui-panel-column {\n  z-index: 2048;\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n\n.igv-ui-panel-column {\n  display: flex;\n  flex-direction: column;\n}\n\n.igv-ui-panel-row {\n  display: flex;\n  flex-direction: row;\n}\n\n.igv-ui-textbox {\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n\n.igv-ui-table {\n  background-color: white;\n}\n\n.igv-ui-table thead {\n  position: sticky;\n  top: 0;\n}\n\n.igv-ui-table th {\n  text-align: left;\n}\n\n.igv-ui-table td {\n  padding-right: 20px;\n}\n\n.igv-ui-table tr:hover {\n  background-color: lightblue;\n}\n\n/*# sourceMappingURL=igv-ui.css.map */\n',document.head.append(e)}()}function Ua(e,t){const i=xr.div({class:"igv-menu-popup-check-container"}),n=xr.div();i.appendChild(n);const o=xa.createIcon("check",!0===t?"#444":"transparent");n.appendChild(o);const r=xr.div();return r.innerText=e,i.appendChild(r),i}const Va={trackMenuItemList:function(e){const t=new Set(["alignment","annotation","variant","eqtl","snp"]),i=e.track.config&&void 0!==e.track.config.visibilityWindow;let n=[];return"sequence"!==e.track.config.type&&(n.push(function(e){const t=t=>{const i=function(){let t=e.browser.inputDialog.value;t=""===t||void 0===t?"untitled":t.trim(),e.track.name=t},n={label:"Track Name",value:Wa(e.track)||"unnamed",callback:i};e.browser.inputDialog.present(n,t)},i=wr("<div>");return i.text("Set track name"),{object:i,click:t}}(e)),n.push(function(e){const t=t=>{const i=()=>{const t=Number(e.browser.inputDialog.value,10);void 0!==t&&(void 0!==e.track.minHeight&&e.track.minHeight>t&&(e.track.minHeight=t),void 0!==e.track.maxHeight&&e.track.maxHeight<t&&(e.track.minHeight=t),e.setTrackHeight(t,!0),e.checkContentHeight(),e.repaintViews(),e.track.autoHeight=!1)},n={label:"Track Height",value:e.track.height,callback:i};e.browser.inputDialog.present(n,t)},i=wr("<div>");return i.text("Set track height"),{object:i,click:t}}(e))),this.showColorPicker(e.track)&&(n.push("<hr/>"),n.push(ja({trackView:e,label:"Set track color",option:"color"})),n.push(function({trackView:e,label:t}){const i=wr("<div>");return i.text(t),{object:i,click:()=>{e.track.color=void 0,e.repaintViews()}}}({trackView:e,label:"Unset track color"})),"wig"!==e.track.config.type&&"annotation"!==e.track.config.type||(n.push(ja({trackView:e,label:"Set alt color",option:"altColor"})),n.push(function({trackView:e,label:t}){const i=wr("<div>");return i.text(t),{object:i,click:()=>{e.track.altColor=void 0,e.repaintViews()}}}({trackView:e,label:"Unset alt color"})))),e.track.menuItemList&&(n=n.concat(e.track.menuItemList())),(i||t.has(e.track.type))&&(n.push("<hr/>"),n.push(function(e){const t=t=>{const i=()=>{let t=e.browser.inputDialog.value;t=""===t||void 0===t?-1:t.trim(),e.track.visibilityWindow=Number.parseInt(t),e.track.config.visibilityWindow=Number.parseInt(t),e.updateViews()},n={label:"Visibility Window",value:e.track.visibilityWindow,callback:i};e.browser.inputDialog.present(n,t)},i=wr("<div>");return i.text("Set visibility window"),{object:i,click:t}}(e))),!1!==e.track.removable&&(n.push("<hr/>"),n.push(function(e){const t=wr("<div>");return t.text("Remove track"),{object:t,click:()=>e.browser.removeTrack(e.track)}}(e))),n},numericDataMenuItems:function(e){const t=[];t.push("<hr/>");const i=wr("<div>");i.text("Set data range");return t.push({object:i,click:()=>{e.browser.dataRangeDialog.configure(e),e.browser.dataRangeDialog.present(wr(e.browser.columnContainer))}}),void 0!==e.track.logScale&&t.push({object:wr(Ua("Log scale",e.track.logScale)),click:()=>{e.track.logScale=!e.track.logScale,e.repaintViews()}}),t.push({object:wr(Ua("Autoscale",e.track.autoscale)),click:()=>{e.track.autoscale=!e.track.autoscale,e.updateViews()}}),t},trackMenuItemListHelper:function(e,t){var i=[];return e.length>0&&(i=e.map((function(e,i){var n;if(e.name?(n=wr("<div>")).text(e.name):e.object?n=e.object:"string"==typeof e.label?(n=wr("<div>")).html(e.label):"string"==typeof e&&(n=e.startsWith("<")?wr(e):wr("<div>"+e+"</div>")),0===i&&n.addClass("igv-track-menu-border-top"),e.click){function o(i){e.click(i),t.hide(),i.preventDefault(),i.stopPropagation()}n.on("click",o),n.on("touchend",(function(e){o(e)})),n.on("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}return{object:n,init:e.init||void 0}}))),i},showColorPicker:e=>void 0===e.type||"bedtype"===e.type||"alignment"===e.type||"annotation"===e.type||"variant"===e.type||"wig"===e.type||"interact"===e.type,createMenuItem(e,t){const i=wr("<div>");return i.text(e),{object:i,click:t}}};function ja({trackView:e,label:t,option:i}){const n=wr("<div>");return n.text(t),{object:n,click:()=>e.presentColorPicker(i)}}function Wa(e){return e.trackView.viewports[0].$trackLabel.text()}class Ga{constructor(e,t,i){this.browser=e,this.$container=wr("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0});const n=wr("<div>",{class:"igv-generic-dialog-header"});this.$container.append(n),Ea.attachDialogCloseHandlerWithParent(n[0],(()=>{this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()})),this.$minimum=wr("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum);const o=wr("<div>");o.text("Minimum"),this.$minimum.append(o),this.$minimum_input=wr("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=wr("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum);const r=wr("<div>");r.text("Maximum"),this.$maximum.append(r),this.$maximum_input=wr("<input>"),this.$maximum.append(this.$maximum_input);const a=wr("<div>",{class:"igv-generic-dialog-ok-cancel"});this.$container.append(a),this.$ok=wr("<div>"),a.append(this.$ok),this.$ok.text("OK"),this.$cancel=wr("<div>"),a.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(()=>{this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()})),Sa(this.$container.get(0),n.get(0)),this.$container.hide()}configure(e){const t=e.dataRange();let i,n;t?(i=t.min,n=t.max):(i=0,n=100),this.$minimum_input.val(i),this.$maximum_input.val(n),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",(t=>{13===t.keyCode&&this.processResults(e)})),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",(t=>{13===t.keyCode&&this.processResults(e)})),this.$ok.unbind(),this.$ok.on("click",(t=>{this.processResults(e)}))}processResults(e){const t=Number(this.$minimum_input.val()),i=Number(this.$maximum_input.val());isNaN(t)||isNaN(i)?this.browser.alert.present(new Error("Must input numeric values"),void 0):e.setDataRange(t,i),this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}present(e){const t=e.offset().top,i=wr("body").scrollTop();this.$container.offset({left:e.width()-this.$container.width(),top:t+i}),this.$container.show()}}function $a(e){return"string"==typeof e||e instanceof String}function Za(e){var t=String(e).split(/[.,]/);return t[0].split("").reverse().reduce((function(e,t,i){return i%3==0?e+","+t:e+t})).split("").reverse().join("")+(t[1]?"."+t[1]:"")}const Ka=function(e){return e.split(/\n|\r\n|\r/g)};function Xa(e,t){var i,n,o=[],r=e.length,a=0,s=!1;if(r>0)for(o[a]=e.charAt(0),i=1;i<r;i++)'"'===(n=e.charAt(i))?s=!s:s||n!==t?o[a]+=n:o[++a]="";return o}function Ya(e){return e.length>0?e.charAt(0).toUpperCase()+e.slice(1):e}function Qa(e){if(void 0!==e.name)return e.name;if($a(e)){let t=e.lastIndexOf("/"),i=t<0?e:e.substr(t+1);return t=i.indexOf("?"),t>0&&(i=i.substr(0,t)),i}throw Error("Expected File or string, got "+typeof e)}function Ja(e){return!!e&&("function"!=typeof e&&(e instanceof File||e.hasOwnProperty("name")&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer))}function es(e,t){const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}function ts(e){for(var t=is,i=t.parser.loose.exec(e),n={},o=14;o--;)n[t.key[o]]=i[o]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,(function(e,i,o){i&&(n[t.q.name][i]=o)})),n}"object"==typeof process&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});const is={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function ns(e){let t=e.length;for(;--t>=0;)e[t]=0}const os=256,rs=286,as=30,ss=15,cs=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ls=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),hs=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ds=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fs=new Array(576);ns(fs);const us=new Array(60);ns(us);const ps=new Array(512);ns(ps);const ms=new Array(256);ns(ms);const gs=new Array(29);ns(gs);const ws=new Array(as);function Fs(e,t,i,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}let bs,vs,ys;function _s(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}ns(ws);const Cs=e=>e<256?ps[e]:ps[256+(e>>>7)],xs=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},ks=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,xs(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},Es=(e,t,i)=>{ks(e,i[2*t],i[2*t+1])},Ns=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},Ss=(e,t,i)=>{const n=new Array(16);let o,r,a=0;for(o=1;o<=ss;o++)a=a+i[o-1]<<1,n[o]=a;for(r=0;r<=t;r++){let t=e[2*r+1];0!==t&&(e[2*r]=Ns(n[t]++,t))}},Is=e=>{let t;for(t=0;t<rs;t++)e.dyn_ltree[2*t]=0;for(t=0;t<as;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},zs=e=>{e.bi_valid>8?xs(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ds=(e,t,i,n)=>{const o=2*t,r=2*i;return e[o]<e[r]||e[o]===e[r]&&n[t]<=n[i]},As=(e,t,i)=>{const n=e.heap[i];let o=i<<1;for(;o<=e.heap_len&&(o<e.heap_len&&Ds(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Ds(t,n,e.heap[o],e.depth));)e.heap[i]=e.heap[o],i=o,o<<=1;e.heap[i]=n},Ms=(e,t,i)=>{let n,o,r,a,s=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+s++],n+=(255&e.pending_buf[e.sym_buf+s++])<<8,o=e.pending_buf[e.sym_buf+s++],0===n?Es(e,o,t):(r=ms[o],Es(e,r+os+1,t),a=cs[r],0!==a&&(o-=gs[r],ks(e,o,a)),n--,r=Cs(n),Es(e,r,i),a=ls[r],0!==a&&(n-=ws[r],ks(e,n,a)))}while(s<e.sym_next);Es(e,256,t)},Ts=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,r=t.stat_desc.elems;let a,s,c,l=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<r;a++)0!==i[2*a]?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):i[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,i[2*c]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=n[2*c+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)As(e,i,a);c=r;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],As(e,i,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,i[2*c]=i[2*a]+i[2*s],e.depth[c]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,i[2*a+1]=i[2*s+1]=c,e.heap[1]=c++,As(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,h,d,f,u,p,m=0;for(f=0;f<=ss;f++)e.bl_count[f]=0;for(i[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)h=e.heap[l],f=i[2*i[2*h+1]+1]+1,f>c&&(f=c,m++),i[2*h+1]=f,h>n||(e.bl_count[f]++,u=0,h>=s&&(u=a[h-s]),p=i[2*h],e.opt_len+=p*(f+u),r&&(e.static_len+=p*(o[2*h+1]+u)));if(0!==m){do{for(f=c-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(f=c;0!==f;f--)for(h=e.bl_count[f];0!==h;)d=e.heap[--l],d>n||(i[2*d+1]!==f&&(e.opt_len+=(f-i[2*d+1])*i[2*d],i[2*d+1]=f),h--)}})(e,t),Ss(i,l,e.bl_count)},Rs=(e,t,i)=>{let n,o,r=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)o=a,a=t[2*(n+1)+1],++s<c&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==r&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,r=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4))},Ls=(e,t,i)=>{let n,o,r=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),n=0;n<=i;n++)if(o=a,a=t[2*(n+1)+1],!(++s<c&&o===a)){if(s<l)do{Es(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==r&&(Es(e,o,e.bl_tree),s--),Es(e,16,e.bl_tree),ks(e,s-3,2)):s<=10?(Es(e,17,e.bl_tree),ks(e,s-3,3)):(Es(e,18,e.bl_tree),ks(e,s-11,7));s=0,r=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4)}};let Bs=!1;const Hs=(e,t,i,n)=>{ks(e,0+(n?1:0),3),zs(e),xs(e,i),xs(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var Os=(e,t,i,n)=>{let o,r,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<os;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Ts(e,e.l_desc),Ts(e,e.d_desc),a=(e=>{let t;for(Rs(e,e.dyn_ltree,e.l_desc.max_code),Rs(e,e.dyn_dtree,e.d_desc.max_code),Ts(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*ds[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=o&&(o=r)):o=r=i+5,i+4<=o&&-1!==t?Hs(e,t,i,n):4===e.strategy||r===o?(ks(e,2+(n?1:0),3),Ms(e,fs,us)):(ks(e,4+(n?1:0),3),((e,t,i,n)=>{let o;for(ks(e,t-257,5),ks(e,i-1,5),ks(e,n-4,4),o=0;o<n;o++)ks(e,e.bl_tree[2*ds[o]+1],3);Ls(e,e.dyn_ltree,t-1),Ls(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Ms(e,e.dyn_ltree,e.dyn_dtree)),Is(e),n&&zs(e)},Ps={_tr_init:e=>{Bs||((()=>{let e,t,i,n,o;const r=new Array(16);for(i=0,n=0;n<28;n++)for(gs[n]=i,e=0;e<1<<cs[n];e++)ms[i++]=n;for(ms[i-1]=n,o=0,n=0;n<16;n++)for(ws[n]=o,e=0;e<1<<ls[n];e++)ps[o++]=n;for(o>>=7;n<as;n++)for(ws[n]=o<<7,e=0;e<1<<ls[n]-7;e++)ps[256+o++]=n;for(t=0;t<=ss;t++)r[t]=0;for(e=0;e<=143;)fs[2*e+1]=8,e++,r[8]++;for(;e<=255;)fs[2*e+1]=9,e++,r[9]++;for(;e<=279;)fs[2*e+1]=7,e++,r[7]++;for(;e<=287;)fs[2*e+1]=8,e++,r[8]++;for(Ss(fs,287,r),e=0;e<as;e++)us[2*e+1]=5,us[2*e]=Ns(e,5);bs=new Fs(fs,cs,257,rs,ss),vs=new Fs(us,ls,0,as,ss),ys=new Fs(new Array(0),hs,0,19,7)})(),Bs=!0),e.l_desc=new _s(e.dyn_ltree,bs),e.d_desc=new _s(e.dyn_dtree,vs),e.bl_desc=new _s(e.bl_tree,ys),e.bi_buf=0,e.bi_valid=0,Is(e)},_tr_stored_block:Hs,_tr_flush_block:Os,_tr_tally:(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(ms[i]+os+1)]++,e.dyn_dtree[2*Cs(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{ks(e,2,3),Es(e,256,fs),(e=>{16===e.bi_valid?(xs(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var qs=(e,t,i,n)=>{let o=65535&e,r=e>>>16&65535,a=0;for(;0!==i;){a=i>2e3?2e3:i,i-=a;do{o=o+t[n++]|0,r=r+o|0}while(--a);o%=65521,r%=65521}return o|r<<16};const Us=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var Vs=(e,t,i,n)=>{const o=Us,r=n+i;e^=-1;for(let i=n;i<r;i++)e=e>>>8^o[255&(e^t[i])];return~e},js={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ws={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Gs,_tr_stored_block:$s,_tr_flush_block:Zs,_tr_tally:Ks,_tr_align:Xs}=Ps,{Z_NO_FLUSH:Ys,Z_PARTIAL_FLUSH:Qs,Z_FULL_FLUSH:Js,Z_FINISH:ec,Z_BLOCK:tc,Z_OK:ic,Z_STREAM_END:nc,Z_STREAM_ERROR:oc,Z_DATA_ERROR:rc,Z_BUF_ERROR:ac,Z_DEFAULT_COMPRESSION:sc,Z_FILTERED:cc,Z_HUFFMAN_ONLY:lc,Z_RLE:hc,Z_FIXED:dc,Z_DEFAULT_STRATEGY:fc,Z_UNKNOWN:uc,Z_DEFLATED:pc}=Ws,mc=258,gc=262,wc=42,Fc=113,bc=666,vc=(e,t)=>(e.msg=js[t],t),yc=e=>2*e-(e>4?9:0),_c=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Cc=e=>{let t,i,n,o=e.w_size;t=e.hash_size,n=t;do{i=e.head[--n],e.head[n]=i>=o?i-o:0}while(--t);t=o,n=t;do{i=e.prev[--n],e.prev[n]=i>=o?i-o:0}while(--t)};let xc=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const kc=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},Ec=(e,t)=>{Zs(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,kc(e.strm)},Nc=(e,t)=>{e.pending_buf[e.pending++]=t},Sc=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ic=(e,t,i,n)=>{let o=e.avail_in;return o>n&&(o=n),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),i),1===e.state.wrap?e.adler=qs(e.adler,t,o,i):2===e.state.wrap&&(e.adler=Vs(e.adler,t,o,i)),e.next_in+=o,e.total_in+=o,o)},zc=(e,t)=>{let i,n,o=e.max_chain_length,r=e.strstart,a=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-gc?e.strstart-(e.w_size-gc):0,l=e.window,h=e.w_mask,d=e.prev,f=e.strstart+mc;let u=l[r+a-1],p=l[r+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(i=t,l[i+a]===p&&l[i+a-1]===u&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<f);if(n=mc-(f-r),r=f-mc,n>a){if(e.match_start=t,a=n,n>=s)break;u=l[r+a-1],p=l[r+a]}}}while((t=d[t&h])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead},Dc=e=>{const t=e.w_size;let i,n,o;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-gc)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Cc(e),n+=t),0===e.strm.avail_in)break;if(i=Ic(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=xc(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=xc(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<gc&&0!==e.strm.avail_in)},Ac=(e,t)=>{let i,n,o,r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(i=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o)break;if(o=e.strm.avail_out-o,n=e.strstart-e.block_start,i>n+e.strm.avail_in&&(i=n+e.strm.avail_in),i>o&&(i=o),i<r&&(0===i&&t!==ec||t===Ys||i!==n+e.strm.avail_in))break;a=t===ec&&i===n+e.strm.avail_in?1:0,$s(e,0,0,a),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,kc(e.strm),n&&(n>i&&(n=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,i-=n),i&&(Ic(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===a);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==Ys&&t!==ec&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(Ic(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,r=o>e.w_size?e.w_size:o,n=e.strstart-e.block_start,(n>=r||(n||t===ec)&&t!==Ys&&0===e.strm.avail_in&&n<=o)&&(i=n>o?o:n,a=t===ec&&0===e.strm.avail_in&&i===n?1:0,$s(e,e.block_start,i,a),e.block_start+=i,kc(e.strm)),a?3:1)},Mc=(e,t)=>{let i,n;for(;;){if(e.lookahead<gc){if(Dc(e),e.lookahead<gc&&t===Ys)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=xc(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-gc&&(e.match_length=zc(e,i)),e.match_length>=3)if(n=Ks(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=xc(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=xc(e,e.ins_h,e.window[e.strstart+1]);else n=Ks(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ec(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ec?(Ec(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ec(e,!1),0===e.strm.avail_out)?1:2},Tc=(e,t)=>{let i,n,o;for(;;){if(e.lookahead<gc){if(Dc(e),e.lookahead<gc&&t===Ys)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=xc(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-gc&&(e.match_length=zc(e,i),e.match_length<=5&&(e.strategy===cc||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,n=Ks(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=xc(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Ec(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Ks(e,0,e.window[e.strstart-1]),n&&Ec(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Ks(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ec?(Ec(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ec(e,!1),0===e.strm.avail_out)?1:2};function Rc(e,t,i,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=o}const Lc=[new Rc(0,0,0,0,Ac),new Rc(4,4,8,4,Mc),new Rc(4,5,16,8,Mc),new Rc(4,6,32,32,Mc),new Rc(4,4,16,16,Tc),new Rc(8,16,32,32,Tc),new Rc(8,16,128,128,Tc),new Rc(8,32,128,256,Tc),new Rc(32,128,258,1024,Tc),new Rc(32,258,258,4096,Tc)];function Bc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),_c(this.dyn_ltree),_c(this.dyn_dtree),_c(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),_c(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),_c(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Hc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==wc&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Fc&&t.status!==bc?1:0},Oc=e=>{if(Hc(e))return vc(e,oc);e.total_in=e.total_out=0,e.data_type=uc;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?wc:Fc,e.adler=2===t.wrap?0:1,t.last_flush=-2,Gs(t),ic},Pc=e=>{const t=Oc(e);var i;return t===ic&&((i=e.state).window_size=2*i.w_size,_c(i.head),i.max_lazy_match=Lc[i.level].max_lazy,i.good_match=Lc[i.level].good_length,i.nice_match=Lc[i.level].nice_length,i.max_chain_length=Lc[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},qc=(e,t,i,n,o,r)=>{if(!e)return oc;let a=1;if(t===sc&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>9||i!==pc||n<8||n>15||t<0||t>9||r<0||r>dc||8===n&&1!==a)return vc(e,oc);8===n&&(n=9);const s=new Bc;return e.state=s,s.strm=e,s.status=wc,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=r,s.method=i,Pc(e)};var Uc=(e,t)=>{let i=t.length;if(Hc(e))return oc;const n=e.state,o=n.wrap;if(2===o||1===o&&n.status!==wc||n.lookahead)return oc;if(1===o&&(e.adler=qs(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===o&&(_c(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const r=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,Dc(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=xc(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Dc(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=r,n.wrap=o,ic},Vc={deflateInit:(e,t)=>qc(e,t,pc,15,8,fc),deflateInit2:qc,deflateReset:Pc,deflateResetKeep:Oc,deflateSetHeader:(e,t)=>Hc(e)||2!==e.state.wrap?oc:(e.state.gzhead=t,ic),deflate:(e,t)=>{if(Hc(e)||t>tc||t<0)return e?vc(e,oc):oc;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===bc&&t!==ec)return vc(e,0===e.avail_out?ac:oc);const n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(kc(e),0===e.avail_out)return i.last_flush=-1,ic}else if(0===e.avail_in&&yc(t)<=yc(n)&&t!==ec)return vc(e,ac);if(i.status===bc&&0!==e.avail_in)return vc(e,ac);if(i.status===wc&&0===i.wrap&&(i.status=Fc),i.status===wc){let t=pc+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=lc||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,Sc(i,t),0!==i.strstart&&(Sc(i,e.adler>>>16),Sc(i,65535&e.adler)),e.adler=1,i.status=Fc,kc(e),0!==i.pending)return i.last_flush=-1,ic}if(57===i.status)if(e.adler=0,Nc(i,31),Nc(i,139),Nc(i,8),i.gzhead)Nc(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Nc(i,255&i.gzhead.time),Nc(i,i.gzhead.time>>8&255),Nc(i,i.gzhead.time>>16&255),Nc(i,i.gzhead.time>>24&255),Nc(i,9===i.level?2:i.strategy>=lc||i.level<2?4:0),Nc(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Nc(i,255&i.gzhead.extra.length),Nc(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Vs(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(Nc(i,0),Nc(i,0),Nc(i,0),Nc(i,0),Nc(i,0),Nc(i,9===i.level?2:i.strategy>=lc||i.level<2?4:0),Nc(i,3),i.status=Fc,kc(e),0!==i.pending)return i.last_flush=-1,ic;if(69===i.status){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let o=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+o),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=Vs(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=o,kc(e),0!==i.pending)return i.last_flush=-1,ic;t=0,n-=o}let o=new Uint8Array(i.gzhead.extra);i.pending_buf.set(o.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=Vs(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=Vs(e.adler,i.pending_buf,i.pending-n,n)),kc(e),0!==i.pending)return i.last_flush=-1,ic;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Nc(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=Vs(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=Vs(e.adler,i.pending_buf,i.pending-n,n)),kc(e),0!==i.pending)return i.last_flush=-1,ic;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Nc(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=Vs(e.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(kc(e),0!==i.pending))return i.last_flush=-1,ic;Nc(i,255&e.adler),Nc(i,e.adler>>8&255),e.adler=0}if(i.status=Fc,kc(e),0!==i.pending)return i.last_flush=-1,ic}if(0!==e.avail_in||0!==i.lookahead||t!==Ys&&i.status!==bc){let n=0===i.level?Ac(i,t):i.strategy===lc?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(Dc(e),0===e.lookahead)){if(t===Ys)return 1;break}if(e.match_length=0,i=Ks(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(Ec(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ec?(Ec(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ec(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===hc?((e,t)=>{let i,n,o,r;const a=e.window;for(;;){if(e.lookahead<=mc){if(Dc(e),e.lookahead<=mc&&t===Ys)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,n=a[o],n===a[++o]&&n===a[++o]&&n===a[++o])){r=e.strstart+mc;do{}while(n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&o<r);e.match_length=mc-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=Ks(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=Ks(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(Ec(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ec?(Ec(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ec(e,!1),0===e.strm.avail_out)?1:2})(i,t):Lc[i.level].func(i,t);if(3!==n&&4!==n||(i.status=bc),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),ic;if(2===n&&(t===Qs?Xs(i):t!==tc&&($s(i,0,0,!1),t===Js&&(_c(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),kc(e),0===e.avail_out))return i.last_flush=-1,ic}return t!==ec?ic:i.wrap<=0?nc:(2===i.wrap?(Nc(i,255&e.adler),Nc(i,e.adler>>8&255),Nc(i,e.adler>>16&255),Nc(i,e.adler>>24&255),Nc(i,255&e.total_in),Nc(i,e.total_in>>8&255),Nc(i,e.total_in>>16&255),Nc(i,e.total_in>>24&255)):(Sc(i,e.adler>>>16),Sc(i,65535&e.adler)),kc(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ic:nc)},deflateEnd:e=>{if(Hc(e))return oc;const t=e.state.status;return e.state=null,t===Fc?vc(e,rc):ic},deflateSetDictionary:Uc,deflateInfo:"pako deflate (from Nodeca project)"};const jc=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Wc=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)jc(i,t)&&(e[t]=i[t])}}return e},Gc=e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,o=e.length;t<o;t++){let o=e[t];i.set(o,n),n+=o.length}return i};let $c=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Dk){$c=!1}const Zc=new Uint8Array(256);for(let Ak=0;Ak<256;Ak++)Zc[Ak]=Ak>=252?6:Ak>=248?5:Ak>=240?4:Ak>=224?3:Ak>=192?2:1;Zc[254]=Zc[254]=1;var Kc=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,o,r,a=e.length,s=0;for(o=0;o<a;o++)i=e.charCodeAt(o),55296==(64512&i)&&o+1<a&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),o++)),s+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(s),r=0,o=0;r<s;o++)i=e.charCodeAt(o),55296==(64512&i)&&o+1<a&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),o++)),i<128?t[r++]=i:i<2048?(t[r++]=192|i>>>6,t[r++]=128|63&i):i<65536?(t[r++]=224|i>>>12,t[r++]=128|i>>>6&63,t[r++]=128|63&i):(t[r++]=240|i>>>18,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63,t[r++]=128|63&i);return t},Xc=(e,t)=>{const i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,o;const r=new Array(2*i);for(o=0,n=0;n<i;){let t=e[n++];if(t<128){r[o++]=t;continue}let a=Zc[t];if(a>4)r[o++]=65533,n+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&n<i;)t=t<<6|63&e[n++],a--;a>1?r[o++]=65533:t<65536?r[o++]=t:(t-=65536,r[o++]=55296|t>>10&1023,r[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&$c)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(r,o)},Yc=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+Zc[e[i]]>t?i:t};var Qc=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Jc=Object.prototype.toString,{Z_NO_FLUSH:el,Z_SYNC_FLUSH:tl,Z_FULL_FLUSH:il,Z_FINISH:nl,Z_OK:ol,Z_STREAM_END:rl,Z_DEFAULT_COMPRESSION:al,Z_DEFAULT_STRATEGY:sl,Z_DEFLATED:cl}=Ws;function ll(e){this.options=Wc({level:al,method:cl,chunkSize:16384,windowBits:15,memLevel:8,strategy:sl},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qc,this.strm.avail_out=0;let i=Vc.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==ol)throw new Error(js[i]);if(t.header&&Vc.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Kc(t.dictionary):"[object ArrayBuffer]"===Jc.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=Vc.deflateSetDictionary(this.strm,e),i!==ol)throw new Error(js[i]);this._dict_set=!0}}function hl(e,t){const i=new ll(t);if(i.push(e,!0),i.err)throw i.msg||js[i.err];return i.result}ll.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let o,r;if(this.ended)return!1;for(r=t===~~t?t:!0===t?nl:el,"string"==typeof e?i.input=Kc(e):"[object ArrayBuffer]"===Jc.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(r===tl||r===il)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(o=Vc.deflate(i,r),o===rl)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),o=Vc.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===ol;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},ll.prototype.onData=function(e){this.chunks.push(e)},ll.prototype.onEnd=function(e){e===ol&&(this.result=Gc(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var dl=function(e,t){return(t=t||{}).raw=!0,hl(e,t)},fl=function(e,t){return(t=t||{}).gzip=!0,hl(e,t)},ul={Deflate:ll,deflate:hl,deflateRaw:dl,gzip:fl,constants:Ws};const pl=16209;var ml=function(e,t){let i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b,v,y,_,C,x,k;const E=e.state;i=e.next_in,x=e.input,n=i+(e.avail_in-5),o=e.next_out,k=e.output,r=o-(t-e.avail_out),a=o+(e.avail_out-257),s=E.dmax,c=E.wsize,l=E.whave,h=E.wnext,d=E.window,f=E.hold,u=E.bits,p=E.lencode,m=E.distcode,g=(1<<E.lenbits)-1,w=(1<<E.distbits)-1;e:do{u<15&&(f+=x[i++]<<u,u+=8,f+=x[i++]<<u,u+=8),F=p[f&g];t:for(;;){if(b=F>>>24,f>>>=b,u-=b,b=F>>>16&255,0===b)k[o++]=65535&F;else{if(!(16&b)){if(64&b){if(32&b){E.mode=16191;break e}e.msg="invalid literal/length code",E.mode=pl;break e}F=p[(65535&F)+(f&(1<<b)-1)];continue t}for(v=65535&F,b&=15,b&&(u<b&&(f+=x[i++]<<u,u+=8),v+=f&(1<<b)-1,f>>>=b,u-=b),u<15&&(f+=x[i++]<<u,u+=8,f+=x[i++]<<u,u+=8),F=m[f&w];;){if(b=F>>>24,f>>>=b,u-=b,b=F>>>16&255,16&b){if(y=65535&F,b&=15,u<b&&(f+=x[i++]<<u,u+=8,u<b&&(f+=x[i++]<<u,u+=8)),y+=f&(1<<b)-1,y>s){e.msg="invalid distance too far back",E.mode=pl;break e}if(f>>>=b,u-=b,b=o-r,y>b){if(b=y-b,b>l&&E.sane){e.msg="invalid distance too far back",E.mode=pl;break e}if(_=0,C=d,0===h){if(_+=c-b,b<v){v-=b;do{k[o++]=d[_++]}while(--b);_=o-y,C=k}}else if(h<b){if(_+=c+h-b,b-=h,b<v){v-=b;do{k[o++]=d[_++]}while(--b);if(_=0,h<v){b=h,v-=b;do{k[o++]=d[_++]}while(--b);_=o-y,C=k}}}else if(_+=h-b,b<v){v-=b;do{k[o++]=d[_++]}while(--b);_=o-y,C=k}for(;v>2;)k[o++]=C[_++],k[o++]=C[_++],k[o++]=C[_++],v-=3;v&&(k[o++]=C[_++],v>1&&(k[o++]=C[_++]))}else{_=o-y;do{k[o++]=k[_++],k[o++]=k[_++],k[o++]=k[_++],v-=3}while(v>2);v&&(k[o++]=k[_++],v>1&&(k[o++]=k[_++]))}break}if(64&b){e.msg="invalid distance code",E.mode=pl;break e}F=m[(65535&F)+(f&(1<<b)-1)]}}break}}while(i<n&&o<a);v=u>>3,i-=v,u-=v<<3,f&=(1<<u)-1,e.next_in=i,e.next_out=o,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=o<a?a-o+257:257-(o-a),E.hold=f,E.bits=u};const gl=15,wl=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Fl=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bl=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vl=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var yl=(e,t,i,n,o,r,a,s)=>{const c=s.bits;let l,h,d,f,u,p,m=0,g=0,w=0,F=0,b=0,v=0,y=0,_=0,C=0,x=0,k=null;const E=new Uint16Array(16),N=new Uint16Array(16);let S,I,z,D=null;for(m=0;m<=gl;m++)E[m]=0;for(g=0;g<n;g++)E[t[i+g]]++;for(b=c,F=gl;F>=1&&0===E[F];F--);if(b>F&&(b=F),0===F)return o[r++]=20971520,o[r++]=20971520,s.bits=1,0;for(w=1;w<F&&0===E[w];w++);for(b<w&&(b=w),_=1,m=1;m<=gl;m++)if(_<<=1,_-=E[m],_<0)return-1;if(_>0&&(0===e||1!==F))return-1;for(N[1]=0,m=1;m<gl;m++)N[m+1]=N[m]+E[m];for(g=0;g<n;g++)0!==t[i+g]&&(a[N[t[i+g]]++]=g);if(0===e?(k=D=a,p=20):1===e?(k=wl,D=Fl,p=257):(k=bl,D=vl,p=0),x=0,g=0,m=w,u=r,v=b,y=0,d=-1,C=1<<b,f=C-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){S=m-y,a[g]+1<p?(I=0,z=a[g]):a[g]>=p?(I=D[a[g]-p],z=k[a[g]-p]):(I=96,z=0),l=1<<m-y,h=1<<v,w=h;do{h-=l,o[u+(x>>y)+h]=S<<24|I<<16|z}while(0!==h);for(l=1<<m-1;x&l;)l>>=1;if(0!==l?(x&=l-1,x+=l):x=0,g++,0==--E[m]){if(m===F)break;m=t[i+a[g]]}if(m>b&&(x&f)!==d){for(0===y&&(y=b),u+=w,v=m-y,_=1<<v;v+y<F&&(_-=E[v+y],!(_<=0));)v++,_<<=1;if(C+=1<<v,1===e&&C>852||2===e&&C>592)return 1;d=x&f,o[d]=b<<24|v<<16|u-r}}return 0!==x&&(o[u+x]=m-y<<24|64<<16),s.bits=b,0};const{Z_FINISH:_l,Z_BLOCK:Cl,Z_TREES:xl,Z_OK:kl,Z_STREAM_END:El,Z_NEED_DICT:Nl,Z_STREAM_ERROR:Sl,Z_DATA_ERROR:Il,Z_MEM_ERROR:zl,Z_BUF_ERROR:Dl,Z_DEFLATED:Al}=Ws,Ml=16180,Tl=16190,Rl=16191,Ll=16192,Bl=16194,Hl=16199,Ol=16200,Pl=16206,ql=16209,Ul=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Vl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jl=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Ml||t.mode>16211?1:0},Wl=e=>{if(jl(e))return Sl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Ml,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,kl},Gl=e=>{if(jl(e))return Sl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Wl(e)},$l=(e,t)=>{let i;if(jl(e))return Sl;const n=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Sl:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,Gl(e))},Zl=(e,t)=>{if(!e)return Sl;const i=new Vl;e.state=i,i.strm=e,i.window=null,i.mode=Ml;const n=$l(e,t);return n!==kl&&(e.state=null),n};let Kl,Xl,Yl=!0;const Ql=e=>{if(Yl){Kl=new Int32Array(512),Xl=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(yl(1,e.lens,0,288,Kl,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;yl(2,e.lens,0,32,Xl,0,e.work,{bits:5}),Yl=!1}e.lencode=Kl,e.lenbits=9,e.distcode=Xl,e.distbits=5},Jl=(e,t,i,n)=>{let o;const r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(t.subarray(i-r.wsize,i),0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>n&&(o=n),r.window.set(t.subarray(i-n,i-n+o),r.wnext),(n-=o)?(r.window.set(t.subarray(i-n,i),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0};var eh=(e,t)=>{let i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b,v,y,_,C,x=0;const k=new Uint8Array(4);let E,N;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jl(e)||!e.output||!e.input&&0!==e.avail_in)return Sl;i=e.state,i.mode===Rl&&(i.mode=Ll),a=e.next_out,o=e.output,c=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,h=i.bits,d=s,f=c,C=kl;e:for(;;)switch(i.mode){case Ml:if(0===i.wrap){i.mode=Ll;break}for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(2&i.wrap&&35615===l){0===i.wbits&&(i.wbits=15),i.check=0,k[0]=255&l,k[1]=l>>>8&255,i.check=Vs(i.check,k,2,0),l=0,h=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",i.mode=ql;break}if((15&l)!==Al){e.msg="unknown compression method",i.mode=ql;break}if(l>>>=4,h-=4,_=8+(15&l),0===i.wbits&&(i.wbits=_),_>15||_>i.wbits){e.msg="invalid window size",i.mode=ql;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&l?16189:Rl,l=0,h=0;break;case 16181:for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(i.flags=l,(255&i.flags)!==Al){e.msg="unknown compression method",i.mode=ql;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=ql;break}i.head&&(i.head.text=l>>8&1),512&i.flags&&4&i.wrap&&(k[0]=255&l,k[1]=l>>>8&255,i.check=Vs(i.check,k,2,0)),l=0,h=0,i.mode=16182;case 16182:for(;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.head&&(i.head.time=l),512&i.flags&&4&i.wrap&&(k[0]=255&l,k[1]=l>>>8&255,k[2]=l>>>16&255,k[3]=l>>>24&255,i.check=Vs(i.check,k,4,0)),l=0,h=0,i.mode=16183;case 16183:for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.head&&(i.head.xflags=255&l,i.head.os=l>>8),512&i.flags&&4&i.wrap&&(k[0]=255&l,k[1]=l>>>8&255,i.check=Vs(i.check,k,2,0)),l=0,h=0,i.mode=16184;case 16184:if(1024&i.flags){for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.length=l,i.head&&(i.head.extra_len=l),512&i.flags&&4&i.wrap&&(k[0]=255&l,k[1]=l>>>8&255,i.check=Vs(i.check,k,2,0)),l=0,h=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(u=i.length,u>s&&(u=s),u&&(i.head&&(_=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(r,r+u),_)),512&i.flags&&4&i.wrap&&(i.check=Vs(i.check,n,u,r)),s-=u,r+=u,i.length-=u),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===s)break e;u=0;do{_=n[r+u++],i.head&&_&&i.length<65536&&(i.head.name+=String.fromCharCode(_))}while(_&&u<s);if(512&i.flags&&4&i.wrap&&(i.check=Vs(i.check,n,u,r)),s-=u,r+=u,_)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===s)break e;u=0;do{_=n[r+u++],i.head&&_&&i.length<65536&&(i.head.comment+=String.fromCharCode(_))}while(_&&u<s);if(512&i.flags&&4&i.wrap&&(i.check=Vs(i.check,n,u,r)),s-=u,r+=u,_)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(4&i.wrap&&l!==(65535&i.check)){e.msg="header crc mismatch",i.mode=ql;break}l=0,h=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=Rl;break;case 16189:for(;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}e.adler=i.check=Ul(l),l=0,h=0,i.mode=Tl;case Tl:if(0===i.havedict)return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=h,Nl;e.adler=i.check=1,i.mode=Rl;case Rl:if(t===Cl||t===xl)break e;case Ll:if(i.last){l>>>=7&h,h-=7&h,i.mode=Pl;break}for(;h<3;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}switch(i.last=1&l,l>>>=1,h-=1,3&l){case 0:i.mode=16193;break;case 1:if(Ql(i),i.mode=Hl,t===xl){l>>>=2,h-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg="invalid block type",i.mode=ql}l>>>=2,h-=2;break;case 16193:for(l>>>=7&h,h-=7&h;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",i.mode=ql;break}if(i.length=65535&l,l=0,h=0,i.mode=Bl,t===xl)break e;case Bl:i.mode=16195;case 16195:if(u=i.length,u){if(u>s&&(u=s),u>c&&(u=c),0===u)break e;o.set(n.subarray(r,r+u),a),s-=u,r+=u,c-=u,a+=u,i.length-=u;break}i.mode=Rl;break;case 16196:for(;h<14;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(i.nlen=257+(31&l),l>>>=5,h-=5,i.ndist=1+(31&l),l>>>=5,h-=5,i.ncode=4+(15&l),l>>>=4,h-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=ql;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;h<3;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.lens[S[i.have++]]=7&l,l>>>=3,h-=3}for(;i.have<19;)i.lens[S[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,E={bits:i.lenbits},C=yl(0,i.lens,0,19,i.lencode,0,i.work,E),i.lenbits=E.bits,C){e.msg="invalid code lengths set",i.mode=ql;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;x=i.lencode[l&(1<<i.lenbits)-1],g=x>>>24,w=x>>>16&255,F=65535&x,!(g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(F<16)l>>>=g,h-=g,i.lens[i.have++]=F;else{if(16===F){for(N=g+2;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(l>>>=g,h-=g,0===i.have){e.msg="invalid bit length repeat",i.mode=ql;break}_=i.lens[i.have-1],u=3+(3&l),l>>>=2,h-=2}else if(17===F){for(N=g+3;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=g,h-=g,_=0,u=3+(7&l),l>>>=3,h-=3}else{for(N=g+7;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=g,h-=g,_=0,u=11+(127&l),l>>>=7,h-=7}if(i.have+u>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=ql;break}for(;u--;)i.lens[i.have++]=_}}if(i.mode===ql)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=ql;break}if(i.lenbits=9,E={bits:i.lenbits},C=yl(1,i.lens,0,i.nlen,i.lencode,0,i.work,E),i.lenbits=E.bits,C){e.msg="invalid literal/lengths set",i.mode=ql;break}if(i.distbits=6,i.distcode=i.distdyn,E={bits:i.distbits},C=yl(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,E),i.distbits=E.bits,C){e.msg="invalid distances set",i.mode=ql;break}if(i.mode=Hl,t===xl)break e;case Hl:i.mode=Ol;case Ol:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=h,ml(e,f),a=e.next_out,o=e.output,c=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,h=i.bits,i.mode===Rl&&(i.back=-1);break}for(i.back=0;x=i.lencode[l&(1<<i.lenbits)-1],g=x>>>24,w=x>>>16&255,F=65535&x,!(g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(w&&!(240&w)){for(b=g,v=w,y=F;x=i.lencode[y+((l&(1<<b+v)-1)>>b)],g=x>>>24,w=x>>>16&255,F=65535&x,!(b+g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=b,h-=b,i.back+=b}if(l>>>=g,h-=g,i.back+=g,i.length=F,0===w){i.mode=16205;break}if(32&w){i.back=-1,i.mode=Rl;break}if(64&w){e.msg="invalid literal/length code",i.mode=ql;break}i.extra=15&w,i.mode=16201;case 16201:if(i.extra){for(N=i.extra;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.length+=l&(1<<i.extra)-1,l>>>=i.extra,h-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;x=i.distcode[l&(1<<i.distbits)-1],g=x>>>24,w=x>>>16&255,F=65535&x,!(g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(!(240&w)){for(b=g,v=w,y=F;x=i.distcode[y+((l&(1<<b+v)-1)>>b)],g=x>>>24,w=x>>>16&255,F=65535&x,!(b+g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=b,h-=b,i.back+=b}if(l>>>=g,h-=g,i.back+=g,64&w){e.msg="invalid distance code",i.mode=ql;break}i.offset=F,i.extra=15&w,i.mode=16203;case 16203:if(i.extra){for(N=i.extra;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.offset+=l&(1<<i.extra)-1,l>>>=i.extra,h-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=ql;break}i.mode=16204;case 16204:if(0===c)break e;if(u=f-c,i.offset>u){if(u=i.offset-u,u>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=ql;break}u>i.wnext?(u-=i.wnext,p=i.wsize-u):p=i.wnext-u,u>i.length&&(u=i.length),m=i.window}else m=o,p=a-i.offset,u=i.length;u>c&&(u=c),c-=u,i.length-=u;do{o[a++]=m[p++]}while(--u);0===i.length&&(i.mode=Ol);break;case 16205:if(0===c)break e;o[a++]=i.length,c--,i.mode=Ol;break;case Pl:if(i.wrap){for(;h<32;){if(0===s)break e;s--,l|=n[r++]<<h,h+=8}if(f-=c,e.total_out+=f,i.total+=f,4&i.wrap&&f&&(e.adler=i.check=i.flags?Vs(i.check,o,f,a-f):qs(i.check,o,f,a-f)),f=c,4&i.wrap&&(i.flags?l:Ul(l))!==i.check){e.msg="incorrect data check",i.mode=ql;break}l=0,h=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(4&i.wrap&&l!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=ql;break}l=0,h=0}i.mode=16208;case 16208:C=El;break e;case ql:C=Il;break e;case 16210:return zl;default:return Sl}return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=h,(i.wsize||f!==e.avail_out&&i.mode<ql&&(i.mode<Pl||t!==_l))&&Jl(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,i.total+=f,4&i.wrap&&f&&(e.adler=i.check=i.flags?Vs(i.check,o,f,e.next_out-f):qs(i.check,o,f,e.next_out-f)),e.data_type=i.bits+(i.last?64:0)+(i.mode===Rl?128:0)+(i.mode===Hl||i.mode===Bl?256:0),(0===d&&0===f||t===_l)&&C===kl&&(C=Dl),C},th={inflateReset:Gl,inflateReset2:$l,inflateResetKeep:Wl,inflateInit:e=>Zl(e,15),inflateInit2:Zl,inflate:eh,inflateEnd:e=>{if(jl(e))return Sl;let t=e.state;return t.window&&(t.window=null),e.state=null,kl},inflateGetHeader:(e,t)=>{if(jl(e))return Sl;const i=e.state;return 2&i.wrap?(i.head=t,t.done=!1,kl):Sl},inflateSetDictionary:(e,t)=>{const i=t.length;let n,o,r;return jl(e)?Sl:(n=e.state,0!==n.wrap&&n.mode!==Tl?Sl:n.mode===Tl&&(o=1,o=qs(o,t,i,0),o!==n.check)?Il:(r=Jl(e,t,i,i),r?(n.mode=16210,zl):(n.havedict=1,kl)))},inflateInfo:"pako inflate (from Nodeca project)"};var ih=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const nh=Object.prototype.toString,{Z_NO_FLUSH:oh,Z_FINISH:rh,Z_OK:ah,Z_STREAM_END:sh,Z_NEED_DICT:ch,Z_STREAM_ERROR:lh,Z_DATA_ERROR:hh,Z_MEM_ERROR:dh}=Ws;function fh(e){this.options=Wc({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qc,this.strm.avail_out=0;let i=th.inflateInit2(this.strm,t.windowBits);if(i!==ah)throw new Error(js[i]);if(this.header=new ih,th.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Kc(t.dictionary):"[object ArrayBuffer]"===nh.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=th.inflateSetDictionary(this.strm,t.dictionary),i!==ah)))throw new Error(js[i])}function uh(e,t){const i=new fh(t);if(i.push(e),i.err)throw i.msg||js[i.err];return i.result}fh.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let r,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?rh:oh,"[object ArrayBuffer]"===nh.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),r=th.inflate(i,a),r===ch&&o&&(r=th.inflateSetDictionary(i,o),r===ah?r=th.inflate(i,a):r===hh&&(r=ch));i.avail_in>0&&r===sh&&i.state.wrap>0&&0!==e[i.next_in];)th.inflateReset(i),r=th.inflate(i,a);switch(r){case lh:case hh:case ch:case dh:return this.onEnd(r),this.ended=!0,!1}if(s=i.avail_out,i.next_out&&(0===i.avail_out||r===sh))if("string"===this.options.to){let e=Yc(i.output,i.next_out),t=i.next_out-e,o=Xc(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(o)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==ah||0!==s){if(r===sh)return r=th.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},fh.prototype.onData=function(e){this.chunks.push(e)},fh.prototype.onEnd=function(e){e===ah&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Gc(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ph=function(e,t){return(t=t||{}).raw=!0,uh(e,t)},mh={Inflate:fh,inflate:uh,inflateRaw:ph,ungzip:uh,constants:Ws};const{Deflate:gh,deflate:wh,deflateRaw:Fh,gzip:bh}=ul,{Inflate:vh,inflate:yh,inflateRaw:_h,ungzip:Ch}=mh;var xh=Fh,kh=yh,Eh=_h,Nh=Ch;function Sh(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 31===t[0]&&139===t[1]}function Ih(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 0!==(4&t[3])&&66===t[12]&&67===t[13]?zh(t.buffer):Nh(t)}function zh(e,t){const i=[];let n=0,o=0;for(t=t||e.byteLength-18;n<t;)try{const t=ArrayBuffer.isView(e)?e:new Uint8Array(e,n,18),r=t[11]<<8|t[10],a=(t[3],t[12],t[13],t[15],t[14],1+(t[17]<<8|t[16])),s=12+r+n,c=e.byteLength-s,l=a-r-19;if(c<l||l<=0)break;const h=new Uint8Array(e,s,l),d=Eh(h);n+=l-1+26,o+=d.byteLength,i.push(d)}catch(e){console.error(e);break}if(1===i.length)return i[0];{const e=new Uint8Array(o);let t=0;for(let n=0;n<i.length;++n){var r=new Uint8Array(i[n]);Mh(r,0,e,t,r.length),t+=r.length}return e}}function Dh(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 1+(t[17]<<8|t[16])}const Ah="function"==typeof new Uint8Array(1).subarray;function Mh(e,t,i,n,o){if(0!==o){if(!e)throw"Undef src";if(!i)throw"Undef dest";0===t&&o===e.length?Th(e,i,n):Ah?Th(e.subarray(t,t+o),i,n):1===e.BYTES_PER_ELEMENT&&o>100?Th(new Uint8Array(e.buffer,e.byteOffset+t,o),i,n):function(e,t,i,n,o){for(let r=0;r<o;++r)i[n+r]=e[t+r]}(e,t,i,n,o)}}function Th(e,t,i){t.set(e,i)}function Rh(e,t){const i=e.split(","),n=i[0].split(":")[1];let o=i[1];if(n.indexOf("base64")>=0){o=atob(o);const e=new Uint8Array(o.length);for(let t=0;t<o.length;t++)e[t]=o.charCodeAt(t);let i;return i=t||n.indexOf("gzip")>0?Nh(e):e,i}return decodeURIComponent(o)}const Lh=function(e,t){if(0!==e.length){var i=Math.floor(e.length*((100-t)/100));return 0===i?(e.sort((function(e,t){return t-e})),e[i]):function(e,t){var i,n=new Oh;for(i=0;i<e.length;i++){var o=e[i];(n.content.length<t||o>n.content[0])&&(n.content.length===t&&n.pop(),n.push(o))}return n.content[0]}(e,i)}},Bh=function(e,t,i){return Math.min(Math.max(e,t),i)},Hh=function(e){return Math.log(e)/Math.LN2};function Oh(){this.content=[]}function Ph(e,t){return Math.random()*(t-e)+e}Oh.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,i=0;i<t;i++)if(this.content[i]===e){var n=this.content.pop();if(i===t-1)break;this.content[i]=n,this.bubbleUp(i),this.sinkDown(i);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],i=t;e>0;){var n=Math.floor((e+1)/2)-1,o=this.content[n];if(i>=o)break;this.content[n]=t,this.content[e]=o,e=n}},sinkDown:function(e){for(var t=this.content.length,i=this.content[e],n=i;;){var o=2*(e+1),r=o-1,a=null;if(r<t){var s=this.content[r],c=s;s<n&&(a=r)}if(o<t)this.content[o]<(null==a?n:c)&&(a=o);if(null==a)break;this.content[e]=this.content[a],this.content[a]=i,e=a}}};const qh={rgbListFromHSV:()=>{let e=[];for(let t=1;t>=.5;t-=.1)for(let i=0;i<1;i+=1/28){const n="rgb("+qh.hsvToRgb(i,1,t).join(",")+")";e.push(n)}return e.pop(),e.push(qh.rgbColor(16,16,16)),e},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(null!==t)return"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+")"},hsvToRgb:function(e,t,i){var n,o,r,a=Math.floor(6*e),s=6*e-a,c=i*(1-t),l=i*(1-s*t),h=i*(1-(1-s)*t);switch(a%6){case 0:n=i,o=h,r=c;break;case 1:n=l,o=i,r=c;break;case 2:n=c,o=i,r=h;break;case 3:n=c,o=l,r=i;break;case 4:n=h,o=c,r=i;break;case 5:n=i,o=c,r=l}return[Math.floor(255*n),Math.floor(255*o),Math.floor(255*r)]},hslToRgb:function(e,t,i){var n,o,r;if(0===t)n=o=r=i;else{var a=i<.5?i*(1+t):i+t-i*t,s=2*i-a;n=qh.hue2rgb(s,a,e+1/3),o=qh.hue2rgb(s,a,e),r=qh.hue2rgb(s,a,e-1/3)}return[255*n,255*o,255*r]},hue2rgb:(e,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e),rgbaColor:function(e,t,i,n){return"rgba("+(e=Bh(e,0,255))+","+(t=Bh(t,0,255))+","+(i=Bh(i,0,255))+","+(n=Bh(n,0,1))+")"},rgbColor:function(e,t,i){return"rgb("+(e=Bh(e,0,255))+","+(t=Bh(t,0,255))+","+(i=Bh(i,0,255))+")"},greyScale:function(e){var t=Bh(e,0,255);return"rgb("+t+","+t+","+t+")"},randomGrey:function(e,t){e=Bh(e,0,255),t=Bh(t,0,255);var i=Math.round(Ph(e,t)).toString(10);return"rgb("+i+","+i+","+i+")"},randomRGB:function(e,t){return e=Bh(e,0,255),t=Bh(t,0,255),"rgb("+Math.round(Ph(e,t)).toString(10)+","+Math.round(Ph(e,t)).toString(10)+","+Math.round(Ph(e,t)).toString(10)+")"},randomRGBConstantAlpha:function(e,t,i){return e=Bh(e,0,255),t=Bh(t,0,255),"rgba("+Math.round(Ph(e,t)).toString(10)+","+Math.round(Ph(e,t)).toString(10)+","+Math.round(Ph(e,t)).toString(10)+","+i+")"},addAlpha:function(e,t){if("0"===e||"."===e)e="rgb(0,0,0)";else{const t=this.colorNameToHex(e);t&&(e=t)}var i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);if(e.startsWith("rgba")){const i=e.lastIndexOf(",");return e.substring(0,i+1)+t.toString()+")"}return i&&(e=qh.hexToRgb(e)),e.startsWith("rgb")?e.replace("rgb","rgba").replace(")",", "+t+")"):(console.log(e+" is not an rgb style string"),e)},rgbComponents:function(e){if("0"===e||"."===e)return[0,0,0];if(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e))e=qh.hexToRgb(e);else if(!e.startsWith("rgb")){const t=this.colorNameToHex(e);e=this.hexToRgb(t)}if(e.startsWith("rgb("))return e.substring(4,e.length-1).split(",").map((e=>Number.parseInt(e.trim())));if(e.startsWith("rgba("))return e.substring(5,e.length-1).split(",").map(((e,t)=>(e=e.trim(),3===t?Number.parseFloat(e):Number.parseInt(e))));throw Error("Unrecognized color string: color")},getCompositeColor:function(e,t,i){return"rgb("+Math.floor(i*t[0]+(1-i)*e[0])+","+Math.floor(i*t[1]+(1-i)*e[1])+","+Math.floor(i*t[2]+(1-i)*e[2])+")"},createColorString:function(e){const t=this.createColorStringSafe(e);return t||e},createColorStringSafe:function(e){if((e=function(e){return void 0===e||((e.startsWith("'")||e.startsWith('"'))&&(e=e.substring(1)),(e.endsWith("'")||e.endsWith('"'))&&(e=e.substring(0,e.length-1))),e}(e)).startsWith("rgb(")&&e.endsWith(")"))return e;if(e.startsWith("#")&&e.length<8)return e;const t=this.colorNameToHex(e);if(t)return t;const i=e.split(",");return 3===i.length&&Uh(i[0])&&Uh(i[1])&&Uh(i[2])?`rgb(${e})`:void 0},darkenLighten:function(e,t){let i,n=this.colorNameToHex(e);i=n?qh.hexToRgb(n):e.startsWith("rgb(")?e:qh.hexToRgb(e);const o=i.replace(")","").substring(4).split(","),r=Math.max(0,Math.min(255,Number.parseInt(o[0].trim())+t)),a=Math.max(0,Math.min(255,Number.parseInt(o[1].trim())+t)),s=Math.max(0,Math.min(255,Number.parseInt(o[2].trim())+t));return"rgb("+r.toString()+","+a.toString()+","+s.toString()+")"},colorNameToHex:function(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[e]}};function Uh(e){const t=Number.parseInt(e);return!Number.isNaN(t)&&t>=0&&t<=255}const Vh="googleapis";class jh{constructor(){this.oauthTokens={}}setToken(e,t){t=t||Vh,this.oauthTokens[t]=e}getToken(e){let t;e=e||Vh;for(let i of Object.keys(this.oauthTokens)){if(Wh(i).test(e)){t=this.oauthTokens[i];break}}return t}removeToken(e){e=e||Vh;for(let t of Object.keys(this.oauthTokens)){Wh(t).test(e)&&(this.oauthTokens[t]=void 0)}}}function Wh(e){return new RegExp("^"+e.split(/\*+/).map(Gh).join(".*")+"$")}function Gh(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function $h(e){return e.includes("googleapis")&&!e.includes("urlshortener")||Zh(e)||Kh(e)}function Zh(e){return e.startsWith("gs://")||e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")}function Kh(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0}function Xh(e){let{bucket:t,object:i}=function(e){let t,i;if(e.startsWith("gs://")){const n=e.indexOf("/",5);if(n>=0){t=e.substring(5,n);const o=e.indexOf("?");i=o<0?e.substring(n+1):e.substring(n+1,o)}}else if(e.startsWith("https://storage.googleapis.com")||e.startsWith("https://storage.cloud.google.com")){const n=e.indexOf("/v1/b/",8);if(n>0){const o=e.indexOf("/o/",n);if(o>0){const r=e.indexOf("?",o);t=e.substring(n+6,o),i=r>0?e.substring(o+3,r):e.substring(o+3)}}else{const n=e.indexOf("/",8),o=e.indexOf("/",n+1),r=e.indexOf("?",o);o>0&&(t=e.substring(n+1,o),i=r<0?e.substring(o+1):e.substring(o+1,r))}}else if(e.startsWith("https://www.googleapis.com/storage/v1/b")){const n=e.indexOf("/v1/b/",8),o=e.indexOf("/o/",n);if(o>0){const r=e.indexOf("?",o);t=e.substring(n+6,o),i=r>0?e.substring(o+3,r):e.substring(o+3)}}if(t&&i)return{bucket:t,object:i};throw Error(`Unrecognized Google Storage URI: ${e}`)}(e);i=function(e){let t="";return e.split("").forEach((function(e){Yh.has(e)?t+=Yh.get(e):t+=e})),t}(i);const n=e.indexOf("?");return`https://storage.googleapis.com/storage/v1/b/${t}/o/${i}${n>0?e.substring(n)+"&alt=media":"?alt=media"}`}const Yh=new Map;function Qh(){return window.google&&window.google.igv}async function Jh(e){if(!Qh())throw Error("Google oAuth has not been initialized");if(google.igv.tokenResponse&&Date.now()<google.igv.tokenExpiresAt&&google.accounts.oauth2.hasGrantedAllScopes(google.igv.tokenResponse,e))return google.igv.tokenResponse.access_token;{const t=google.igv.tokenClient;return new Promise(((i,n)=>{try{t.callback=e=>{void 0!==e.error&&n(e),google.igv.tokenResponse=e,google.igv.tokenExpiresAt=Date.now()+1e3*e.expires_in,i(e.access_token)},t.requestAccessToken({scope:e})}catch(e){console.log(e)}}))}}function ed(){return google.igv.apiKey}function td(e){var t=id(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e}function id(e){if(e.includes("/open?id=")){const t=e.indexOf("/open?id=")+9,i=e.indexOf("&");if(t>0&&i>t)return e.substring(t,i);if(t>0)return e.substring(t)}else{if(e.includes("/file/d/")){const t=e.indexOf("/file/d/")+8,i=e.lastIndexOf("/");return e.substring(t,i)}if(e.startsWith("https://www.googleapis.com/drive")){let t=e.indexOf("/files/");const i=e.indexOf("?");if(t>0)return t+=7,i>0?e.substring(t,i):e.substring(t)}}throw Error("Unknown Google Drive url format: "+e)}Yh.set("!","%21"),Yh.set("#","%23"),Yh.set("$","%24"),Yh.set("%","%25"),Yh.set("&","%26"),Yh.set("'","%27"),Yh.set("(","%28"),Yh.set(")","%29"),Yh.set("*","%2A"),Yh.set("+","%2B"),Yh.set(",","%2C"),Yh.set("/","%2F"),Yh.set(":","%3A"),Yh.set(";","%3B"),Yh.set("=","%3D"),Yh.set("?","%3F"),Yh.set("@","%40"),Yh.set("[","%5B"),Yh.set("]","%5D"),Yh.set(" ","%20");class nd{constructor(e){this.requestsPerSecond=e.requestsPerSecond||10,this.lastStartTime=0,this.queued=[]}add(e,t){var i=this;return new Promise((function(t,n){i.queued.push({resolve:t,reject:n,asyncFunction:e}),i.dequeue()}))}addAll(e,t){var i=e.map(function(e){return this.add(e,t)}.bind(this));return Promise.all(i)}dequeue(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond+1,i=e-this.lastStartTime;i>=t?this._execute():setTimeout(function(){this.dequeue()}.bind(this),t-i)}}async _execute(){this.lastStartTime=new Date;var e=this.queued.shift();const t=e.asyncFunction;try{const i=await t();e.resolve(i)}catch(t){e.reject(t)}}}function od(){if(Qh()){return Qh()&&google.igv.tokenResponse&&Date.now()<google.igv.tokenExpiresAt?google.igv.tokenResponse.access_token:void 0}}function rd(e){let t;return t=Sh(e)?Ih(e):new Uint8Array(e),"TextDecoder"in function(){if("undefined"!=typeof self)return self;return"undefined"!=typeof global?global:window}()?(new TextDecoder).decode(t):function(e){var t="",i=0;for(;i<e.length;){var n=e[i],o=0,r=0;if(n<=127?(o=0,r=255&n):n<=223?(o=1,r=31&n):n<=239?(o=2,r=15&n):n<=244&&(o=3,r=7&n),e.length-i-o>0)for(var a=0;a<o;)r=r<<6|63&(n=e[i+a+1]),a+=1;else r=65533,o=e.length-i;t+=String.fromCodePoint(r),i+=o+1}return t}(t)}const ad=new class{constructor(){this.apiKey=void 0,this.googleThrottle=new nd({requestsPerSecond:8}),this.RANGE_WARNING_GIVEN=!1,this.oauth=new jh}setApiKey(e){this.apiKey=e}async loadArrayBuffer(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),Ja(e)?this._loadFileSlice(e,t):this.load(e,t)}async loadByteArray(e,t){const i=await this.loadArrayBuffer(e,t);let n;return n=Sh(i)?Ih(i):new Uint8Array(i),n}async loadJson(e,t){"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json");const i=await this.loadString(e,t);return i?JSON.parse(i):i}async loadString(e,t){return t=t||{},e instanceof File?this._loadStringFromFile(e,t):this._loadStringFromUrl(e,t)}async load(e,t){t=t||{};const i=typeof e;if(Ja(e=await("function"==typeof e?e():e)))return this._loadFileSlice(e,t);if("function"==typeof e.startsWith){if(e.startsWith("data:")){const i=Rh(e).buffer;if(t.range){const e=t.range.size?t.range.start+t.range.size:i.byteLength;return i.slice(t.range.start,e)}return i}return e.startsWith("https://drive.google.com")&&(e=td(e)),Kh(e)||e.startsWith("https://www.dropbox.com")?this.googleThrottle.add((async()=>this._loadURL(e,t))):this._loadURL(e,t)}throw Error(`url must be either a 'File', 'string', 'function', or 'Promise'.  Actual type: ${i}`)}async _loadURL(e,t){const i=this,n=e;e=function(e){return e.startsWith("https://www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.startsWith("https://drive.google.com")?td(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","//s3.amazonaws.com/igv.broadinstitute.org"):e.includes("//igv.genepattern.org")?e.replace("//igv.genepattern.org","//igv-genepattern-org.s3.amazonaws.com"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}(e);let o=(t=t||{}).oauthToken||this.getOauthToken(e);return o&&(o=await("function"==typeof o?o():o)),new Promise((function(r,a){$h(e)&&!function(e){return e.indexOf("X-Goog-Signature")>-1}(e)&&(Zh(e)&&(e=Xh(e)),e=function(e){let t=ad.apiKey;t||"undefined"==typeof gapi||(t=gapi.apiKey);if(void 0!==t&&!e.includes("key=")){const i=e.includes("?")?"&":"?";e=e+i+"key="+t}return e}(e),Kh(e)&&function(e){if(e.includes("supportsTeamDrive"))return e;{const t=e.includes("?")?"&":"?";e=e+t+"supportsTeamDrive=true"}}(e),o||(o=od()));const s=t.headers||{};o&&function(e,t){t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t)}(s,o);const c=t.range,l=new XMLHttpRequest,h=t.sendData||t.body,d=t.method||(h?"POST":"GET"),f=t.responseType,u=t.contentType,p=t.mimeType;if(l.open(d,e),t.timeout&&(l.timeout=t.timeout),c){let e="";c.size&&(e=c.start+c.size-1),l.setRequestHeader("Range","bytes="+c.start+"-"+e)}if(u&&l.setRequestHeader("Content-Type",u),p&&l.overrideMimeType(p),f&&(l.responseType=f),s)for(let e of Object.keys(s)){const t=s[e];l.setRequestHeader(e,t)}!0===t.withCredentials&&(l.withCredentials=!0),l.onload=async function(n){if(0===l.status||l.status>=200&&l.status<=300)if("HEAD"===t.method){const e=t.requestedHeaders||["content-length"],i={};for(let t of e)i[t]=l.getResponseHeader(t);r(i)}else c&&206!==l.status&&0!==c.start?(l.response.length>1e5&&!i.RANGE_WARNING_GIVEN&&alert(`Warning: Range header ignored for URL: ${e}.  This can have severe performance impacts.`),r(l.response.slice(c.start,c.start+c.size))):r(l.response);else 416===l.status?m(Error("416 Unsatisfiable Range")):!Qh()||404!==l.status&&401!==l.status&&403!==l.status||!$h(e)||t.retries?403===l.status?m("Access forbidden: "+e):m(l.status):g()},l.onerror=function(i){$h(e)&&!t.retries?g():m("Error accessing resource: "+e+" Status: "+l.status)},l.ontimeout=function(e){m("Timed out")},l.onabort=function(e){console.log("Aborted"),a(e)};try{l.send(h)}catch(i){$h(e)&&!t.retries?g():m(i)}function m(e){if(!a)throw e;a(e)}async function g(){try{const e=await async function(e){if(Qh()){const t=function(e){return Kh(e)?"https://www.googleapis.com/auth/drive.file":Zh(e)?"https://www.googleapis.com/auth/devstorage.read_only":"https://www.googleapis.com/auth/userinfo.profile"}(e);return await Jh(t)}throw Error("Authorization is required, but Google oAuth has not been initalized. Contact your site administrator for assistance.")}(n);t.retries=1,t.oauthToken=e;const o=await i.load(n,t);r(o)}catch(e){if(e.error){const t=e.error.startsWith("popup_blocked")?"Google login popup blocked by browser.":e.error;alert(t)}else m(e)}}}))}async _loadFileSlice(e,t){let i=t&&t.range?e.slice(t.range.start,t.range.start+t.range.size):e;const n=await i.arrayBuffer();return"arraybuffer"===t.responseType?n:rd(n)}async _loadStringFromFile(e,t){const i=t.range?e.slice(t.range.start,t.range.start+t.range.size):e;return rd(await i.arrayBuffer())}async _loadStringFromUrl(e,t){(t=t||{}).responseType="arraybuffer";return rd(await this.load(e,t))}setOauthToken(e,t){this.oauth.setToken(e,t)}getOauthToken(e){const t=$h(e)?void 0:ts(e).host;let i=this.oauth.getToken(t);if(i)return i;if(void 0===t){const e=od();if(e&&e.expires_at>Date.now())return e.access_token}}async getContentLength(e,t){(t=t||{}).method="HEAD",t.requestedHeaders=["content-length"];const i=(await this._loadURL(e,t))["content-length"];return i?Number.parseInt(i):0}};var sd={color:1};sd.parent=sd,sd.left=sd,sd.right=sd;class cd{constructor(){this.root=sd}insert(e,t,i){var n=new pd(new ud(e,t,i));for(this.treeInsert(n),n.color=2;n!==this.root&&2===n.parent.color;)if(n.parent===n.parent.parent.left){let e=n.parent.parent.right;2===e.color?(n.parent.color=1,e.color=1,n.parent.parent.color=2,n=n.parent.parent):(n===n.parent.right&&(n=n.parent,hd.call(this,n)),n.parent.color=1,n.parent.parent.color=2,dd.call(this,n.parent.parent))}else{let e=n.parent.parent.left;2===e.color?(n.parent.color=1,e.color=1,n.parent.parent.color=2,n=n.parent.parent):(n===n.parent.left&&(n=n.parent,dd.call(this,n)),n.parent.color=1,n.parent.parent.color=2,hd.call(this,n.parent.parent))}this.root.color=1}findOverlapping(e,t){var i=new ud(e,t,0);if(this.root===sd)return[];var n=ld.call(this,i,this.root,[]);return n.length>1&&n.sort((function(e,t){return e.low-t.low})),n}logIntervals(){!function e(t,i){for(var n="",o=0;o<i;o++)n+=" ";console.log(n+t.interval.low+" "+t.interval.high),i+=5,t.left!==sd&&e(t.left,i);t.right!==sd&&e(t.right,i)}(this.root,0)}mapIntervals(e){!function t(i){e(i.interval),i.left!==sd&&t(i.left);i.right!==sd&&t(i.right)}(this.root)}treeInsert(e){for(var t=this.root,i=sd;t!==sd;)i=t,t=e.interval.low<=t.interval.low?t.left:t.right;e.parent=i,i===sd?(this.root=e,e.left=e.right=sd):e.interval.low<=i.interval.low?i.left=e:i.right=e,fd.call(this,e)}}function ld(e,t,i){return t.interval.overlaps(e)&&i.push(t.interval),t.left!==sd&&t.left.max>=e.low&&ld.call(this,e,t.left,i),t.right!==sd&&t.right.min<=e.high&&ld.call(this,e,t.right,i),i}function hd(e){var t=e.right;e.right=t.left,t.left!==sd&&(t.left.parent=e),t.parent=e.parent,e.parent===sd?this.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,fd.call(this,e)}function dd(e){var t=e.left;e.left=t.right,t.right!==sd&&(t.right.parent=e),t.parent=e.parent,e.parent===sd?this.root=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,fd.call(this,e)}function fd(e){for(;e!==sd;){var t=e.left.max>e.right.max?e.left.max:e.right.max,i=e.interval.high;e.max=t>i?t:i;var n=e.left.min<e.right.min?e.left.min:e.right.min,o=e.interval.low;e.min=n<o?n:o,e=e.parent}}class ud{constructor(e,t,i){this.low=e,this.high=t,this.value=i}equals(e){return!!e&&(this===e||this.low===e.low&&this.high===e.high)}compareTo(e){return this.low<e.low?-1:this.low>e.low?1:this.high<e.high?-1:this.high>e.high?1:0}overlaps(e){return this.low<=e.high&&e.low<=this.high}}function pd(e){this.parent=sd,this.left=sd,this.right=sd,this.interval=e,this.color=2}class md{constructor(e,t,i){e=e||[],this.treeMap=this.buildTreeMap(e,t),this.range=i,this.count=e.length}containsRange(e){return void 0===this.range||this.range.contains(e.chr,e.start,e.end)}queryFeatures(e,t,i){const n=this.treeMap[e];if(!n)return[];const o=n.findOverlapping(t,i);if(0===o.length)return[];{const n=[],r=this.allFeatures[e];if(r){for(let e of o){const o=e.value;for(let e=o.start;e<o.end;e++){let o=r[e];if(o.start>i)break;o.end>=t&&n.push(o)}}n.sort((function(e,t){return e.start-t.start}))}return n}}getAllFeatures(){return this.allFeatures}buildTreeMap(e,t){const i={},n=[];if(this.allFeatures={},e){for(let i of e){let e=i.chr;t&&(e=t.getChromosomeName(e));let o=this.allFeatures[e];o||(n.push(e),o=[],this.allFeatures[e]=o),o.push(i)}for(let e of n){const t=this.allFeatures[e];t.sort((function(e,t){return e.start===t.start?0:e.start>t.start?1:-1})),i[e]=gd(t)}}return i}}function gd(e){const t=new cd,i=e.length,n=Math.max(10,Math.round(i/10));for(let o=0;o<i;o+=n){const r=Math.min(i,o+n),a=new wd(o,r),s=e[o].start;let c=s;for(let t=o;t<r;t++)c=Math.max(c,e[t].end);t.insert(s,c,a)}return t}class wd{constructor(e,t){this.start=e,this.end=t}}const Fd=function(e,t,i){if(e&&0!==e.length){const n=function(e){const t=new cd,i=e.length,n=Math.max(10,Math.round(i/100));e.sort((function(e,t){return e.start===t.start?0:e.start>t.start?1:-1}));for(let o=0;o<i;o+=n){const r=Math.min(i,o+n),a=e.slice(o,r),s=a[0].start;let c=s;a.forEach((function(e){c=Math.max(c,e.end)})),t.insert(s,c,a)}return t}(e),o=n.findOverlapping(t,i);return 0===o.length?[]:(e=[],o.forEach((function(n){const o=n.value,r=o.length;for(let n=0;n<r;n++){const r=o[n];if(r.start>i)break;r.end>t&&e.push(r)}})),e.sort((function(e,t){return e.start-t.start})),e)}return[]};const bd={cantaloupe:{r:255,g:206,b:110},honeydew:{r:206,g:250,b:110},spindrift:{r:104,g:251,b:208},sky:{r:106,g:207,b:255},lavender:{r:210,g:120,b:255},carnation:{r:255,g:127,b:211},licorice:{r:0,g:0,b:0},snow:{r:255,g:255,b:255},salmon:{r:255,g:114,b:110},banana:{r:255,g:251,b:109},flora:{r:104,g:249,b:110},ice:{r:104,g:253,b:255},orchid:{r:110,g:118,b:255},bubblegum:{r:255,g:122,b:255},lead:{r:30,g:30,b:30},mercury:{r:232,g:232,b:232},tangerine:{r:255,g:136,b:2},lime:{r:131,g:249,b:2},sea_foam:{r:3,g:249,b:135},aqua:{r:0,g:140,b:255},grape:{r:137,g:49,b:255},strawberry:{r:255,g:41,b:135},tungsten:{r:58,g:58,b:58},silver:{r:208,g:208,b:208},maraschino:{r:255,g:33,b:1},lemon:{r:255,g:250,b:3},spring:{r:5,g:248,b:2},turquoise:{r:0,g:253,b:255},blueberry:{r:0,g:46,b:255},magenta:{r:255,g:57,b:255},iron:{r:84,g:84,b:83},magnesium:{r:184,g:184,b:184},mocha:{r:137,g:72,b:0},fern:{r:69,g:132,b:1},moss:{r:1,g:132,b:72},ocean:{r:0,g:74,b:136},eggplant:{r:73,g:26,b:136},maroon:{r:137,g:22,b:72},steel:{r:110,g:110,b:110},aluminum:{r:160,g:159,b:160},cayenne:{r:137,g:17,b:0},aspargus:{r:136,g:133,b:1},clover:{r:2,g:132,b:1},teal:{r:0,g:134,b:136},midnight:{r:0,g:24,b:136},plum:{r:137,g:30,b:136},tin:{r:135,g:134,b:135},nickel:{r:136,g:135,b:135}};const vd={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]};class yd{constructor(e){this.colors=vd[e],Array.isArray(this.colors)||(this.colors=[]),this.colorTable={},this.nextIdx=0,this.colorGenerator=new Cd}getColor(e){return this.colorTable.hasOwnProperty(e)||(this.nextIdx<this.colors.length?this.colorTable[e]=this.colors[this.nextIdx]:this.colorTable[e]=this.colorGenerator.get(),this.nextIdx++),this.colorTable[e]}}class _d{constructor(e){this.colorTable=e||{},this.nextIdx=0,this.colorGenerator=new Cd}getColor(e){if(!this.colorTable.hasOwnProperty(e)){if(this.colorTable.hasOwnProperty("*"))return this.colorTable["*"];this.colorTable[e]=this.colorGenerator.get()}return this.colorTable[e]}}function Cd(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}function xd(e,t){e=Bh(e,0,255),t=Bh(t,0,255);return`rgb(${Math.round(Math.random()*(t-e)+e).toString(10)},${Math.round(Math.random()*(t-e)+e).toString(10)},${Math.round(Math.random()*(t-e)+e).toString(10)})`}Cd.prototype.hsvToRgb=function(e,t,i){var n=Math.floor(6*e),o=6*e-n,r=i*(1-t),a=i*(1-o*t),s=i*(1-(1-o)*t),c=255,l=255,h=255;switch(n){case 0:c=i,l=s,h=r;break;case 1:c=a,l=i,h=r;break;case 2:c=r,l=i,h=s;break;case 3:c=r,l=a,h=i;break;case 4:c=s,l=r,h=i;break;case 5:c=i,l=r,h=a}return[Math.floor(256*c),Math.floor(256*l),Math.floor(256*h)]},Cd.prototype.padHex=function(e){return e.length>this.hexwidth?e:new Array(this.hexwidth-e.length+1).join("0")+e},Cd.prototype.get=function(e,t){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof e&&(e=.5),"number"!=typeof t&&(t=.95);var i=this.hsvToRgb(this.hue,e,t);return"#"+this.padHex(i[0].toString(16))+this.padHex(i[1].toString(16))+this.padHex(i[2].toString(16))},new Cd;const kd={configureHighDPICanvas:function(e,t,i){const n=window.devicePixelRatio;e.canvas.style.width=`${t}px`,e.canvas.width=Math.floor(n*t),e.canvas.style.height=`${i}px`,e.canvas.height=Math.floor(n*i),e.scale(n,n)},setProperties:function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];e[i]=n}},strokeLine:function(e,t,i,n,o,r){t=Math.floor(t)+.5,i=Math.floor(i)+.5,n=Math.floor(n)+.5,o=Math.floor(o)+.5,r&&(e.save(),kd.setProperties(e,r)),e.beginPath(),e.moveTo(t,i),e.lineTo(n,o),e.stroke(),r&&e.restore()},fillRect:function(e,t,i,n,o,r){t=Math.round(t),i=Math.round(i),r&&(e.save(),kd.setProperties(e,r)),e.fillRect(t,i,n,o),r&&e.restore()},fillPolygon:function(e,t,i,n){n&&(e.save(),kd.setProperties(e,n)),Ed(e,t,i),e.fill(),n&&e.restore()},strokePolygon:function(e,t,i,n){n&&(e.save(),kd.setProperties(e,n)),Ed(e,t,i),e.stroke(),n&&e.restore()},fillText:function(e,t,i,n,o,r){if((o||r)&&e.save(),o&&kd.setProperties(e,o),r){for(var a in e.translate(i,n),r){var s=r[a];"translate"===a&&e.translate(s.x,s.y),"rotate"===a&&e.rotate(s.angle*Math.PI/180)}e.fillText(t,0,0)}else e.fillText(t,i,n);(o||r)&&e.restore()},strokeText:function(e,t,i,n,o,r){if((o||r)&&e.save(),o&&kd.setProperties(e,o),r){for(var a in e.translate(i,n),r){var s=r[a];"translate"===a&&e.translate(s.x,s.y),"rotate"===a&&e.rotate(s.angle*Math.PI/180)}e.strokeText(t,0,0)}else e.strokeText(t,i,n);(o||r)&&e.restore()},strokeCircle:function(e,t,i,n,o){o&&(e.save(),kd.setProperties(e,o)),e.beginPath(),e.arc(t,i,n,0,2*Math.PI),e.stroke(),o&&e.restore()},fillCircle:function(e,t,i,n,o){o&&(e.save(),kd.setProperties(e,o)),e.beginPath(),e.arc(t,i,n,0,2*Math.PI),e.fill(),o&&e.restore()},drawArrowhead:function(e,t,i,n,o){e.save(),n||(n=5),o&&(e.lineWidth=o),e.beginPath(),e.moveTo(t,i-n/2),e.lineTo(t,i+n/2),e.lineTo(t+n,i),e.lineTo(t,i-n/2),e.closePath(),e.fill(),e.restore()},dashedLine:function(e,t,i,n,o,r,a={}){void 0===r&&(r=2),e.setLineDash([r,r]),kd.strokeLine(e,t,i,n,o,a),e.setLineDash([])},roundRect:function(e,t,i,n,o,r,a,s){void 0===s&&(s=!0),void 0===r&&(r=5),e.beginPath(),e.moveTo(t+r,i),e.lineTo(t+n-r,i),e.quadraticCurveTo(t+n,i,t+n,i+r),e.lineTo(t+n,i+o-r),e.quadraticCurveTo(t+n,i+o,t+n-r,i+o),e.lineTo(t+r,i+o),e.quadraticCurveTo(t,i+o,t,i+o-r),e.lineTo(t,i+r),e.quadraticCurveTo(t,i,t+r,i),e.closePath(),s&&e.stroke(),a&&e.fill()},polygon:function(e,t,i,n,o){void 0===o&&(o=!0),e.beginPath();var r=t.length;e.moveTo(t[0],i[0]);for(var a=1;a<r;a++)e.lineTo(t[a],i[a]);e.closePath(),o&&e.stroke(),n&&e.fill()},drawRandomColorVerticalLines:e=>{for(let t=0;t<e.canvas.width;t++)kd.fillRect(e,t,0,1,e.canvas.height,{fillStyle:xd(100,250)})},labelTransformWithContext:(e,t)=>{e.translate(t,0),e.scale(-1,1),e.translate(-t,0)}};function Ed(e,t,i){var n,o=t.length;for(n=0;n<o;n++)t[n]=Math.round(t[n]),i[n]=Math.round(i[n]);for(e.beginPath(),e.moveTo(t[0],i[0]),n=1;n<o;n++)e.lineTo(t[n],i[n]);e.closePath()}class Nd{constructor(e){this.dialog=new Aa(e)}present(e,t){this.dialog.present(e,t)}}const Sd={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}};function Id(e){const t=new Set(["boolean","number","string","symbol"]),i=typeof e;return void 0!==e&&(t.has(i)||e.substring||e.toFixed)}function zd(e,t){var i={oauthToken:e.oauthToken,headers:e.headers,withCredentials:e.withCredentials,filename:e.filename};return Object.assign(i,t)}const Dd=function(e){var t,i;if(e&&e.length>0){t=Number.MAX_VALUE,i=-Number.MAX_VALUE;for(let n of e)Number.isNaN(n.value)||(t=Math.min(t,n.value),i=Math.max(i,n.value));i>0&&(t=Math.min(0,t)),i<0&&(i=0)}else t=0,i=100;return{min:t,max:i}},Ad=function(e,t,i){let n=t.start,o=t.end;if(void 0===o)n-=i/2,o=n+i,o>e?(o=e,n=o-i):n<0&&(n=0,o=i);else if(o-n<i){const t=(o+n)/2;t-i/2<0?(n=0,o=n+i):t+i/2>e?(o=e,n=o-i):(n=t-i/2,o=n+i)}t.start=Math.ceil(n),t.end=Math.floor(o)};async function Md(e){if($a(e)&&e.startsWith("https://drive.google.com")){if(void 0===ed())throw Error("Google drive is referenced, but API key is not defined.  An API key is required for Google Drive access");const t=await async function(e){let t="https://www.googleapis.com/drive/v3/files/"+id(e)+"?supportsTeamDrives=true";const i=ed();i&&(t+="&key="+i);const n=await fetch(t);let o=await n.json();if(o.error&&404===o.error.code){let e="https://www.googleapis.com/auth/drive.readonly";const i=await Jh(e);if(!i)throw Error(o.error);{const e=await fetch(t,{headers:{Authorization:`Bearer ${i}`}});if(o=await e.json(),o.error)throw Error(o.error)}}return o}(e);return t.originalFileName||t.name}return Qa(e)}function Td(e){var t,i;return e>1e7?(t=" mb",i=e/1e6,Math.floor(i).toString()+t):e>1e4?(t=" kb",i=e/1e3,Za(Math.floor(i))+t):Za(e)+" bp"}function Rd(e){return $a(e)&&e.startsWith("data:")}function Ld(e,t){const i=xr.div({class:t});e.appendChild(i)}function Bd(e,t){t.parentNode.insertBefore(e,t)}function Hd(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function Od(){return"https:"===window.location.protocol||"localhost"===window.location.hostname}function Pd(e,t){if(e.length<6)return void console.log("Skipping line: "+e.join(" "));var i={chr1:e[0],start1:Number.parseInt(e[1]),end1:Number.parseInt(e[2]),chr2:e[3],start2:Number.parseInt(e[4]),end2:Number.parseInt(e[5])};if(isNaN(i.start1)||isNaN(i.end1)||isNaN(i.start2)||isNaN(i.end2))return;t&&void 0===t.hiccups&&(t.hiccups=!!t.columnNames&&Ud(t.columnNames));const n=t&&t.hiccups,o=n?6:10;if(n||(e.length>6&&"."!==e[6]&&(i.name=e[6]),e.length>7&&"."!==e[7]&&(i.score=Number(e[7])),e.length>8&&"."!==e[8]&&(i.strand1=e[8]),e.length>9&&"."!==e[9]&&(i.strand2=e[9])),t){const n=t.colorColumn;n&&n<e.length&&(i.color=qh.createColorString(e[n]));const r=t.thicknessColumn;r&&r<e.length&&(i.thickness=e[r]),e.length>o&&t.columnNames&&t.columnNames.length===e.length&&(i.extras=e.slice(o))}return i.chr1===i.chr2&&(i.chr=i.chr1,i.start=Math.min(i.start1,i.start2),i.end=Math.max(i.end1,i.end2)),i}function qd(e,t){if(!(e.length<8))return{chr:e[0],start:Number.parseInt(e[1]),end:Number.parseInt(e[2]),color:qh.createColorString(e[6]),value:Number(e[7])}}function Ud(e){return e&&(e.includes("fdrDonut")||e.includes("fdr_donut"))}const Vd=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","vcf","bb","bigbed","biginteract","biggenepred","bignarrowpeak","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram","gwas","maf","mut","tsv","hiccups","fasta","fa","fna","pytor"]);function jd(e){return Sd&&Sd[e]?function(e){const t=e.fields,i=["chr","start","end"];for(let n=0;n<t.length;n++)for(let o of i)o===t[n]&&(e[o]=n);return e}(Sd[e]):void 0}function Wd(e){var t,i;if((e=e.toLowerCase()).endsWith("refgene.txt.gz")||e.endsWith("refgene.txt.bgz")||e.endsWith("refgene.txt")||e.endsWith("refgene.sorted.txt.gz")||e.endsWith("refgene.sorted.txt.bgz"))return"refgene";switch((t=e.indexOf("?"))>0&&(e=e.substr(0,t)),e.endsWith(".gz")&&(e=e.substr(0,e.length-3)),(e.endsWith(".txt")||e.endsWith(".tab")||e.endsWith(".bgz"))&&(e=e.substr(0,e.length-4)),i=(t=e.lastIndexOf("."))<0?e:e.substr(t+1)){case"bw":return"bigwig";case"bb":return"bigbed";case"fasta":case"fa":case"fna":return"fasta";default:return Vd.has(i)?i:void 0}}function Gd(e,t){if($a(e)){if(e.includes("?")){const i=e.indexOf("?");return e.substring(0,i)+"."+t+e.substring(i)}return e+"."+t}}function $d(e){if(function(e){e.featureType&&(e.type=e.type||e.featureType,e.featureType=void 0);"junctions"===e.type?e.type="junction":"bed"===e.type?(e.type="annotation",e.format=e.format||"bed"):"annotations"===e.type?e.type="annotation":"alignments"===e.type?e.type="alignment":"bam"===e.type?(e.type="alignment",e.format="bam"):"vcf"===e.type?(e.type="variant",e.format="vcf"):"t2d"===e.type?e.type="gwas":"FusionJuncSpan"!==e.type||e.format?"aed"===e.type&&(e.type="annotation",e.format=e.format||"aed"):e.format="fusionjuncspan"}(e),e.type)return e.type;if(e.format){switch(e.format.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":return"wig";case"vcf":return"variant";case"seg":return"seg";case"mut":case"maf":return"mut";case"bam":case"cram":return"alignment";case"hiccups":case"bedpe":case"bedpe-loop":case"biginteract":return"interact";case"bp":return"arc";case"gwas":return"gwas";case"bed":case"bigbed":case"bb":case"biggenepred":case"bignarrowpeak":return"bedtype";case"fasta":return"sequence";case"pytor":return"cnvpytor";default:return"annotation"}}}async function Zd(e){if(e.url){const t=await ad.loadString(e.url,zd(e,{range:{start:0,size:1e3}}));if(t){if(Ud(t.split("\n")[0].split("\t")))return"hiccups"}}}function Kd(e,t){Sd[e]={fields:t}}var Xd=Object.freeze({__proto__:null,knownFileExtensions:Vd,getFormat:jd,inferFileFormat:Wd,inferFileFormatFromHeader:Zd,inferTrackType:$d,inferIndexPath:Gd,registerFileFormats:Kd});const Yd=[["A","T"],["G","C"],["Y","R"],["W","S"],["K","M"],["D","H"],["B","V"]],Qd=new Map;for(let Mk of Yd){const Tk=Mk[0],Rk=Mk[1];Qd.set(Tk,Rk),Qd.set(Rk,Tk),Qd.set(Tk.toLowerCase(),Rk.toLowerCase()),Qd.set(Rk.toLowerCase(),Tk.toLowerCase())}function Jd(e){let t="",i=e.length;for(;i-- >0;){const n=e[i];t+=Qd.has(n)?Qd.get(n):n}return t}class ef{constructor(e,t,i){this.name=e,this.order=t,this.bpLength=i}}const tf=Ka,nf=new Set(["fastaURL","indexURL","cytobandURL","indexed"]);class of{constructor(e){this.fastaURL=e.fastaURL,this.withCredentials=e.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences=new Map;const t={};for(let i in e)e.hasOwnProperty(i)&&!nf.has(i)&&(t[i]=e[i]);this.config=t}async init(){return this.loadAll()}async getSequence(e,t,i){if(!this.sequences.has(e))return;let n=this.sequences.get(e).find((e=>e.contains(t,i)));if(!n&&(n=this.sequences.get(e).find((e=>e.overlaps(t,i))),!n))return;t-=n.offset,i-=n.offset;let o="";if(t<0)for(let e=t;e<Math.min(i,0);e++)o+="*";if(i<=0)return Promise.resolve(o);const r=n.sequence,a=Math.min(i,r.length);return o+r.substring(t,a)}async loadAll(){let e;if(Rd(this.fastaURL)){let t=Rh(this.fastaURL);e="";for(let i of t)e+=String.fromCharCode(i)}else e=await ad.load(this.fastaURL,zd(this.config));const t=new Set,i=tf(e),n=i.length;let o,r=0,a=0,s={};for(;r<n;){if(o=i[r++].trim(),o.startsWith("#")||0===o.length);else if(o.startsWith(">")){s&&s.seq&&c.call(this,s,a++);const e=o.substr(1).split(/\s+/),t=e[0].split(":");if(s.chr=t[0],s.seq="",s.offset=0,t.length>1&&t[1].indexOf("-")>0){const i=t[1].split("-");2===i.length&&/^[0-9]+$/.test(i[0])&&/^[0-9]+$/.test(i[1]);const n=Number.parseInt(i[0]);if(Number.parseInt(i[1])>n&&(s.offset=n-1),e.length>1&&e[1].startsWith("@len="))try{s.length=parseInt(e[1].trim().substring(5))}catch(e){s.length=void 0,console.error(`Error parsing sequence length for ${o}`)}else s.length=void 0}}else s.seq+=o;s&&s.seq&&c.call(this,s,a)}function c(e,i){const n=e.length||e.offset+e.seq.length;if(t.has(e.chr)){const t=this.chromosomes[e.chr];t.bpLength=Math.max(t.bpLength,n)}else this.chromosomeNames.push(e.chr),this.sequences.set(e.chr,[]),this.chromosomes[e.chr]=new ef(e.chr,i,n),t.add(e.chr);this.sequences.get(e.chr).push(new rf(e.offset,e.seq))}}}class rf{constructor(e,t){this.offset=e,this.sequence=t}contains(e,t){return this.offset<=e&&this.end>=t}overlaps(e,t){return this.offset<t&&this.end>e}get end(){return this.offset+this.sequence.length}}const af=function(e,t,i,n){this.chr=e,this.start=t,this.end=i,this.features=n};af.prototype.contains=function(e,t,i){return this.chr===e&&this.start<=t&&this.end>=i},af.prototype.containsRange=function(e){return this.chr===e.chr&&this.start<=e.start&&this.end>=e.end};const sf=Ka,cf=new Set(["fastaURL","indexURL","compressedIndexURL","cytobandURL","indexed"]);class lf{constructor(e){this.file=e.fastaURL,this.indexFile=e.indexURL||e.indexFile||this.file+".fai",this.compressedIndexFile=e.compressedIndexURL||!1,this.withCredentials=e.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences={},this.offsets={};const t={};for(let i in e)e.hasOwnProperty(i)&&!cf.has(i)&&(t[i]=e[i]);this.config=t}async init(){return this.getIndex()}async getSequence(e,t,i){if(!(this.interval&&this.interval.contains(e,t,i))){let n=t,o=i;if(i-t<5e4){const e=i-t,r=Math.round(t+e/2);n=Math.max(0,r-25e3),o=r+25e3}const r=await this.readSequence(e,n,o);this.interval=new af(e,n,o,r)}const n=t-this.interval.start,o=i-t;return this.interval.features?this.interval.features.substr(n,o):null}async getIndex(){if(this.index)return this.index;{const e=await ad.load(this.indexFile,zd(this.config)),t=sf(e),i=t.length;let n=0,o=0;for(this.index={};n<i;){const e=t[n++].split("\t");if(5===e.length){const t=e[0],i=parseInt(e[1]),n={size:i,position:parseInt(e[2]),basesPerLine:parseInt(e[3]),bytesPerLine:parseInt(e[4])};this.chromosomeNames.push(t),this.index[t]=n,this.chromosomes[t]=new ef(t,o++,i)}}return this.index}}async getCompressedIndex(){if(this.compressedIndex)return this.compressedIndex;if(!this.compressedIndexFile)return this.compressedIndex=[],this.compressedIndex;this.compressedIndex=[];const e=await ad.loadArrayBuffer(this.compressedIndexFile,zd(this.config)),t=e.byteLength;if(t<8)return console.log("Cannot parse GZI index file: length ("+t+" bytes) is insufficient to determine content of index."),this.compressedIndex;const i=e.slice(0,8),n=Number(new DataView(i).getBigUint64(0,!0)),o=8+2*n*8;if(t!=o)return console.log("Incorrect file size of reference genome index. Expected : "+o+". Received : "+t),this.compressedIndex;this.compressedIndex.push([0,0]);for(let t=0;t<n;t++){const i=8+2*t*8,n=8+2*t*8+16,o=e.slice(i,n),r=new DataView(o),a=Number(r.getBigUint64(0,!0)),s=Number(r.getBigUint64(8,!0));this.compressedIndex.push([a,s])}return this.compressedIndex}async getRelevantCompressedBlockNumbers(e,t){if(e<0||t<0||t<e)return console.log("Incompatible query positions for reference-genome. Start:"+e+" | End:"+t),[];await this.getCompressedIndex();let i=[];const n=this.compressedIndex.length-1;if(0==this.compressedIndex.length)return console.log("Compressed index does not contain any content"),[];if(e>this.compressedIndex[n][1])return[n];let o=0,r=n,a=Math.floor(this.compressedIndex.length/2),s=this.compressedIndex.length+1,c=!1;for(let t=0;t<s;t++){const t=this.compressedIndex[a][1],i=a<this.compressedIndex.length-1?this.compressedIndex[a+1][1]:1/0;if(t<=e&&i>e){c=!0;break}t<e?o=a+1:r=a-1,a=Math.ceil((r-o)/2)+o}if(!c)return console.log("No blocks within compressed index found that correspond with query positions "+e+","+t),console.log(this.compressedIndex),[];i.push(a);for(let e=a+1;e<this.compressedIndex.length;e++){i.push(e);if(this.compressedIndex[e][1]>=t)break}const l=i[i.length-1];return l===this.compressedIndex.length-1&&this.compressedIndex[l][1]<t&&i.push(-1),i}async loadAndUncompressBlocks(e,t){if(await this.getCompressedIndex(),0==e.length)return"";let i=Array(e.length-1);for(let t=0;t<e.length-1;t++){const n=e[t],o=this.compressedIndex[n][0],r=e[t+1];let a=[];if(-1!=r){const e=this.compressedIndex[r][0]-o;a=await ad.loadArrayBuffer(this.file,zd(this.config,{range:{start:o,size:e}}))}else a=await ad.loadArrayBuffer(this.file,zd(this.config,{range:{start:o}}));const s=await zh(a);i[t]=s}let n="";for(let e=0;e<i.length;e++)for(let t=0;t<i[e].length;t++){n+=String.fromCharCode(i[e][t])}const o=t-this.compressedIndex[e[0]][1];return n=n.substring(o),n}async readSequence(e,t,i){await this.getIndex(),await this.getCompressedIndex();const n=this.index[e];if(!n)return console.log("No index entry for chr: "+e),this.interval=new af(e,t,i,null),null;const o=Math.max(0,t),r=Math.min(n.size,i),a=n.bytesPerLine,s=n.basesPerLine,c=n.position,l=a-s,h=Math.floor(o/s),d=Math.floor(r/s),f=o-h*s,u=c+h*a+f,p=c+d*a+(r-d*s)-1,m=p-u+1;if(m<=0)return console.error("No sequence for "+e+":"+t+"-"+i),null;let g;if(this.compressedIndexFile){let e=await this.getRelevantCompressedBlockNumbers(u,p);if(0===e.length)return console.log("No blocks in the compressed index that correspond with the requested byte positions ("+u+","+p+")"),null;g=await this.loadAndUncompressBlocks(e,u)}else g=await ad.load(this.file,zd(this.config,{range:{start:u,size:m}}));if(!g)return null;let w,F="",b=0,v=g.length;for(f>0&&(w=Math.min(r-o,s-f),F+=g.substr(b,w),b+=w+l);b<v;)w=Math.min(s,v-b),F+=g.substr(b,w),b+=w+l;return F}}const hf=Ka;class df{constructor(e){this.url=e,this.chromosomeNames=[],this.chromosomes={}}async init(){return this.loadAll()}async getSequence(e,t,i){}async loadAll(){let e;if(Rd(this.url)){let t=Rh(this.fastaURL);e="";for(let i of t)e+=String.fromCharCode(i)}else e=await ad.load(this.url,{});this.chromosomeNames=[],this.chromosomes={};const t=hf(e);let i=0;for(let e of t){const t=e.split("\t");this.chromosomeNames.push(t[0]);const n=Number.parseInt(t[1]),o=new ef(t[0],i++,n);this.chromosomes[t[0]]=o}}}async function ff(e){let t;return t="chromsizes"===e.format?new df(e.fastaURL):Rd(e.fastaURL)||!1===e.indexed?new of(e):new lf(e),await t.init(),t}const uf={A:"rgb(  0, 200,   0)",C:"rgb(  0,0,200)",T:"rgb(255,0,0)",G:"rgb(209,113,  5)",N:"rgb(80,80,80)"},pf=Number.MIN_SAFE_INTEGER,mf={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"},gf={},wf=["A","G","C","T","Y","R","W","S","K","M","D","V","H","B","N","X"],Ff=["T","C","G","A","R","Y","W","S","M","K","H","B","D","V","N","X"];for(let Lk=0;Lk<wf.length;Lk++)gf[wf[Lk]]=Ff[Lk],gf[wf[Lk].toLowerCase()]=Ff[Lk].toLowerCase();const bf=115;class vf{constructor(e,t){this.config=e,this.browser=t,this.type="sequence",this.removable=void 0===e.removable||e.removable,this.name=e.name,this.id=e.id,this.sequenceType=e.sequenceType||"dna",this.disableButtons=!1,this.order=e.order||pf,this.ignoreTrackMenu=!1,this.reversed=!0===e.reversed,this.frameTranslate=!0===e.frameTranslate,this.height=this.frameTranslate?bf:25,e.url&&(e.fastaURL=e.url),e.fastaURL||(this.id=e.id||"sequence")}menuItemList(){return[{name:this.reversed?"Forward":"Reverse",click:()=>{this.reversed=!this.reversed,this.trackView.repaintViews()}},{name:this.frameTranslate?"Close Translation":"Three-frame Translate",click:()=>{if(this.frameTranslate=!this.frameTranslate,this.frameTranslate){for(let e of this.trackView.viewports)e.setContentHeight(bf);this.trackView.setTrackHeight(bf)}else{for(let e of this.trackView.viewports)e.setContentHeight(25);this.trackView.setTrackHeight(25)}this.trackView.repaintViews()}}]}contextMenuItemList(e){const t=e.viewport;if(t.referenceFrame.bpPerPixel<=1){const e=t.getWidth()*t.referenceFrame.bpPerPixel,i=t.referenceFrame.chr,n=Math.floor(t.referenceFrame.start),o=Math.ceil(n+e),r=[{label:this.reversed?"View visible sequence (reversed)...":"View visible sequence...",click:async()=>{let e=await this.browser.genome.sequence.getSequence(i,n,o);e?this.reversed&&(e=Jd(e)):e="Unknown sequence",this.browser.alert.present(e)}}];return Od()&&r.push({label:"Copy visible sequence",click:async()=>{let e=await this.browser.genome.sequence.getSequence(i,n,o);e?this.reversed&&(e=Jd(e)):e="Unknown sequence";try{await navigator.clipboard.writeText(e)}catch(e){console.error(e),this.browser.alert.present(`error copying sequence to clipboard ${e}`)}}}),r.push("<hr/>"),r}}translateSequence(e){const t=[[],[],[]];for(let i of[0,1,2]){let n=i;for(;e.length-n>=3;){let o=e.slice(n,n+3);this.reversed&&(o=o.split("").reverse().join(""));const r=mf[o.toUpperCase()]||"";t[i].push({codons:o,aminoA:r}),n+=3}}return t}async getSequenceSource(){return this.config.fastaURL?(this.fasta||(this.fasta=new yf(this.config,this.browser.genome),await this.fasta.init()),this.fasta):this.browser.genome.sequence}async getFeatures(e,t,i,n){if(t=Math.floor(t),i=Math.floor(i),n&&n>10)return null;{const n=await this.getSequenceSource();return{bpStart:t,sequence:await n.getSequence(e,t,i)}}}draw(e){const t=e.context;if(e.features){let i=e.features.sequence;if(!i)return;this.reversed&&(i=i.split("").map((function(e){return gf[e]})).join(""));const n=e.features.bpStart,o=1+e.bpStart+e.pixelWidth*e.bpPerPixel;for(let r=Math.floor(e.bpStart);r<=o;r++){const o=Math.floor(r-n);if(o>=0&&o<i.length){const n=(r-e.bpStart)/e.bpPerPixel,a=1/e.bpPerPixel,s=i[o],c=this.fillColor(s.toUpperCase());if(e.bpPerPixel>.1)kd.fillRect(t,n,5,a,10,{fillStyle:c});else{const i=n+.5*(a-t.measureText(s).width);"y"===e.axis?(t.save(),kd.labelTransformWithContext(t,i),kd.strokeText(t,s,i,15,{strokeStyle:c}),t.restore()):kd.strokeText(t,s,i,15,{strokeStyle:c})}}}if(this.frameTranslate){let o=25;const r=this.translateSequence(i);for(let i=0;i<r.length;i++){const a=r[i];for(let r=0;r<a.length;r++){let s=0==r%2?"rgb(160,160,160)":"rgb(224,224,224)";const c=a[r],l=n+i+3*r-e.bpStart,h=Math.floor(l/e.bpPerPixel),d=Math.floor((l+3)/e.bpPerPixel),f=Math.round((h+d)/2);if(d<0)continue;if(h>e.pixelWidth)break;let u=c.aminoA;c.aminoA.indexOf("STOP")>-1?(s="rgb(255, 0, 0)",u="STOP"):"M"===c.aminoA&&(s="rgb(0, 153, 0)",u="START"),kd.fillRect(t,h,o,d-h,25,{fillStyle:s}),e.bpPerPixel<=.1&&kd.strokeText(t,u,f-t.measureText(u).width/2,o+15)}o+=30}}}}get supportsWholeGenome(){return!1}computePixelHeight(e){return this.height=this.frameTranslate?bf:25,this.height}fillColor(e){return this.color?this.color:"dna"===this.sequenceType?uf[e]||"gray":"rgb(0, 0, 150)"}getState(){const e={type:"sequence"};return this.order!==pf&&(e.order=this.order),this.reversed&&(e.revealed=!0),e}}class yf{constructor(e,t){this.config=e,this.genome=t}async init(){this.fasta=await ff(this.config),this.chrNameMap=new Map;for(let e of this.fasta.chromosomeNames)this.chrNameMap.set(this.genome.getChromosomeName(e),e)}async getSequence(e,t,i){const n=this.chrNameMap.has(e)?this.chrNameMap.get(e):e;return this.fasta.getSequence(n,t,i)}}class _f{constructor(e,t,i,n){this.guid=xr.guid(),this.trackView=e,this.referenceFrame=i,this.browser=e.browser,this.$viewport=wr('<div class="igv-viewport">'),t.appendChild(this.$viewport.get(0)),e.track.height&&(this.$viewport.get(0).style.height=`${e.track.height}px`),e.track instanceof vf&&(this.alert=new Aa(this.$viewport.get(0))),this.contentTop=0,this.contentHeight=this.$viewport.height(),this.$viewport.width(n),this.initializationHelper()}initializationHelper(){}showMessage(e){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.$viewport.append(wr(this.messageDiv))),this.messageDiv.textContent=e,this.messageDiv.style.display="inline-block"}hideMessage(e){this.messageDiv&&(this.messageDiv.style.display="none")}setTrackLabel(e){}startSpinner(){}stopSpinner(){}checkZoomIn(){return!0}shift(){}setTop(e){this.contentTop=e,this.$viewport.height()}async loadFeatures(){}clearCache(){}async repaint(){}draw(e,t,i){console.log("Viewport - draw(drawConfiguration, features, roiFeatures)")}checkContentHeight(e){let t=this.trackView.track;if(e=e||this.cachedFeatures,"FILL"===t.displayMode)this.setContentHeight(this.$viewport.height());else if("function"==typeof t.computePixelHeight&&e&&e.length>0){let i=t.computePixelHeight(e);i!==this.contentHeight&&this.setContentHeight(i)}}getContentHeight(){return this.contentHeight}setContentHeight(e){this.contentHeight=e}isLoading(){return!1}saveSVG(){}isVisible(){return this.$viewport.width()}setWidth(e){this.$viewport.width(e)}getWidth(){return this.$viewport.width()}getContentTop(){return this.contentTop}containsPosition(e,t){console.log("Viewport - containsPosition(chr, position)")}addMouseHandlers(){}removeMouseHandlers(){}dispose(){this.popover&&this.popover.dispose(),this.$viewport.get(0).remove();for(let e of Object.keys(this))this[e]=void 0}}
/*!!
     *  Canvas 2 Svg v1.0.19
     *  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.
     *
     *  Licensed under the MIT license:
     *  http://www.opensource.org/licenses/mit-license.php
     *
     *  Author:
     *  Kerry Liu
     *
     *  Copyright (c) 2014 Gliffy Inc.
     */function Cf(e,t){var i,n=Object.keys(t);for(i=0;i<n.length;i++)e=e.replace(new RegExp("\\{"+n[i]+"\\}","gi"),t[n[i]]);return e}function xf(e){var t,i,n;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="";do{for(i="",n=0;n<12;n++)i+=t[Math.floor(51*Math.random())]}while(e[i]);return i}function kf(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}function Ef(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}const Nf=function(e,t){var i,n,o,r={};for(e=e.split(","),t=t||10,i=0;i<e.length;i+=2)n="&"+e[i+1]+";",o=parseInt(e[i],t),r[n]="&#"+o+";";return r["\\xa0"]="&#160;",r}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Sf={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}};class If{constructor(e,t){this.__root=e,this.__ctx=t}addColorStop(e,t){var i,n=this.__ctx.__createElement("stop");n.setAttribute("offset",e),t&&-1!==t.indexOf("rgba")?(i=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),n.setAttribute("stop-color",Cf("rgb({r},{g},{b})",{r:i[1],g:i[2],b:i[3]})),n.setAttribute("stop-opacity",i[4])):n.setAttribute("stop-color",t),this.__root.appendChild(n)}}class zf{constructor(e,t){this.__root=e,this.__ctx=t}}class Df{constructor(e){if(!(this instanceof Df))return new Df(e);if(this.config=e,this.width=e.width,this.height=e.height,this.enableMirroring=e.enableMirroring||!1,this.canvas=this,this.__document=document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),e.viewbox){const t=e.viewbox.x+" "+e.viewbox.y+" "+e.viewbox.width+" "+e.viewbox.height;this.__root.setAttribute("viewBox",t),this.viewbox=e.viewbox}this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=e.multiLocusGap;let t={id:"svg_output_backdrop",width:"100%",height:"100%",fill:e.backdropColor||"white"},i=this.__createElement("rect",t);this.__root.appendChild(i),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}setWidth(e){this.width=e,this.__root.setAttribute("width",this.width);const t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+e+" "+this.config.viewbox.height;this.__root.setAttribute("viewBox",t)}setHeight(e){this.height=e,this.__root.setAttribute("height",this.height);const t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+e;this.__root.setAttribute("viewBox",t)}__createElement(e,t,i){void 0===t&&(t={});let n=this.__document.createElementNS("http://www.w3.org/2000/svg",e);i&&(n.setAttribute("fill","none"),n.setAttribute("stroke","none"));for(let e of Object.keys(t))n.setAttribute(e,t[e]);return n}__setDefaultStyles(){var e,t,i=Object.keys(Sf);for(e=0;e<i.length;e++)this[t=i[e]]=Sf[t].canvas}__applyStyleState(e){var t,i,n=Object.keys(e);for(t=0;t<n.length;t++)this[i=n[t]]=e[i]}__getStyleState(){var e,t,i={},n=Object.keys(Sf);for(e=0;e<n.length;e++)i[t=n[e]]=this[t];return i}__applyStyleToCurrentElement(e){var t=this.__currentElement,i=this.__currentElementsToStyle;i&&(t.setAttribute(e,""),t=i.element,i.children.forEach((function(t){t.setAttribute(e,"")})));var n,o,r,a,s,c=Object.keys(Sf);for(n=0;n<c.length;n++)if(o=Sf[c[n]],r=this[c[n]],o.apply)if(r instanceof zf){if(r.__ctx)for(;r.__ctx.__defs.childNodes.length;)a=r.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[a]=a,this.__defs.appendChild(r.__ctx.__defs.childNodes[0]);t.setAttribute(o.apply,Cf("url(#{id})",{id:r.__root.getAttribute("id")}))}else if(r instanceof If)t.setAttribute(o.apply,Cf("url(#{id})",{id:r.__root.getAttribute("id")}));else if(o&&-1!==o.apply.indexOf(e)&&o.svg!==r)if("stroke"!==o.svgAttr&&"fill"!==o.svgAttr||!r||-1===r.indexOf("rgba")){var l=o.svgAttr;if("globalAlpha"===c[n]&&(l=e+"-"+o.svgAttr,t.getAttribute(l)))continue;t.setAttribute(l,r)}else{s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(r),t.setAttribute(o.svgAttr,Cf("rgb({r},{g},{b})",{r:s[1],g:s[2],b:s[3]}));var h=s[4],d=this.globalAlpha;null!=d&&(h*=d),t.setAttribute(o.svgAttr+"-opacity",h)}}__closestGroupOrSvg(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)}getSerializedSvg(e){var t,i,n,o,r,a=(new XMLSerializer).serializeToString(this.__root);if(e)for(t=Object.keys(Nf),i=0;i<t.length;i++)n=t[i],o=Nf[n],(r=new RegExp(n,"gi")).test(a)&&(a=a.replace(r,o));return a}getSvg(){return this.__root}saveWithTranslationAndClipRect(e,t,i,n,o,r){const a=`${e}_clip_rect`;let s=this.__createElement("clipPath",{id:a});this.__defs.appendChild(s);const c={x:"0",y:r.toString(),width:n.toString(),height:o.toString()};s.appendChild(this.__createElement("rect",c));const l=this.__createElement("g");l.setAttribute("transform",Cf("translate({x},{y})",{x:t,y:i})),l.setAttribute("clip-path",Cf("url(#{id})",{id:a}));const h=this.__closestGroupOrSvg();h.appendChild(l),this.__groupStack.push(h),this.__currentElement=l,this.__stack.push(this.__getStyleState())}save(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())}restore(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)}__addTransform(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var i=this.__createElement("g");t.appendChild(i),this.__currentElement=i}var n=this.__currentElement.getAttribute("transform");n?n+=" ":n="",n+=e,this.__currentElement.setAttribute("transform",n)}addTrackGroupWithTranslationAndClipRect(e,t,i,n,o,r){const a=e+"_clip_rect";let s=this.__createElement("clipPath",{id:a});this.__defs.appendChild(s),s.appendChild(this.__createElement("rect",{x:"0",y:r.toString(),width:n.toString(),height:o.toString()}));let c=this.__createElement("g");this.__rootGroup.appendChild(c),c.setAttribute("transform",Cf("translate({x},{y})",{x:t,y:i})),c.setAttribute("id",e+"_group"),c.setAttribute("clip-path",Cf("url(#{id})",{id:a})),this.__currentElement=c}scale(e,t){void 0===t&&(t=e),this.__addTransform(Cf("scale({x},{y})",{x:e,y:t}))}rotate(e){var t=180*e/Math.PI;this.__addTransform(Cf("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))}translate(e,t){this.__addTransform(Cf("translate({x},{y})",{x:e,y:t}))}transform(e,t,i,n,o,r){this.__addTransform(Cf("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:i,d:n,e:o,f:r}))}beginPath(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e}__applyCurrentDefaultPath(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)}__addPathCommand(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e}moveTo(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(Cf("M {x} {y}",{x:e,y:t}))}closePath(){this.__currentDefaultPath&&this.__addPathCommand("Z")}lineTo(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(Cf("L {x} {y}",{x:e,y:t})):this.__addPathCommand(Cf("M {x} {y}",{x:e,y:t}))}bezierCurveTo(e,t,i,n,o,r){this.__currentPosition={x:o,y:r},this.__addPathCommand(Cf("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:i,cp2y:n,x:o,y:r}))}quadraticCurveTo(e,t,i,n){this.__currentPosition={x:i,y:n},this.__addPathCommand(Cf("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:i,y:n}))}arcTo(e,t,i,n,o){var r=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(void 0!==r&&void 0!==a){if(o<0)throw new Error("IndexSizeError: The radius provided ("+o+") is negative.");if(r===e&&a===t||e===i&&t===n||0===o)this.lineTo(e,t);else{var s=Ef([r-e,a-t]),c=Ef([i-e,n-t]);if(s[0]*c[1]!=s[1]*c[0]){var l=s[0]*c[0]+s[1]*c[1],h=Math.acos(Math.abs(l)),d=Ef([s[0]+c[0],s[1]+c[1]]),f=o/Math.sin(h/2),u=e+f*d[0],p=t+f*d[1],m=[-s[1],s[0]],g=[c[1],-c[0]],w=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},F=w(m),b=w(g);this.lineTo(u+m[0]*o,p+m[1]*o),this.arc(u,p,o,F,b)}else this.lineTo(e,t)}}}stroke(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")}fill(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")}rect(e,t,i,n){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.closePath()}fillRect(e,t,i,n){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i);var o,r,a,s={x:e,y:t,width:i,height:n};(!this.viewbox||(o=this.viewbox,r=s,o.x<r.x+r.width&&o.x+o.width>r.x&&o.y<r.y+r.height&&o.y+o.height>r.y))&&(a=this.__createElement("rect",s,!0),this.__closestGroupOrSvg().appendChild(a),this.__currentElement=a,this.__applyStyleToCurrentElement("fill"))}strokeRect(e,t,i,n){var o;o=this.__createElement("rect",{x:e,y:t,width:i,height:n},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("stroke")}strokeEllipse(e,t,i,n,o,r,a,s){this.__ellipse(e,t,i,n,o,r,a,s,"stroke")}fillEllipse(e,t,i,n,o,r,a,s){this.__ellipse(e,t,i,n,o,r,a,s,"fill")}__ellipse(e,t,i,n,o,r,a,s,c){const l={cx:e,cy:t,rx:i,ry:n},h=this.__createElement("ellipse",l,!0);this.__closestGroupOrSvg().appendChild(h),this.__currentElement=h,this.__applyStyleToCurrentElement(c)}__clearCanvas(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],i=t.childNodes,n=i.length-1;n>=0;n--)i[n]&&t.removeChild(i[n]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)}clearRect(e,t,i,n){if(0!==e||0!==t||i!==this.width||n!==this.height){var o,r=this.__closestGroupOrSvg();o=this.__createElement("rect",{x:e,y:t,width:i,height:n,fill:"#FFFFFF"},!0),r.appendChild(o)}else this.__clearCanvas()}createLinearGradient(e,t,i,n){var o=this.__createElement("linearGradient",{id:xf(this.__ids),x1:e+"px",x2:i+"px",y1:t+"px",y2:n+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new If(o,this)}createRadialGradient(e,t,i,n,o,r){var a=this.__createElement("radialGradient",{id:xf(this.__ids),cx:n+"px",cy:o+"px",r:r+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(a),new If(a,this)}__parseFont(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t}__wrapTextLink(e,t){if(e.href){var i=this.__createElement("a");return i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),i.appendChild(t),i}return t}__applyText(e,t,i,n){var o,r,a=this.__parseFont(),s=this.__closestGroupOrSvg(),c=this.__createElement("text",{"font-family":a.family,"font-size":a.size,"font-style":a.style,"font-weight":a.weight,"text-decoration":a.decoration,x:t,y:i,"text-anchor":(o=this.textAlign,r={left:"start",right:"end",center:"middle",start:"start",end:"end"},r[o]||r.start),"dominant-baseline":kf(this.textBaseline)},!0);c.appendChild(this.__document.createTextNode(e)),this.__currentElement=c,this.__applyStyleToCurrentElement(n),s.appendChild(this.__wrapTextLink(a,c))}fillText(e,t,i){this.__applyText(e,t,i,"fill")}strokeText(e,t,i){this.__applyText(e,t,i,"stroke")}measureText(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)}arc(e,t,i,n,o,r){if(n!==o){(n%=2*Math.PI)===(o%=2*Math.PI)&&(o=(o+2*Math.PI-.001*(r?-1:1))%(2*Math.PI));var a=e+i*Math.cos(o),s=t+i*Math.sin(o),c=e+i*Math.cos(n),l=t+i*Math.sin(n),h=r?0:1,d=0,f=o-n;f<0&&(f+=2*Math.PI),d=r?f>Math.PI?0:1:f>Math.PI?1:0,this.lineTo(c,l),this.__addPathCommand(Cf("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:i,ry:i,xAxisRotation:0,largeArcFlag:d,sweepFlag:h,endX:a,endY:s})),this.__currentPosition={x:a,y:s}}}clip(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),i=xf(this.__ids),n=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",i),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",Cf("url(#{id})",{id:i})),e.appendChild(n),this.__currentElement=n}drawImage(){var e,t,i,n,o,r,a,s,c,l,h,d,f,u=Array.prototype.slice.call(arguments),p=u[0],m=0,g=0;if(3===u.length)e=u[1],t=u[2],i=o=p.width,n=r=p.height;else if(5===u.length)e=u[1],t=u[2],i=u[3],n=u[4],o=p.width,r=p.height;else{if(9!==u.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);m=u[1],g=u[2],o=u[3],r=u[4],e=u[5],t=u[6],i=u[7],n=u[8]}a=this.__closestGroupOrSvg(),this.__currentElement;var w="translate("+e+", "+t+")";if(p instanceof Df){if((s=p.getSvg().cloneNode(!0)).childNodes&&s.childNodes.length>1){for(c=s.childNodes[0];c.childNodes.length;)f=c.childNodes[0].getAttribute("id"),this.__ids[f]=f,this.__defs.appendChild(c.childNodes[0]);if(l=s.childNodes[1]){var F,b=l.getAttribute("transform");F=b?b+" "+w:w,l.setAttribute("transform",F),a.appendChild(l)}}}else"CANVAS"!==p.nodeName&&"IMG"!==p.nodeName||((h=this.__createElement("image")).setAttribute("width",i),h.setAttribute("height",n),h.setAttribute("preserveAspectRatio","none"),(m||g||o!==p.width||r!==p.height)&&((d=this.__document.createElement("canvas")).width=i,d.height=n,d.getContext("2d").drawImage(p,m,g,o,r,0,0,i,n),p=d),h.setAttribute("transform",w),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===p.nodeName?p.toDataURL():p.getAttribute("src")),a.appendChild(h))}createPattern(e,t){let i,n=this.__document.__createElement("pattern"),o=xf(this.__ids);return n.setAttribute("id",o),n.setAttribute("width",e.width),n.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?(i=this.__createElement("image"),i.setAttribute("width",e.width),i.setAttribute("height",e.height),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),n.appendChild(i),this.__defs.appendChild(n)):e instanceof Df&&(n.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(n)),new zf(n,this)}setLineDash(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null}drawFocusRing(){}createImageData(){}getImageData(){}putImageData(){}globalCompositeOperation(){}setTransform(){}}const Af=function(e,t,i,n){this.start=e,this.end=t,this.name=i,this.stain=0,"acen"===n?this.type="c":(this.type=n.charAt(1),"p"===this.type&&(this.stain=parseInt(n.substring(4))))};function Mf(){return"2.15.13"}const Tf=Ka,Rf={loadGenome:async function(e){const t=e.cytobandURL,i=e.aliasURL,n=await ff(e);let o;i&&(o=await function(e,t){return ad.loadString(e,zd(t)).then((function(e){var t=Tf(e),i=[];return t.forEach((function(e){!e.startsWith("#")&&e.length>0&&i.push(e.split("\t"))})),i}))}(i,n.config));const r=new Lf(e,n,o);return t&&(r.cytobands=await async function(e,t,i){let n;if(Rd(e)){const t=Rh(e);n="";const i=t.length;for(let e=0;e<i;e++)n+=String.fromCharCode(t[e])}else n=await ad.loadString(e,zd(t));const o={};let r,a=[];const s=Tf(n);for(let e of s){var c=e.split("\t"),l=i.getChromosomeName(c[0]);if(r||(r=l),l!==r&&(o[r]=a,a=[],r=l),5===c.length){var h=parseInt(c[1]),d=parseInt(c[2]),f=c[3],u=c[4];a.push(new Af(h,d,f,u))}}return o}(t,n.config,r)),r},initializeGenomes:async function(e){if(!Rf.KNOWN_GENOMES){const t={};if(!1!==e.loadDefaultGenomes)try{const o=`https://igv.org/genomes/genomes.json?randomSeed=${Math.random().toString(36)}&version=2.15.13`;n(await ad.loadJson(o,{timeout:5e3}))}catch(r){console.error(r);try{const a=`https://s3.amazonaws.com/igv.org.genomes/genomes.json?randomSeed=${Math.random().toString(36)}&version=2.15.13`;n(await ad.loadJson(a,{}))}catch(s){console.error(s),console.warn("Errors loading default genome definitions.")}}const i=e.genomeList||e.genomes;if(i)if("string"==typeof i){n(await ad.loadJson(i,{}))}else n(i);function n(e){return e.forEach((function(e){t[e.id]=e})),t}Rf.KNOWN_GENOMES=t}},isWholeGenomeView:function(e){return"all"===e.toLowerCase()},expandReference:function(e,t){if($a(t)&&t.startsWith("{"))try{t=JSON.parse(t)}catch(e){}let i;if($a(t)?i=t:t.genome?i=t.genome:void 0!==t.id&&void 0===t.fastaURL&&(i=t.id),i){const t=Rf.KNOWN_GENOMES[i];return t||e.present(new Error(`Unknown genome id: ${i}`),void 0),t}return t}};class Lf{constructor(e,t,i){this.config=e,this.id=e.id||function(e){return void 0!==e.id?e.id:e.fastaURL&&$a(e.fastaURL)?e.fastaURL:e.fastaURL&&e.fastaURL.name?e.fastaURL.name:("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)}(e),this.sequence=t,this.chromosomeNames=t.chromosomeNames,this.chromosomes=t.chromosomes,this.featureDB=new Map,this.wholeGenomeView=void 0===e.wholeGenomeView||e.wholeGenomeView,this.wholeGenomeView&&Object.keys(t.chromosomes).length>1?function(e,t){let i;if(t.chromosomeOrder)Array.isArray(t.chromosomeOrder)?e.wgChromosomeNames=t.chromosomeOrder:e.wgChromosomeNames=t.chromosomeOrder.split(",").map((e=>e.trim())),i=e.wgChromosomeNames.map((t=>e.chromosomes[t])).filter((e=>void 0!==e));else{const t=Object.keys(e.chromosomes).map((t=>e.chromosomes[t].bpLength)).reduce(((e,t)=>Math.max(e,t)))/50;i=Object.values(e.chromosomes).filter((e=>e.bpLength>t));const n=i.filter((e=>o(e.name.replace("chr","")))),r=i.filter((e=>!o(e.name.replace("chr",""))));n.sort(((e,t)=>Number.parseInt(e.name.replace("chr",""))-Number.parseInt(t.name.replace("chr",""))));const a=n.map((e=>e.name));for(let e of r)a.push(e.name);e.wgChromosomeNames=a}const n=i.reduce(((e,t)=>e+t.bpLength),0);function o(e){return/^\d+$/.test(e)}e.chromosomes.all={name:"all",bpLength:n}}(this,e):this.wgChromosomeNames=t.chromosomeNames;var n={},o=this;n.all="all",this.chromosomeNames.forEach((function(e){var t=e.startsWith("chr")?e.substring(3):"chr"+e;n[t.toLowerCase()]=e,"chrM"===e&&(n.mt="chrM"),"MT"===e&&(n.chrm="MT"),n[e.toLowerCase()]=e})),i&&i.forEach((function(e){var t,i;for(i=0;i<e.length;i++)if(o.chromosomes[e[i]]){t=e[i];break}t&&e.forEach((function(e){e!==t&&(n[e.toLowerCase()]=t,n[e]=t)}))})),this.chrAliasTable=n}showWholeGenomeView(){return!1!==this.config.wholeGenomeView}toJSON(){return Object.assign({},this.config,{tracks:void 0})}getInitialLocus(){}getHomeChromosomeName(){return this.showWholeGenomeView()&&this.chromosomes.hasOwnProperty("all")?"all":this.chromosomeNames[0]}getChromosomeName(e){const t=e?this.chrAliasTable[e.toLowerCase()]:e;return t||e}getChromosome(e){return e=this.getChromosomeName(e),this.chromosomes[e]}getCytobands(e){return this.cytobands?this.cytobands[e]:null}getLongestChromosome(){var e,t=this.chromosomes;for(let n in t){if(t.hasOwnProperty(n)){var i=t[n];(void 0===e||i.bpLength>e.bpLength)&&(e=i)}return e}}getChromosomes(){return this.chromosomes}getGenomeCoordinate(e,t){var i=this.getCumulativeOffset(e);if(void 0!==i)return i+t}getChromosomeCoordinate(e){let t;void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=computeCumulativeOffsets.call(this));let i=0;for(let n of this.wgChromosomeNames){const o=this.cumulativeOffsets[n];if(o>e){return{chr:t,position:e-i}}t=n,i=o}return{chr:this.wgChromosomeNames[this.wgChromosomeNames.length-1],position:0}}getCumulativeOffset(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=function(){let e=this,t={},i=0;for(let n of e.wgChromosomeNames){t[n]=Math.floor(i);i+=e.getChromosome(n).bpLength}return t}.call(this));const t=this.getChromosomeName(e);return this.cumulativeOffsets[t]}getGenomeLength(){let e=this;if(!this.bpLength){let t=0;e.wgChromosomeNames.forEach((function(i){let n=e.chromosomes[i];t+=n.bpLength})),this.bpLength=t}return this.bpLength}async getSequence(e,t,i){return e=this.getChromosomeName(e),this.sequence.getSequence(e,t,i)}addFeaturesToDB(e,t){const i=(e,t)=>{const i=this.featureDB.get(e);i&&(t=t.end-t.start>i.end-i.start?t:i),this.featureDB.set(e,t)};for(let n of e)if(n.name&&i(n.name.toUpperCase(),n),n.gene&&n.gene.name&&i(n.gene.name.toUpperCase(),n),t.searchableFields)for(let e of t.searchableFields){const t=n.getAttributeValue(e);t&&(t.indexOf(" ")>0?i(t.replaceAll(" ","+").toUpperCase(),n):i(t.toUpperCase(),n))}}}let Bf,Hf=0,Of=0;class Pf extends _f{constructor(e,t,i,n){super(e,t,i,n)}initializationHelper(){this.$spinner=wr("<div>",{class:"igv-loading-spinner-container"}),this.$viewport.append(this.$spinner),this.$spinner.append(wr("<div>"));const e=this.trackView.track;"sequence"!==e.type&&(this.$zoomInNotice=this.createZoomInNotice(this.$viewport)),e.name&&"sequence"!==e.id&&(this.$trackLabel=wr('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(e.name),!1===this.browser.trackLabelsVisible&&this.$trackLabel.hide()),this.stopSpinner(),this.addMouseHandlers()}setContentHeight(e){super.setContentHeight(e),this.featureCache&&(this.featureCache.redraw=!0)}setTrackLabel(e){this.$trackLabel.empty(),this.$trackLabel.html(e);const t=this.$trackLabel.text();this.$trackLabel.attr("title",t)}startSpinner(){this.$spinner.show()}stopSpinner(){this.$spinner&&this.$spinner.hide()}checkZoomIn(){if(this.trackView.track&&"sequence"===this.trackView.track.type&&this.referenceFrame.bpPerPixel>10)return wr(this.canvas).remove(),this.canvas=void 0,!1;if(!this.viewIsReady())return!1;if((()=>{if("all"!==this.referenceFrame.chr.toLowerCase()||this.trackView.track.supportsWholeGenome){const e=this.trackView.track.visibilityWindow;return void 0!==e&&e>0&&this.referenceFrame.bpPerPixel*this.$viewport.width()>e}return!0})()){if(this.canvas&&(wr(this.canvas).remove(),this.canvas=void 0),this.trackView.track.autoHeight){const e=this.trackView.minHeight||0;this.setContentHeight(e)}return this.$zoomInNotice&&this.$zoomInNotice.show(),!1}return this.$zoomInNotice&&this.$zoomInNotice.hide(),!0}shift(){const e=this.referenceFrame;if(this.canvas&&this.canvas._data&&this.canvas._data.referenceFrame.chr===this.referenceFrame.chr&&this.canvas._data.bpPerPixel===e.bpPerPixel){const t=Math.round((this.canvas._data.bpStart-e.start)/e.bpPerPixel);this.canvas.style.left=t+"px"}}setTop(e){if(super.setTop(e),this.canvas){const t=this.$viewport.height(),i=e+this.canvas._data.pixelTop,n=i+this.canvas._data.pixelHeight;(i>0||n<t)&&this.repaint()}else this.repaint();let t=e+this.canvas._data.pixelTop;this.canvas.style.top=`${t}px`}async loadFeatures(){const e=this.referenceFrame,t=e.chr,i=this.browser.genome.getChromosome(t).bpLength,n=this.$viewport.width()*e.bpPerPixel,o=Math.floor(Math.max(0,e.start-n)),r=Math.ceil(Math.min(i,e.start+n+n));if(!this.loading||this.loading.start!==o||this.loading.end!==r){this.loading={start:o,end:r},this.startSpinner();try{const i=this.trackView.track,n=await this.getFeatures(i,t,o,r,e.bpPerPixel);if(n){let a=[];if(i.roiSets&&i.roiSets.length>0)for(let n of i.roiSets){const i=await n.getFeatures(t,o,r,e.bpPerPixel);a.push({track:n,features:i})}const s=i&&("wig"===i.type||"merged"===i.type);return this.featureCache=new qf(t,o,r,e.bpPerPixel,n,a,s),this.loading=!1,this.hideMessage(),this.stopSpinner(),this.featureCache}}catch(e){this.trackView&&!0!==this.trackView.disposed&&(this.showMessage("Error loading track data"),this.browser.alert.present(e),console.error(e))}finally{this.loading=!1,this.stopSpinner()}}}repaintDimensions(){const e=Rf.isWholeGenomeView(this.referenceFrame.chr),t=e?this.$viewport.width():3*this.$viewport.width(),i=this.referenceFrame.bpPerPixel;return{bpStart:this.referenceFrame.start-(e?0:t/3*i),bpEnd:this.referenceFrame.end+(e?0:t/3*i),pixelWidth:t}}repaint(){if(void 0===this.featureCache)return;const{features:e,roiFeatures:t}=this.featureCache,{bpStart:i,bpEnd:n,pixelWidth:o}=this.repaintDimensions(),r=this.$viewport.height(),a=this.getContentHeight(),s=t?Math.max(a,r):a,c=Math.min(s,3*r);if(0===o||0===c)return void(this.canvas&&wr(this.canvas).remove());const l=Math.max(0,-this.contentTop-Math.floor(c/3)),h=this.referenceFrame.bpPerPixel,d=Math.round((i-this.referenceFrame.start)/h),f=(this.contentTop||0)+l,u=document.createElement("canvas");u.style.position="relative",u.style.display="block",u.style.width=o+"px",u.style.height=c+"px",u.style.left=d+"px",u.style.top=f+"px";const p="FILL"===this.trackView.track.displayMode||!1!==this.trackView.track.supportHiDPI?window.devicePixelRatio:1;u.width=p*o,u.height=p*c;const m=u.getContext("2d");m.scale(p,p),m.translate(0,-l);const g={context:m,pixelXOffset:d,pixelWidth:o,pixelHeight:c,pixelTop:l,bpStart:i,bpEnd:n,bpPerPixel:h,referenceFrame:this.referenceFrame,selection:this.selection,viewport:this,viewportWidth:this.$viewport.width()};this.draw(g,e,t),this.canvas&&wr(this.canvas).remove(),u._data=g,this.canvas=u,this.$viewport.append(wr(u))}refresh(){if(!this.canvas||!this.featureCache)return;const e=this.canvas._data;e.context.clearRect(0,0,this.canvas.width,this.canvas.height);const{features:t,roiFeatures:i}=this.featureCache;this.draw(e,t,i)}draw(e,t,i){if(t&&(e.features=t,this.trackView.track.draw(e)),i&&i.length>0)for(let t of i)e.features=t.features,t.track.draw(e)}containsPosition(e,t){return this.referenceFrame.chr===e&&t>=this.referenceFrame.start&&t<=this.referenceFrame.calculateEnd(this.getWidth())}isLoading(){return this.loading}savePNG(){if(!this.canvas)return;const e=this.canvas._data,t=e?e.pixelTop:0,i=window.devicePixelRatio,n=this.$viewport.width()*i,o=this.$viewport.height()*i,r=-wr(this.canvas).position().left*i,a=(-this.contentTop-t)*i,s=this.canvas.getContext("2d").getImageData(r,a,n,o),c=document.createElement("canvas"),l=c.getContext("2d");c.width=s.width,c.height=s.height,l.putImageData(s,0,0);es((this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",c.toDataURL("image/png"))}saveSVG(){let{width:e,height:t}=this.browser.columnContainer.getBoundingClientRect();const i=new Df({width:e,height:8e3,backdropColor:"white",multiLocusGap:0,viewbox:{x:0,y:0,width:e,height:8e3}}),n={deltaX:32,deltaY:32};this.renderViewportToSVG(i,n),i.setHeight(t);const o=(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),r=this.browser.referenceFrameList.indexOf(this.referenceFrame),a=i.getSerializedSvg(!0),s=URL.createObjectURL(new Blob([a],{type:"application/octet-stream"}));es(`${`${o}_referenceFrame_${r}_guid_${xr.guid()}`}.svg`,s)}renderViewportToSVG(e,{deltaX:t,deltaY:i}){if(this.$zoomInNotice&&this.$zoomInNotice.is(":visible"))return;const{width:n,height:o}=this.$viewport.get(0).getBoundingClientRect(),r=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_referenceFrame_${this.browser.referenceFrameList.indexOf(this.referenceFrame)}_guid_${xr.guid()}`;this.drawSVGWithContext(e,n,o,r,t,i+this.contentTop,-this.contentTop)}renderSVGContext(e,{deltaX:t,deltaY:i}){if(this.renderViewportToSVG(e,{deltaX:t,deltaY:i}),(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible"))&&this.$trackLabel&&!0===this.browser.trackLabelsVisible){const{x:n,y:o,width:r,height:a}=xr.relativeDOMBBox(this.$viewport.get(0),this.$trackLabel.get(0));this.renderTrackLabelSVG(e,t+n,i+o,r,a)}}renderTrackLabelSVG(e,t,i,n,o){const r=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_track_label_guid_${xr.guid()}`;e.saveWithTranslationAndClipRect(r,t,i,n,o,0),e.fillStyle="white",e.fillRect(0,0,n,o),e.font="12px Arial",e.fillStyle="rgb(68, 68, 68)";const{width:a}=e.measureText(this.$trackLabel.text()),s=.25*(n-a),c=.7*(o-12);e.fillText(this.$trackLabel.text(),s,o-c),e.strokeStyle="rgb(68, 68, 68)",e.strokeRect(0,0,n,o),e.restore()}drawSVGWithContext(e,t,i,n,o,r,a){e.saveWithTranslationAndClipRect(n,o,r,t,i,a);let{start:s,bpPerPixel:c}=this.referenceFrame;const l={context:e,viewport:this,referenceFrame:this.referenceFrame,top:a,pixelTop:a,pixelWidth:t,pixelHeight:i,bpStart:s,bpEnd:s+t*c,bpPerPixel:c,viewportWidth:t,selection:this.selection},h=this.featureCache?this.featureCache.features:void 0,d=this.featureCache?this.featureCache.roiFeatures:void 0;this.draw(l,h,d),e.restore()}get cachedFeatures(){return this.featureCache?this.featureCache.features:[]}clearCache(){this.featureCache=void 0,this.canvas&&(this.canvas._data=void 0)}async getFeatures(e,t,i,n,o){if(this.featureCache&&this.featureCache.containsRange(t,i,n,o))return this.featureCache.features;if("function"==typeof e.getFeatures){const r=await e.getFeatures(t,i,n,o,this);return this.checkContentHeight(r),r}}needsRepaint(){if(!this.canvas)return!0;const e=this.canvas._data;return!e||this.referenceFrame.start<e.bpStart||this.referenceFrame.end>e.bpEnd||this.referenceFrame.chr!==e.referenceFrame.chr||this.referenceFrame.bpPerPixel!=e.bpPerPixel}needsReload(){if(!this.featureCache)return!0;const{chr:e,bpPerPixel:t}=this.referenceFrame,{bpStart:i,bpEnd:n}=this.repaintDimensions();return!this.featureCache.containsRange(e,i,n,t)}createZoomInNotice(e){const t=wr("<div>",{class:"igv-zoom-in-notice-container"});e.append(t);const i=wr("<div>");return t.append(i),i.text("Zoom in to see features"),t.hide(),t}viewIsReady(){return this.browser&&this.browser.referenceFrameList&&this.referenceFrame}addMouseHandlers(){const e=this.$viewport.get(0);this.addViewportContextMenuHandler(e);const t=e=>{this.enableClick=!0,this.browser.mouseDownOnViewport(e,this),xr.pageCoordinates(e)};e.addEventListener("mousedown",t),e.addEventListener("touchstart",t);const i=e=>{this.browser.dragObject||this.browser.isScrolling?(this.browser.cancelTrackPan(),this.enableClick=!1):(this.browser.cancelTrackPan(),this.browser.endTrackDrag())};e.addEventListener("mouseup",i),e.addEventListener("touchend",i),"function"==typeof this.trackView.track.hoverText&&e.addEventListener("mousemove",(e=>{if(0===e.buttons&&Date.now()-Of>100){Of=Date.now();const t=this.createClickState(e);if(t){const e=this.trackView.track.hoverText(t);e?this.$viewport[0].setAttribute("title",e):this.$viewport[0].removeAttribute("title")}}})),this.addViewportClickHandler(this.$viewport.get(0)),this.trackView.track.name&&"sequence"!==this.trackView.track.config.type&&this.addTrackLabelClickHandler(this.$trackLabel.get(0))}addViewportContextMenuHandler(e){e.addEventListener("contextmenu",(e=>{if(this.browser.dragObject)return!1;const t=this.createClickState(e);if(void 0===t)return!1;e.preventDefault();let i=[];if("function"==typeof this.trackView.track.contextMenuItemList){const e=this.trackView.track.contextMenuItemList(t);e&&(i=e)}i.length>0&&i.push({label:wr("<HR>")}),i.push({label:"Save Image (PNG)",click:()=>this.savePNG()}),i.push({label:"Save Image (SVG)",click:()=>this.saveSVG()}),this.browser.menuPopup.presentTrackContextMenu(e,i)}))}addViewportClickHandler(e){e.addEventListener("click",(e=>{if(this.enableClick&&this.canvas){if(3===e.which||e.ctrlKey)return;if(wr(".igv-popover").hide(),this.browser.dragObject||this.browser.isScrolling)return;e.preventDefault();const t=xr.translateMouseCoordinates(e,this.$viewport.get(0)).x,i=xr.translateMouseCoordinates(e,this.canvas).x,n=this.referenceFrame,o=Math.floor(n.start+n.toBP(i)),r=Date.now();if(r-Hf<this.browser.constants.doubleClickDelay){Bf&&(window.clearTimeout(Bf),Bf=void 0);const e=Math.round(n.start+n.toBP(t));let i;if("all"===this.referenceFrame.chr.toLowerCase()){const t=this.browser.genome.getChromosomeCoordinate(e).chr;if(1===this.browser.referenceFrameList.length)i=t;else{const e=this.browser.referenceFrameList.map((({locusSearchString:e})=>e));e[this.browser.referenceFrameList.indexOf(this.referenceFrame)]=t,i=e.join(" ")}this.browser.search(i)}else this.browser.zoomWithScaleFactor(.5,e,this.referenceFrame)}else e.shiftKey&&"function"==typeof this.trackView.track.shiftClick?this.trackView.track.shiftClick(o,e):"function"==typeof this.trackView.track.popupData&&(Bf=setTimeout((()=>{const t=this.getPopupContent(e);t&&(this.popover&&this.popover.dispose(),this.popover=new Oa(this.browser.columnContainer),this.popover.presentContentWithEvent(e,t)),window.clearTimeout(Bf),Bf=void 0}),this.browser.constants.doubleClickDelay));Hf=r}}))}addTrackLabelClickHandler(e){e.addEventListener("click",(e=>{e.stopPropagation();const{track:t}=this.trackView;let i;"function"==typeof t.description?i=t.description():t.description&&(i=`<div>${t.description}</div>`),i&&(this.popover&&this.popover.dispose(),this.popover=new Oa(this.browser.columnContainer,t.name||""),this.popover.presentContentWithEvent(e,i))}))}createClickState(e){if(!this.canvas)return;const t=this.referenceFrame,i=xr.translateMouseCoordinates(e,this.$viewport.get(0)),n=xr.translateMouseCoordinates(e,this.canvas),o=t.start+t.toBP(i.x);return{event:e,viewport:this,referenceFrame:t,genomicLocation:o,y:i.y-this.contentTop,canvasX:n.x,canvasY:n.y}}getPopupContent(e){const t=this.createClickState(e);if(void 0===t)return;let i=this.trackView.track;const n=i.popupData(t),o=this.browser.fireEvent("trackclick",[i,n]);let r;return void 0===o||!0===o?n&&n.length>0&&(r=n.map((e=>{if(e.name){const t=`<span>${e.name}</span>&nbsp&nbsp&nbsp${e.value}`;return`<div title="${e.value}">${t}</div>`}return"<hr>"===e?e:e.html?e.html:`<div title="${e}">${e}</div>`})).join("")):"string"==typeof o&&(r=o),r}}class qf{constructor(e,t,i,n,o,r,a){this.chr=e,this.bpStart=t,this.bpEnd=i,this.bpPerPixel=n,this.features=o,this.roiFeatures=r,this.multiresolution=a}containsRange(e,t,i,n){const o=this.multiresolution?this.bpPerPixel/n:1;return t>=this.bpStart&&i<=this.bpEnd&&e===this.chr&&o>.5&&o<2}overlapsRange(e,t,i){return this.chr===e&&i>=this.bpStart&&t<=this.bpEnd}}function Uf(e,t){if(!(e.length<6))return{chr:e[0],start:e[1],end:e[2],chr1:e[8],start1:Number.parseInt(e[9]),end1:Number.parseInt(e[10]),chr2:e[13],start2:Number.parseInt(e[14]),end2:Number.parseInt(e[15]),name:e[3],score:Number(e[4]),value:Number(e[5]),color:"."===e[7]?void 0:"0"===e[7]?"rgb(0,0,0)":e[7]};console.log("Skipping line: "+e.join(" "))}const Vf=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna","lnc_RNA","miRNA","ncRNA","rRNA","scRNA","snRNA","snoRNA","tRNA"]),jf=new Set(["CDS","cds"]),Wf=new Set(["start_codon","stop_codon"]),Gf=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),$f=new Set(["exon","coding-exon"]),Zf=new Set;for(let Bk of[jf,Wf,Gf,$f])for(let Hk of Bk)Zf.add(Hk);function Kf(e){return e.includes("intron")}function Xf(e){return jf.has(e)||Wf.has(e)}function Yf(e){return Gf.has(e)}function Qf(e){return Vf.has(e)||e.endsWith("RNA")||e.endsWith("transcript")}function Jf(e){return Zf.has(e)||e.endsWith("RNA")||Kf(e)}const eu=new Set(["id","parent","name"]);class tu{constructor(e){Object.assign(this,e)}popupData(e){const t=this.geneObject?this.geneObject.popupData():[];if(this.geneObject&&t.push("<hr/>"),this.name&&t.push({name:"Name",value:this.name}),t.push({name:"Type",value:this.type}),t.push({name:"Source",value:this.source}),void 0!==this.score&&t.push({name:"Score",value:this.score}),this.attributeString){const e=au(this.attributeString,this.delim);for(let[i,n]of e)void 0!==n&&n.length>0&&!eu.has(i.toLowerCase())&&t.push({name:i+":",value:n})}return t.push({name:"Location",value:`${this.chr}:${Za(this.start+1)}-${Za(this.end)}`}),t}getAttributeValue(e){if(this.hasOwnProperty(e))return this[e];if(this._attributeCache||(this._attributeCache=new Map),this._attributeCache.has(e))return this._attributeCache.get(e);{const t=au(this.attributeString,this.delim);let i;for(let[n,o]of t)if(n===e){i=o;break}return this._attributeCache.set(e,i),i}}}class iu extends tu{constructor(e){super(e),this.exons=[],this.parts=[]}addExon(e){this.exons.push(e),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)}addPart(e){this.parts.push(e)}assembleParts(){if(0===this.parts.length)return;this.parts.sort((function(e,t){return e.start-t.start}));let e=this.parts[0].start,t=this.parts[0].end;for(let i=1;i<this.parts.length;i++){const n=this.parts[i];if(!Kf(n.type))if(n.start<=t)t=Math.max(t,n.end);else{this.findExonContaining({start:e,end:t})||this.exons.push({start:e,end:t,psuedo:!0}),e=n.start,t=n.end}}this.findExonContaining({start:e,end:t})||(this.exons.push({start:e,end:t,psuedo:!0}),this.start=Math.min(this.start,e),this.end=Math.max(this.end,t));for(let e of this.parts){const t=e.type;Xf(t)?this.addCDS(e):Yf(t)&&this.addUTR(e)}}findExonContaining({start:e,end:t}){for(let i of this.exons)if(i.end>=t&&i.start<=e)return i}addCDS(e){let t;const i=this.exons;for(let n of i)if(n.start<=e.start&&n.end>=e.end){t=n;break}t?(t.cdStart=t.cdStart?Math.min(e.start,t.cdStart):e.start,t.cdEnd=t.cdEnd?Math.max(e.end,t.cdEnd):e.end):console.error("No exon found spanning "+e.start+"-"+e.end),this.cdStart=this.cdStart?Math.min(e.start,this.cdStart):e.start,this.cdEnd=this.cdEnd?Math.max(e.end,this.cdEnd):e.end}addUTR(e){let t;const i=this.exons;for(let n=0;n<i.length;n++)if(i[n].start<=e.start&&i[n].end>=e.end){t=i[n];break}t?e.start===t.start&&e.end===t.end?t.utr=!0:(e.end<t.end&&(t.cdStart=e.end),e.start>t.start&&(t.cdEnd=e.start)):console.error("No exon found spanning "+cds.start+"-"+cds.end)}finish(){this.assembleParts();var e=this.cdStart,t=this.cdEnd;this.exons.sort((function(e,t){return e.start-t.start})),e&&this.exons.forEach((function(i){(i.end<e||i.start>t)&&(i.utr=!0)}))}popupData(e){const t=super.popupData(e);for(let i of this.exons)if(!i.pseudo&&e>=i.start&&e<i.end&&"function"==typeof i.popupData){t.push("<hr/>");const n=i.popupData(e);for(let e of n)t.push(e)}for(let i of this.parts)if(e>=i.start&&e<i.end&&"function"==typeof i.popupData){t.push("<hr/>");const n=i.popupData(e);for(let e of n)t.push(e)}return t}}function nu(e,t){const i=t.format;if(e.length<9)return;const n="gff3"===i?"=":" ";return new tu({source:lu(e[1]),type:e[2],chr:e[0],start:parseInt(e[3])-1,end:parseInt(e[4]),score:"."===e[5]?void 0:Number(e[5]),strand:e[6],phase:"."===e[7]?0:parseInt(e[7]),attributeString:e[8],delim:n})}function ou(e,t){const i=nu(e,t);if(!i)return;const n=au(i.attributeString,i.delim);for(let[e,t]of n){const n=e.toLowerCase();"color"===n||"colour"===n?i.color=qh.createColorString(t):"ID"===e?i.id=t:"Parent"===e&&(i.parent=t)}return i}function ru(e,t){const i=nu(e,t);if(!i)return;const n=au(i.attributeString,i.delim);let o,r;switch(i.type){case"gene":o="gene_id";break;case"transcript":o="transcript_id",r="gene_id";break;default:r="transcript_id"}for(let[e,t]of n){const n=e.toLowerCase();"color"===n||"colour"===n?i.color=qh.createColorString(t):e===o?i.id=t:e===r&&(i.parent=t)}return i}function au(e,t,i=!1){var n=[];for(let o of e.split(";")){o=o.trim();const e=o.indexOf(t);if(e>0&&e<o.length-1){const t=su(lu(o.substring(0,e).trim(),i));let r=su(lu(o.substring(e+1).trim(),i));n.push([t,r])}}return n}function su(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2)),e}const cu=new Map([["%09","\t"],["%0A","\n"],["%0D","\r"],["%25","%"],["%3B",";"],["%3D","="],["%26","&"],["%2C",","]]);function lu(e,t=!1){if(!e.includes("%"))return e;if(t)return decodeURIComponent(e);let i="";for(let t=0;t<e.length;t++)if(37===e.charCodeAt(t)&&t<e.length-2){const n=e.substring(t,t+3);cu.has(n)?i+=cu.get(n):i+=n,t+=2}else i+=e.charAt(t);return i}class hu{constructor(e){this.message=e}}function du(e,t){if(e.length<3)return;t&&t.gffTags;const i=e[0],n=parseInt(e[1]),o=e.length>2?parseInt(e[2]):n+1;if(isNaN(n)||isNaN(o))return new hu("Unparsable bed record.");const r=new Cu({chr:i,start:n,end:o,score:1e3});try{if(e.length>3){if(e[3].indexOf(";")>0&&e[3].indexOf("=")>0){const i=au(e[3],"=",!0);r.attributes={};for(let e of i)r.attributes[e[0]]=e[1],null!=t.nameField&&e[0]===t.nameField&&(r.name=e[1])}r.name||(r.name="."===e[3]?"":e[3])}if(e.length>4&&(r.score="."===e[4]?0:Number(e[4]),isNaN(r.score)))return r;if(e.length>5&&(r.strand=e[5],"."!==r.strand&&"+"!==r.strand&&"-"!==r.strand))return r;if(e.length>6&&(r.cdStart=parseInt(e[6]),isNaN(r.cdStart)))return r;if(e.length>7&&(r.cdEnd=parseInt(e[7]),isNaN(r.cdEnd)))return r;if(e.length>8&&"."!==e[8]&&"0"!==e[8]&&(r.color=qh.createColorString(e[8])),e.length>11){const t=parseInt(e[9]);if(t>1e3)return r;const i=e[10].replace(/,$/,"").split(","),o=e[11].replace(/,$/,"").split(",");if(i.length!==o.length||t!==i.length)return r;const a=[];for(let e=0;e<t;e++){const t=n+parseInt(o[e]),r=t+parseInt(i[e]);a.push({start:t,end:r})}a.length>0&&(Fu(a,r.cdStart,r.cdEnd),r.exons=a)}if(t){let i=t.thicknessColumn,n=t.colorColumn;n&&n<e.length&&(r.color=qh.createColorString(e[n])),i&&i<e.length&&(r.thickness=e[i])}}catch(e){}return r}function fu(e,t){if(e.length<=15)return;return{swScore:Number.parseInt(e[1]),milliDiv:Number.parseInt(e[2]),milliDel:Number.parseInt(e[3]),milliIns:Number.parseInt(e[4]),chr:e[5],start:Number.parseInt(e[6]),end:Number.parseInt(e[7]),strand:e[9],repName:e[10],repClass:e[11],repFamily:e[12],repStart:Number.parseInt(e[13]),repEnd:Number.parseInt(e[14]),repLeft:Number.parseInt(e[15])}}function uu(e,t){var i=void 0===t.shift?0:1;if(e.length<=9+i)return;const n=parseInt(e[5+i]),o=parseInt(e[6+i]);var r={name:e[0+i],chr:e[1+i],strand:e[2+i],start:parseInt(e[3+i]),end:parseInt(e[4+i]),cdStart:n,cdEnd:o,id:e[0+i]};const a=wu(parseInt(e[7+i]),e[8+i],e[9+i]);return Fu(a,n,o),r.exons=a,r}function pu(e,t){var i=void 0===t.shift?0:1;if(e.length<=11+i)return;const n=parseInt(e[5+i]),o=parseInt(e[6+i]),r={name:e[11+i],chr:e[1+i],strand:e[2+i],start:parseInt(e[3+i]),end:parseInt(e[4+i]),cdStart:n,cdEnd:o,id:e[0+i]},a=wu(parseInt(e[7+i]),e[8+i],e[9+i]);return Fu(a,n,o),r.exons=a,r}function mu(e,t){var i=void 0===t.shift?0:1;if(e.length<=10+i)return;const n=parseInt(e[6+i]),o=parseInt(e[7+i]);var r={name:e[0+i],id:e[1+i],chr:e[2+i],strand:e[3+i],start:parseInt(e[4+i]),end:parseInt(e[5+i]),cdStart:n,cdEnd:o};const a=wu(parseInt(e[8+i]),e[9+i],e[10+i]);return Fu(a,n,o),r.exons=a,r}function gu(e,t){if(e.length<21)return;const i=e[13],n=parseInt(e[15]),o=parseInt(e[16]),r=e[8].charAt(0),a=parseInt(e[17]),s=[],c=e[20].replace(/,$/,"").split(","),l=e[18].replace(/,$/,"").split(",");for(let e=0;e<a;e++){const t=parseInt(c[e]),i=t+parseInt(l[e]);s.push({start:t,end:i})}return new xu({chr:i,start:n,end:o,strand:r,exons:s,tokens:e})}function wu(e,t,i){const n=parseInt(e),o=t.replace(/,$/,"").split(","),r=i.replace(/,$/,"").split(","),a=[];for(let e=0;e<n;e++){const t=parseInt(o[e]),i=parseInt(r[e]);a.push({start:t,end:i})}return a}function Fu(e,t,i){for(let n of e){const e=n.end,o=n.start;e<t||o>i?n.utr=!0:(t>=o&&t<=e&&(n.cdStart=t),i>=o&&i<=e&&(n.cdEnd=i))}}function bu(e,t){var i,n,o,r,a,s,c;if(!(e.length<9))return i=e[0],n=parseInt(e[1]),o=parseInt(e[2]),a=e[3],s=Number(e[4]),r=e[5].trim(),c=Number(e[6]),0===s&&(s=c),{chr:i,start:n,end:o,name:a,score:s,strand:r,signal:c,pValue:Number(e[7]),qValue:Number(e[8])}}function vu(e,t){if(e.length<=3)return;const i={chr:e[0],start:parseInt(e[1]),end:parseInt(e[2]),value:Number(e[3])};if(t){let n=t.colorColumn;n&&n<e.length&&(i.color=qh.createColorString(e[n]))}return i}function yu(e,t){const i=t.wig;if(i&&"fixedStep"===i.format){const t=i.index*i.step+i.start,n=t+i.span,o=Number(e[0]);return++i.index,isNaN(o)?null:{chr:i.chrom,start:t,end:n,value:o}}if(i&&"variableStep"===i.format){if(e.length<2)return null;const t=parseInt(e[0],10)-1,n=t+i.span,o=Number(e[1]);return isNaN(o)?null:{chr:i.chrom,start:t,end:n,value:o}}return vu(e)}function _u(e,t){if(e.length<6)return;const i=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],n={chr:e[1],start:Number.parseInt(e[2]),end:Number.parseInt(e[3]),name:e[4],score:Number.parseInt(e[5])},o=Math.min(e.length,i.length);for(let t=6;t<o;t++)n[i[t]]=e[t];return n}class Cu{constructor(e){Object.assign(this,e)}getAttributeValue(e){return this.hasOwnProperty(e)?this[e]:this.attributes?this.attributes[e]:void 0}}class xu{constructor(e){Object.assign(this,e)}get score(){const e=this.tokens,t=parseInt(e[0]),i=parseInt(e[2]),n=parseInt(e[1]),o=parseInt(e[4]),r=parseInt(e[6]),a=parseInt(e[10]);return Math.floor(1e3*(t+i-n-o-r)/a)}get matches(){return this.tokens[0]}get misMatches(){return this.tokens[1]}get repMatches(){return this.tokens[2]}get nCount(){return this.tokens[3]}get qNumInsert(){return this.tokens[4]}get qBaseInsert(){return this.tokens[5]}get tNumInsert(){return this.tokens[6]}get tBaseInsert(){return this.tokens[7]}popupData(){return[{name:"chr",value:this.chr},{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"strand",value:this.strand},{name:"score",value:this.score},{name:"match",value:this.matches},{name:"mis-match",value:this.misMatches},{name:"rep. match",value:this.repMatches},{name:"N's",value:this.nCount},{name:"Q gap count",value:this.qNumInsert},{name:"Q gap bases",value:this.qBaseInsert},{name:"T gap count",value:this.tNumInsert},{name:"T gap bases",value:this.tBaseInsert}]}}function ku(e,t){if(!(e.length<7)){var i=e[0],n=e[1],o=parseInt(e[2]),r=parseInt(e[3]),a=parseInt(e[4]),s=parseInt(e[5]),c=e[6],l={chr:i,name:n,junction_left:o,junction_right:r,num_junction_reads:a,num_spanning_frags:s,spanning_frag_coords:[],start:-1,end:-1},h=o,d=r;if(s>0)for(var f=c.split(","),u=0;u<f.length;u++){var p=f[u].split("-"),m=p[0],g=p[1];m<h&&(h=m),g>d&&(d=g),l.spanning_frag_coords.push({left:m,right:g})}return l.start=h,l.end=d,l}}function Eu(e,t){if(e.length<7)return null;const i={chr:e[0],start:parseInt(e[1])-1,end:parseInt(e[2]),"Strongest SNP-risk allele":e[3],"Disease/Phenotype":e[4],"P-value":e[5],"Odds ratio or beta":e[6]};return e.length>6&&(i.PUBMEDID=`<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/${e[7]}">${e[7]}</a>`),i}function Nu(e,t){const i=t.customFormat;if(e.length<i.fields.length)return;const n=i.coords||0,o=e[i.chr],r=parseInt(e[i.start])-n,a={chr:o,start:r,end:void 0!==i.end?parseInt(e[i.end]):r+1};return i.fields&&i.fields.forEach((function(t,n){n!==i.chr&&n!==i.start&&n!==i.end&&(a[t]=e[n])})),a}function Su(e,t){const i=t.columnNames;if(!i)throw Error("Sample names are not defined.   Missing column headers?");const n=i.length-3,o=e[0],r=parseInt(e[1]),a=parseInt(e[2]),s=e.slice(3).map(Number);return s.length==n?{chr:o,start:r,end:a,values:s}:void console.warn(`${o}:${r}-${a} row contains ${s.length} sample columns instead of the expected ${n} columns. Skipping...`)}class Iu{constructor(e){this.config=e,this.header={},e.nameField&&(this.header.nameField=e.nameField),this.skipRows=0,e.decode?(this.decode=e.decode,this.delimiter=e.delimiter||"\t"):e.format&&(this.header.format=e.format.toLowerCase(),this.setDecoder(this.header.format)),this.delimiter||(this.delimiter="\t")}async parseHeader(e){let t,i,n=this.header;for(;void 0!==(i=await e.nextLine());)if(i.startsWith("track")||i.startsWith("#track")){let e=zu(i);Object.assign(n,e)}else if(i.startsWith("browser"));else if(i.startsWith("#columns")){let e=Du(i);Object.assign(n,e)}else if(i.startsWith("##gff-version 3"))n.format="gff3";else if(i.startsWith("#gffTags"))n.gffTags=!0;else{if(i.startsWith("fixedStep")||i.startsWith("variableStep"))break;if(i.startsWith("#")){const e=i.split(this.delimiter||"\t");e.length>1&&(t=e)}else{this.setDecoder(n.format);const e=i.split(this.delimiter||"\t");try{const i=Object.assign({columnNames:t},n);if(this.decode(e,i))break;e.length>1&&(t=e)}catch(i){e.length>1&&(t=e)}}}if(t){n.columnNames=t;for(let e=0;e<t.length;e++)"color"===t[e]||"colour"===t[e]?n.colorColumn=e:"thickness"===t[e]&&(n.thicknessColumn=e)}return this.header=n,n}async parseFeatures(e){const t=[],i=this.decode,n=this.header.format,o=this.delimiter||"\t";let r,a=0,s=0;for(;void 0!==(r=await e.nextLine());){if(a++,a<=this.skipRows)continue;if(!r||r.startsWith("track")||r.startsWith("#")||r.startsWith("browser"))continue;if("wig"===n&&r.startsWith("fixedStep")){this.header.wig=Au(r);continue}if("wig"===n&&r.startsWith("variableStep")){this.header.wig=Mu(r);continue}const e=r.split(o);if(e.length<1)continue;const c=i(e,this.header);c instanceof hu?(s++,s>0&&console.error(`Error parsing line '${r}': ${c.message}`)):c&&t.push(c)}return i===Pd&&function(e){if(0==e.length)return;const t=e[0];if(void 0===t.score&&void 0!==t.name){for(let t of e)if(!("number"==typeof(i=t.name)?i-i==0:"string"==typeof i&&""!==i.trim()&&(Number.isFinite?Number.isFinite(+i):isFinite(+i)))&&"."!==t.name)return;for(let t of e)t.score=Number(t.name),delete t.name}var i;const n=e.filter((e=>e.chr1!==e.chr2));for(let t of n){const i=Object.assign({},t);i.dup=!0,e.push(i),t.chr=t.chr1,t.start=t.start1,t.end=t.end1,i.chr=i.chr2,i.start=i.start2,i.end=i.end2}}(t),t}setDecoder(e){switch(e){case"narrowpeak":case"broadpeak":case"regionpeak":case"peaks":this.decode=bu,this.delimiter=this.config.delimiter||/\s+/;break;case"bedgraph":this.decode=vu,this.delimiter=/\s+/;break;case"wig":this.decode=yu,this.delimiter=this.config.delimiter||/\s+/;break;case"gff3":case"gff":this.decode=ou,this.delimiter="\t";break;case"gtf":this.decode=ru,this.delimiter="\t";break;case"fusionjuncspan":this.decode=ku,this.delimiter=this.config.delimiter||/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=Eu,this.delimiter="\t";break;case"refflat":this.decode=mu,this.delimiter=this.config.delimiter||/\s+/;break;case"genepred":this.decode=uu,this.delimiter=this.config.delimiter||/\s+/;break;case"genepredext":this.decode=pu,this.delimiter=this.config.delimiter||/\s+/;break;case"ensgene":this.decode=uu,this.header.shift=1,this.delimiter=this.config.delimiter||/\s+/;break;case"refgene":this.decode=pu,this.delimiter=this.config.delimiter||/\s+/,this.header.shift=1;break;case"bed":this.decode=du,this.delimiter=this.config.delimiter||/\s+/;break;case"bedpe":case"hiccups":this.decode=Pd,this.delimiter=this.config.delimiter||"\t";break;case"bedpe-domain":this.decode=qd,this.headerLine=!0,this.delimiter=this.config.delimiter||"\t";break;case"bedpe-loop":this.decode=Pd,this.delimiter=this.config.delimiter||"\t",this.header={colorColumn:7};break;case"interact":this.decode=Uf,this.delimiter=this.config.delimiter||/\s+/;break;case"snp":this.decode=_u,this.delimiter="\t";break;case"rmsk":this.decode=fu,this.delimiter="\t";break;case"gcnv":this.decode=Su,this.delimiter="\t";break;default:const t=jd(e);void 0!==t?(this.decode=Nu,this.header.customFormat=t,this.delimiter=t.delimiter||"\t"):(this.decode=du,this.delimiter=this.config.delimiter||/\s+/)}}}function zu(e){const t={},i=e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g);let n;const o=[];for(let e of i)e&&0!==e.trim().length&&(e.endsWith("=")?n=e:n?(o.push(n+e),n=void 0):o.push(e));for(let e of o){if(!e)return;var r=e.split("=",2);if(2===r.length){const e=r[0].trim(),i=r[1].trim();if(t.hasOwnProperty(e)){let n=t[e];Array.isArray(n)?n.push(i):t[e]=[n,i]}else t[e]=i}}return"interact"==t.type?t.format="interact":"gcnv"===t.type&&(t.format="gcnv"),t}function Du(e){let t={},i=e.split(/\s+/);if(2===i.length){i[1].split(";").forEach((function(e){let i=e.split("=");"color"===i[0]?t.colorColumn=Number.parseInt(i[1])-1:"thickness"===i[0]&&(t.thicknessColumn=Number.parseInt(i[1])-1)}))}return t}function Au(e){const t=e.split(/\s+/);return{format:"fixedStep",chrom:t[1].split("=")[1],start:parseInt(t[2].split("=")[1],10)-1,step:parseInt(t[3].split("=")[1],10),span:t.length>4?parseInt(t[4].split("=")[1],10):1,index:0}}function Mu(e){const t=e.split(/\s+/);return{format:"variableStep",chrom:t[1].split("=")[1],span:t.length>2?parseInt(t[2].split("=")[1],10):1}}class Tu{static defaults={height:50,autoHeight:!1,visibilityWindow:void 0,color:void 0,altColor:void 0,supportHiDPI:!0};constructor(e,t){this.browser=t,this.init(e)}init(e){this.config=e,e.displayMode&&(e.displayMode=e.displayMode.toUpperCase());const t=Object.assign({},Tu.defaults);if(this.constructor.defaults)for(let e of Object.keys(this.constructor.defaults))t[e]=this.constructor.defaults[e];for(let n of Object.keys(t))this[n]=e.hasOwnProperty(n)?e[n]:t[n],"color"!==n&&"altColor"!==n||(this[n]=$a(i=this[n])&&i.indexOf(",")>0&&!i.startsWith("rgb(")&&!i.startsWith("rgba(")?`rgb(${i})`:i);var i;e.name||e.label?this.name=e.name||e.label:Ja(e.url)?this.name=e.url.name:$a(e.url)&&!e.url.startsWith("data:")&&(this.name=Qa(e.url)),this.url=e.url,this.config.type&&(this.type=this.config.type),this.id=void 0===this.config.id?this.name:this.config.id,this.order=e.order,this.autoscaleGroup=e.autoscaleGroup,this.removable=void 0===e.removable||e.removable,this.minHeight=e.minHeight||Math.min(25,this.height),this.maxHeight=e.maxHeight||Math.max(1e3,this.height),e.onclick&&(this.onclick=e.onclick,e.onclick=void 0),e.description&&("function"==typeof e.description?this.description=e.description:this.description=()=>e.description),e.hoverTextFields?this.hoverText=Ru.bind(this):"function"==typeof this.config.hoverText&&(this.hoverText=this.config.hoverText)}get name(){return this._name}set name(e){this._name=e,this.trackView&&this.trackView.setTrackLabelName(e)}updateConfig(e){this.init(e)}clearCachedFeatures(){this.trackView&&this.trackView.clearCachedFeatures()}updateViews(){this.trackView&&this.trackView.updateViews()}getState(){const e={};for(let i of Object.keys(this.config))i.startsWith("_")||(void 0===(t=this.config[i])||"function"==typeof t||t instanceof File||t instanceof Promise)||(e[i]=this.config[i]);var t;for(let t of Object.keys(e)){if(t.startsWith("_"))continue;const i=this[t];i&&(Id(i)||"boolean"==typeof i||"metadata"===t)&&(e[t]=i)}const i=Tu.defaults;if(this.constructor.defaults)for(let e of Object.keys(this.constructor.defaults))i[e]=this.constructor.defaults[e];for(let t of Object.keys(i))void 0!==this[t]&&i[t]!==this[t]&&(e[t]=this[t]);return!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max),e}get supportsWholeGenome(){return!0===this.config.supportsWholeGenome}hasSamples(){return!1}getGenomeId(){return this.browser.genome?this.browser.genome.id:void 0}setTrackProperties(e){if(this.disposed)return;const t={};let i;for(let n of Object.keys(e))switch(n.toLowerCase()){case"usescore":t.useScore=1===e[n]||"1"===e[n]||"on"===e[n]||!0===e[n];break;case"visibility":switch(e[n]){case"2":case"3":case"pack":case"full":t.displayMode="EXPANDED";break;case"4":case"squish":t.displayMode="SQUISHED";break;case"1":case"dense":t.displayMode="COLLAPSED"}break;case"color":case"altcolor":t[n]=e[n].startsWith("rgb(")?e[n]:"rgb("+e[n]+")";break;case"featurevisiblitywindow":case"visibilitywindow":t.visibilityWindow=Number.parseInt(e[n]);break;case"maxheightpixels":i=e[n].split(":"),3===i.length&&(t.minHeight=Number.parseInt(i[2]),t.height=Number.parseInt(i[1]),t.maxHeight=Number.parseInt(i[0]));break;case"viewlimits":if(!this.config.autoscale){i=e[n].split(":");let o,r=0;1==i.length?o=Number(i[0]):2==i.length&&(r=Number(i[0]),o=Number(i[1])),t.autoscale=!1,t.dataRange={min:r,max:o},this.viewLimitMin=r,this.viewLimitMax=o}case"name":t[n]=e[n];break;case"url":t.infoURL=e[n];break;case"type":const o=e[n];Lu.has(o)?t[n]=Lu.get(o):t[n]=o;break;case"graphtype":t.graphType=e[n];break;default:t[n]=e[n]}for(let e of Object.keys(t))if(!this.config.hasOwnProperty(e)||"name"===e&&this.config._derivedName){let i=t[e];if("true"===i&&(i=!0),"false"===i&&(i=!1),this[e]=i,"height"===e&&this.trackView)try{const e=Number.parseInt(i);this.trackView.setTrackHeight(e)}catch(e){console.error(e)}}}clickedFeatures(e){const t=e.viewport.cachedFeatures;if(!t||!Array.isArray(t)||0===t.length)return[];const i=e.genomicLocation,n=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:.2;return Fd(t,i-n,i+n)}extractPopupData(e,t){const i=new Set(["row","color","chr","start","end","cdStart","cdEnd","strand","alpha"]),n=[];let o,r;for(let t in e)if(e.hasOwnProperty(t)&&!i.has(t)&&Id(e[t])){let i=e[t];n.push({name:Ya(t),value:i}),"alleles"===t?o=e[t]:"alleleFreqs"===t&&(r=e[t])}if(o&&r){o.endsWith(",")&&(o=o.substr(0,o.length-1)),r.endsWith(",")&&(r=r.substr(0,r.length-1));let i=o.split(","),a=r.split(",");if(a.length>1){let o=[];for(let e=0;e<a.length;e++)o.push({a:i[e],af:Number(a[e])});o.sort((function(e,t){return e.af-t.af}));let r=o[o.length-1].a;if(1===r.length)for(let i=o.length-2;i>=0;i--){let a=o[i].a;if(1===a.length){t||(t=this.getGenomeId());const i=Tu.getCravatLink(e.chr,e.start+1,r,a,t);console.log(i),i&&(n.push("<hr/>"),n.push({html:i}),n.push("<hr/>"))}}}}if(e.attributes)for(let t of Object.keys(e.attributes))n.push({name:t,value:e.attributes[t]});let a=`${e.chr}:${Za(e.start+1)}-${Za(e.end)}`;return e.strand&&(a+=` (${e.strand})`),n.push({name:"Location",value:a}),n}description(){const e=(e,t)=>`<div class="igv-track-label-popup-shim"><b>${e}: </b>${t}</div>`;let t='<div class="igv-track-label-popup">';if(this.url?Ja(this.url)?t+=e("Filename",this.url.name):t+=e("URL",this.url):t=this.name,this.config){if(this.config.metadata)for(let i of Object.keys(this.config.metadata)){t+=e(i,this.config.metadata[i])}for(let i of Object.keys(this.config)){if(i.startsWith("_"))continue;let n=i.substr(0,1);if(n!==n.toLowerCase()){const n=this.config[i];n&&Id(n)&&(t+=e(i,n))}}}return t+="</div>",t}getColorForFeature(e){return"function"==typeof this.color?this.color(feature):this.color}dispose(){this.disposed=!0;for(let e of Object.keys(this))this[e]=void 0}static getCravatLink(e,t,i,n,o){if("hg38"===o||"GRCh38"===o){return`<a target="_blank" href="https://run.opencravat.org/result/nocache/variant.html?chrom=${e.startsWith("chr")?e:"chr"+e}&pos=${t}&ref_base=${i}&alt_base=${n}"><b>Cravat ${i}->${n}</b></a>`}}}function Ru(e){if(!this.hoverTextFields)return;const t=this.clickedFeatures(e);if(t&&t.length>0){let e="";for(let i=0;i<t.length;i++){if(10===i){e+="; ...";break}if(!t[i])continue;const n=t[i]._f||t[i];e.length>0&&(e+="\n"),e="";for(let t of this.hoverTextFields)e.length>0&&(e+="\n"),n.hasOwnProperty(t)?e+=n[t]:"function"==typeof n.getAttribute&&(e+=n.getAttribute(t))}return e}}const Lu=new Map([["wiggle_0","wig"],["bed","bed"],["bigBed","bigBed"],["bigWig","bigWig"]]);class Bu{constructor(e){switch(this.type=e||"seg",this.type){case"mut":this.sampleColumn=3,this.chrColumn=0,this.startColumn=1,this.endColumn=2,this.dataColumn=4;break;case"maf":this.sampleColumn=15,this.chrColumn=4,this.startColumn=5,this.endColumn=6,this.dataColumn=8;break;default:this.sampleColumn=0,this.chrColumn=1,this.startColumn=2,this.endColumn=3}}async parseHeader(e){let t;for(;void 0!==(t=await e.nextLine());)if(!t.startsWith("#")){const e=t.split("\t");this.header={headings:e};break}return this.header}async parseFeatures(e){const t=[];let i;this.header||(this.header=await this.parseHeader(e)),"seg"===this.type&&(this.dataColumn=this.header.headings.length-1),this.header.headings.length>5&&(i=this.extractExtraColumns(this.header.headings));const n=this.header.headings[this.dataColumn];let o;for(;void 0!==(o=await e.nextLine());){const e=o.split("\t"),r="seg"===this.type?Number(e[this.dataColumn]):e[this.dataColumn];if(e.length>this.dataColumn){const o=new Hu({sample:e[this.sampleColumn],chr:e[this.chrColumn],start:parseInt(e[this.startColumn])-1,end:parseInt(e[this.endColumn]),value:r,valueColumnName:n});if(i){const t=this.extractExtraColumns(e);o.setAttributes({names:i,values:t})}t.push(o)}}return t}extractExtraColumns(e){const t=[];for(let i=0;i<e.length;i++)i!==this.chrColumn&&i!==this.startColumn&&i!==this.endColumn&&i!==this.sampleColumn&&t.push(e[i]);return t}}class Hu{constructor({sample:e,chr:t,start:i,end:n,value:o,valueColumnName:r}){this.sample=e,this.chr=t,this.start=i,this.end=n,this.value=o,this.valueColumnName=r}setAttributes({names:e,values:t}){this.attributeNames=e,this.attributeValues=t}getAttribute(e){if(this.attributeNames){const t=this.attributeNames.indexOf(e);if(t>=0)return this.attributeValues[t]}}popupData(e,t){const i=new Set(["chr","start","end","sample","value","row","color","sampleKey","uniqueSampleKey","sampleId","chromosome","uniquePatientKey"]),n=this.chr+":"+Za(this.start+1)+"-"+Za(this.end),o=[{name:"Sample",value:this.sample},{name:"Location",value:n},{name:this.valueColumnName?Ya(this.valueColumnName):"Value",value:this.value}];if("mut"===e&&"hg38"===t){const e=this.extractCravatLink(t);e&&(o.push("<hr/>"),o.push({html:e}),o.push("<hr/>"))}if(this.attributeNames&&this.attributeNames.length>0)for(let e=0;e<this.attributeNames.length;e++)!i.has(this.attributeNames[e])&this.valueColumnName!==this.attributeNames[e]&&o.push({name:Ya(this.attributeNames[e]),value:this.attributeValues[e]});return o}extractCravatLink(e){let t,i;if(this.attributeNames&&this.attributeNames.length>0)for(let n=0;n<this.attributeNames.length;n++)if(t||"Reference_Allele"!==this.attributeNames[n]||(t=this.attributeValues[n]),!i&&this.attributeNames[n].startsWith("Tumor_Seq_Allele")&&this.attributeValues[n]!==t&&(i=this.attributeValues[n]),t&&i)return Tu.getCravatLink(this.chr,this.start+1,t,i,e)}}function Ou(e){const t=new Pu;t.chr=e[0],t.pos=parseInt(e[1]),t.names=e[2],t.referenceBases=e[3],t.alternateBases=e[4],t.quality=e[5],t.filter=e[6],t.info={};const i=e[7];if(i)for(let e of i.split(";")){var n=e.split("=");t.info[n[0]]=n[1]}return t.init(),t}class Pu{init(){const e=this.referenceBases,t=this.alternateBases;if(this.info&&(this.info.VT?this.type=this.info.VT:this.info.SVTYPE?this.type="SV":this.info.PERIOD&&(this.type="STR")),void 0===this.type&&(this.type=function(e,t){const i=e.length;if(void 0===t)return"UNKNOWN";if(0===t.trim().length||"<NON_REF>"===t||"<*>"===t||"."===t)return"NONVARIANT";{const e=t.split(",").map((function(e){return 1===i&&1===e.length?"SNP":"<NON_REF>"===e?"NONVARIANT":"OTHER"}));let n=e[0];for(let t of e)if(t!==n)return"MIXED";return n}}(e,t)),"NONVARIANT"===this.type&&(this.heterozygosity=0),this.info.END)this.start=this.pos-1,this.info.CHR2&&this.info.CHR2!==this.chr?this.end=this.start+1:this.end=Number.parseInt(this.info.END);else if("NONVARIANT"===this.type)this.start=this.pos-1,this.end=this.start+e.length;else{const i=t.split(",").filter((e=>e.length>0));this.alleles=[],this.start=void 0,this.end=void 0;for(let t of i)if(this.alleles.push(t),"SV"!==this.type&&Uu(t)){let i=t.length,n=e.length;const o=Math.min(i,n);let r=0;for(;r<o&&e.charCodeAt(r)===t.charCodeAt(r);)r++,i--,n--;for(;i>0&&n>0;){const o=r+i-1,a=r+n-1;if(t.charCodeAt(o)!==e.charCodeAt(a))break;i--,n--}for(;i>0&&n>0;){const o=r,a=r;if(t.charCodeAt(o)!==e.charCodeAt(a))break;r++,i--,n--}const a=this.pos+r-1,s=a+n;this.start=void 0===this.start?a:Math.min(this.start,a),this.end=void 0===this.end?s:Math.max(this.end,s)}void 0===this.start&&(this.start=this.pos-1,this.end=this.pos)}}popupData(e,t){const i=`${Za(this.pos)}`,n=this.start===this.end?`${Za(this.start)} | ${Za(this.start+1)}`:`${Za(this.start+1)}-${Za(this.end)}`,o=[{name:"Chr",value:this.chr},{name:"Pos",value:i},{name:"Loc",value:n},{name:"ID",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}];if("SNP"===this.type){let e=this.referenceBases;if(1===e.length){let i=this.alternateBases.split(",");for(let n of i)if(1===n.length){let i=Tu.getCravatLink(this.chr,this.pos,e,n,t);i&&(o.push("<hr/>"),o.push({html:i}))}}}if(this.hasOwnProperty("heterozygosity")&&o.push({name:"Heterozygosity",value:this.heterozygosity}),this.info){o.push({html:'<hr style="border-top: dotted 1px;border-color: #c9c3ba" />'});for(let e of Object.keys(this.info))o.push({name:e,value:Vu(decodeURIComponent(this.info[e]))})}return o}getInfo(e){return this.info?this.info[e]:void 0}isRefBlock(){return"NONVARIANT"===this.type}}const qu=new Set(["A","C","T","G"].map((e=>e.charCodeAt(0))));function Uu(e){for(let t=0;t<e.length;t++)if(!qu.has(e.charCodeAt(t)))return!1;return!0}function Vu(e,t){return void 0===t&&(t=","),Array.isArray(e)?e.join(t):e}class ju{construtor(){}async parseHeader(e,t){const i={};i.chrAliasTable=new Map;let n=await e.nextLine();if(!n.startsWith("##fileformat"))throw new Error("Invalid VCF file: missing fileformat line");for(i.version=n.substr(13);void 0!==(n=await e.nextLine())&&n.startsWith("#");){let e;const r={};if(n.startsWith("##")){if(n.startsWith("##INFO")||n.startsWith("##FILTER")||n.startsWith("##FORMAT")){const t=n.indexOf("<"),a=n.lastIndexOf(">");if(!(t>2&&a>0)){console.log("Malformed VCF header line: "+n);continue}const s=n.substring(2,t-1);i[s]||(i[s]={});const c=Xa(n.substring(t+1,a-1),",");for(let t of c){var o=t.split("=");o.length>1&&("ID"===o[0]?e=o[1]:r[o[0]]=o[1])}e&&(i[s][e]=r)}else if(n.startsWith("##contig")&&t){const e=n.indexOf("<ID=");let o=n.indexOf(",",e);-1==o&&(o=n.indexOf(">",e));const r=n.substring(e+4,o),a=t.getChromosomeName(r);i.chrAliasTable.set(a,r)}}else if(n.startsWith("#CHROM")){const e=n.split("\t");if(e.length>8){i.callSets=[];for(let t=9;t<e.length;t++)i.callSets.push({id:t,name:e[t]})}}}return this.header=i,i}async parseFeatures(e){const t=[],i=this.header.callSets,n=8+(i?i.length+1:0);let o;for(;void 0!==(o=await e.nextLine());)if(o&&!o.startsWith("#")){const e=o.split("\t");if(e.length===n){const n=Ou(e);if(n.header=this.header,t.push(n),e.length>9){const t=Wu(e[8].split(":"));n.calls={};for(let o=9;o<e.length;o++){const r=e[o],a=i[o-9],s={callSetName:a.name,info:{}};n.calls[a.id]=s,r.split(":").forEach((function(e,i){if(i===t.genotypeIndex)s.genotype=[],e.split(/[\|\/]/).forEach((function(e){s.genotype.push("."===e?e:parseInt(e))}));else s.info[t.fields[i]]=e}))}}n.info&&n.info.CHR2&&n.info.END&&t.push(Gu(n))}}return t}}function Wu(e){const t={genotypeIndex:-1,fields:e};for(let i=0;i<e.length;i++)"GT"===e[i]&&(t.genotypeIndex=i);return t}function Gu(e){const t=e.info.CHR2,i=Number.parseInt(e.info.END);return{chr:t,start:i-1,end:i,_f:e}}class $u{constructor(e){if(this.config=e,e.columns){if(void 0===e.columns.chromosome||void 0===e.columns.position||void 0===e.columns.value)throw Error("columns property must define chrCol, posCol, and valueCol");this.posCol=e.columns.position-1,this.chrCol=e.columns.chromosome-1,this.valueCol=e.columns.value-1}else this.posCol=2,this.chrCol=1,this.valueCol=3}async parseHeader(e){const t=await e.nextLine();return this.parseHeaderLine(t)}parseHeaderLine(e){if(this.columns=e.split(/\t/),!this.config.columns)for(let e=0;e<this.columns.length;e++){switch(this.columns[e].toLowerCase()){case"chr":case"chromosome":case"chr_id":this.chrCol=e;break;case"bp":case"pos":case"position":case"chr_pos":this.posCol=e;break;case"p":case"pval":case"pvalue":case"p-value":case"p.value":this.valueCol=e}}return this.columns}async parseFeatures(e){const t=[],i=e.nextLine();let n;for(this.columns||this.parseHeaderLine(i);void 0!==(n=e.nextLine());){const e=n.split(/\t/);if(e.length===this.columns.length){const i=e[this.chrCol],o=parseInt(e[this.posCol])-1,r=o+1,a=Number(e[this.valueCol]);t.push(new Zu({chr:i,start:o,end:r,value:a,line:n,columns:this.columns}))}}return t}}class Zu{constructor({chr:e,start:t,end:i,value:n,line:o,columns:r}){this.chr=e,this.start=t,this.end=i,this.value=n,this.line=o,this.columns=r}popupData(){const e=this.line.split(/\t/);return this.columns.map((function(t,i){return{name:t,value:e[i]}}))}getAttribute(e){const t=this.line.split(/\t/);for(let i=0;i<this.columns.length;i++)if(this.columns[i]===e)return t[i]}}var Ku=new RegExp("([^:]*)\\(([^)]*)\\)"),Xu=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)");class Yu{constructor(e){const t=e?e.decode:void 0;this.nameField=e?e.nameField:void 0,this.skipRows=0,this.decode=t||np,this.delimiter="\t"}async parseHeader(e){let t,i;for(;(t=await e.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){let e=ep(t);i?Object.assign(i,e):i=e}else if(t.startsWith("#columns")){let e=tp(t);i?Object.assign(i,e):i=e}else t.startsWith("##gff-version 3")&&(this.format="gff3",i||(i={}),i.format="gff3");return this.header=i,i}async parseFeatures(e){const t=[],i=this.decode,n=this.delimiter||"\t";let o,r=0;for(;void 0!==(o=e.nextLine());){if(r++,r<=this.skipRows||o.startsWith("track")||o.startsWith("#")||o.startsWith("browser"))continue;let e=a();if(e.length<1)continue;if(!this.aed){this.aed=Ju(e);continue}const n=i.call(this,e,undefined);n&&t.push(n)}return t;function a(){for(var e,t,i=[],r="",a=!1;o||""===o;){for(e=0;e<o.length;e++)(t=o.charAt(e))===n?a?r+=t:(i.push(r),r=""):'"'===t?e+1<o.length&&'"'===o.charAt(e+1)?(a&&(r+='"'),e++):a=!a:r+=t;if(!a)break;r+="\n",o=nextLine()}return i.push(r),i}}}function Qu(e){var t=Xu.exec(e);if(t)return{namespace:t[1],name:t[2],type:t[3]};if(t=Ku.exec(e))return{namespace:"?",name:t[1],type:t[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function Ju(e){var t,i,n;for(t={columns:[],metadata:{}},i=0;i<e.length;i++)n=Qu(e[i]),t.columns.push(n);return t}function ep(e){const t={},i=e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g);let n;const o=[];for(let e of i)e&&0!==e.trim().length&&(e.endsWith("=")>0?n=e:n?(o.push(n+e),n=void 0):o.push(e));for(let e of o){if(!e)return;var r=e.split("=",2);if(2===r.length){const e=r[0].trim(),i=r[1].trim();t[e]=i}}return t}function tp(e){let t={},i=e.split(/\s+/);if(2===i.length){i[1].split(";").forEach((function(e){let i=e.split("=");"color"===i[0]?t.colorColumn=Number.parseInt(i[1])-1:"thickness"===i[0]&&(t.thicknessColumn=Number.parseInt(i[1])-1)}))}return t}function ip(e,t){var i,n,o=e.columns;this.aed=e,this.allColumns=t,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(let e=0;e<t.length;e++)if(i=t[e]){"aed:Integer"===(n=o[e]).type&&(i=parseInt(i));var r=[];if(n.namespace.length>0)for(let e=0;e<n.namespace.length;e++)r.push(n.namespace.charCodeAt(e));"bio"===n.namespace.trim()?"sequence"===n.name?this.chr=i:"start"===n.name?this.start=i:"end"===n.name?this.end=i:"cdsMin"===n.name?this.cdStart=i:"cdsMax"===n.name?this.cdEnd=i:"strand"===n.name&&(this.strand=i):"aed"===n.namespace?"name"===n.name&&(this.name=i):"style"===n.namespace&&"color"===n.name&&(this.color=qh.createColorString(i))}}function np(e,t){var i,n,o,r,a,s,c=0,l=this.aed.columns;if(e.length===l.length){for(s=0;s<e.length;s++)r=l[s],""!==(o=e[s])&&c++,"name"===r.name&&"aed"===r.namespace?i=o:"value"===r.name&&"aed"===r.namespace&&(n=o);if(2===c&&i&&n)return a=Qu(i),this.aed.metadata[a.namespace]||(this.aed.metadata[a.namespace]={}),void(this.aed.metadata[a.namespace][a.name]||(this.aed.metadata[a.namespace][a.name]={type:a.type,value:n}));var h=new ip(this.aed,e);if(h.chr&&(h.start||0===h.start)&&h.end)return h;console.log("Cannot parse feature: "+e.join(","))}else console.log("Corrupted AED file row: "+e.join(","))}ip.prototype.popupData=function(){for(var e=[],t=this.aed,i=0;i<this.allColumns.length;i++){var n=this.allColumns[i],o=t.columns[i].name;"sequence"!==o&&"color"!==o&&n&&e.push({name:o,value:n})}return e};class op{constructor(e,t){this.littleEndian=void 0===t||t,this.position=0,this.view=e,this.length=e.byteLength}available(){return this.length-this.position}remLength(){return this.length-this.position}hasNext(){return this.position<this.length-1}getByte(){var e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e}getShort(){var e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e}getUShort(){var e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e}getInt(){var e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e}getUInt(){var e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e}getLong(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);var t=0;if(this.littleEndian)for(let i=e.length-1;i>=0;i--)t=256*t+e[i];else for(let i=0;i<e.length;i++)t=256*t+e[i];return this.position+=8,t}getString(e){for(var t,i="";0!==(t=this.view.getUint8(this.position++))&&(i+=String.fromCharCode(t),!e||i.length!==e););return i}getFixedLengthString(e){var t,i,n="";for(t=0;t<e;t++)(i=this.view.getUint8(this.position++))>0&&(n+=String.fromCharCode(i));return n}getFixedLengthTrimmedString(e){var t,i,n="";for(t=0;t<e;t++)(i=this.view.getUint8(this.position++))>32&&(n+=String.fromCharCode(i));return n}getFloat(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e}getDouble(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e}skip(e){return this.position+=e,this.position}getVPointer(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),i=4294967296*(255&this.view.getUint8(e+6))+16777216*(255&this.view.getUint8(e+5))+65536*(255&this.view.getUint8(e+4))+256*(255&this.view.getUint8(e+3))+(255&this.view.getUint8(e+2));return this.position+=8,new rp(i,t)}}class rp{constructor(e,t){this.block=e,this.offset=t}isLessThan(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset}isGreaterThan(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset}isEqualTo(e){return this.block===e.block&&this.offset===e.offset}print(){return this.block+":"+this.offset}}function ap(e,t){if(0===e.length)return e;if(e.sort((function(e,t){const i=e.minv.block-t.minv.block;return 0!==i?i:e.minv.offset-t.minv.offset})),e.length<=1)return e;t&&(e=e.filter((e=>e.maxv.isGreaterThan(t))));const i=[];let n;for(let t of e)n&&sp(n,t)?t.maxv.isGreaterThan(n.maxv)&&(n.maxv=t.maxv):(i.push(t),n=t);return i}function sp(e,t){t.minv.block,e.maxv.block;return e.maxv.block-e.minv.block<5e6}class cp{constructor(e){this.tabix=!0}parse(e,t){const i=new op(new DataView(e)),n=i.getInt();if(21582659!==n)throw 38359875===n?Error("CSI version 2 is not supported.  Please enter an issue at https://github.com/igvteam/igv.js"):Error("Not a CSI index");this.indices=[],this.blockMin=Number.MAX_SAFE_INTEGER,this.lastBlockPosition=[],this.sequenceIndexMap={},this.minShift=i.getInt(),this.depth=i.getInt();const o=[];let r=0;if(i.getInt()>=28){i.getInt(),i.getInt(),i.getInt(),i.getInt(),i.getInt(),i.getInt();const e=i.getInt(),n=i.position+e;let r=0;for(;i.position<n;){let e=i.getString();t&&(e=t.getChromosomeName(e)),this.sequenceIndexMap[e]=r,o[r]=e,r++}}const a=this.bin_limit()+1,s=i.getInt();for(let e=0;e<s;e++){const t=[],n=[],o=i.getInt();for(let e=0;e<o;e++){const e=i.getInt();if(n[e]=i.getVPointer(),e>a)i.getInt(),i.getVPointer(),i.getVPointer(),i.getLong(),i.getLong();else{t[e]=[];const n=i.getInt();for(let o=0;o<n;o++){const n=i.getVPointer(),o=i.getVPointer();n&&o&&(n.block<this.blockMin&&(this.blockMin=n.block),o.block>r&&(r=o.block),t[e].push([n,o]))}}}o>0&&(this.indices[e]={binIndex:t,loffset:n})}this.lastBlockPosition=r}get chromosomeNames(){return Object.keys(this.sequenceIndexMap)}chunksForRange(e,t,i){const n=this.indices[e];if(n){const e=this.reg2bins(t,i);if(0==e.length)return[];const o=[];for(let t of e)for(let e=t[0];e<=t[1];e++)if(n.binIndex[e]){const t=n.binIndex[e];for(let i of t){const t=i[0],n=i[1];o.push({minv:t,maxv:n,bin:e})}}return ap(o,n.loffset[e[0]])}return[]}reg2bins(e,t){(e-=1)<1&&(e=1),t>2**34&&(t=2**34),t-=1;let i=0,n=0,o=this.minShift+3*this.depth;const r=[];for(;i<=this.depth;o-=3,n+=1<<3*i,i+=1){const i=n+(e>>o),a=n+(t>>o);r.push([i,a])}return r}bin_limit(){return((1<<3*(this.depth+1))-1)/7}}class lp{constructor(){}async parse(e,t,i){const n=[];let o=Number.MAX_SAFE_INTEGER,r=0;const a=new op(new DataView(e)),s=a.getInt(),c={};if(!(21578050===s||t&&21578324===s))throw new Error(indexURL+" is not a "+(t?"tabix":"bai")+" file");{const e=a.getInt();if(t){a.getInt(),a.getInt(),a.getInt(),a.getInt(),a.getInt(),a.getInt(),a.getInt();for(let t=0;t<e;t++){let e=a.getString();i&&(e=i.getChromosomeName(e)),c[e]=t}}for(let t=0;t<e;t++){const e={},i=[],s=a.getInt();for(let t=0;t<s;t++){const t=a.getInt();if(37450===t)a.getInt(),a.getVPointer(),a.getVPointer(),a.getLong(),a.getLong();else{e[t]=[];const i=a.getInt();for(let n=0;n<i;n++){const i=a.getVPointer(),n=a.getVPointer();i&&n&&(i.block<o&&(o=i.block),n.block>r&&(r=n.block),e[t].push([i,n]))}}}const c=a.getInt();for(let e=0;e<c;e++){const e=a.getVPointer();i.push(e)}s>0&&(n[t]={binIndex:e,linearIndex:i})}this.firstBlockPosition=o,this.lastBlockPosition=r,this.indices=n,this.sequenceIndexMap=c,this.tabix=t}}get chromosomeNames(){return Object.keys(this.sequenceIndexMap)}chunksForRange(e,t,i){const n=this.indices[e];if(n){const e=function(e,t){const i=[];t>=1<<29&&(t=1<<29);return--t,i.push([0,0]),i.push([1+(e>>26),1+(t>>26)]),i.push([9+(e>>23),9+(t>>23)]),i.push([73+(e>>20),73+(t>>20)]),i.push([585+(e>>17),585+(t>>17)]),i.push([4681+(e>>14),4681+(t>>14)]),i}(t,i),o=[];for(let t of e)for(let e=t[0];e<=t[1];e++)if(n.binIndex[e]){const t=n.binIndex[e];for(let e of t){const t=e[0],i=e[1];o.push({minv:t,maxv:i})}}const r=n.linearIndex.length;let a;const s=Math.min(t>>14,r-1),c=Math.min(i>>14,r-1);for(let e=s;e<=c;e++){const t=n.linearIndex[e];if(t){a=t;break}}return ap(o,a)}return[]}}class hp{constructor(){}async parse(e,t){let i=0;this.chrIndex={},this.lastBlockPosition=[];const n=new op(new DataView(e));!function(e){e.getInt(),e.getInt();const t=e.getInt();if(e.getString(),e.getLong(),e.getLong(),e.getString(),e.getInt(),t>=3){let t=e.getInt();for(;t-- >0;)e.getString(),e.getString()}}(n);let o=n.getInt();for(;o-- >0;){let e=n.getString();t&&(e=t.getChromosomeName(e));const o=n.getInt(),r=n.getInt(),a=n.getInt();n.getInt(),n.getInt();let s=n.getLong();const c=[];for(let e=0;e<r;e++){const e=n.getLong();c.push({min:s,max:e}),s=e,e>i&&(i=e)}this.chrIndex[e]={chr:e,blocks:c,longestFeature:a,binWidth:o}}this.lastBlockPosition=i}get chromosomeNames(){return Object.keys(this.chrIndex)}chunksForRange(e,t,i){const n=this.chrIndex[e];if(n){const e=n.blocks,o=n.longestFeature,r=n.binWidth,a=Math.max(t-o,0),s=Math.floor(a/r);if(s>=e.length)return[];{const t=Math.min(Math.floor((i-1)/r),e.length-1),n=e[s].min,o=e[t].max;if(0===o-n)return[];return[{minv:{block:n,offset:0},maxv:{block:o,offset:0}}]}}}}async function dp(e,t,i){let n=await ad.loadArrayBuffer(e,zd(t)),o=new DataView(n);if(31===o.getUint8(0)&&139===o.getUint8(1)){n=zh(n).buffer,o=new DataView(n)}switch(o.getInt32(0,!0)){case 21578050:return async function(e,t){const i=new lp;return await i.parse(e,!1,t),i}(n,i);case 21578324:return async function(e,t){const i=new lp;return await i.parse(e,!0,t),i}(n,i);case 21582659:return async function(e,t){const i=new cp;return i.parse(e,t),i}(n,i);case 1480870228:return async function(e,t){const i=new hp;return i.parse(e,t),i}(n,i);case 38359875:throw Error("CSI version 2 is not supported.");default:throw Error(`Unrecognized index type: ${e}`)}}function fp(e){return"string"==typeof e||e instanceof String?new up(e):new pp(e)}class up{constructor(e){this.data=e,this.ptr=0}nextLine(){var e=this.ptr,t=this.data.indexOf("\n",e),i=this.data;if(t>0)return this.ptr=t+1,t>e&&"\r"===i.charAt(t-1)?i.substring(e,t-1):i.substring(e,t);var n=i.length;return this.ptr=n,e>=n?void 0:i.substring(e)}}class pp{constructor(e){this.data=e,this.length=this.data.length,this.ptr=0}nextLine(){var e,t;if(t="",!(this.ptr>=this.length)){for(var i=this.ptr;i<this.length;i++)if("\r"!==(e=String.fromCharCode(this.data[i]))){if("\n"===e)break;t+=e}return this.ptr=i+1,t}}}class mp{constructor(e){this.config=e,this.filePtr=0,this.bufferPtr=0,this.buffer}async nextLine(){let e;try{for(;;){const t=this.buffer?this.buffer.length:0;for(;this.bufferPtr<t;){const t=String.fromCharCode(this.buffer[this.bufferPtr++]);if("\r"!==t){if("\n"===t)return e;e=e?e+t:t}}if(this.eof)return e;await this.readNextBlock()}}catch(t){return console.warn(t),this.eof=!0,e}}async readNextBlock(){const e=zd(this.config,{range:{start:this.filePtr,size:26}}),t=Dh(await ad.loadArrayBuffer(this.config.url,e));if(0===t)this.eof=!0,this.buffer=void 0;else{const e=zd(this.config,{range:{start:this.filePtr,size:t}}),i=await ad.loadArrayBuffer(this.config.url,e);i.byteLength<t&&(this.eof=!0),this.buffer=zh(i),0==this.buffer.byteLength&&(this.eof=!0),this.bufferPtr=0,this.filePtr+=i.byteLength}}}const gp=e=>{const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 1+(t[17]<<8|t[16])};class wp{constructor(e){this.config=e,this.cacheBlocks=0!=e.cacheBlocks,this.cache=void 0}async getData(e,t){const i=e.block,n=t.block,o=0===t.offset,r=await this.getInflatedBlocks(i,n,o);if(1===r.length)return r[0];let a=0;for(const e of r)a+=e.byteLength;const s=new Uint8Array(a);let c=0;for(const e of r)s.set(e,c),c+=e.byteLength;return s}async getInflatedBlocks(e,t,i){if(this.cacheBlocks){const n=this.cache;if(n&&n.startBlock<=e&&(n.endBlock>=t||i&&n.nextEndBlock===t)){const i=e-n.startBlock,o=t-n.startBlock;return bp(n.buffer,i,o)}{let o;if(!n||n.startBlock>t||n.endBlock<e)o=await this.loadBLockData(e,t,{skipEnd:i});else{const r=[];if(e<n.startBlock){const t=await this.loadBLockData(e,n.startBlock,{skipEnd:!0});r.push(t)}let a;if(e<=n.startBlock&&t>=n.endBlock)a=n.buffer;else{const i=Math.max(0,e-n.startBlock);let o;if(t>=n.endBlock)o=n.buffer.byteLength;else{const e=Fp(n.buffer);for(let i=0;i<e.length-1;i++)if(n.startBlock+e[i]===t){o=e[i+1];break}}a=n.buffer.slice(i,o)}if(r.push(a),t>n.endBlock){const e=await this.loadBLockData(n.endBlock,t,{skipStart:!0,skipEnd:i});r.push(e)}o=function(e){if(1===e.length)return e[0];let t=0;for(const i of e)t+=i.byteLength;const i=new Uint8Array(t);let n=0;for(const t of e)i.set(new Uint8Array(t),n),n+=t.byteLength;return i.buffer}(r)}let r=t;if(i){const e=Fp(o);t=e[e.length-1]}return this.cache={startBlock:e,endBlock:t,nextEndBlock:r,buffer:o},bp(o)}}return bp(await this.loadBLockData(e,t,{skipEnd:i}))}async loadBLockData(e,t,i){const n=this.config,o=i&&i.skipStart;let r=0;if(!(i&&i.skipEnd)){const e=zd(n,{range:{start:t,size:26}}),i=await ad.loadArrayBuffer(n.url,e);r=gp(i)}if(o){const t=zd(n,{range:{start:e,size:26}}),i=await ad.loadArrayBuffer(n.url,t);e+=gp(i)}const a=zd(n,{range:{start:e,size:t+r-e}});return ad.loadArrayBuffer(n.url,a)}}function Fp(e){const t=e.byteLength;let i=0;const n=[0];for(;i<t;){const o=new Uint8Array(e,i);i+=1+(o[17]<<8|o[16]),i<t&&n.push(i)}return n}function bp(e,t,i){const n=[];let o=t=t||0;const r=e.byteLength-18;for(;o<r;)try{const t=new Uint8Array(e,o,18),r=t[11]<<8|t[10],a=t[17]<<8|t[16],s=12+r+o,c=e.byteLength-s,l=a-r-18;if(c<l||l<=0)break;const h=new Uint8Array(e,s,l),d=Eh(h);if(n.push(d),i===o)break;o+=a+1}catch(e){console.error(e);break}return n}class vp{constructor(e,t){var i;this.config=e||{},this.genome=t,this.indexURL=e.indexURL,this.indexed=e.indexed||void 0!==this.indexURL,this.queryable=this.indexed,Ja(this.config.url)?this.filename=this.config.url.name:Rd(this.config.url)?(this.indexed=!1,this.dataURI=e.url):(i=ts(this.config.url),this.filename=e.filename||i.file),this.parser=this.getParser(this.config),"vcf"!==this.config.format||this.config.indexURL||console.warn("Warning: index file not specified.  The entire vcf file will be loaded.")}async defaultVisibilityWindow(){if(this.config.indexURL){const e=await this.getIndex();if(e&&e.lastBlockPosition){let t=0;const i=1e4;for(let i of e.chromosomeNames){const e=this.genome.getChromosome(i);e&&(t+=e.bpLength)}return Math.round(t/e.lastBlockPosition*i)}}}async readFeatures(e,t,i){return await this.getIndex()?(this.indexed=!0,this.loadFeaturesWithIndex(e,t,i)):this.dataURI?(this.indexed=!1,this.loadFeaturesFromDataURI()):(this.indexed=!1,this.loadFeaturesNoIndex())}async readHeader(){if(this.dataURI)return await this.loadFeaturesFromDataURI(this.dataURI),this.header;if(this.config.indexURL){const e=await this.getIndex();if(!e)throw new Error("Unable to load index: "+this.config.indexURL);let t;if(e.tabix)this._blockLoader=new wp(this.config),t=new mp(this.config);else{const i=Object.values(e.chrIndex).flatMap((e=>e.blocks)).map((e=>e.max)).reduce(((e,t)=>Math.min(e,t)),Number.MAX_SAFE_INTEGER),n=zd(this.config,{bgz:e.tabix,range:{start:0,size:i}});t=fp(await ad.loadString(this.config.url,n))}return this.header=await this.parser.parseHeader(t),this.header}{const e=zd(this.config),t=await ad.loadString(this.config.url,e);let i=fp(t);return this.header=await this.parser.parseHeader(i),i=fp(t),this.features=await this.parser.parseFeatures(i),this.header}}getParser(e){switch(e.format){case"vcf":return new ju(e);case"seg":return new Bu("seg");case"mut":return new Bu("mut");case"maf":return new Bu("maf");case"gwas":return new $u(e);case"aed":return new Yu(e);default:return new Iu(e)}}async loadFeaturesNoIndex(){if(this.features){const e=this.features;return delete this.features,e}{const e=zd(this.config),t=await ad.loadString(this.config.url,e);if(!this.header){const e=fp(t);this.header=await this.parser.parseHeader(e)}const i=fp(t);return await this.parser.parseFeatures(i)}}async loadFeaturesWithIndex(e,t,i){this.dataURI||this.header||await this.readHeader();const n=this.config,o=this.parser,r=this.index.tabix,a=r?this.index.sequenceIndexMap[e]:e;if(void 0===a)return[];const s=this.genome,c=this.index.chunksForRange(a,t,i);if(c&&0!==c.length){const a=[];for(let l of c){let c;if(r)c=await this._blockLoader.getData(l.minv,l.maxv);else{const e=zd(n,{range:{start:l.minv.block,size:l.maxv.block-l.minv.block+1}});c=await ad.loadString(n.url,e)}const h=fp(l.minv.offset?c.slice(l.minv.offset):c);let d=await o.parseFeatures(h);d=d.filter((e=>void 0===e._f));let f=!1;for(let n=0;n<d.length;n++){const o=d[n];if((s?s.getChromosomeName(o.chr):o.chr)!==e){if(0===a.length)continue;break}if(o.start>i){a.push(o);break}o.end>=t&&o.start<=i&&(f||(f=!0,n>0&&a.push(d[n-1])),a.push(o))}}return a.sort((function(e,t){return e.start-t.start})),a}return[]}async getIndex(){return this.index?this.index:this.config.indexURL?(this.index=await this.loadIndex(),this.index):void 0}async loadIndex(){return dp(this.config.indexURL,this.config,this.genome)}async loadFeaturesFromDataURI(){if(this.features){const e=this.features;return delete this.features,e}{const e=Rh(this.dataURI);let t=fp(e);return this.header=await this.parser.parseHeader(t),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),t=fp(e),this.features=await this.parser.parseFeatures(t),this.features}}}const yp=$a;class _p{constructor(e){this.config=e}async readFeatures(e,t,i){let n;n="function"==typeof this.config.url?this.config.url({chr:e,start:t,end:i}):this.config.url.replace("$CHR",e).replace("$START",t).replace("$END",i);let o,r=Object.assign({},this.config);void 0!==this.config.body&&("function"==typeof this.config.body?r.body=this.config.body({chr:e,start:t,end:i}):r.body=this.config.body.replace("$CHR",e).replace("$START",t).replace("$END",i));const a=await ad.load(n,r);if(a&&(o="function"==typeof this.config.parser?this.config.parser(a):yp(a)?JSON.parse(a):a),this.config.mappings){let e=Object.keys(this.config.mappings);for(let t of o)for(let i of e)t[i]=t[this.config.mappings[i]]}return o}}const Cp=function(e,t){this.config=e,this.genome=t,this.expandQueryInterval=!1};Cp.prototype.readFeatures=function(e,t,i){const n=Math.max(0,Math.floor(t));let o=Math.ceil(i);if(this.genome){const t=this.genome.getChromosome(e);t&&o>t.bpLength&&(o=t.bpLength)}const r=this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+e+"&start="+n+"&end="+o;return ad.loadJson(r,this.config).then((function(e){return e?(e.forEach((function(e){e.hasOwnProperty("exonStarts")&&e.hasOwnProperty("exonEnds")&&e.hasOwnProperty("exonCount")&&e.hasOwnProperty("cdsStart")&&e.hasOwnProperty("cdsEnd")&&function(e){var t,i,n,o,r,a;t=e.exonCount,i=e.exonStarts.split(","),n=e.exonEnds.split(","),o=[];for(var s=0;s<t;s++){var c={start:r=parseInt(i[s]),end:a=parseInt(n[s])};(e.cdsStart>a||e.cdsEnd<e.cdsStart)&&(c.utr=!0),e.cdsStart>=r&&e.cdsStart<=a&&(c.cdStart=e.cdsStart),e.cdsEnd>=r&&e.cdsEnd<=a&&(c.cdEnd=e.cdsEnd),o.push(c)}e.exons=o}(e)})),e):null}))};const xp=["Name","gene_name","gene","gene_id","alias","locus","name"];class kp{constructor(e){this.format=e.format,this.nameField=e.nameField,this.filterTypes=void 0===e.filterTypes?new Set(["chromosome"]):new Set(e.filterTypes)}combineFeatures(e,t){let i;const n=this.filterTypes;if(e=e.filter((e=>void 0===n||!n.has(e.type))),"gff3"===this.format){const t=this.combineFeaturesById(e);i=this.combineFeaturesByType(t)}else i=this.combineFeaturesByType(e);return i.sort((function(e,t){return e.start-t.start})),this.numberExons(i,t),this.nameFeatures(i),i}combineFeaturesById(e){const t=new Map,i=[];for(let n of e)if(Jf(n.type)||Qf(n.type)||!n.id)i.push(n);else{let e=t.get(n.chr);e||(e=new Map,t.set(n.chr,e));let i=e.get(n.id);i?i.push(n):e.set(n.id,[n])}for(let e of t.values())for(let t of e.values())if(t.length>1){const e=t[0];e.exons=[];for(let i of t)e.start=Math.min(e.start,i.start),e.end=Math.max(e.end,i.end),e.exons.push({start:i.start,end:i.end});i.push(e)}else i.push(t[0]);return i}combineFeaturesByType(e){const t=e.filter((e=>"gene"===e.type||e.type.endsWith("_gene"))),i=Object.create(null);for(let e of t)i[e.id]=e;const n=Object.create(null),o=[],r=new Set,a=this.filterTypes;e=e.filter((e=>void 0===a||!a.has(e.type)));for(let t of e)if("biological_region"===t.type&&console.log(),Qf(t.type)){const e=t.id;if(void 0!==e){const a=new iu(t);n[e]=a,o.push(a),r.add(t);const s=i[t.parent];s&&(a.geneObject=s,r.add(s))}}for(let t of e)if(Jf(t.type)){const e=l(t);if(e)for(let i of e){let a=n[i];if(!a&&"gtf"===this.format){const e=Object.assign({},t);e.type="transcript",a=new iu(e),n[i]=a,o.push(a)}if(void 0!==a){if(s=t.type,$f.has(s))if(e.length>1){const e=new tu(t);a.addExon(e)}else a.addExon(t);else a.addPart(t);r.add(t)}}}var s;o.forEach((function(e){"function"==typeof e.finish&&e.finish()}));const c=e.filter((e=>!r.has(e)));for(let e of c)o.push(e);return o;function l(e){return e.parent&&""!==e.parent.trim()?e.parent.trim().split(","):null}}numberExons(e,t){for(let i of e)if(i.exons&&(!t||i.end<=t.end&&i.start>t.start))for(let e=0;e<i.exons.length;e++){i.exons[e].number="-"===i.strand?i.exons.length-e:e+1}}nameFeatures(e){for(let t of e)if(t.attributeString){const e="gff3"===this.format?"=":" ",i=au(t.attributeString,e),n=new Map(i);if(this.nameField)t.name=n.get(this.nameField);else for(let e of xp)if(n.has(e)){t.name=n.get(e);break}}}}const Ep=function(e){this.config=e,this.url=e.url,this.tissueId=e.tissueSiteDetailId,this.indexed=!0,this.datasetId=e.datasetId||"gtex_v8"};Ep.prototype.readFeatures=async function(e,t,i){let n=e.startsWith("chr")?e:"chr"+e,o=Math.floor(t),r=Math.ceil(i),a=this.datasetId,s=this.url+"?chromosome="+n+"&start="+o+"&end="+r+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+a;const c=await ad.loadJson(s,{withCredentials:this.config.withCredentials});return c&&c.singleTissueEqtl?(c.singleTissueEqtl.forEach((function(e){e.chr=e.chromosome,e.position=e.pos,e.start=e.pos-1,e.end=e.start+1,e.snp=e.snpId,e.geneName=e.geneSymbol,e.geneId=e.gencodeId})),c.singleTissueEqtl):void 0};const Np=function(e){this.config=e,this.url=e.url,this.cellConditionId=e.cellConditionId,this.valueThreshold=e.valueThreshold?e.valueThreshold:.05};Np.prototype.readFeatures=function(e,t,i){var n=this,o=this.url+"?chromosome="+e+"&start="+t+"&end="+i+"&cell_condition_id="+this.cellConditionId;return new Promise((function(e,t){ad.loadJson(o,{withCredentials:n.config.withCredentials}).then((function(t){t?(t.eqtls.forEach((function(e){e.chr=e.chromosome,e.start=e.position,e.end=e.position+1})),e(t.eqtls)):e(null)})).catch((function(e){t(e)}))}))};const Sp=ad.apiKey;function Ip(e){var t=e.url+"/"+e.entity+"/"+e.entityId;return e.headers={"Cache-Control":"no-cache"},ad.loadJson(t,e)}function zp(e){return new Promise((function(t,i){var n=e.results?e.results:[],o=e.url,r=e.body,a=e.decode,s="?",c=e.fields;return Sp&&(o=o+s+"key="+Sp,s="&"),c&&(o=o+s+"fields="+c),function e(s){s?r.pageToken=s:void 0!==r.pageToken&&delete r.pageToken;var c=JSON.stringify(r);ad.loadJson(o,{sendData:c,contentType:"application/json",headers:{"Cache-Control":"no-cache"}}).then((function(i){var o,r;i?((r=a?a(i):i)&&r.forEach((function(e){n.push(e)})),(o=i.nextPageToken)?e(o):t(n)):t(n)})).catch((function(e){i(e)}))}()}))}const Dp=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.variantSetId=e.variantSetId,this.callSetIds=e.callSetIds,this.includeCalls=void 0===e.includeCalls||e.includeCalls};Dp.prototype.readHeader=function(){var e=this;return e.header?Promise.resolve(e.header):(e.header={},!1===e.includeCalls?Promise.resolve(e.header):zp({url:e.url+"/callsets/search",fields:"nextPageToken,callSets(id,name)",body:{variantSetIds:Array.isArray(e.variantSetId)?e.variantSetId:[e.variantSetId],pageSize:"10000"},decode:function(t){if(e.callSetIds){var i=[],n=new Set;return e.callSetIds.forEach((function(e){n.add(e)})),t.callSets.forEach((function(e){n.has(e.id)&&i.push(e)})),i}return t.callSets}}).then((function(t){return e.header.callSets=t,e.header})))},Dp.prototype.readFeatures=function(e,t,i){const n=this,o=this.genome;return n.readHeader().then((function(e){return new Promise((function(e,t){n.chrAliasTable?e(n.chrAliasTable):n.readMetadata().then((function(t){n.metadata=t.metadata,n.chrAliasTable={},t.referenceBounds&&o&&t.referenceBounds.forEach((function(e){var t=e.referenceName,i=o.getChromosomeName(t);n.chrAliasTable[i]=t})),e(n.chrAliasTable)}))}))})).then((function(o){var r=o.hasOwnProperty(e)?o[e]:e;return zp({url:n.url+"/variants/search",fields:n.includeCalls?void 0:"nextPageToken,variants(id,variantSetId,names,referenceName,start,end,referenceBases,alternateBases,quality,filter,info)",body:{variantSetIds:Array.isArray(n.variantSetId)?n.variantSetId:[n.variantSetId],callSetIds:n.callSetIds?n.callSetIds:void 0,referenceName:r,start:t.toString(),end:i.toString(),pageSize:"10000"},decode:function(e){var t,i=[];return e.variants.forEach((function(e){t=function(e){var t,i=new Pu;return i.chr=e.referenceName,i.start=parseInt(e.start),i.end=parseInt(e.end),i.pos=i.start+1,i.names=Vu(e.names,"; "),i.referenceBases=e.referenceBases,i.alternateBases=Vu(e.alternateBases),i.quality=e.quality,i.filter=Vu(e.filter),i.info={},e.info&&Object.keys(e.info).forEach((function(t){var n,o=e.info[t];n=Array.isArray(o)?o.join(","):o,i.info[t]=n})),i.calls={},e.calls&&e.calls.forEach((function(e){t=e.callSetId,i.calls[t]=e})),init(i),i}(e),t.isRefBlock()||i.push(t)})),i}})}))},Dp.prototype.readMetadata=function(){return Ip({url:this.url,entity:"variantsets",entityId:this.variantSetId})};class Ap{constructor(e){this.config=e}async readFeatures(e,t,i){const n=(await ad.loadJson(this.config.url+"/variants/?count=50000")).records,o=[];for(let e of n)if(e.coordinates){e.id;const t=e.coordinates;t.chromosome&&o.push(new Mp(t.chromosome,t.start-1,t.stop,e)),t.chromosome2&&o.push(new Mp(t.chromosome2,t.start2-1,t.stop2,e))}return o}}class Mp{constructor(e,t,i,n){if(this.chr=e,this.start=t,this.end=i,this.id=n.id,this.entrezName=n.entrez_name,this.name=n.name,this.actionabilityScore=n.civic_actionability_score,n.coordinates.reference_bases&&(this.refBases=n.coordinates.reference_bases),n.coordinates.variant_bases&&(this.altBases=n.coordinates.variant_bases),n.variant_types&&(this.variant_types=n.variant_types),this.locationString=this.chr+":"+Za(this.start+1)+"-"+Za(this.end),void 0!==this.actionabilityScore){let e;if(this.actionabilityScore<=10)e=.2;else{const t=Math.min(30,this.actionabilityScore);e=.2+.8*Math.log10((t-10)/2)}this.alpha=e}}popupData(){const e=i("CIViC","https://civicdb.org/links/variants/"+this.id);this.refBases!==this.altBases&&this.refBases&&1===this.refBases.length&&this.altBases&&this.altBases.length;const t=[e];if(t.push({name:"Entrez",value:i(this.entrezName,"https://ghr.nlm.nih.gov/gene/"+this.entrezName)}),t.push({name:"Name",value:this.name}),this.variant_types&&this.variant_types.length>0){const e=1===this.variant_types.length?"Type":"Types";let i;for(let e of this.variant_types)i?i+=", "+e.display_name:i=e.display_name;t.push({name:e,value:i})}return t.push({name:"Actionability",value:this.actionabilityScore}),t.push({name:"Location",value:this.locationString}),t;function i(e,t){return"<a target='_blank' href='"+t+"'>"+e+"</a>"}}}class Tp{constructor(e,t){if(this.config=e,this.genome=t,this.format=e.format?e.format.toUpperCase():"BAM","BAM"!==this.format&&"VCF"!==this.format)throw Error(`htsget format ${e.format} is not supported`)}async readHeaderData(){const e=`${Rp(this.config)}?class=header&format=${this.format}`,t=await ad.loadJson(e,zd(this.config));return await this.loadUrls(t.htsget.urls)}async readData(e,t,i){const n=`${Rp(this.config)}?format=${this.format}&referenceName=${e}&start=${Math.floor(t)}&end=${Math.ceil(i)}`,o=await ad.loadJson(n,zd(this.config));return this.loadUrls(o.htsget.urls)}async loadUrls(e){const t=[];for(let i of e)if(i.url.startsWith("data:"))t.push(Promise.resolve(Lp(i.url)));else{const e=zd(this.config||{});i.headers&&(e.headers=Object.assign(e.headers||{},i.headers)),t.push(ad.loadArrayBuffer(i.url,e))}return function(e){let t=0;for(let i of e)t+=i.byteLength;let i=0;const n=new Uint8Array(t);for(let t of e){const e=new Uint8Array(t);n.set(e,i),i+=e.length}return n}(await Promise.all(t))}static async inferFormat(e){try{const t=Rp(e),i=`${t}${t.includes("?")?"&":"?"}class=header`,n=await ad.loadJson(i,zd(e));if(n.htsget){const t=n.htsget.format;if("BAM"!==t&&"VCF"!==t)throw Error(`htsget format ${t} is not supported`);e.format=t.toLowerCase(),e.sourceType="htsget",e.name||(e.name=await Md(e.url))}}catch(e){}}}function Rp(e){if(e.url&&e.endpoint&&e.id)return e.url+e.endpoint+e.id;if(e.endpoint&&e.id)return e.endpoint+e.id;if(e.url)return e.url.startsWith("htsget://")?e.url.replace("htsget://","https://"):e.url;throw Error("Must specify either 'url', or 'endpoint' and 'id")}function Lp(e){const t=e.split(","),i=t[0].split(":")[1];let n=t[1];n=i.indexOf("base64")>=0?atob(n):decodeURI(n);const o=new Uint8Array(n.length);for(var r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return o}class Bp extends Tp{constructor(e,t){super(e,t),this.parser=new ju}async readHeader(){if(!this.header){const e=fp(await this.readHeaderData());this.header=await this.parser.parseHeader(e,this.genome),this.chrAliasTable=this.header.chrAliasTable}return this.header}async readFeatures(e,t,i){if(this.config.format&&"VCF"!==this.config.format.toUpperCase())throw Error(`htsget format ${this.config.format} is not supported`);this.chrAliasTable||await this.readHeader();let n=this.chrAliasTable.has(e)?this.chrAliasTable.get(e):e;const o=fp(await this.readData(n,t,i));return this.parser.parseFeatures(o)}}function Hp(e,t){t=t||Number.MAX_SAFE_INTEGER;const i=[];e.sort((function(e,t){return e.start-t.start})),i.push(-1e3);for(let n of e){let e=0;const o=Math.min(i.length,t);for(e=0;e<o;e++)if(n.start>=i[e]){n.row=e,i[e]=n.end;break}n.row=e,i[e]=n.end}}function Op(e,t,i){const n=i||1e4,o=e=>{const i=Object.assign({},e);return i.chr="all",i.start=t.getGenomeCoordinate(e.chr,e.start),i.end=t.getGenomeCoordinate(e.chr,e.end),i._f=e,i.exons&&delete i.exons,i},r=new Set(t.wgChromosomeNames),a=[];let s=0;for(let i of t.wgChromosomeNames){if(Array.isArray(e)){const i={};for(let n of e){const e=t.getChromosomeName(n.chr);i.hasOwnProperty(e)||(i[e]=[]),i[e].push(n)}e=i}const c=e[i];if(c)for(let e of c){let i=t.getChromosomeName(e.chr);if(r.has(i))if(a.length<n)a.push(o(e));else{const t=n/(s+1);if(Math.random()<t){a[Math.floor(Math.random()*(n-1))]=o(e)}}s++}}return a.sort((function(e,t){return e.start-t.start})),a}function Pp(e,t){if(t=t||1e3,null==e||0===e.length)return;const i={},n=[];for(let t of e){const e=t.chr;let o=i[e];o||(o=[],i[e]=o,n.push(e)),o.push(t)}for(let e of n)Hp(i[e],t)}class qp{constructor(e,t){this.config=e||{},this.genome=t,this.sourceType=void 0===e.sourceType?"file":e.sourceType,this.maxWGCount=e.maxWGCount||1e4;const i=new Set(["bigwig","bw","bigbed","bb","biginteract","biggenepred","bignarrowpeak","tdf"]);this.queryable=e.indexURL||!0===e.queryable,e.reader?(this.reader=e.reader,this.queryable=!1!==e.queryable):"ga4gh"===e.sourceType?(this.reader=new Dp(e,t),this.queryable=!0):"immvar"===e.sourceType?(this.reader=new Np(e),this.queryable=!0):"eqtl"===e.type&&"gtex-ws"===e.sourceType?(this.reader=new Ep(e),this.queryable=!0):"htsget"===e.sourceType?(this.reader=new Bp(e,t),this.queryable=!0):"ucscservice"===e.sourceType?(this.reader=new Cp(e.source),this.queryable=!0):"custom"===e.sourceType?(this.reader=new _p(e.source),this.queryable=!1!==e.source.queryable):"civic-ws"===e.sourceType?(this.reader=new Ap(e),this.queryable=!1):(this.reader=new vp(e,t),void 0!==e.queryable?this.queryable=e.queryable:(i.has(e.format)||this.reader.indexed)&&(this.queryable=!0)),this.searchable=!0===e.searchable||e.searchableFields||!1!==e.searchable&&!this.queryable}async defaultVisibilityWindow(){if(this.reader&&"function"==typeof this.reader.defaultVisibilityWindow)return this.reader.defaultVisibilityWindow()}async trackType(){const e=await this.getHeader();return e?e.type:void 0}async getHeader(){if(!this.header)if(this.reader&&"function"==typeof this.reader.readHeader){const e=await this.reader.readHeader();e?(this.header=e,e.format&&(this.config.format=e.format)):this.header={}}else this.header={};return this.header}async getFeatures({chr:e,start:t,end:i,bpPerPixel:n,visibilityWindow:o}){const r=this.genome,a=r?r.getChromosomeName(e):e,s="all"===a.toLowerCase();return(s&&!this.wgFeatures&&this.supportsWholeGenome()||this.config.disableCache||!this.featureCache||!this.featureCache.containsRange(new af(a,t,i)))&&await this.loadFeatures(a,t,i,o),s?(this.wgFeatures||(this.supportsWholeGenome()?this.wgFeatures=Op(this.featureCache.getAllFeatures(),this.genome,this.maxWGCount):this.wgFeatures=[]),this.wgFeatures):this.featureCache.queryFeatures(a,t,i)}supportsWholeGenome(){return!this.queryable}getAllFeatures(){return this.queryable||!this.featureCache?[]:this.featureCache.getAllFeatures()}async loadFeatures(e,t,i,n){const o=this.reader;let r=t,a=i;if((!n||n<=0)&&!1!==this.config.expandQuery){const t=this.genome?this.genome.getChromosome(e):void 0;r=0,a=Math.max(t?t.bpLength:Number.MAX_SAFE_INTEGER,i)}else if(n>i-t&&!1!==this.config.expandQuery){const e=Math.min(4.1*(i-t),n);r=Math.max(0,(t+i)/2-e),a=t+e}let s=await o.readFeatures(e,r,a);void 0===this.queryable&&(this.queryable=o.indexed);const c=this.queryable?new af(e,r,a):void 0;if(s){if(!1===this.config.assembleGFF||"gtf"!==this.config.format&&"gff3"!==this.config.format&&"gff"!==this.config.format||(s=new kp(this.config).combineFeatures(s,c)),"wig"!==this.config.format&&"junctions"!==this.config.type){Pp(s,this.config.maxRows||Number.MAX_SAFE_INTEGER)}this.featureCache=new md(s,this.genome,c),this.searchable&&this.genome.addFeaturesToDB(s,this.config)}else this.featureCache=new md([],c)}}class Up{constructor(e,t,i){this.path=e.url,this.bufferSize=i||512e3,this.range={start:-1,size:-1},this.config=e}async dataViewForRange(e,t,i=0){try{if(!(this.data&&this.range.start<=e.start&&this.range.start+this.range.size>=e.start+e.size)){let t;t=e.size?Math.max(this.bufferSize,e.size):this.bufferSize,this.contentLength&&(t=Math.min(t,this.contentLength-e.start));const i={start:e.start,size:t},n=await ad.loadArrayBuffer(this.path,zd(this.config,{range:i}));this.data=n,this.range=i}const i=this.data.byteLength,n=e.start-this.range.start;return t?new Uint8Array(this.data,n,i-n):new DataView(this.data,n,i-n)}catch(n){if(0===i&&n.message&&n.message.startsWith("416")){try{return this.contentLength=await ad.getContentLength(this.path,zd(this.config)),this.dataViewForRange(e,t,++i)}catch(e){console.error(e)}throw n}}}}let Vp=512e3;class jp{constructor(e,t){this.path=e.url,this.format=e.format||"bigwig",this.genome=t,this.rpTreeCache={},this.config=e,this.loader=Rd(this.path)?new tm(this.path):ad}async readWGFeatures(e,t){await this.loadHeader();const i=this.chromTree.idToChrom.length-1,n=this.chromTree.idToChrom[0],o=this.chromTree.idToChrom[i];return this.readFeatures(n,0,o,Number.MAX_VALUE,e,t)}async readFeatures(e,t,i,n,o,r){await this.loadHeader();const a=this.chromTree.chromToID[e],s=this.chromTree.chromToID[i];if(void 0===a||void 0===s)return[];let c,l;if("bigwig"===this.type){const e=await this.getZoomHeaders();let t=o?function(e,t){let i;for(let n=0;n<t.length;n++){const o=t[n];if(o.reductionLevel<e){i=o;break}}return i}(o,e):void 0;t?(c=t.indexOffset,l=em):(c=this.header.fullIndexOffset,l=Qp)}else c=this.header.fullIndexOffset,l=Jp.call(this);const h=await this.loadRPTree(c),d=await h.findLeafItemsOverlapping(a,t,s,n);if(d&&0!==d.length){let e=Number.MAX_VALUE,i=0;for(let t of d)e=Math.min(e,t.dataOffset),i=Math.max(i,t.dataOffset+t.dataSize);const o=i-e,c=await this.loader.loadArrayBuffer(this.config.url,zd(this.config,{range:{start:e,size:o}})),h=[];for(let i of d){const o=new Uint8Array(c,i.dataOffset-e,i.dataSize);let d;d=this.header.uncompressBuffSize>0?kh(o):o,l.call(this,new DataView(d.buffer),a,t,s,n,h,this.chromTree.idToChrom,r)}return h.sort((function(e,t){return e.start-t.start})),h}return[]}async getZoomHeaders(){return this.zoomLevelHeaders||await this.loadHeader(),this.zoomLevelHeaders}async loadHeader(){if(this.header)return this.header;{let e,t=await this.loader.loadArrayBuffer(this.path,zd(this.config,{range:{start:0,size:64}}));this.littleEndian=!0;let i=new op(new DataView(t)),n=i.getUInt();if(2291137574===n)this.type="bigwig";else if(2273964779===n)this.type="bigbed";else{this.littleEndian=!1,i.littleEndian=!1,i.position=0;let e=i.getUInt();654085990===e?this.type="bigwig":3958540679===e&&(this.type="bigbed")}e={bwVersion:i.getUShort(),nZoomLevels:i.getUShort(),chromTreeOffset:i.getLong(),fullDataOffset:i.getLong(),fullIndexOffset:i.getLong(),fieldCount:i.getUShort(),definedFieldCount:i.getUShort(),autoSqlOffset:i.getLong(),totalSummaryOffset:i.getLong(),uncompressBuffSize:i.getInt(),extensionOffset:i.getLong()};const o=64;let r={start:o,size:e.fullDataOffset-o+5};t=await this.loader.loadArrayBuffer(this.path,zd(this.config,{range:r}));const a=e.nZoomLevels;i=new op(new DataView(t)),this.zoomLevelHeaders=[],this.firstZoomDataOffset=Number.MAX_SAFE_INTEGER;for(let e=1;e<=a;e++){const t=a-e,n=new Wp(t,i);this.firstZoomDataOffset=Math.min(n.dataOffset,this.firstZoomDataOffset),this.zoomLevelHeaders[t]=n}if(e.autoSqlOffset>0){i.position=e.autoSqlOffset-o;const t=i.getString();t&&(this.autoSql=function(e){let t;const i=[];let n=!1;const o=e.trim().split(/\s*[\r\n]+\s*/g);for(let e of o)if(e.startsWith("table"))t=e.split(/\s+/)[1].trim();else if(e.startsWith("("))n=!0;else if(e.startsWith(")"));else if(n&&e.length>0){const t=e.indexOf(";"),n=e.substr(0,t).split(/\s+/),o=e.substr(t+1).replace(/"/g,"").trim();i.push({type:n[0],name:n[1],description:o})}return{table:t,fields:i}}(t))}if(e.totalSummaryOffset>0&&(i.position=e.totalSummaryOffset-o,this.totalSummary=new Xp(i)),!(e.chromTreeOffset>0))throw"BigWig chromosome tree offset <= 0";return i.position=e.chromTreeOffset-o,this.chromTree=new Zp(i,o,this.genome),i.position=e.fullDataOffset-o,e.dataCount=i.getInt(),this.setDefaultVisibilityWindow(e),this.header=e,this.header}}async loadRPTree(e){let t=this.rpTreeCache[e];return t||(t=new Gp(e,this.config,this.littleEndian,this.loader),await t.load(),this.rpTreeCache[e]=t,t)}async getType(){return await this.loadHeader(),this.type}async getTrackType(){return await this.loadHeader(),"bigwig"===this.type?"wig":this.autoSql&&"chromatinInteract"===this.autoSql.table?"interact":"annotation"}setDefaultVisibilityWindow(e){if("bigwig"===this.type)this.visibilityWindow=-1;else{let t=this.genome?this.genome.getGenomeLength():3088286401;this.visibilityWindow=e.dataCount<1e3?-1:t/e.dataCount*1e3}}}class Wp{constructor(e,t){this.index=e,this.reductionLevel=t.getInt(),this.reserved=t.getInt(),this.dataOffset=t.getLong(),this.indexOffset=t.getLong()}}class Gp{constructor(e,t,i,n){this.config=t,this.loader=n,this.fileOffset=e,this.path=t.url,this.littleEndian=i}async load(){const e=this.fileOffset+48,t=Rd(this.path)?this.loader:new Up(this.config,Vp);return this.rootNode=await this.readNode(e,t),this}async readNode(e,t){let i=await t.dataViewForRange({start:e,size:4},!1),n=new op(i,this.littleEndian);const o=1===n.getByte();n.getByte();const r=n.getUShort();let a={start:e+=4,size:r*(o?32:24)};i=await t.dataViewForRange(a,!1);const s=new Array(r);if(n=new op(i),o){for(let e=0;e<r;e++){let t={isLeaf:!0,startChrom:n.getInt(),startBase:n.getInt(),endChrom:n.getInt(),endBase:n.getInt(),dataOffset:n.getLong(),dataSize:n.getLong()};s[e]=t}return new $p(s)}for(let e=0;e<r;e++){let t={isLeaf:!1,startChrom:n.getInt(),startBase:n.getInt(),endChrom:n.getInt(),endBase:n.getInt(),childOffset:n.getLong()};s[e]=t}return new $p(s)}async findLeafItemsOverlapping(e,t,i,n){let o=this;return new Promise((function(r,a){let s=[],c=new Set,l=Rd(o.path)?o.loader:new Up(o.config,Vp);c.add(0),function h(d,f){if(Kp(d,e,t,i,n)){d.items.forEach((function(r){Kp(r,e,t,i,n)&&(r.isLeaf?s.push(r):r.childNode?h(r.childNode):(c.add(r.childOffset),o.readNode(r.childOffset,l).then((function(e){r.childNode=e,h(e,r.childOffset)})).catch(a)))}))}void 0!==f&&c.delete(f);0===c.size&&r(s)}(o.rootNode,0)}))}}class $p{constructor(e){this.items=e;let t,i,n=Number.MAX_SAFE_INTEGER,o=0,r=Number.MAX_SAFE_INTEGER,a=0;for(t=0;t<e.length;t++)i=e[t],n=Math.min(n,i.startChrom),o=Math.max(o,i.endChrom),r=Math.min(r,i.startBase),a=Math.max(a,i.endBase);this.startChrom=n,this.endChrom=o,this.startBase=r,this.endBase=a}}class Zp{constructor(e,t,i){let n=e.getInt(),o=e.getInt(),r=e.getInt(),a=e.getInt(),s=e.getLong(),c=e.getLong(),l={},h=[];this.header={magic:n,blockSize:o,keySize:r,valSize:a,itemCount:s,reserved:c},this.chromToID=l,this.idToChrom=h,function e(n,o){o>=0&&(n.position=o);let a=n.getByte();n.getByte();let s,c,d,f,u,p,m=n.getUShort();if(1===a)for(s=0;s<m;s++)c=n.getFixedLengthTrimmedString(r),d=n.getInt(),n.getInt(),i&&(c=i.getChromosomeName(c)),l[c]=d,h[d]=c;else for(s=0;s<m;s++)c=n.getFixedLengthTrimmedString(r),f=n.getLong(),u=f-t,p=n.position,e(n,u),n.position=p}(e,-1)}}function Kp(e,t,i,n,o){return e?(n>e.startChrom||n===e.startChrom&&o>=e.startBase)&&(t<e.endChrom||t===e.endChrom&&i<=e.endBase):(console.log("null item for "+t+" "+i+" "+o),!1)}class Xp{constructor(e){e?(this.basesCovered=e.getLong(),this.minVal=e.getDouble(),this.maxVal=e.getDouble(),this.sumData=e.getDouble(),this.sumSquares=e.getDouble(),Yp.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)}}function Yp(){let e=this.basesCovered;if(e>0){this.mean=this.sumData/e,this.stddev=Math.sqrt(this.sumSquares/(e-1));let t=this.minVal<0?this.mean-2*this.stddev:0,i=this.maxVal>0?this.mean+2*this.stddev:0;this.defaultRange={min:t,max:i}}}function Qp(e,t,i,n,o,r,a){const s=new op(e),c=s.getInt(),l=s.getInt();let h=l,d=s.getInt();const f=s.getInt(),u=s.getInt(),p=s.getByte();s.getByte();let m=s.getUShort();if(c>=t&&c<=n){let e=0;for(;m-- >0;){let m;switch(p){case 1:h=s.getInt(),d=s.getInt(),m=s.getFloat();break;case 2:h=s.getInt(),m=s.getFloat(),d=h+u;break;case 3:m=s.getFloat(),h=l+e*f,d=h+u,e++}if(!(c<t||c===t&&d<i)){if(c>n||c===n&&h>=o)break;if(Number.isFinite(m)){const e=a[c];r.push({chr:e,start:h,end:d,value:m})}}}}}function Jp(){const e=function(e,t,i,n){if("biginteract"===n||i&&"chromatinInteract"===i.table||"interact"===i.table)return function(e,t){return e.chr1=t[5],e.start1=Number.parseInt(t[6]),e.end1=Number.parseInt(t[7]),e.chr2=t[10],e.start2=Number.parseInt(t[11]),e.end2=Number.parseInt(t[12]),e.name=t[0],e.score=Number(t[1]),e.value=Number(t[2]),e.color="."===t[4]?void 0:"0"===t[4]?"rgb(0,0,0)":t[4],e};{const n=e-3;return function(o,r){if(n>0&&(o.name=r[0]),n>1&&(o.score=Number(r[1])),n>2&&(o.strand=r[2]),n>3&&(o.cdStart=parseInt(r[3])),n>4&&(o.cdEnd=parseInt(r[4])),n>5&&"."!==r[5]&&"0"!==r[5]&&"-1"!==r[5]){const e=qh.createColorString(r[5]);o.color=e.startsWith("rgb")?e:void 0}if(n>8){const e=parseInt(r[6]),t=r[7].split(","),i=r[8].split(","),n=[];for(let r=0;r<e;r++){const e=o.start+parseInt(i[r]),a=e+parseInt(t[r]);n.push({start:e,end:a})}!function(e,t,i){for(let n of e){const e=n.end,o=n.start;e<t||o>i?n.utr=!0:(t>=o&&t<=e&&(n.cdStart=t),i>=o&&i<=e&&(n.cdEnd=i))}}(n,o.cdStart,o.cdEnd),o.exons=n}if(i)for(let n=e;n<t;n++)if(n<i.fields.length){const e=i.fields[n].name,t=r[n-3];o[e]=t}}}}(this.header.definedFieldCount,this.header.fieldCount,this.autoSql,this.format);return function(t,i,n,o,r,a,s){const c=new op(t);for(;c.remLength()>=13;){const t=c.getInt(),l=s[t],h=c.getInt(),d=c.getInt(),f=c.getString();if(!(t<i||t===i&&d<n)){if(t>o||t===o&&h>=r)break;if(d>0){const t={chr:l,start:h,end:d};a.push(t);const i=f.split("\t");e(t,i)}}}}}function em(e,t,i,n,o,r,a,s){const c=new op(e);for(;c.remLength()>=32;){const e=c.getInt(),l=a[e],h=c.getInt(),d=c.getInt(),f=c.getInt(),u=c.getFloat(),p=c.getFloat(),m=c.getFloat();let g;switch(c.getFloat(),s){case"min":g=u;break;case"max":g=p;break;default:g=0===f?0:m/f}if(!(e<t||e===t&&d<i)){if(e>n||e===n&&h>=o)break;Number.isFinite(g)&&r.push({chr:l,start:h,end:d,value:g})}}}class tm{constructor(e){this.data=Rh(e).buffer}loadArrayBuffer(e,t){const i=t.range;return i?this.data.slice(i.start,i.start+i.size):this.data}async dataViewForRange(e,t){const i=Math.min(this.data.byteLength-e.start,e.size);return t?new Uint8Array(this.data,e.start,i):new DataView(this.data,e.start,i)}}class im{constructor(e,t){this.reader=new jp(e,t),this.genome=t,this.format=e.format||"bigwig",this.wgValues={},this.queryable=!0}async getFeatures({chr:e,start:t,end:i,bpPerPixel:n,windowFunction:o}){const r="bigwig"===this.reader.type,a="all"===e.toLowerCase()?r?await this.getWGValues(o):[]:await this.reader.readFeatures(e,t,e,i,n,o);return r||Hp(a),a}async getHeader(){return this.reader.loadHeader()}getDefaultRange(){return void 0!==this.reader.totalSummary?this.reader.totalSummary.defaultRange:void 0}async defaultVisibilityWindow(){return this.reader.defaultVisibilityWindow}async getWGValues(e){const t=this.genome;if(this.wgValues[e])return this.wgValues[e];{const i=t.getGenomeLength()/1e3,n=await this.reader.readWGFeatures(i,e);let o=[];for(let e of n){const i=e.chr,n=t.getCumulativeOffset(i),r=Object.assign({},e);r.chr="all",r.start=n+e.start,r.end=n+e.end,o.push(r)}return this.wgValues[e]=o,o}}supportsWholeGenome(){return"bigwig"===this.reader.type}async trackType(){return this.reader.getTrackType()}}class nm{constructor(e,t){this.config=e,this.genome=t,this.path=e.url,this.groupCache={},this.datasetCache={}}async readHeader(){if(void 0!==this.magic)return this;let e=await ad.loadArrayBuffer(this.path,zd(this.config,{range:{start:0,size:64e3}})),t=new op(new DataView(e));if(this.magic=t.getInt(),this.version=t.getInt(),this.indexPos=t.getLong(),this.indexSize=t.getInt(),t.getInt(),this.version>=2){let e=t.getInt();for(this.windowFunctions=[];e-- >0;)this.windowFunctions.push(t.getString())}this.trackType=t.getString(),this.trackLine=t.getString();let i=t.getInt();for(this.trackNames=[];i-- >0;)this.trackNames.push(t.getString());this.genomeID=t.getString(),this.flags=t.getInt(),this.compressed=!!(1&this.flags),e=await ad.loadArrayBuffer(this.path,zd(this.config,{range:{start:this.indexPos,size:this.indexSize}})),t=new op(new DataView(e)),this.datasetIndex={};let n=t.getInt();for(;n-- >0;){const e=t.getString(),i=t.getLong(),n=t.getInt();this.datasetIndex[e]={position:i,size:n}}for(this.groupIndex={},n=t.getInt();n-- >0;){const e=t.getString(),i=t.getLong(),n=t.getInt();this.groupIndex[e]={position:i,size:n}}return this}async readDataset(e,t,i){const n=e+"_"+t+"_"+i;if(this.datasetCache[n])return this.datasetCache[n];{await this.readHeader();const o=this.version<2?"":"/"+t,r="all"===e.toLowerCase()||void 0===i?"0":i.toString();let a;a="raw"===t?"/"+e+"/raw":"/"+e+"/z"+r+o;const s=this.datasetIndex[a];if(void 0===s)return;const c=await ad.loadArrayBuffer(this.path,zd(this.config,{range:{start:s.position,size:s.size}}));if(!c)return;const l=new op(new DataView(c));let h=l.getInt();const d={};for(;h-- >0;)d[l.getString()]=l.getString();const f=l.getString(),u=l.getFloat();let p=l.getInt();const m=[];for(;p-- >0;)m.push({position:l.getLong(),size:l.getInt()});const g={name:a,attributes:d,dataType:f,tileWidth:u,tiles:m};return this.datasetCache[n]=g,g}}async readRootGroup(){const e=this.genome,t=this.groupCache["/"];if(t)return t;{const t=await this.readGroup("/"),i=t.chromosomes,n=t.maxZoom;n&&(this.maxZoom=Number(n));const o=t.totalCount;o&&(t.totalCount=Number(o));const r={};return i&&i.split(",").forEach((function(t){const i=e.getChromosomeName(t);r[i]=t})),this.chrAliasTable=r,this.groupCache["/"]=t,t}}async readGroup(e){const t=this.groupCache[e];if(t)return t;{await this.readHeader();const t=this.groupIndex[e];if(void 0===t)return;const i=await ad.loadArrayBuffer(this.path,zd(this.config,{range:{start:t.position,size:t.size}}));if(!i)return;const n=new op(new DataView(i)),o={name:e};let r=n.getInt();for(;r-- >0;){const e=n.getString(),t=n.getString();o[e]=t}return this.groupCache[e]=o,o}}async readTiles(e,t){if(e.sort((function(e,t){return e.position-t.position})),0===(e=e.filter((function(e){return e.size>0}))).length)return Promise.resolve([]);const i=e[0],n=e[e.length-1],o=i.position,r=n.position+n.size-o,a=await ad.loadArrayBuffer(this.path,zd(this.config,{range:{start:o,size:r}})),s=[];for(let i of e){const e=i.position-o,n=i.size;if(n>0){let i;if(this.compressed){i=kh(a.slice(e,e+n)).buffer}else i=a.slice(e,e+n);const o=new op(new DataView(i)),r=o.getString();let c;switch(r){case"fixedStep":c=om(o,t);break;case"variableStep":c=rm(o,t);break;case"bed":case"bedWithName":c=am(o,t,r);break;default:throw"Unknown tile type: "+r}s.push(c)}}return s}async readTile(e,t){let i=await ad.loadArrayBuffer(this.path,zd(this.config,{range:{start:e.position,size:e.size}}));if(this.compressed){i=kh(i).buffer}const n=new op(new DataView(i)),o=n.getString();switch(o){case"fixedStep":return om(n,t);case"variableStep":return rm(n,t);case"bed":case"bedWithName":return am(n,t,o);default:throw"Unknown tile type: "+o}}}function om(e,t){const i=e.getInt(),n=e.getInt(),o=e.getFloat(),r=[];let a=t;for(;a-- >0;){let t=i;const n=[];for(;t-- >0;)n.push(e.getFloat());r.push(n)}return{type:"fixedStep",start:n,span:o,data:r,nTracks:t,nPositions:i}}function rm(e,t){const i=e.getInt(),n=e.getFloat(),o=e.getInt(),r=[];let a=o;for(;a-- >0;)r.push(e.getInt());e.getInt();const s=[];let c=t;for(;c-- >0;){a=o;const t=[];for(;a-- >0;)t.push(e.getFloat());s.push(t)}return{type:"variableStep",tileStart:i,span:n,start:r,data:s,nTracks:t,nPositions:o}}function am(e,t,i){const n=e.getInt();let o=n;const r=[];for(;o-- >0;)r.push(e.getInt());o=n;const a=[];for(;o-- >0;)a.push(e.getInt());e.getInt();const s=[];let c=t;for(;c-- >0;){let t=n;const i=[];for(;t-- >0;)i.push(e.getFloat());s.push(i)}if("bedWithName"===i){o=n;const t=[];for(;o-- >0;)t.push(e.getString())}return{type:i,start:r,end:a,data:s,nTracks:t,nPositions:n}}class sm{constructor(e,t){this.genome=t,this.windowFunction=e.windowFunction||"mean",this.reader=new nm(e,t),this.queryable=!0}async getFeatures({chr:e,start:t,end:i,bpPerPixel:n}){if("all"===e.toLowerCase()){const e=[],t=this.genome;if(this.genome.wgChromosomeNames)for(let i of t.wgChromosomeNames){const o=t.getChromosome(i).bpLength;n=o/1e3;const r=await this._getFeatures(i,0,o,n);if(r)for(let i of r){const n=Object.assign({},i);n.chr="all",n.start=t.getGenomeCoordinate(i.chr,i.start),n.end=t.getGenomeCoordinate(i.chr,i.end),n._f=i,e.push(n)}}return e}return this._getFeatures(e,t,i,n)}async _getFeatures(e,t,i,n){const o=new af(e,t,i),r=this.genome;if(!this.rootGroup&&(this.rootGroup=await this.reader.readRootGroup(),!this.normalizationFactor)){const e=this.rootGroup.totalCount;e&&(this.normalizationFactor=1e6/e)}o.bpPerPixel=n;const a=function(e,t,i){var n=i.getChromosome(e).bpLength;return Math.ceil(Math.log(Math.max(0,n/(700*t)))/dm)}(e,n,r);let s=this.reader.chrAliasTable[e],c=this.reader.maxZoom;void 0===s&&(s=e),void 0===c&&(c=-1);const l=a>c?"raw":this.windowFunction,h=await this.reader.readDataset(s,l,a);if(null==h)return[];const d=h.tileWidth,f=Math.floor(t/d),u=Math.floor(i/d),p=await this.reader.readTiles(h.tiles.slice(f,u+1),1),m=[];for(let o of p)switch(o.type){case"bed":cm(o,e,t,i,n,m);break;case"variableStep":lm(o,e,t,i,n,m);break;case"fixedStep":hm(o,e,t,i,n,m);break;default:throw"Unknown tile type: "+o.type}return m.sort((function(e,t){return e.start-t.start})),m}get supportsWholeGenome(){return!0}}function cm(e,t,i,n,o,r){const a=e.nPositions,s=e.start,c=e.end,l=e.data[0];for(let e=0;e<a;e++){const o=s[e],a=c[e];if(!(a<i)){if(o>n)break;r.push({chr:t,start:o,end:a,value:l[e]})}}}function lm(e,t,i,n,o,r){const a=e.nPositions,s=e.start,c=e.span,l=e.data[0];for(let e=0;e<a;e++){const o=s[e],a=o+c;if(!(a<i)){if(o>n)break;r.push({chr:t,start:o,end:a,value:l[e]})}}}function hm(e,t,i,n,o,r){const a=e.nPositions;let s=e.start;const c=e.span,l=e.data[0];for(let e=0;e<a;e++){const o=s+c;if(s>n)break;o>=i&&(Number.isNaN(l[e])||r.push({chr:t,start:s,end:o,value:l[e]})),s=o}}var dm=Math.log(2);class fm{constructor(e,t){this.config=e,this.genome=t,this.queryable=!1,this.searchable=!1!==e.searchable,this.updateFeatures(e.features)}updateFeatures(e){Pp(e=function(e,t){if(t)for(let i of e)i.chr=t.getChromosomeName(i.chr);return e}(e,this.genome)),this.config.mappings&&function(e,t){let i=Object.keys(t);e.forEach((function(e){i.forEach((function(i){e[i]=e[t[i]]}))}))}(e,this.config.mappings),this.featureCache=new md(e,this.genome),(this.searchable||this.config.searchableFields)&&this.genome.addFeaturesToDB(e,this.config)}async getFeatures({chr:e,start:t,end:i,bpPerPixel:n,visibilityWindow:o}){const r=this.genome,a=r?r.getChromosomeName(e):e;return"all"===a.toLowerCase()?Op(this.featureCache.getAllFeatures(),this.genome,this.maxWGCount):this.featureCache.queryFeatures(a,t,i)}getAllFeatures(){return this.featureCache.getAllFeatures()}supportsWholeGenome(){return!0}}const um=new Set(["bigwig","bw","bigbed","bb","biginteract","biggenepred","bignarrowpeak"]);function pm(e,t){const i=e.format?e.format.toLowerCase():void 0;return e.features?new fm(e,t):um.has(i)?new im(e,t):"tdf"===i?new sm(e,t):new qp(e,t)}const mm=function(e,t){const{r:i,g:n,b:o}=bd[e];return`rgba(${i},${n},${o},${t})`}("nickel",2/16),gm=mm;class wm{constructor(e,t){if(this.url=e.url,e.name?this.name=e.name:e.url&&Ja(e.url)?this.name=e.url.name:e.url&&$a(e.url)&&!e.url.startsWith("data:")&&(this.name=Qa(e.url)),this.isUserDefined=e.isUserDefined,e.features)this.featureSource=new bm(e.features,t);else{if(e.format)e.format=e.format.toLowerCase();else{const t=Qa(e.url);e.format=Wd(t)}this.featureSource=e.featureSource||pm(e,t)}!0===this.isUserDefined?(this.color=e.color||gm,this.headerColor="rgba(155,185,129)"):(this.color=e.color||mm,this.headerColor="rgb(190,190,190)")}async getFeatures(e,t,i){return this.featureSource.getFeatures({chr:e,start:t,end:i})}async getAllFeatures(){return"function"==typeof this.featureSource.getAllFeatures?await this.featureSource.getAllFeatures():{}}addFeature(e){this.isUserDefined?this.featureSource.addFeature(e):console.error("Attempt to add ROI to non user-defined set")}removeFeature(e){this.isUserDefined?this.featureSource.removeFeature(e):console.error("Attempt to remove ROI from non user-defined set")}toJSON(){if(this.url)return{name:this.name,color:this.color,url:this.url,isUserDefined:this.isUserDefined};{const e=this.featureSource.getAllFeatures(),t=[];for(let i of Object.keys(e))for(let n of e[i])t.push(n);return{name:this.name,color:this.color,features:t,isUserDefined:this.isUserDefined}}}dispose(){for(let e of Object.keys(this))this[e]=void 0}}function Fm(e,t,i,n){let o=Math.round((e-i)/n);let r=Math.round((t-i)/n)-o;return r<3&&(r=3,o-=1),{x:o,width:r}}class bm{constructor(e,t){this.featureMap={},this.genome=t;for(let i of e){const e=t?t.getChromosomeName(i.chr):i.chr;let n=this.featureMap[e];n||(n=[],this.featureMap[e]=n),n.push(i)}for(let e of Object.keys(this.featureMap))this.featureMap[e].sort(((e,t)=>e.start-t.start))}getFeatures({chr:e,start:t,end:i}){if("all"===e.toLowerCase())return Op(this.featureMap,this.genome);{const n=this.featureMap[e];return n?n.filter((e=>e.end>t&&e.start<i)):[]}}getAllFeatures(){return this.featureMap}supportsWholeGenome(){return!0}addFeature(e){let t=this.featureMap[e.chr];t||(t=[],this.featureMap[e.chr]=t),t.push(e),t.sort(((e,t)=>e.start-t.start))}removeFeature({chr:e,start:t,end:i}){if(this.featureMap[e]){const n=`${e}-${t}-${i}`;this.featureMap[e]=this.featureMap[e].filter((e=>n!==`${e.chr}-${e.start}-${e.end}`))}}}class vm{constructor(e,t,i,n){this.rulerViewport=e,this.rulerSweeper=xr.div({class:"igv-ruler-sweeper"}),t.appendChild(this.rulerSweeper),this.browser=i,this.referenceFrame=n,this.isMouseHandlers=void 0,this.addBrowserObserver()}addBrowserObserver(){this.boundObserverHandler=(()=>{this.referenceFrame&&(Rf.isWholeGenomeView(this.referenceFrame.chr)?this.removeMouseHandlers():this.addMouseHandlers())}).bind(this),this.browser.on("locuschange",this.boundObserverHandler)}removeBrowserObserver(){this.browser.off("locuschange",this.boundObserverHandler)}addMouseHandlers(){if(!0===this.isMouseHandlers)return;let e,t,i,n,o,r;this.boundContentMouseDownHandler=function(r){e=!0,t=!0;const{x:a}=xr.translateMouseCoordinates(r,this.rulerViewport.contentDiv);n=i=a,o=1,this.rulerSweeper.style.display="block",this.rulerSweeper.style.backgroundColor=!0===r.shiftKey?gm:"rgba(68, 134, 247, 0.25)",this.rulerSweeper.style.left=`${n}px`,this.rulerSweeper.style.width=`${o}px`}.bind(this),this.rulerViewport.contentDiv.addEventListener("mousedown",this.boundContentMouseDownHandler),this.boundDocumentMouseMoveHandler=function(a){let s;if(e&&t){const{x:e}=xr.translateMouseCoordinates(a,this.rulerViewport.contentDiv);s=Math.max(Math.min(e,this.rulerViewport.contentDiv.clientWidth),0),r=s-i,o=Math.abs(r),this.rulerSweeper.style.width=`${o}px`,r<0&&(n=i+r,this.rulerSweeper.style.left=`${n}px`)}}.bind(this),document.addEventListener("mousemove",this.boundDocumentMouseMoveHandler),this.boundDocumentMouseUpHandler=function(i){let r;if(!0===e&&!0===t&&(e=t=void 0,this.rulerSweeper.style.display="none",o>1)){r={start:Math.floor(this.referenceFrame.calculateEnd(n)),end:Math.floor(this.referenceFrame.calculateEnd(n+o))};!0===i.shiftKey?this.browser.roiManager.updateUserDefinedROISet(Object.assign({chr:this.referenceFrame.chr},r)):(Ad(this.browser.genome.getChromosome(this.referenceFrame.chr).bpLength,r,this.browser.minimumBases()),function(e,t,i){e.start=Math.round(t.start),e.end=Math.round(t.end),e.bpPerPixel=(e.end-e.start)/i}(this.referenceFrame,r,this.rulerViewport.contentDiv.clientWidth),this.browser.updateViews(this.referenceFrame))}}.bind(this),document.addEventListener("mouseup",this.boundDocumentMouseUpHandler),this.isMouseHandlers=!0}removeMouseHandlers(){this.rulerViewport.contentDiv.removeEventListener("mousedown",this.boundContentMouseDownHandler),document.removeEventListener("mousemove",this.boundDocumentMouseMoveHandler),document.removeEventListener("mouseup",this.boundDocumentMouseUpHandler),this.isMouseHandlers=!1}dispose(){this.removeBrowserObserver(),this.removeMouseHandlers(),this.rulerSweeper.remove()}}class ym{constructor(e){this.paired=!0,this.firstAlignment=e,this.chr=e.chr,this.readName=e.readName,e.start<e.mate.position?(this.start=e.start,this.scStart=e.scStart,this.connectingStart=e.start+e.lengthOnRef,this.connectingEnd=e.mate.position):(this.start=e.mate.position,this.scStart=this.start,this.connectingStart=e.mate.position,this.connectingEnd=e.start),this.end=Math.max(e.mate.position,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start;let t=Math.max(this.end,e.scStart+e.scLengthOnRef);this.scLengthOnRef=t-this.scStart}setSecondAlignment(e){this.secondAlignment=e;const t=this.firstAlignment;e.start>t.start?this.connectingEnd=e.start:this.connectingStart=e.start+e.lengthOnRef,this.start=Math.min(t.start,e.start),this.end=Math.max(t.start+t.lengthOnRef,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(t.scStart,e.scStart);const i=Math.max(t.scStart+t.scLengthOnRef,e.scStart+e.scLengthOnRef);this.scLengthOnRef=i-this.scStart}containsLocation(e,t){const i=t?this.scStart:this.start,n=t?this.scLengthOnRef:this.lengthOnRef;return e>=i&&e<=i+n}alignmentContaining(e,t){return this.firstAlignment.containsLocation(e,t)?this.firstAlignment:this.secondAlignment&&this.secondAlignment.containsLocation(e,t)?this.secondAlignment:void 0}popupData(e){let t=this.firstAlignment.popupData(e);return this.secondAlignment&&(t.push("-------------------------------"),t=t.concat(this.secondAlignment.popupData(e))),t}isPaired(){return!0}isMateMapped(){return!0}isProperPair(){return this.firstAlignment.isProperPair()}get fragmentLength(){return Math.abs(this.firstAlignment.fragmentLength)}firstOfPairStrand(){return this.firstAlignment.isFirstOfPair()?this.firstAlignment.strand:this.secondAlignment&&this.secondAlignment.isFirstOfPair()?this.secondAlignment.strand:this.firstAlignment.mate.strand}hasTag(e){return this.firstAlignment.hasTag(e)||this.secondAlignment&&this.secondAlignment.hasTag(e)}}class _m{constructor(){this.alignments=[],this.score=void 0}findAlignment(e){const t=(e,t)=>t>=e.start&&t<e.start+e.lengthOnRef;let i;for(let n=0;n<this.alignments.length;n++){const o=this.alignments[n];if(e>=o.start&&e<o.start+o.lengthOnRef){o.paired?o.firstAlignment&&t(o.firstAlignment,e)?i=o.firstAlignment:o.secondAlignment&&t(o.secondAlignment,e)&&(i=o.secondAlignment):i=o;break}}return i}getSortValue({position:e,option:t,tag:i},n){t||(t="BASE");const o=this.findAlignment(e);if(void 0===o)return Number.MAX_VALUE;switch(t){case"NUCLEOTIDE":case"BASE":return function(e,t,i){let n;const o=Math.floor(i)-t.start;o<t.sequence.length&&(n=t.sequence.charAt(o));if(!n)return 0;const r=e.readBaseAt(i),a=e.readBaseQualityAt(i),s=t.coverageMap,c=Math.floor(i-s.bpStart),l=s.coverage[c];let h=0;if(e.insertions)for(let t of e.insertions)t.start===i&&(h=-l.ins);if(r)if(n=n.toUpperCase(),"N"===r&&0===h)h=2;else if(n!==r&&"="!==r||0!==h){if("X"===r||n!==r){h-=l["pos"+r]+l["neg"+r]+a/1e3}}else h=4-a/1e3;else{const e=l.del;e>0?h-=e:0===h&&(h=1)}return h}(o,n,e);case"STRAND":return o.strand?1:-1;case"START":return o.start;case"TAG":return o.tags()[i];case"READ_NAME":return o.readName;case"INSERT_SIZE":return-Math.abs(o.fragmentLength);case"GAP_SIZE":return-o.gapSizeAt(e);case"MATE_CHR":return o.mate;case"MQ":return void 0===o.mq?Number.MAX_VALUE:-o.mq;case"ALIGNED_READ_LENGTH":return-o.lengthOnRef;default:return Number.MAX_VALUE}}}function Cm(e){return e.isPaired()&&e.mate&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}function xm(e){const t=[];for(let i of e)for(let e of i.alignments)e instanceof ym?(e.firstAlignment&&t.push(e.firstAlignment),e.secondAlignment&&t.push(e.secondAlignment)):t.push(e);return t}function km(e,t,i,n){if(e){if(0===e.length)return[];{e.sort((function(e,t){return n?e.scStart-t.scStart:e.start-t.start}));const t=[];let i,o=0,r=0;const a=new Set,s=()=>{i=new _m,t.push(i),o=0,r=0,a.clear()};for(s();e.length>0;)if(r>=0&&r<e.length){const t=e[r];a.add(t),i.alignments.push(t),o=n?t.scStart+t.scLengthOnRef+2:t.start+t.lengthOnRef+2,r=Em(e,(e=>(n?e.scStart:e.start)>o),r)}else e=e.filter((e=>!a.has(e))),s();return t}}}function Em(e,t,i){let n=i-1,o=e.length;for(;1+n<o;){const i=n+(o-n>>1);t(e[i])?o=i:n=i}return o}class Nm{constructor(e,t,i,{samplingWindowSize:n,samplingDepth:o,pairsSupported:r,alleleFreqThreshold:a}){this.chr=e,this.start=Math.floor(t),this.end=Math.ceil(i),this.length=i-t,this.alleleFreqThreshold=void 0===a?.2:a,this.coverageMap=new Im(e,t,i,this.alleleFreqThreshold),this.alignments=[],this.downsampledIntervals=[],this.samplingWindowSize=void 0===n?100:n,this.samplingDepth=void 0===o?1e3:o,this.pairsSupported=void 0===r||r,this.paired=!1,this.pairsCache={},this.downsampledReads=new Set,this.currentBucket=new Sm(this.start,this.start+this.samplingWindowSize,this),this.filter=function(e){return e.isMapped()&&!e.isFailsVendorQualityCheck()}}push(e){!1!==this.filter(e)&&(this.coverageMap.incCounts(e),this.pairsSupported&&this.downsampledReads.has(e.readName)||(e.start>=this.currentBucket.end&&(this.finishBucket(),this.currentBucket=new Sm(e.start,e.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(e)))}forEach(e){this.alignments.forEach(e)}finish(){void 0!==this.currentBucket&&this.finishBucket(),this.alignments.sort((function(e,t){return e.start-t.start})),this.pairsCache=void 0,this.downsampledReads=void 0}contains(e,t,i){return this.chr===e&&this.start<=t&&this.end>=i}hasDownsampledIntervals(){return this.downsampledIntervals&&this.downsampledIntervals.length>0}finishBucket(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new Dm(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount)),this.paired=this.paired||this.currentBucket.paired}setViewAsPairs(e){let t;t=e?function(e){const t={},i=[];for(let n of e)for(let e of n.alignments)if(Cm(e)){let n=t[e.readName];n?(n.setSecondAlignment(e),t[e.readName]=void 0):(n=new ym(e),t[e.readName]=n,i.push(n))}else i.push(e);return i}(this.packedAlignmentRows):xm(this.packedAlignmentRows),this.packedAlignmentRows=km(t,this.start,this.end)}setShowSoftClips(e){const t=this.allAlignments();this.packedAlignmentRows=km(t,this.start,this.end,e)}repack(e,t){const i=this.allAlignments();this.packedAlignmentRows=km(i,this.start,this.end,t)}allAlignments(){const e=[];for(let t of this.packedAlignmentRows)for(let i of t.alignments)e.push(i);return e}getMax(e,t){return this.coverageMap.getMax(e,t)}sortRows(e){const t=[],i=[];for(let n of this.packedAlignmentRows){void 0!==n.findAlignment(e.position)?t.push(n):i.push(n)}t.sort(((t,i)=>{const n=e.direction,o=t.getSortValue(e,this),r=i.getSortValue(e,this);if(void 0===r&&void 0!==r)return 1;if(void 0!==o&&void 0===r)return-1;const a=o>r?1:o<r?-1:0;return!0===n?a:-a}));for(let e of i)t.push(e);this.packedAlignmentRows=t}}class Sm{constructor(e,t,i){this.start=e,this.end=t,this.alignments=[],this.downsampledCount=0,this.samplingDepth=i.samplingDepth,this.pairsSupported=i.pairsSupported,this.downsampledReads=i.downsampledReads,this.pairsCache=i.pairsCache}addAlignment(e){var t,i,n;if(this.pairsSupported&&Cm(e)&&(n=this.pairsCache[e.readName]))return n.setSecondAlignment(e),void(this.pairsCache[e.readName]=void 0);this.alignments.length<this.samplingDepth?this.pairsSupported&&Cm(e)?(n=new ym(e),this.paired=!0,this.pairsCache[e.readName]=n,this.alignments.push(n)):this.alignments.push(e):((t=Math.floor(Math.random()*(this.samplingDepth+this.downsampledCount-1)))<this.samplingDepth?(i=this.alignments[t],this.pairsSupported&&Cm(e)?(void 0!==this.pairsCache[i.readName]&&(this.pairsCache[i.readName]=void 0),n=new ym(e),this.paired=!0,this.pairsCache[e.readName]=n,this.alignments[t]=n):this.alignments[t]=e,this.downsampledReads.add(i.readName)):this.downsampledReads.add(e.readName),this.downsampledCount++)}}class Im{constructor(e,t,i,n){this.chr=e,this.bpStart=t,this.length=i-t,this.coverage=new Array(this.length),this.maximum=0,this.threshold=n,this.qualityWeight=!0}getMax(e,t){let i=0;const n=this.coverage.length;for(let o=0;o<n;o++){const n=this.bpStart+o;if(n>t)break;const r=this.coverage[o];n>=e&&r&&(i=Math.max(i,r.total))}return i}incCounts(e){var t=this;if(void 0===e.blocks?i(e):e.blocks.forEach((function(e){i(e)})),e.gaps)for(let i of e.gaps)if("D"===i.type){const e=i.start-t.bpStart;for(let n=e;n<e+i.len;n++)n<0||(this.coverage[n]||(this.coverage[n]=new zm(t.threshold)),this.coverage[n].del++)}if(e.insertions)for(let i of e.insertions){const e=i.start-this.bpStart;e<0||(this.coverage[e]||(this.coverage[e]=new zm(t.threshold)),this.coverage[e].ins++)}function i(i){if("S"===i.type)return;const n=e.seq,o=e.qual,r=i.seqOffset;for(let a=i.start-t.bpStart,s=0;s<i.len;a++,s++){t.coverage[a]||(t.coverage[a]=new zm(t.threshold));const i=null==n?"N":n.charAt(r+s),c=e.strand?"pos"+i:"neg"+i,l=o&&r+s<o.length?o[r+s]:30;t.coverage[a][c]+=1,t.coverage[a]["qual"+i]+=l,t.coverage[a].total+=1,t.coverage[a].qual+=l,t.maximum=Math.max(t.coverage[a].total,t.maximum)}}}}class zm{constructor(e){this.qualityWeight=!0,this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.threshold=e}hoverText(){const e=this.posA+this.posT+this.posC+this.posG+this.posN,t=this.negA+this.negT+this.negC+this.negG+this.negN;return`${this.total} (${e}+, ${t}-)`}isMismatch(e){const t=this.threshold*(this.qualityWeight&&this.qual?this.qual:this.total);let i=0;for(let t of["A","T","C","G"])t!==e&&(i+=this.qualityWeight&&this.qual?this["qual"+t]:this["pos"+t]+this["neg"+t]);return i>=t}}class Dm{constructor(e,t,i){this.start=e,this.end=t,this.counts=i}popupData(e){return[{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]}}class Am{constructor(e){const t=e.split(",");this.chr=t[0],this.start=parseInt(t[1]),this.strand=t[2].charAt(0),this.mapQ=parseInt(t[4]),this.numMismatches=parseInt(t[5]),this.lenOnRef=Km.computeLengthOnReference(t[3])}printString(){return this.chr+":"+Za(this.start)+"-"+Za(this.start+this.lenOnRef)+" ("+this.strand+") = "+Za(this.lenOnRef)+"bp @MAPQ: "+this.mapQ+" NM: "+this.numMismatches}}function Mm(e){return e.split(";").filter((e=>e.length>0)).map((e=>new Am(e)))}const Tm={c:1,C:1,s:2,S:2,i:4,I:4,f:4};class Rm{constructor(){this.hidden=!1}isMapped(){return!(4&this.flags)}isPaired(){return!!(1&this.flags)}isProperPair(){return!!(2&this.flags)}isFirstOfPair(){return!!(64&this.flags)}isSecondOfPair(){return!!(128&this.flags)}isSecondary(){return!!(256&this.flags)}isSupplementary(){return!!(2048&this.flags)}isFailsVendorQualityCheck(){return!!(512&this.flags)}isDuplicate(){return!!(1024&this.flags)}isMateMapped(){return!(8&this.flags)}isNegativeStrand(){return!!(16&this.flags)}isMateNegativeStrand(){return!!(32&this.flags)}hasTag(e){return(this.tagDict||Bm(this.tagBA)).hasOwnProperty(e)}tags(){return this.tagDict||(this.tagBA?(this.tagDict=Bm(this.tagBA),this.tagBA=void 0):this.tagDict={}),this.tagDict}containsLocation(e,t){const i=t?this.scStart:this.start,n=t?this.scLengthOnRef:this.lengthOnRef;return e>=i&&e<=i+n}popupData(e){const t=[];if(e=Math.floor(e),this.insertions){const n=this.seq;for(let o of this.insertions){var i=o.start;if(e===i||e===i-1)return t.push({name:"Insertion",value:n.substr(o.seqOffset,o.len)}),t.push({name:"Location",value:i}),t}}t.push({name:"Read Name",value:this.readName}),t.push("<hr/>"),t.push({name:"Alignment Start",value:Za(1+this.start),borderTop:!0}),t.push({name:"Read Strand",value:!0===this.strand?"(+)":"(-)",borderTop:!0});let n=this.cigar;if(n&&n.length>50){const e=25;n=`${n.substring(0,e-2)} ... ${n.substring(n.length-e+2)}`}t.push({name:"Cigar",value:n}),t.push({name:"Mapping Quality",value:this.mq}),t.push({name:"Secondary",value:a(this.isSecondary())}),t.push({name:"Supplementary",value:a(this.isSupplementary())}),t.push({name:"Duplicate",value:a(this.isDuplicate())}),t.push({name:"Failed QC",value:a(this.isFailsVendorQualityCheck())}),this.isPaired()&&(t.push("<hr/>"),t.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),t.push({name:"Mate is Mapped",value:a(this.isMateMapped())}),this.pairOrientation&&t.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(t.push({name:"Mate Chromosome",value:this.mate.chr}),t.push({name:"Mate Start",value:this.mate.position+1}),t.push({name:"Mate Strand",value:!0===this.mate.strand?"(+)":"(-)"}),t.push({name:"Insert Size",value:this.fragmentLength})));const o=this.tags();if(o.hasOwnProperty("SA")){t.push("<hr/>"),t.push({name:"Supplementary Alignments",value:""});const e=Mm(o.SA);if(e){t.push("<ul>");for(let i of e)t.push(`<li>${i.printString()}</li>`);t.push("</ul>")}}const r=new Set(["SA","MD"]);t.push("<hr/>");for(let e in o)r.has(e)||t.push({name:e,value:o[e]});return t.push({name:"Hidden Tags",value:"SA, MD"}),t.push("<hr/>"),t.push({name:"Genomic Location: ",value:Za(1+e)}),t.push({name:"Read Base:",value:this.readBaseAt(e)}),t.push({name:"Base Quality:",value:this.readBaseQualityAt(e)}),t;function a(e){return e?"Yes":"No"}}readBaseAt(e){const t=Lm(this.blocks,e);if(t){if("*"===this.seq)return"*";{const i=t.seqIndexAt(e);return this.seq[i]}}}readBaseQualityAt(e){const t=Lm(this.blocks,e);if(t){if("*"===this.qual)return 30;{const i=t.seqIndexAt(e);return i>=0&&this.qual&&i<this.qual.length?this.qual[i]:30}}}gapSizeAt(e){if(this.gaps)for(let t of this.gaps)if(e>=t.start&&e<t.start+t.len)return t.len;return 0}softClippedBlocks(){let e,t,i;for(let n of this.blocks)"S"===n.type?i?t=n:e=n:"H"!==n.type&&(i=!0);return{left:e,right:t}}}function Lm(e,t){for(let i=0;i<e.length;i++){const n=e[i];if(t>=n.start&&t<n.start+n.len)return n}}function Bm(e){let t=0;const i=e.length,n={};for(;t<i;){const i=String.fromCharCode(e[t])+String.fromCharCode(e[t+1]);t+=2;const r=String.fromCharCode(e[t++]);let a;if("A"===r)a=String.fromCharCode(e[t]),t++;else if("i"===r||"I"===r)a=Hm(e,t),t+=4;else if("c"===r)a=qm(e,t),t++;else if("C"===r)a=Um(e,t),t++;else if("s"===r||"S"===r)a=Om(e,t),t+=2;else if("f"===r)a=Pm(e,t),t+=4;else if("Z"===r)for(a="";;){var o=e[t++];if(0===o)break;a+=String.fromCharCode(o)}else{if("B"!==r){a="Error unknown type: "+r,n[i]=a;break}{const o=String.fromCharCode(e[t++]);let r=Tm[o];if(void 0===r){n[i]=`Error: unknown element type '${o}'`;break}t+=4+Hm(e,t)*r,a="[not shown]"}}n[i]=a}return n}function Hm(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function Om(e,t){return e[t+1]<<8|e[t]}function Pm(e,t){return new DataView(e.buffer).getFloat32(t)}function qm(e,t){return new DataView(e.buffer).getInt8(t)}function Um(e,t){return new DataView(e.buffer).getUint8(t)}class Vm{constructor(e){e&&Object.assign(this,e)}seqIndexAt(e){return Math.floor(e)-this.start+this.seqOffset}}class jm{constructor(e){e||(e={}),this.vendorFailed=void 0===e.vendorFailed||e.vendorFailed,this.duplicates=void 0===e.duplicates||e.duplicates,this.secondary=e.secondary||!1,this.supplementary=e.supplementary||!1,this.mqThreshold=void 0===e.mqThreshold?0:e.mqThreshold,e.readgroups&&(this.readgroups=new Set(e.readgroups))}pass(e){if(this.vendorFailed&&e.isFailsVendorQualityCheck())return!1;if(this.duplicates&&e.isDuplicate())return!1;if(this.secondary&&e.isSecondary())return!1;if(this.supplementary&&e.isSupplementary())return!1;if(e.mq<this.mqThreshold)return!1;if(this.readgroups){var t=e.tags().RG;return this.readgroups.has(t)}return!0}}const Wm=["=","A","C","x","G","x","x","x","T","x","x","x","x","x","x","N"],Gm=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],$m=Ym(new Uint8Array([66,65,77,1]),0),Zm=1e4,Km={readHeader:function(e,t,i){return ad.loadArrayBuffer(e,t).then((function(e){var t;return t=zh(e),Km.decodeBamHeader(t,i)}))},decodeBamHeader:function(e,t){var i,n,o,r,a;if((i=Ym(e,0))!==$m)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");n=Ym(e,4);for(var s=0;s<n;++s)String.fromCharCode(e[s+8]);var c=Ym(e,n+8),l=n+12;for(o={},r=[],a={},s=0;s<c;++s){for(var h=Ym(e,l),d="",f=0;f<h-1;++f)d+=String.fromCharCode(e[l+4+f]);Ym(e,l+h+4),o[d]=s,r[s]=d,t&&(a[t.getChromosomeName(d)]=d),l=l+8+h}return{magicNumber:i,size:l,chrNames:r,chrToIndex:o,chrAliasTable:a}},bam_tag2cigar:function(e,t,i,n,o,r){function a(e){return"C"===e||"c"===e||"A"===e?1:"S"===e||"s"===e?2:"I"===e||"i"===e||"f"===e?4:0}if(1!==r.length||o.start<0)return!1;for(var s=i+(n+1>>1)+n;s+4<t;){if("CG"===String.fromCharCode(e[s])+String.fromCharCode(e[s+1]))break;var c=String.fromCharCode(e[s+2]);if("B"===c)s+=8+a(c=String.fromCharCode(e[s+3]))*Ym(e,s+4);else if("Z"===c||"H"===c)for(s+=3;0!==e[s++];);else s+=3+a(c)}if(s>=t)return!1;if("B"!==String.fromCharCode(e[s+2])||"I"!==String.fromCharCode(e[s+3]))return!1;var l=Ym(e,s+4),h=s+8;if(h+4*l>t)return!1;var d="",f=0;r.length=0,s=h;for(var u=0;u<l;++u,s+=4){var p=Ym(e,s),m=p>>4,g=Gm[15&p];"M"!==g&&"EQ"!==g&&"X"!==g&&"D"!==g&&"N"!==g&&"="!==g||(f+=m),d=d+m+g,r.push({len:m,ltr:g})}return o.cigar=d,o.lengthOnRef=f,!0},decodeBamRecords:function(e,t,i,n,o,r,a,s){for(;t<e.length;){const f=t+Ym(e,t)+4,u=new Rm,p=Ym(e,t+4),m=Ym(e,t+8);if(f>e.length)return;if(p<0){t=f;continue}if(void 0!==o&&(p>o||m>a))return!0;if(void 0!==o&&p<o){t=f;continue}const g=Ym(e,t+12),w=(65280&g)>>8,F=255&g,b=Ym(e,t+16),v=(4294901760&b)>>16,y=65535&b,_=Ym(e,t+20),C=Ym(e,t+24),x=Ym(e,t+28),k=Ym(e,t+32);let E=[];for(let i=0;i<F-1;++i)E.push(String.fromCharCode(e[t+36+i]));E=E.join("");let N=0,S="",I=t+36+F;const z=[];let D;for(let t=0;t<y;++t){var c=Ym(e,I),l=c>>4,h=Gm[15&c];"M"!==h&&"EQ"!==h&&"X"!==h&&"D"!==h&&"N"!==h&&"="!==h||(N+=l),S=S+l+h,I+=4,D={len:l,ltr:h},z.push(D)}if(u.chr=n[p],u.start=m,u.flags=v,u.strand=!(16&v),u.readName=E,u.cigar=S,u.lengthOnRef=N,u.fragmentLength=k,u.mq=w,Km.bam_tag2cigar(e,f,I,_,u,z),u.end=u.start+u.lengthOnRef,u.end<r){t=f;continue}let A=[];const M=_+1>>1;for(let t=0;t<M;++t){var d=e[I+t];A.push(Wm[(240&d)>>4]),A.push(Wm[15&d])}A=A.slice(0,_).join(""),I+=M;const T=[];for(let t=0;t<_;++t)T.push(e[I+t]);I+=_,C>=0&&(u.mate={chr:n[C],position:x,strand:!(32&v)}),u.seq=A,u.qual=T,u.tagBA=new Uint8Array(e.buffer.slice(I,f)),this.setPairOrientation(u),(void 0===s||s.pass(u))&&(Xm(u,z),i.push(u)),t=f}},decodeSamRecords:function(e,t,i,n,o,r){var a,s,c,l,h,d,f,u,p,m;for(l=(a=Ka(e)).length,s=0;s<l;s++)if(h=a[s].split("\t"),(p=new Rm).chr=h[2],p.start=Number.parseInt(h[3])-1,p.flags=Number.parseInt(h[1]),p.readName=h[0],p.strand=!(16&p.flags),p.mq=Number.parseInt(h[4]),p.cigar=h[5],p.fragmentLength=Number.parseInt(h[8]),p.seq=h[9],"*"!==p.chr&&p.isMapped()&&p.chr===i){if(p.start>o)break;if(u=0,(m=Qm(p.cigar)).forEach((function(e){var t=e.len,i=e.ltr;"M"!==i&&"EQ"!==i&&"X"!==i&&"D"!==i&&"N"!==i&&"="!==i||(u+=t)})),p.lengthOnRef=u,!(p.start+u<n)){for(d=h[10],p.qual=[],c=0;c<d.length;c++)p.qual[c]=d.charCodeAt(c)-33;p.tagDict=h.length<11?{}:Jm(h.slice(11)),p.isMateMapped()&&(f=h[6],p.mate={chr:"="===f?p.chr:f,position:Number.parseInt(h[7]),strand:!(32&p.flags)}),this.setPairOrientation(p),(void 0===r||r.pass(p))&&(Xm(p,m),t.push(p))}}},setReaderDefaults:function(e,t){e.filter=new jm(t.filter),t.readgroup&&(e.filter.readgroups=new Set([t.readgroup])),e.alleleFreqThreshold=void 0===t.alleleFreqThreshold?.2:t.alleleFreqThreshold,e.samplingWindowSize=void 0===t.samplingWindowSize?100:t.samplingWindowSize,e.samplingDepth=void 0===t.samplingDepth?500:t.samplingDepth,e.samplingDepth>Zm&&(console.log("Warning: attempt to set sampling depth > maximum value of "+Zm),e.samplingDepth=Zm),t.viewAsPairs?e.pairsSupported=!0:e.pairsSupported=void 0===t.pairsSupported||t.pairsSupported},setPairOrientation:function(e){if(e.isMapped()&&e.mate&&e.isMateMapped()&&e.mate.chr===e.chr){var t=e.strand?"F":"R",i=e.mate,n=i.strand?"F":"R",o=" ",r=" ";e.isFirstOfPair()?(o="1",r="2"):e.isSecondOfPair()&&(o="2",r="1");var a=[],s=e.fragmentLength,c=e.end-e.start;if(0===s)s=(e.start<i.position?i.position+c:i.position-c)-e.start;s>0?(a[0]=t,a[1]=o,a[2]=n,a[3]=r):(a[2]=t,a[3]=o,a[0]=n,a[1]=r),e.pairOrientation=a.join("")}},computeLengthOnReference:function(e){let t=0,i="";for(let n=0;n<e.length;n++){const o=e.charCodeAt(n);if(o>47&&o<58)i+=e.charAt(n);else{switch(o){case 78:case 68:case 77:case 61:case 88:t+=parseInt(i.toString())}i=""}}return t}};function Xm(e,t){const i=[];let n,o,r=0,a=e.start;e.scStart=e.start,e.scLengthOnRef=e.lengthOnRef;for(let s of t){let t;switch(s.ltr){case"H":case"P":break;case"S":t=a,e.scLengthOnRef+=s.len,0===i.length&&(e.scStart-=s.len,t-=s.len),i.push(new Vm({start:t,seqOffset:r,len:s.len,type:"S"})),r+=s.len;break;case"N":case"D":void 0===o&&(o=[]),o.push({start:a,len:s.len,type:s.ltr}),a+=s.len;break;case"I":void 0===n&&(n=[]),n.push(new Vm({start:a,len:s.len,seqOffset:r,type:"I"})),r+=s.len;break;case"M":case"EQ":case"=":case"X":i.push(new Vm({start:a,seqOffset:r,len:s.len,type:"M"})),r+=s.len,a+=s.len;break;default:console.log("Error processing cigar element: "+s.len+s.ltr)}}e.blocks=i,e.insertions=n,e.gaps=o}function Ym(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function Qm(e){var t,i,n,o,r,a,s,c,l;for(t=[],i=[],r=null,o=e.length,n=0;n<o;n++)a=e.charAt(n),l=void 0,(l=a.charCodeAt(0))>=48&&l<=57?i.push(a):(s=a,c=Number.parseInt(i.join("")),i=[],null!==r&&r.ltr===s?r.len+=c:(r={len:c,ltr:s},t.push(r)));return t}function Jm(e){var t={};return e.forEach((function(e){var i=e.split(":");t[i[0]]=i[2]})),t}class eg{constructor(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.isDataUri=Rd(e.url),Km.setReaderDefaults(this,e)}async readAlignments(e,t,i){if(this.alignmentCache){const n=this.header,o=n.chrAliasTable.hasOwnProperty(e)?n.chrAliasTable[e]:e,r=this.alignmentCache.queryFeatures(o,t,i),a=new Nm(e,t,i,this.config);for(let e of r)a.push(e);return a.finish(),a}if(this.isDataUri){const n=zh(function(e){const t=e.split(","),i=t[0].split(":")[1];let n=t[1];n=i.indexOf("base64")>=0?atob(n):decodeURI(n);const o=new Uint8Array(n.length);for(var r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return o}(this.bamPath).buffer);return this.parseAlignments(n),this.fetchAlignments(e,t,i)}{const n=zh(await ad.loadArrayBuffer(this.bamPath,zd(this.config)));return this.parseAlignments(n),this.fetchAlignments(e,t,i)}}parseAlignments(e){const t=[];this.header=Km.decodeBamHeader(e),Km.decodeBamRecords(e,this.header.size,t,this.header.chrNames),this.alignmentCache=new md(t,this.genome)}fetchAlignments(e,t,i){const n=this.header.chrAliasTable.hasOwnProperty(e)?this.header.chrAliasTable[e]:e,o=this.alignmentCache.queryFeatures(n,t,i),r=new Nm(e,t,i,this.config);for(let e of o)r.push(e);return r.finish(),r}}class tg{constructor(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.baiPath=e.indexURL,Km.setReaderDefaults(this,e),this._blockLoader=new wp(e)}async readAlignments(e,t,i){const n=(await this.getChrIndex())[this.chrAliasTable.hasOwnProperty(e)?this.chrAliasTable[e]:e],o=new Nm(e,t,i,this.config);if(void 0===n)return o;{const e=(await this.getIndex()).chunksForRange(n,t,i);if(!e||0===e.length)return o;for(let r of e){const e=await this._blockLoader.getData(r.minv,r.maxv);if(Km.decodeBamRecords(e,r.minv.offset,o,this.indexToChr,n,t,i,this.filter))break}return o.finish(),o}}async getHeader(){if(!this.header){const e=this.genome,t=await this.getIndex();let i;if(t.firstBlockPosition){const e=zd(this.config,{range:{start:t.firstBlockPosition,size:26}}),n=Dh(await ad.loadArrayBuffer(this.bamPath,e));i=t.firstBlockPosition+n}else i=64e3;const n=zd(this.config,{range:{start:0,size:i}});this.header=await Km.readHeader(this.bamPath,n,e)}return this.header}async getIndex(){const e=this.genome;return this.index||(this.index=await dp(this.baiPath,this.config,e)),this.index}async getChrIndex(){if(this.chrToIndex)return this.chrToIndex;{const e=await this.getHeader();return this.chrToIndex=e.chrToIndex,this.indexToChr=e.chrNames,this.chrAliasTable=e.chrAliasTable,this.chrToIndex}}}class ig{constructor(e,t){this.config=e,this.genome=t;const i={};e.sources.sequences.forEach((function(n){const o=t?t.getChromosomeName(n):n;i[o]=function(e,t,i){const n={url:e.sources.url.replace("$CHR",i)};e.sources.indexURL&&(n.indexURL=e.sources.indexURL.replace("$CHR",i));const o=Object.assign(e,n);return new tg(o,t)}(e,t,n)})),this.bamReaders=i,Km.setReaderDefaults(this,e)}async readAlignments(e,t,i){if(this.bamReaders.hasOwnProperty(e)){let n=this.bamReaders[e];return await n.readAlignments(e,t,i)}return new Nm(e,t,i,this.config)}}const ng=function(e,t){this.config=e,this.genome=t,Km.setReaderDefaults(this,e)};function og(){const e=this,t=this.genome;if(this.header)return Promise.resolve(this.header);{const i=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",n=zd(this.config);return Km.readHeader(i,n,t).then((function(t){return e.header=t,t}))}}ng.prototype.readAlignments=function(e,t,i){var n=this;return og.call(n).then((function(o){var r,a;return r=o.chrAliasTable.hasOwnProperty(e)?o.chrAliasTable[e]:e,a=n.config.url+"?reference="+n.config.referenceFile+"&file="+n.config.alignmentFile+"&region="+r+":"+t+"-"+i,ad.loadString(a,zd(n.config)).then((function(a){var s;return o.chrToIndex[r],s=new Nm(e,t,i,n.config),Km.decodeSamRecords(a,s,r,t,i,n.filter),s}))}))};class rg extends Tp{constructor(e,t){super(e,t),Km.setReaderDefaults(this,e)}async readAlignments(e,t,i){if(!this.header){const e=zh((await this.readHeaderData()).buffer);this.header=Km.decodeBamHeader(e,this.genome),this.chrAliasTable=new Map;for(let e of Object.keys(this.header.chrAliasTable))this.chrAliasTable.set(e,this.header.chrAliasTable[e])}let n=this.chrAliasTable.has(e)?this.chrAliasTable.get(e):e;const o=zh((await this.readData(n,t,i)).buffer),r=this.header.chrToIndex[e],a=new Nm(e,t,i,this.config);return Km.decodeBamRecords(o,this.header.size,a,this.header.chrNames,r,t,i),a.finish(),a}}
/*! For license information please see cram-bundle.js.LICENSE.txt */const ag=(()=>{var e={368:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(i(4105)),a=o(i(1269)),s=i(597),c=i(3427),l=i(8577);function h(e,t){if(t.some((e=>void 0===e)))throw new l.CramMalformedError("invalid .crai index file");const[i,n,o,r,a,s]=t;e[i]||(e[i]=[]),e[i].push({start:n,span:o,containerStart:r,sliceStart:a,sliceBytes:s})}t.default=class{constructor(e){this.filehandle=(0,c.open)(e.url,e.path,e.filehandle),this._parseCache=new r.default({cache:new a.default({maxSize:1}),fill:(e,t)=>this.parseIndex()})}parseIndex(){const e={};return this.filehandle.readFile().then((e=>31===e[0]&&139===e[1]?(0,s.unzip)(e):e)).then((t=>{if(t.length>4&&21578050===t.readUInt32LE(0))throw new l.CramMalformedError("invalid .crai index file. note: file appears to be a .bai index. this is technically legal but please open a github issue if you need support");let i=[],n="";for(let o=0;o<t.length;o+=1){const r=t[o];if(r>=48&&r<=57||!n&&45===r)n+=String.fromCharCode(r);else if(9===r)i.push(Number.parseInt(n,10)),n="";else if(10===r)i.push(Number.parseInt(n,10)),n="",h(e,i),i=[];else if(13!==r&&32!==r)throw new l.CramMalformedError("invalid .crai index file")}return n&&i.push(Number.parseInt(n,10)),6===i.length&&h(e,i),Object.entries(e).forEach((([t,i])=>{e[t]=i.sort(((e,t)=>e.start-t.start||e.span-t.span))})),e}))}getIndex(e={}){return this._parseCache.get("index",null,e.signal)}hasDataForReferenceSequence(e){return n(this,void 0,void 0,(function*(){return!!(yield this.getIndex())[e]}))}getEntriesForRange(e,t,i){return n(this,void 0,void 0,(function*(){const n=(yield this.getIndex())[e];if(!n)return[];const o=e=>{const n=e.start,o=e.start+e.span;return n>i?-1:o<=t?1:0},r=[];for(let e=0;e<n.length;e+=1)0===o(n[e])&&r.push(n[e]);return r}))}}},1050:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.parameters=e,this.dataType=t}}},4863:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(8577),r=n(i(1050)),a=i(1074);class s extends r.default{constructor(e,t){if(super(e,t),"int"!==this.dataType)throw new o.CramUnimplementedError(`${this.dataType} decoding not yet implemented by BETA codec`)}decode(e,t,i,n){return(0,a.getBits)(t.content,n.coreBlock,this.parameters.length)-this.parameters.offset}}t.default=s},1738:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(9488),r=n(i(1050));class a extends r.default{constructor(e,t,i){if(super(e,t),this.instantiateCodec=i,"byteArray"!==t)throw new TypeError(`byteArrayLength does not support data type ${t}`)}decode(e,t,i,n){const o=this._getLengthCodec().decode(e,t,i,n),r=this._getDataCodec(),a=new Uint8Array(o);for(let s=0;s<o;s+=1)a[s]=r.decode(e,t,i,n);return a}_getLengthCodec(){const e=this.parameters.lengthsEncoding;return this.instantiateCodec(e,"int")}_getDataCodec(){const e=this.parameters.valuesEncoding;return this.instantiateCodec(e,"byte")}}t.default=a,"_getLengthCodec _getDataCodec".split(" ").forEach((e=>(0,o.tinyMemoize)(a,e)))},1405:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(8577),r=n(i(1050)),a=i(1074);class s extends r.default{constructor(e,t){if(super(e,t),"byteArray"!==t)throw new TypeError(`byteArrayStop codec does not support data type ${t}`)}decode(e,t,i,n){const{blockContentId:r}=this.parameters,a=i[r];if(!a)throw new o.CramMalformedError(`no block found with content ID ${r}`);const s=n.externalBlocks.getCursor(r);return this._decodeByteArray(a,s)}_decodeByteArray(e,t){const i=e.content,{stopByte:n}=this.parameters,o=t.bytePosition;let r=t.bytePosition;for(;i[r]!==n&&r<i.length;){if(r===i.length)throw new a.CramBufferOverrunError("byteArrayStop reading beyond length of data buffer?");r+=1}return t.bytePosition=r+1,i.subarray(o,r)}}t.default=s},5844:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(8577),r=n(i(1050)),a=i(9488),s=i(1074);class c extends r.default{constructor(e,t){if(super(e,t),"int"===this.dataType)this._decodeData=this._decodeInt;else{if("byte"!==this.dataType)throw new o.CramUnimplementedError(`${this.dataType} decoding not yet implemented by EXTERNAL codec`);this._decodeData=this._decodeByte}}decode(e,t,i,n){const{blockContentId:r}=this.parameters,a=i[r];if(!a)throw new o.CramMalformedError(`no block found with content ID ${r}`);const s=n.externalBlocks.getCursor(r);return this._decodeData(a,s)}_decodeInt(e,t){const[i,n]=(0,a.parseItf8)(e.content,t.bytePosition);return t.bytePosition=t.bytePosition+n,i}_decodeByte(e,t){if(t.bytePosition>=e.content.length)throw new s.CramBufferOverrunError("attempted to read beyond end of block. this file seems truncated.");return e.content[t.bytePosition++]}}t.default=c},4229:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(8577),r=n(i(1050)),a=i(1074);class s extends r.default{constructor(e,t){if(super(e,t),"int"!==this.dataType)throw new o.CramUnimplementedError(`${this.dataType} decoding not yet implemented by GAMMA codec`)}decode(e,t,i,n){let o=1;for(;0===(0,a.getBits)(t.content,n.coreBlock,1);)o+=1;return((0,a.getBits)(t.content,n.coreBlock,o-1)|1<<o-1)-this.parameters.offset}}t.default=s},1074:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBits=t.CramBufferOverrunError=void 0;class i extends Error{}t.CramBufferOverrunError=i,t.getBits=function(e,t,n){let o=0;if(t.bytePosition+(7-t.bitPosition+n)/8>e.length)throw new i("read error during decoding. the file seems to be truncated.");for(let i=n;i;i--)o<<=1,o|=e[t.bytePosition]>>t.bitPosition&1,t.bitPosition-=1,t.bitPosition<0&&(t.bytePosition+=1),t.bitPosition&=7;return o}},2082:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(8577),r=n(i(1050)),a=i(1074);class s extends r.default{constructor(e,t){if(super(e,t),this.codes={},this.codeBook={},this.sortedByValue=[],this.sortedCodes=[],this.sortedValuesByBitCode=[],this.sortedBitCodes=[],this.sortedBitLengthsByBitCode=[],this.bitCodeToValue=[],!["byte","int"].includes(this.dataType))throw new TypeError(`${this.dataType} decoding not yet implemented by HUFFMAN_INT codec`);this.buildCodeBook(),this.buildCodes(),this.buildCaches(),0===this.sortedCodes[0].bitLength&&(this._decode=this._decodeZeroLengthCode)}buildCodeBook(){let e=new Array(this.parameters.numCodes);for(let t=0;t<this.parameters.numCodes;t+=1)e[t]={symbol:this.parameters.symbols[t],bitLength:this.parameters.bitLengths[t]};e=e.sort(((e,t)=>e.bitLength-t.bitLength||e.symbol-t.symbol)),this.codeBook={},e.forEach((e=>{this.codeBook[e.bitLength]||(this.codeBook[e.bitLength]=[]),this.codeBook[e.bitLength].push(e.symbol)}))}buildCodes(){this.codes={};let e=0,t=-1;Object.entries(this.codeBook).forEach((([i,n])=>{const r=parseInt(i,10);n.forEach((i=>{const n={bitLength:r,value:i,bitCode:0};t+=1;const a=r-e;if(t<<=a,n.bitCode=t,e+=a,function(e){let t=e-(e>>1)&1431655765;return t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}(t)>r)throw new o.CramMalformedError("Symbol out of range");this.codes[i]=n}))}))}buildCaches(){this.sortedCodes=Object.values(this.codes).sort(((e,t)=>e.bitLength-t.bitLength||e.bitCode-t.bitCode)),this.sortedByValue=Object.values(this.codes).sort(((e,t)=>e.value-t.value)),this.sortedValuesByBitCode=this.sortedCodes.map((e=>e.value)),this.sortedBitCodes=this.sortedCodes.map((e=>e.bitCode)),this.sortedBitLengthsByBitCode=this.sortedCodes.map((e=>e.bitLength));const e=Math.max(...this.sortedBitCodes);this.bitCodeToValue=new Array(e+1).fill(-1);for(let e=0;e<this.sortedBitCodes.length;e+=1)this.bitCodeToValue[this.sortedCodes[e].bitCode]=e}decode(e,t,i,n){return this._decode(e,t,n.coreBlock)}_decodeZeroLengthCode(){return this.sortedCodes[0].value}_decode(e,t,i){const n=t.content;let r=0,s=0;for(let e=0;e<this.sortedCodes.length;e+=1){const t=this.sortedCodes[e].bitLength;s<<=t-r,s|=(0,a.getBits)(n,i,t-r),r=t;{const i=this.bitCodeToValue[s];if(i>-1&&this.sortedBitLengthsByBitCode[i]===t)return this.sortedValuesByBitCode[i];for(let i=e;this.sortedCodes[i+1].bitLength===t&&i<this.sortedCodes.length;i+=1)e+=1}}throw new o.CramMalformedError("Huffman symbol not found.")}}t.default=s},8772:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.instantiateCodec=void 0;const o=i(8577),r=n(i(2082)),a=n(i(5844)),s=n(i(1405)),c=n(i(1738)),l=n(i(4863)),h=n(i(4229)),d=n(i(8821)),f={1:a.default,3:r.default,4:c.default,5:s.default,6:l.default,7:d.default,9:h.default};t.instantiateCodec=function e(t,i){const n=(r="ignore"===i?0:t.codecId,f[r]);var r;if(!n)throw new o.CramUnimplementedError(`no codec implemented for codec ID ${t.codecId}`);return new n(t.parameters,i,e)}},8821:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(8577),r=n(i(1050)),a=i(1074);class s extends r.default{constructor(e,t){if(super(e,t),"int"!==this.dataType)throw new o.CramUnimplementedError(`${this.dataType} decoding not yet implemented by SUBEXP codec`)}decode(e,t,i,n){let o,r,s=0;for(;(0,a.getBits)(t.content,n.coreBlock,1);)s+=1;return 0===s?(o=this.parameters.K,r=(0,a.getBits)(t.content,n.coreBlock,o)):(o=s+this.parameters.K-1,r=1<<o|(0,a.getBits)(t.content,n.coreBlock,o)),r-this.parameters.offset}}t.default=s},2615:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},8543:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(8772),o=i(8577),r={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int"};t.default=class{constructor(e){this.dataSeriesCodecCache={},this.tagCodecCache={},this.tagEncoding={},this.readNamesIncluded=e.preservation.RN,this.APdelta=e.preservation.AP,this.referenceRequired=!!e.preservation.RR,this.tagIdsDictionary=e.preservation.TD,this.substitutionMatrix=function(e){const t=new Array(5);for(let e=0;e<5;e+=1)t[e]=new Array(4);return t[0][e[0]>>6&3]="C",t[0][e[0]>>4&3]="G",t[0][e[0]>>2&3]="T",t[0][3&e[0]]="N",t[1][e[1]>>6&3]="A",t[1][e[1]>>4&3]="G",t[1][e[1]>>2&3]="T",t[1][3&e[1]]="N",t[2][e[2]>>6&3]="A",t[2][e[2]>>4&3]="C",t[2][e[2]>>2&3]="T",t[2][3&e[2]]="N",t[3][e[3]>>6&3]="A",t[3][e[3]>>4&3]="C",t[3][e[3]>>2&3]="G",t[3][3&e[3]]="N",t[4][e[4]>>6&3]="A",t[4][e[4]>>4&3]="C",t[4][e[4]>>2&3]="G",t[4][3&e[4]]="T",t}(e.preservation.SM),this.dataSeriesEncoding=e.dataSeriesEncoding,this.tagEncoding=e.tagEncoding,this.preservation=e.preservation,this._size=e._size,this._endPosition=e._endPosition}getCodecForTag(e){if(!this.tagCodecCache[e]){const t=this.tagEncoding[e];t&&(this.tagCodecCache[e]=(0,n.instantiateCodec)(t,"byteArray"))}return this.tagCodecCache[e]}getTagNames(e){return this.tagIdsDictionary[e]}getCodecForDataSeries(e){let t=this.dataSeriesCodecCache[e];if(void 0===t){const i=this.dataSeriesEncoding[e];if(i){const a=r[e];if(!a)throw new o.CramMalformedError(`data series name ${e} not defined in file compression header`);t=(0,n.instantiateCodec)(i,a),this.dataSeriesCodecCache[e]=t}}return t}toJSON(){const e={};return Object.keys(this).forEach((t=>{/Cache$/.test(t)||(e[t]=this[t])})),e}}},6284:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(8577),a=i(9488),s=o(i(6601)),c=o(i(8543));class l{constructor(e,t){this.file=e,this.filePosition=t}getHeader(){return this._readContainerHeader(this.filePosition)}getCompressionHeaderBlock(){return n(this,void 0,void 0,(function*(){if(!(yield this.getHeader()).numRecords)return null;const e=yield this.file.getSectionParsers(),t=yield this.getFirstBlock();if(void 0===t)return;if("COMPRESSION_HEADER"!==t.contentType)throw new r.CramMalformedError(`invalid content type ${t.contentType} in what is supposed to be the compression header block`);const i=(0,a.parseItem)(t.content,e.cramCompressionHeader.parser,0,t.contentPosition);return Object.assign(Object.assign({},t),{parsedContent:i})}))}getFirstBlock(){return n(this,void 0,void 0,(function*(){const e=yield this.getHeader();return this.file.readBlock(e._endPosition)}))}getCompressionScheme(){return n(this,void 0,void 0,(function*(){const e=yield this.getCompressionHeaderBlock();if(e)return new c.default(e.parsedContent)}))}getSlice(e,t){return new s.default(this,e,t)}_readContainerHeader(e){return n(this,void 0,void 0,(function*(){const t=yield this.file.getSectionParsers(),{cramContainerHeader1:i,cramContainerHeader2:n}=t,{size:o}=yield this.file.stat();if(e>=o)return;const r=Buffer.allocUnsafe(i.maxLength);yield this.file.read(r,0,i.maxLength,e);const s=(0,a.parseItem)(r,i.parser),c=(0,a.itf8Size)(s.numLandmarks);if(e+s.length>=o)return void console.warn(`${this.file}: container header at ${e} indicates that the container has length ${s.length}, which extends beyond the length of the file. Skipping this container.`);const l=Buffer.allocUnsafe(n.maxLength(s.numLandmarks));yield this.file.read(l,0,n.maxLength(s.numLandmarks),e+s._size-c);const h=(0,a.parseItem)(l,n.parser);return this.file.validateChecksums&&void 0!==h.crc32&&(yield this.file.checkCrc32(e,s._size+h._size-c-4,h.crc32,`container header beginning at position ${e}`)),Object.assign(s,h,{_size:s._size+h._size-c,_endPosition:s._size+h._size-c+e})}))}}t.default=l,"getHeader getCompressionHeaderBlock getCompressionScheme".split(" ").forEach((e=>(0,a.tinyMemoize)(l,e)))},5457:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(597),a=o(i(2779)),s=o(i(1269)),c=i(8577),l=o(i(9675)),h=i(6141),d=o(i(3498)),f=o(i(6284)),u=i(3427),p=i(9488),m=i(7578);class g{constructor(e){var t;if(this.file=(0,u.open)(e.url,e.path,e.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=e.seqFetch,this.options={checkSequenceMD5:e.checkSequenceMD5,cacheSize:null!==(t=e.cacheSize)&&void 0!==t?t:2e4},this.featureCache=new s.default({maxSize:this.options.cacheSize}),function(){const e=new Uint32Array([287454020]),t=new Uint8Array(e.buffer);return 68===t[0]?0:17===t[0]?1:2}()>0)throw new Error("Detected big-endian machine, may be unable to run")}read(e,t,i,n){return this.file.read(e,t,i,n)}stat(){return this.file.stat()}getDefinition(){return n(this,void 0,void 0,(function*(){const e=Buffer.allocUnsafe(h.cramFileDefinition.maxLength);yield this.file.read(e,0,h.cramFileDefinition.maxLength,0);const t=h.cramFileDefinition.parser.parse(e).result;if(2!==t.majorVersion&&3!==t.majorVersion)throw new c.CramUnimplementedError(`CRAM version ${t.majorVersion} not supported`);return t}))}getSamHeader(){return n(this,void 0,void 0,(function*(){const e=yield this.getContainerById(0);if(!e)throw new c.CramMalformedError("file contains no containers");const t=yield e.getFirstBlock();if(void 0===t)return(0,m.parseHeaderText)("");const i=t.content,n=i.readInt32LE(0),o=i.toString("utf8",4,4+n);return this.header=o,(0,m.parseHeaderText)(o)}))}getHeaderText(){return n(this,void 0,void 0,(function*(){return yield this.getSamHeader(),this.header}))}getSectionParsers(){return n(this,void 0,void 0,(function*(){const{majorVersion:e}=yield this.getDefinition();return(0,h.getSectionParsers)(e)}))}getContainerById(e){return n(this,void 0,void 0,(function*(){const t=yield this.getSectionParsers();let i=t.cramFileDefinition.maxLength;const{size:n}=yield this.file.stat(),{cramContainerHeader1:o}=t;let r;for(let t=0;t<=e;t+=1){if(i+o.maxLength+8>=n)return;r=this.getContainerAtPosition(i);const a=yield r.getHeader();if(!a)throw new c.CramMalformedError(`container ${e} not found in file`);if(0===t){i=a._endPosition;for(let e=0;e<a.numBlocks;e+=1){const e=yield this.readBlock(i);if(void 0===e)return;i=e._endPosition}}else i+=a._size+a.length}return r}))}checkCrc32(e,t,i,o){return n(this,void 0,void 0,(function*(){const n=Buffer.allocUnsafe(t);yield this.file.read(n,0,t,e);const r=a.default.unsigned(n);if(r!==i)throw new c.CramMalformedError(`crc mismatch in ${o}: recorded CRC32 = ${i}, but calculated CRC32 = ${r}`)}))}containerCount(){return n(this,void 0,void 0,(function*(){const e=yield this.getSectionParsers(),{size:t}=yield this.file.stat(),{cramContainerHeader1:i}=e;let n=0,o=e.cramFileDefinition.maxLength;for(;o+i.maxLength+8<t;){const e=yield this.getContainerAtPosition(o).getHeader();if(!e)break;if(0===n){o=e._endPosition;for(let t=0;t<e.numBlocks;t+=1){const e=yield this.readBlock(o);if(void 0===e)return;o=e._endPosition}}else o+=e._size+e.length;n+=1}return n}))}getContainerAtPosition(e){return new f.default(this,e)}readBlockHeader(e){return n(this,void 0,void 0,(function*(){const t=yield this.getSectionParsers(),{cramBlockHeader:i}=t,{size:n}=yield this.file.stat();if(e+i.maxLength>=n)return;const o=Buffer.allocUnsafe(i.maxLength);return yield this.file.read(o,0,i.maxLength,e),(0,p.parseItem)(o,i.parser,0,e)}))}_parseSection(e,t,i=e.maxLength,o){return n(this,void 0,void 0,(function*(){let n;if(o)n=o;else{const{size:e}=yield this.file.stat();if(t+i>=e)return;n=Buffer.allocUnsafe(i),yield this.file.read(n,0,i,t)}const r=(0,p.parseItem)(n,e.parser,0,t);if(r._size!==i)throw new c.CramMalformedError(`section read error: requested size ${i} does not equal parsed size ${r._size}`);return r}))}_uncompress(e,t,i){if("gzip"===e)(0,r.unzip)(t).copy(i);else if("bzip2"===e){const e=bzip2.array(t);let n,o=bzip2.header(e),r=0;do{n=bzip2.decompress(e,o),-1!=n&&(Buffer.from(n).copy(i,r),r+=n.length,o-=n.length)}while(-1!=n)}else if("rans"===e)(0,l.default)(t,i);else if("rans4x16"===e)d.default.r4x16_uncompress(t,i);else if("arith"===e)d.default.arith_uncompress(t,i);else if("fqzcomp"===e)d.default.fqzcomp_uncompress(t,i);else{if("tok3"!==e)throw new c.CramUnimplementedError(`${e} decompression not yet implemented`);d.default.tok3_uncompress(t,i)}}readBlock(e){return n(this,void 0,void 0,(function*(){const{majorVersion:t}=yield this.getDefinition(),i=yield this.getSectionParsers(),n=yield this.readBlockHeader(e);if(void 0===n)return;const o=n._endPosition,r=Buffer.allocUnsafe(n.uncompressedSize),a=Object.assign(Object.assign({},n),{_endPosition:o,contentPosition:o,content:r});if("raw"!==n.compressionMethod){const e=Buffer.allocUnsafe(n.compressedSize);yield this.read(e,0,n.compressedSize,o),this._uncompress(n.compressionMethod,e,r)}else yield this.read(r,0,n.uncompressedSize,o);if(t>=3){const t=yield this._parseSection(i.cramBlockCrc32,o+n.compressedSize);if(void 0===t)return;a.crc32=t.crc32,this.validateChecksums&&(yield this.checkCrc32(e,n._size+n.compressedSize,t.crc32,"block data")),a._endPosition=t._endPosition,a._size=a.compressedSize+i.cramBlockCrc32.maxLength}else a._endPosition=o+a.compressedSize,a._size=a.compressedSize;return a}))}}t.default=g,"getDefinition getSectionParsers getSamHeader".split(" ").forEach((e=>(0,p.tinyMemoize)(g,e)))},8222:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CramRecord=void 0;const o=n(i(5457));var r=i(8631);Object.defineProperty(t,"CramRecord",{enumerable:!0,get:function(){return n(r).default}}),t.default=o.default},8631:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MateFlagsDecoder=t.CramFlagsDecoder=t.BamFlagsDecoder=t.MateFlags=t.CramFlags=t.BamFlags=void 0;const o=n(i(2615)),r={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4};function a(e){const t={};for(const[i,n]of e)t["is"+n]=e=>!!(e&i),t["set"+n]=e=>e|i;return t}t.BamFlags=[[1,"Paired"],[2,"ProperlyPaired"],[4,"SegmentUnmapped"],[8,"MateUnmapped"],[16,"ReverseComplemented"],[32,"MateReverseComplemented"],[64,"Read1"],[128,"Read2"],[256,"Secondary"],[512,"FailedQc"],[1024,"Duplicate"],[2048,"Supplementary"]],t.CramFlags=[[1,"PreservingQualityScores"],[2,"Detached"],[4,"WithMateDownstream"],[8,"DecodeSequenceAsStar"]],t.MateFlags=[[1,"OnNegativeStrand"],[2,"Unmapped"]],t.BamFlagsDecoder=a(t.BamFlags),t.CramFlagsDecoder=a(t.CramFlags),t.MateFlagsDecoder=a(t.MateFlags),t.default=class{constructor({flags:e,cramFlags:t,readLength:i,mappingQuality:n,lengthOnRef:o,qualityScores:r,mateRecordNumber:a,readBases:s,readFeatures:c,mateToUse:l,readGroupId:h,readName:d,sequenceId:f,uniqueId:u,templateSize:p,alignmentStart:m,tags:g}){this.flags=e,this.cramFlags=t,this.readLength=i,this.mappingQuality=n,this.lengthOnRef=o,this.qualityScores=r,s&&(this.readBases=s),this.readGroupId=h,this.readName=d,this.sequenceId=f,this.uniqueId=u,this.templateSize=p,this.alignmentStart=m,this.tags=g,c&&(this.readFeatures=c),l&&(this.mate={flags:l.mateFlags,readName:l.mateReadName,sequenceId:l.mateSequenceId,alignmentStart:l.mateAlignmentStart}),a&&(this.mateRecordNumber=a)}isPaired(){return!!(this.flags&o.default.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&o.default.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&o.default.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&o.default.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&o.default.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&o.default.BAM_FMREVERSE)}isRead1(){return!!(this.flags&o.default.BAM_FREAD1)}isRead2(){return!!(this.flags&o.default.BAM_FREAD2)}isSecondary(){return!!(this.flags&o.default.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&o.default.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&o.default.BAM_FDUP)}isSupplementary(){return!!(this.flags&o.default.BAM_FSUPPLEMENTARY)}isDetached(){return!!(this.cramFlags&o.default.CRAM_FLAG_DETACHED)}hasMateDownStream(){return!!(this.cramFlags&o.default.CRAM_FLAG_MATE_DOWNSTREAM)}isPreservingQualityScores(){return!!(this.cramFlags&o.default.CRAM_FLAG_PRESERVE_QUAL_SCORES)}isUnknownBases(){return!!(this.cramFlags&o.default.CRAM_FLAG_NO_SEQ)}getReadBases(){if(!this.readBases&&this._refRegion){const e=function(e,t){if(!e.lengthOnRef&&!e.readLength)return null;if(e.isUnknownBases())return null;const i=e.alignmentStart-t.start;if(!e.readFeatures)return t.seq.substr(i,e.lengthOnRef).toUpperCase();let n="",o=i,r=0;for(;n.length<e.readLength;)if(r<e.readFeatures.length){const i=e.readFeatures[r];if("Q"===i.code||"q"===i.code)r+=1;else if(i.pos===n.length+1)if(r+=1,"b"===i.code){const e=i.data;n+=e,o+=e.length}else"B"===i.code?(n+=i.data[0],o+=1):"X"===i.code?(n+=i.sub,o+=1):"I"===i.code?n+=i.data:"D"===i.code?o+=i.data:"i"===i.code?n+=i.data:"N"===i.code?o+=i.data:"S"===i.code?n+=i.data:"P"===i.code||i.code;else if(r<e.readFeatures.length){const i=t.seq.substr(o,e.readFeatures[r].pos-n.length-1);n+=i,o+=i.length}}else{const i=t.seq.substr(o,e.readLength-n.length);n+=i,o+=i.length}return n.toUpperCase()}(this,this._refRegion);e&&(this.readBases=e)}return this.readBases}getPairOrientation(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.mate&&this.sequenceId===this.mate.sequenceId){const e=this.isReverseComplemented()?"R":"F",t=this.isMateReverseComplemented()?"R":"F";let i=" ",n=" ";this.isRead1()?(i="1",n="2"):this.isRead2()&&(i="2",n="1");const o=[];let r=this.templateLength||this.templateSize;if(void 0===r)throw new Error("One of templateSize and templateLength must be set");return this.alignmentStart>this.mate.alignmentStart&&r>0&&(r=-r),r>0?(o[0]=e,o[1]=i,o[2]=t,o[3]=n):(o[2]=e,o[3]=i,o[0]=t,o[1]=n),o.join("")}return null}addReferenceSequence(e,t){this.readFeatures&&this.readFeatures.forEach((i=>{"X"===i.code&&function(e,t,i,n){if(!t)return;const o=n.refPos-t.start,a=t.seq.charAt(o);a&&(n.ref=a);let s=r[a];void 0===s&&(s=4);const c=i.substitutionMatrix[s][n.data];c&&(n.sub=c)}(0,e,t,i)})),!this.readBases&&e.start<=this.alignmentStart&&e.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=e)}toJSON(){const e={};return Object.keys(this).forEach((t=>{"_"!==t.charAt(0)&&(e[t]=this[t])})),e.readBases=this.getReadBases(),e}}},6141:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSectionParsers=t.cramFileDefinition=t.isMappedSliceHeader=void 0;const n=i(9996),o=(new n.Parser).itf8(),r={parser:(new n.Parser).string("magic",{length:4}).uint8("majorVersion").uint8("minorVersion").string("fileId",{length:20,stripNull:!0}),maxLength:26};t.cramFileDefinition=r;const a={parser:(new n.Parser).uint8("compressionMethod",{formatter:e=>{const t=["raw","gzip","bzip2","lzma","rans","rans4x16","arith","fqzcomp","tok3"][e];if(!t)throw new Error(`compression method number ${e} not implemented`);return t}}).uint8("contentType",{formatter:e=>{const t=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][e];if(!t)throw new Error(`invalid block content type id ${e}`);return t}}).itf8("contentId").itf8("compressedSize").itf8("uncompressedSize"),maxLength:17},s={parser:(new n.Parser).uint32("crc32"),maxLength:4},c=(new n.Parser).itf8("size").buffer("ents",{length:"size",formatter:e=>{function t(t,i){const n=e.toString("utf8",t,i),o=[];for(let e=0;e<n.length;e+=3)o.push(n.substr(e,3));return o}var i,n=[],o=0;for(i=0;i<e.length;i+=1)e[i]||(n.push(t(o,i)),o=i+1);return i>o&&n.push(t(o,i)),n}}),l=(new n.Parser).uint8(null,{formatter:e=>!!e}),h=(new n.Parser).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new n.Parser).string("key",{length:2,stripNull:!1}).choice("value",{tag:"key",choices:{MI:l,UI:l,PI:l,RN:l,AP:l,RR:l,SM:(new n.Parser).array(null,{type:"uint8",length:5}),TD:(new n.Parser).nest(null,{type:c,formatter:e=>e.ents})}})});function d(e){const t={};for(let i=0;i<e.ents.length;i+=1){const{key:n,value:o}=e.ents[i];t[n]&&console.warn(`duplicate key ${n} in map`),t[n]=o}return t}const f={cramFileDefinition:r,cramBlockHeader:a,cramBlockCrc32:s};t.isMappedSliceHeader=function(e){return"number"==typeof e.refSeqId};const u={cramUnmappedSliceHeader(e){let t=0,i=(new n.Parser).itf8("numRecords");return t+=5,e>=3?(i=i.ltf8("recordCounter"),t+=9):2===e&&(i=i.itf8("recordCounter"),t+=5),i=i.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:o,length:"numContentIds"}),t+=10,e>=2&&(i=i.array("md5",{type:"uint8",length:16}),t+=16),{parser:i,maxLength:e=>t+5*e}},cramMappedSliceHeader(e){let t=(new n.Parser).itf8("refSeqId").itf8("refSeqStart").itf8("refSeqSpan").itf8("numRecords"),i=20;return e>=3?(t=t.ltf8("recordCounter"),i+=9):2===e&&(t=t.itf8("recordCounter"),i+=5),t=t.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:o,length:"numContentIds"}).itf8("refBaseBlockId"),i+=15,e>=2&&(t=t.array("md5",{type:"uint8",length:16}),i+=16),{parser:t,maxLength:e=>i+5*e}},cramEncoding:e=>({parser:(new n.Parser).namely("cramEncoding").itf8("codecId").itf8("parametersBytes").choice("parameters",{tag:"codecId",choices:{0:new n.Parser,1:(new n.Parser).itf8("blockContentId"),2:(new n.Parser).itf8("offset").itf8("M"),3:n.Parser.start().itf8("numCodes").array("symbols",{length:"numCodes",type:o}).itf8("numLengths").array("bitLengths",{length:"numLengths",type:o}),4:n.Parser.start().nest("lengthsEncoding",{type:"cramEncoding"}).nest("valuesEncoding",{type:"cramEncoding"}),5:(new n.Parser).uint8("stopByte").itf8("blockContentId"),6:(new n.Parser).itf8("offset").itf8("length"),7:(new n.Parser).itf8("offset").itf8("K"),8:(new n.Parser).itf8("offset").itf8("log2m"),9:(new n.Parser).itf8("offset")}})}),cramDataSeriesEncodingMap(e){return(new n.Parser).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new n.Parser).string("key",{length:2,stripNull:!1}).nest("value",{type:this.cramEncoding(e).parser})})},cramTagEncodingMap(e){return(new n.Parser).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new n.Parser).itf8("key",{formatter:e=>String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)}).nest("value",{type:this.cramEncoding(e).parser})})},cramCompressionHeader(e){let t=new n.Parser;return t=t.nest("preservation",{type:h,formatter:d}).nest("dataSeriesEncoding",{type:this.cramDataSeriesEncodingMap(e),formatter:d}).nest("tagEncoding",{type:this.cramTagEncodingMap(e),formatter:d}),{parser:t}},cramContainerHeader1(e){let t=(new n.Parser).int32("length").itf8("refSeqId").itf8("refSeqStart").itf8("alignmentSpan").itf8("numRecords"),i=24;return e>=3?(t=t.ltf8("recordCounter"),i+=9):2===e&&(t=t.itf8("recordCounter"),i+=5),e>1&&(t=t.ltf8("numBases"),i+=9),t=t.itf8("numBlocks").itf8("numLandmarks"),i+=10,{parser:t,maxLength:i}},cramContainerHeader2(e){let t=(new n.Parser).itf8("numLandmarks").array("landmarks",{type:(new n.Parser).itf8(),length:"numLandmarks"}),i=0;return e>=3&&(t=t.uint32("crc32"),i=4),{parser:t,maxLength:e=>5+5*e+i}}};t.getSectionParsers=function(e){const t=Object.assign({},f);return Object.keys(u).forEach((i=>{t[i]=u[i](e)})),t}},3757:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i(3720)),r=i(8577),a=i(8631),s=i(6141);function c(e){let t="";for(let i=0;i<e.length&&0!==e[i];i++)t+=String.fromCharCode(e[i]);return t}function l(e,t){if("Z"===e)return c(t);if("A"===e)return String.fromCharCode(t[0]);if("I"===e)return o.default.fromBytesLE(t).toNumber();if("i"===e)return new Int32Array(t.buffer)[0];if("s"===e)return new Int16Array(t.buffer)[0];if("S"===e)return new Uint16Array(t.buffer)[0];if("c"===e)return new Int8Array(t.buffer)[0];if("C"===e)return t[0];if("f"===e)return new Float32Array(t.buffer)[0];if("H"===e)return Number.parseInt(c(t).replace(/^0x/,""),16);if("B"===e)return function(e){const t=String.fromCharCode(e[0]),i=Int32Array.from(e.slice(1))[0],n=new Array(i);if(e=e.slice(5),"c"===t){const t=new Int8Array(e.buffer);for(let e=0;e<i;e+=1)n[e]=t[e]}else if("C"===t){const t=new Uint8Array(e.buffer);for(let e=0;e<i;e+=1)n[e]=t[e]}else if("s"===t){const t=new Int16Array(e.buffer);for(let e=0;e<i;e+=1)n[e]=t[e]}else if("S"===t){const t=new Uint16Array(e.buffer);for(let e=0;e<i;e+=1)n[e]=t[e]}else if("i"===t){const t=new Int32Array(e.buffer);for(let e=0;e<i;e+=1)n[e]=t[e]}else if("I"===t){const t=new Uint32Array(e.buffer);for(let e=0;e<i;e+=1)n[e]=t[e]}else{if("f"!==t)throw new Error("unknown type: "+t);{const t=new Float32Array(e.buffer);for(let e=0;e<i;e+=1)n[e]=t[e]}}return n}(t);throw new r.CramMalformedError(`Unrecognized tag type ${e}`)}t.default=function(e,t,i,n,o,h,d,f,u){let p=t("BF");const m=t("CF");if(!(0,s.isMappedSliceHeader)(n.parsedContent))throw new Error;let g;g=f>1&&-2===n.parsedContent.refSeqId?t("RI"):n.parsedContent.refSeqId;const w=t("RL");let F=t("AP");i.APdelta&&(F+=d.lastAlignmentStart),d.lastAlignmentStart=F;const b=t("RG");let v,y,_,C;if(i.readNamesIncluded&&(v=c(t("RN"))),a.CramFlagsDecoder.isDetached(m)){const e=t("MF");let n;i.readNamesIncluded||(n=c(t("RN")),v=n);const o=t("NS"),r=t("NP");(e||o>-1)&&(y={mateFlags:e,mateSequenceId:o,mateAlignmentStart:r,mateReadName:n}),_=t("TS"),a.MateFlagsDecoder.isUnmapped(e)&&(p=a.BamFlagsDecoder.setMateUnmapped(p)),a.MateFlagsDecoder.isOnNegativeStrand(e)&&(p=a.BamFlagsDecoder.setMateReverseComplemented(p))}else a.CramFlagsDecoder.isWithMateDownstream(m)&&(C=t("NF")+u+1);const x=t("TL");if(x<0)throw new r.CramMalformedError("invalid TL index");const k={},E=i.getTagNames(x),N=E.length;for(let t=0;t<N;t+=1){const n=E[t],a=n.substr(0,2),s=n.substr(2,1),c=i.getCodecForTag(n);if(!c)throw new r.CramMalformedError(`no codec defined for auxiliary tag ${n}`);const f=c.decode(e,o,h,d);k[a]=l(s,f)}let S,I,z,D,A;if(a.BamFlagsDecoder.isSegmentUnmapped(p))if(a.CramFlagsDecoder.isDecodeSequenceAsStar(m))A=null,D=null;else{const e=new Array(w);for(let i=0;i<e.length;i+=1)e[i]=t("BA");if(A=String.fromCharCode(...e),a.CramFlagsDecoder.isPreservingQualityScores(m)){D=new Array(w);for(let i=0;i<e.length;i+=1)D[i]=t("QS")}}else{const e=t("FN");if(e&&(S=function(e,t,i,n,o){let a=0,s=e-1;const c=new Array(t);function l([e,t]){const n=i(t);if("character"===e)return String.fromCharCode(n);if("string"===e){let e="";for(let t=0;t<n.byteLength;t++)e+=String.fromCharCode(n[t]);return e}return"numArray"===e?n.toArray():n}for(let e=0;e<t;e+=1){const t=String.fromCharCode(i("FC")),n=i("FP"),h={B:["character","BA"],S:["string",o>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[t];if(!h)throw new r.CramMalformedError(`invalid read feature code "${t}"`);let d=l(h);const f={B:["number","QS"]}[t];f&&(d=[d,l(f)]),a+=n;const u=a;s+=n;const p=s;"D"===t||"N"===t?s+=d:"I"===t||"S"===t?s-=d.length:"i"===t&&(s-=1),c[e]={code:t,pos:u,refPos:p,data:d}}return c}(F,e,t,0,f)),I=w,S)for(const{code:e,data:t}of S)"D"===e||"N"===e?I+=t:"I"===e||"S"===e?I-=t.length:"i"===e&&(I-=1);if(Number.isNaN(I)&&(console.warn(`${v||`${g}:${F}`} record has invalid read features`),I=w),z=t("MQ"),a.CramFlagsDecoder.isPreservingQualityScores(m)){D=new Array(w);for(let e=0;e<D.length;e++)D[e]=t("QS")}}return{readLength:w,sequenceId:g,cramFlags:m,flags:p,alignmentStart:F,readGroupId:b,readName:v,mateToUse:y,templateSize:_,mateRecordNumber:C,readFeatures:S,lengthOnRef:I,mappingQuality:z,qualityScores:D,readBases:A,tags:k}}},6601:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(8577),a=i(9488),s=o(i(2615)),c=o(i(3757)),l=o(i(8631)),h=i(6141),d=i(1074);function f(e,t,i,n){if(!n)throw new r.CramMalformedError("could not resolve intra-slice mate pairs, file seems truncated or malformed");const o=!!(n.mate||void 0!==n.mateRecordNumber&&n.mateRecordNumber!==t);i.readName||(i.readName=String(i.uniqueId),n.readName=i.readName),i.mate={sequenceId:n.sequenceId,alignmentStart:n.alignmentStart,uniqueId:n.uniqueId},n.readName&&(i.mate.readName=n.readName),n.mate||void 0!==n.mateRecordNumber||(n.mate={sequenceId:i.sequenceId,alignmentStart:i.alignmentStart,uniqueId:i.uniqueId},i.readName&&(n.mate.readName=i.readName)),i.flags|=s.default.BAM_FPAIRED,n.flags&s.default.BAM_FUNMAP&&(i.flags|=s.default.BAM_FMUNMAP),i.flags&s.default.BAM_FUNMAP&&(n.flags|=s.default.BAM_FMUNMAP),n.flags&s.default.BAM_FREVERSE&&(i.flags|=s.default.BAM_FMREVERSE),i.flags&s.default.BAM_FREVERSE&&(n.flags|=s.default.BAM_FMREVERSE),void 0===i.templateLength&&(o?function(e,t,i){const n=function t(i){const n=[i];if(void 0!==i.mateRecordNumber&&i.mateRecordNumber>=0){const o=e[i.mateRecordNumber];if(!o)throw new r.CramMalformedError("intra-slice mate record not found, this file seems malformed");n.push(...t(o))}return n}(i),o=n.map((e=>e.alignmentStart)),a=n.map((e=>e.alignmentStart+e.readLength-1)),s=Math.max(...a)-Math.min(...o)+1;s>=0&&n.forEach((e=>{if(void 0!==e.templateLength)throw new r.CramMalformedError("mate pair group has some members that have template lengths already, this file seems malformed");e.templateLength=s}))}(e,0,i):function(e,t){const i=Math.min(e.alignmentStart,t.alignmentStart),n=Math.max(e.alignmentStart+e.readLength-1,t.alignmentStart+t.readLength-1)-i+1;e.templateLength=n,t.templateLength=n}(i,n)),delete i.mateRecordNumber}class u{constructor(e,t,i){this.container=e,this.containerPosition=t,this.file=e.file}getHeader(){return n(this,void 0,void 0,(function*(){const e=yield this.file.getSectionParsers(),t=yield this.container.getHeader(),i=yield this.file.readBlock(t._endPosition+this.containerPosition);if(void 0===i)throw new Error;if("MAPPED_SLICE_HEADER"===i.contentType){const n=(0,a.parseItem)(i.content,e.cramMappedSliceHeader.parser,0,t._endPosition);return Object.assign(Object.assign({},i),{parsedContent:n})}if("UNMAPPED_SLICE_HEADER"===i.contentType){const n=(0,a.parseItem)(i.content,e.cramUnmappedSliceHeader.parser,0,t._endPosition);return Object.assign(Object.assign({},i),{parsedContent:n})}throw new r.CramMalformedError(`error reading slice header block, invalid content type ${i.contentType}`)}))}getBlocks(){return n(this,void 0,void 0,(function*(){const e=yield this.getHeader();let t=e._endPosition;const i=new Array(e.parsedContent.numBlocks);for(let e=0;e<i.length;e+=1){const n=yield this.file.readBlock(t);if(void 0===n)throw new Error;i[e]=n,t=i[e]._endPosition}return i}))}getCoreDataBlock(){return n(this,void 0,void 0,(function*(){return(yield this.getBlocks())[0]}))}_getBlocksContentIdIndex(){return n(this,void 0,void 0,(function*(){const e=yield this.getBlocks(),t={};return e.forEach((e=>{"EXTERNAL_DATA"===e.contentType&&(t[e.contentId]=e)})),t}))}getBlockByContentId(e){return n(this,void 0,void 0,(function*(){return(yield this._getBlocksContentIdIndex())[e]}))}getReferenceRegion(){return n(this,void 0,void 0,(function*(){const e=(yield this.getHeader()).parsedContent;if(!(0,h.isMappedSliceHeader)(e))throw new Error;if(e.refSeqId<0)return;const t=yield this.container.getCompressionScheme();if(void 0===t)throw new Error;if(e.refBaseBlockId>=0){const t=yield this.getBlockByContentId(e.refBaseBlockId);if(!t)throw new r.CramMalformedError("embedded reference specified, but reference block does not exist");return{seq:t.data.toString("utf8"),start:e.refSeqStart,end:e.refSeqStart+e.refSeqSpan-1,span:e.refSeqSpan}}if(t.referenceRequired||this.file.fetchReferenceSequenceCallback){if(!this.file.fetchReferenceSequenceCallback)throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");const t=yield this.file.fetchReferenceSequenceCallback(e.refSeqId,e.refSeqStart,e.refSeqStart+e.refSeqSpan-1);if(t.length!==e.refSeqSpan)throw new r.CramArgumentError("seqFetch callback returned a reference sequence of the wrong length");return{seq:t,start:e.refSeqStart,end:e.refSeqStart+e.refSeqSpan-1,span:e.refSeqSpan}}}))}getAllRecords(){return this.getRecords((()=>!0))}_fetchRecords(){return n(this,void 0,void 0,(function*(){const{majorVersion:e}=yield this.file.getDefinition(),t=yield this.container.getCompressionScheme();if(void 0===t)throw new Error;const i=yield this.getHeader();if(void 0===i)throw new Error;const n=yield this._getBlocksContentIdIndex();if(e>1&&this.file.options.checkSequenceMD5&&(0,h.isMappedSliceHeader)(i.parsedContent)&&i.parsedContent.refSeqId>=0&&"0000000000000000"!==i.parsedContent.md5.join("")){const e=yield this.getReferenceRegion();if(e){const{seq:t,start:n,end:o}=e,s=(0,a.sequenceMD5)(t),c=i.parsedContent.md5.map((e=>(e<16?"0":"")+e.toString(16))).join("");if(s!==c)throw new r.CramMalformedError(`MD5 checksum reference mismatch for ref ${i.parsedContent.refSeqId} pos ${n}..${o}. recorded MD5: ${c}, calculated MD5: ${s}`)}}const o=yield this.getCoreDataBlock(),s={lastAlignmentStart:(0,h.isMappedSliceHeader)(i.parsedContent)?i.parsedContent.refSeqStart:0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{map:new Map,getCursor(e){let t=this.map.get(e);return void 0===t&&(t={bitPosition:7,bytePosition:0},this.map.set(e,t)),t}}},u=e=>{const i=t.getCodecForDataSeries(e);if(!i)throw new r.CramMalformedError(`no codec defined for ${e} data series`);return i.decode(this,o,n,s)};let p=new Array(i.parsedContent.numRecords);for(let r=0;r<p.length;r+=1)try{const a=(0,c.default)(this,u,t,i,o,n,s,e,r);p[r]=new l.default(Object.assign(Object.assign({},a),{uniqueId:i.contentPosition+i.parsedContent.recordCounter+r+1}))}catch(e){if(e instanceof d.CramBufferOverrunError){console.warn("read attempted beyond end of buffer, file seems truncated."),p=p.filter((e=>!!e));break}throw e}for(let e=0;e<p.length;e+=1){const{mateRecordNumber:t}=p[e];void 0!==t&&t>=0&&f(p,e,p[e],p[t])}return p}))}getRecords(e){return n(this,void 0,void 0,(function*(){const t=this.container.filePosition+this.containerPosition;let i=this.file.featureCache.get(t.toString());i||(i=this._fetchRecords(),this.file.featureCache.set(t.toString(),i));const o=(yield i).filter(e);if(o.length&&this.file.fetchReferenceSequenceCallback){const e=yield this.getHeader();if((0,h.isMappedSliceHeader)(e.parsedContent)&&(e.parsedContent.refSeqId>=0||-2===e.parsedContent.refSeqId)){const t=e.parsedContent.refSeqId>=0?e.parsedContent.refSeqId:void 0,i=yield this.container.getCompressionScheme();if(void 0===i)throw new Error;const r={};for(let e=0;e<o.length;e+=1){const i=void 0!==t?t:o[e].sequenceId;let n=r[i];n||(n={id:i,start:o[e].alignmentStart,end:-1/0,seq:null},r[i]=n);const a=o[e].alignmentStart+(o[e].lengthOnRef||o[e].readLength)-1;a>n.end&&(n.end=a),o[e].alignmentStart<n.start&&(n.start=o[e].alignmentStart)}yield Promise.all(Object.values(r).map((e=>n(this,void 0,void 0,(function*(){-1!==e.id&&e.start<=e.end&&(e.seq=yield this.file.fetchReferenceSequenceCallback(e.id,e.start,e.end))})))));for(let e=0;e<o.length;e+=1){const n=r[void 0!==t?t:o[e].sequenceId];if(n&&n.seq){const t=n.seq;o[e].addReferenceSequence(Object.assign(Object.assign({},n),{seq:t}),i)}}}}return o}))}}t.default=u,"getHeader getBlocks _getBlocksContentIdIndex".split(" ").forEach((e=>(0,a.tinyMemoize)(u,e)))},9488:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceMD5=t.tinyMemoize=t.parseItem=t.parseItf8=t.itf8Size=void 0;const o=n(i(2568)),r=i(1074);t.itf8Size=function(e){return-128&e?-16384&e?-2097152&e?-268435456&e?5:4:3:2:1},t.parseItf8=function(e,t){let i=t;const n=e[i];let o;if(n<128?(o=n,i+=1):n<192?(o=16383&(n<<8|e[i+1]),i+=2):n<224?(o=2097151&(n<<16|e[i+1]<<8|e[i+2]),i+=3):n<240?(o=268435455&(n<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),i+=4):(o=(15&n)<<28|e[i+1]<<20|e[i+2]<<12|e[i+3]<<4|15&e[i+4],i+=5),i>e.length)throw new r.CramBufferOverrunError("Attempted to read beyond end of buffer; this file seems truncated.");return[o,i-t]},t.parseItem=function(e,t,i=0,n=0){const{offset:o,result:r}=t.parse(e);return Object.assign(Object.assign({},r),{_endPosition:o+n,_size:o-i})},t.tinyMemoize=function(e,t){const i=e.prototype[t],n=`_memo_${t}`;e.prototype[t]=function(){if(!(n in this)){const e=i.call(this);this[n]=e,Promise.resolve(e).catch((()=>{delete this[n]}))}return this[n]}},t.sequenceMD5=function(e){return(0,o.default)(e.toUpperCase().replace(/[^\x21-\x7e]/g,""))}},8577:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CramArgumentError=t.CramSizeLimitError=t.CramMalformedError=t.CramUnimplementedError=t.CramError=void 0;class i extends Error{}t.CramError=i;class n extends Error{}t.CramUnimplementedError=n,t.CramMalformedError=class extends i{},t.CramSizeLimitError=class extends i{},t.CramArgumentError=class extends i{}},5590:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CramRecord=t.CraiIndex=t.IndexedCramFile=t.CramFile=void 0;const s=r(i(8222));t.CramFile=s.default,Object.defineProperty(t,"CramRecord",{enumerable:!0,get:function(){return s.CramRecord}});const c=a(i(946));t.IndexedCramFile=c.default;const l=a(i(368));t.CraiIndex=l.default},946:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(8577),a=o(i(8222));t.default=class{constructor(e){if(e.cram?this.cram=e.cram:this.cram=new a.default({url:e.cramUrl,path:e.cramPath,filehandle:e.cramFilehandle,seqFetch:e.seqFetch,checkSequenceMD5:e.checkSequenceMD5,cacheSize:e.cacheSize}),!(this.cram instanceof a.default))throw new Error("invalid arguments: no cramfile");if(this.index=e.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index");this.fetchSizeLimit=e.fetchSizeLimit||3e6}getRecordsForRange(e,t,i,o={}){return n(this,void 0,void 0,(function*(){if(o.viewAsPairs=o.viewAsPairs||!1,o.pairAcrossChr=o.pairAcrossChr||!1,o.maxInsertSize=o.maxInsertSize||2e5,"string"==typeof e)throw new r.CramUnimplementedError("string sequence names not yet supported");const n=e,a=yield this.index.getEntriesForRange(n,t,i),s=a.map((e=>e.sliceBytes)).reduce(((e,t)=>e+t),0);if(s>this.fetchSizeLimit)throw new r.CramSizeLimitError(`data size of ${s.toLocaleString()} bytes exceeded fetch size limit of ${this.fetchSizeLimit.toLocaleString()} bytes`);const c=n=>n.sequenceId===e&&n.alignmentStart<=i&&void 0!==n.lengthOnRef&&n.alignmentStart+n.lengthOnRef-1>=t,l=yield Promise.all(a.map((e=>this.getRecordsInSlice(e,c))));let h=Array.prototype.concat(...l);if(o.viewAsPairs){const e={},t={};for(let i=0;i<h.length;i+=1){const n=h[i].readName;if(void 0===n)throw new Error;const o=h[i].uniqueId;e[n]||(e[n]=0),e[n]+=1,t[o]=1}const i={};Object.entries(e).forEach((([e,t])=>{1===t&&(i[e]=!0)}));const r=[];for(let e=0;e<h.length;e+=1){const t=h[e],a=t.readName;if(void 0===a)throw new Error;if(i[a]&&t.mate&&(t.mate.sequenceId===n||o.pairAcrossChr)&&Math.abs(t.alignmentStart-t.mate.alignmentStart)<o.maxInsertSize){const e=this.index.getEntriesForRange(t.mate.sequenceId,t.mate.alignmentStart,t.mate.alignmentStart+1);r.push(e)}}const a=yield Promise.all(r);let s=[];for(let e=0;e<a.length;e+=1)s.push(...a[e]);s=s.sort(((e,t)=>e.toString().localeCompare(t.toString()))).filter(((e,t,i)=>!t||e.toString()!==i[t-1].toString()));const c=[],l=s.map((e=>e.sliceBytes)).reduce(((e,t)=>e+t),0);if(l>this.fetchSizeLimit)throw new Error(`mate data size of ${l.toLocaleString()} bytes exceeded fetch size limit of ${this.fetchSizeLimit.toLocaleString()} bytes`);s.forEach((e=>{let n=this.cram.featureCache.get(e.toString());n||(n=this.getRecordsInSlice(e,(()=>!0)),this.cram.featureCache.set(e.toString(),n));const o=n.then((e=>{const n=[];for(let o=0;o<e.length;o+=1){const r=e[o];if(void 0===r.readName)throw new Error;i[r.readName]&&!t[r.uniqueId]&&n.push(r)}return n}));c.push(o)}));const d=yield Promise.all(c);if(d.length){const e=d.reduce(((e,t)=>e.concat(t)));h=h.concat(e)}}return h}))}getRecordsInSlice({containerStart:e,sliceStart:t,sliceBytes:i},n){return this.cram.getContainerAtPosition(e).getSlice(t,i).getRecords(n)}hasDataForReferenceSequence(e){return this.index.hasDataForReferenceSequence(e)}}},3427:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.open=t.fromUrl=t.RemoteFile=t.LocalFile=void 0;const o=n(i(8575)),r=i(4319),a=i(2949);function s(e){const{protocol:t,pathname:i}=o.default.parse(e);return"file:"===t?new a.LocalFile(unescape((0,r.ensureNotNullish)(i))):new a.RemoteFile(e)}Object.defineProperty(t,"LocalFile",{enumerable:!0,get:function(){return a.LocalFile}}),Object.defineProperty(t,"RemoteFile",{enumerable:!0,get:function(){return a.RemoteFile}}),t.fromUrl=s,t.open=function(e,t,i){if(i)return i;if(e)return s(e);if(t)return new a.LocalFile(t);throw new Error("no url, path, or filehandle provided, cannot open")}},5702:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RANS_BYTE_L=t.TOTFREQ=t.TF_SHIFT=void 0,t.TF_SHIFT=12,t.TOTFREQ=4096,t.RANS_BYTE_L=1<<23},6484:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(8577),r=i(5702),a=n(i(7634));t.default=function(e,t,i,n){let s=e.getInt(),c=e.getInt(),l=e.getInt(),h=e.getInt();const d=n.remaining(),f=-4&d;for(let o=0;o<f;o+=4){const d=t.R[a.default.get(s,r.TF_SHIFT)],f=t.R[a.default.get(c,r.TF_SHIFT)],u=t.R[a.default.get(l,r.TF_SHIFT)],p=t.R[a.default.get(h,r.TF_SHIFT)];n.putAt(o,d),n.putAt(o+1,f),n.putAt(o+2,u),n.putAt(o+3,p),s=a.default.advanceSymbolStep(s,i[255&d],r.TF_SHIFT),c=a.default.advanceSymbolStep(c,i[255&f],r.TF_SHIFT),l=a.default.advanceSymbolStep(l,i[255&u],r.TF_SHIFT),h=a.default.advanceSymbolStep(h,i[255&p],r.TF_SHIFT),s=a.default.renormalize(s,e),c=a.default.renormalize(c,e),l=a.default.renormalize(l,e),h=a.default.renormalize(h,e)}let u;switch(n.setPosition(f),3&d){case 0:break;case 1:u=t.R[a.default.get(s,r.TF_SHIFT)],a.default.advanceSymbol(s,e,i[255&u],r.TF_SHIFT),n.put(u);break;case 2:u=t.R[a.default.get(s,r.TF_SHIFT)],a.default.advanceSymbol(s,e,i[255&u],r.TF_SHIFT),n.put(u),u=t.R[a.default.get(c,r.TF_SHIFT)],a.default.advanceSymbol(c,e,i[255&u],r.TF_SHIFT),n.put(u);break;case 3:u=t.R[a.default.get(s,r.TF_SHIFT)],a.default.advanceSymbol(s,e,i[255&u],r.TF_SHIFT),n.put(u),u=t.R[a.default.get(c,r.TF_SHIFT)],a.default.advanceSymbol(c,e,i[255&u],r.TF_SHIFT),n.put(u),u=t.R[a.default.get(l,r.TF_SHIFT)],a.default.advanceSymbol(l,e,i[255&u],r.TF_SHIFT),n.put(u);break;default:throw new o.CramMalformedError("invalid output size encountered during rANS decoding")}n.setPosition(0)}},7121:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(5702),r=n(i(7634));t.default=function(e,t,i,n){const a=t.remaining();let s=e.getInt(),c=e.getInt(),l=e.getInt(),h=e.getInt();const d=a>>2;let f=0,u=d,p=2*d,m=3*d,g=0,w=0,F=0,b=0;for(;f<d;f+=1,u+=1,p+=1,m+=1){const a=255&i[g].R[r.default.get(s,o.TF_SHIFT)],d=255&i[w].R[r.default.get(c,o.TF_SHIFT)],v=255&i[F].R[r.default.get(l,o.TF_SHIFT)],y=255&i[b].R[r.default.get(h,o.TF_SHIFT)];t.putAt(f,a),t.putAt(u,d),t.putAt(p,v),t.putAt(m,y),s=r.default.advanceSymbolStep(s,n[g][a],o.TF_SHIFT),c=r.default.advanceSymbolStep(c,n[w][d],o.TF_SHIFT),l=r.default.advanceSymbolStep(l,n[F][v],o.TF_SHIFT),h=r.default.advanceSymbolStep(h,n[b][y],o.TF_SHIFT),s=r.default.renormalize(s,e),c=r.default.renormalize(c,e),l=r.default.renormalize(l,e),h=r.default.renormalize(h,e),g=a,w=d,F=v,b=y}for(;m<a;m+=1){const a=255&i[b].R[r.default.get(h,o.TF_SHIFT)];t.putAt(m,a),h=r.default.advanceSymbol(h,e,n[b][a],o.TF_SHIFT),b=a}}},7634:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(8577),o=i(5702);class r{constructor(){this.F=void 0,this.C=void 0}}function a(e,t,i,n){return i*(e>>n)+(e&(1<<n)-1)-t}const s={FC:r,AriDecoder:class{constructor(){this.fc=new Array(256);for(let e=0;e<this.fc.length;e+=1)this.fc[e]=new r;this.R=null}},Symbol:class{constructor(){this.start=void 0,this.freq=void 0}},symbolInit:function(e,t,i){if(!(t<=65536))throw new n.CramMalformedError("assertion failed: start <= 1<<16");if(!(i<=65536-t))throw new n.CramMalformedError("assertion failed: freq <= 1<<16");e.start=t,e.freq=i},advanceStep:a,advanceSymbolStep:function(e,t,i){return a(e,t.start,t.freq,i)},get:function(e,t){return e&(1<<t)-1},advanceSymbol:function(e,t,i,n){return function(e,t,i,n,r){if((e=n*(e>>r)+(e&(1<<r)-1)-i)<o.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<o.RANS_BYTE_L);return e}(e,t,i.start,i.freq,n)},renormalize:function(e,t){if(e<o.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<o.RANS_BYTE_L);return e}};t.default=s},696:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.readStatsO1=t.readStatsO0=void 0;const o=i(8577),r=i(5702),a=n(i(7634));function s(e){if(!e)throw new o.CramMalformedError("assertion failed")}t.readStatsO0=function(e,t,i){let n=0,o=0,c=255&e.get();do{null==t.fc[c]&&(t.fc[c]=new a.default.FC),t.fc[c].F=255&e.get(),t.fc[c].F>=128&&(t.fc[c].F&=-129,t.fc[c].F=(127&t.fc[c].F)<<8|255&e.get()),t.fc[c].C=o,a.default.symbolInit(i[c],t.fc[c].C,t.fc[c].F),t.R||(t.R=new Array(r.TOTFREQ)),t.R.fill(c,o,o+t.fc[c].F),o+=t.fc[c].F,0===n&&c+1===(255&e.getByteAt(e.position()))?(c=255&e.get(),n=255&e.get()):0!==n?(n-=1,c+=1):c=255&e.get()}while(0!==c);s(o<r.TOTFREQ)},t.readStatsO1=function(e,t,i){let n=0,o=255&e.get();do{let c=0,l=0,h=255&e.get();null==t[o]&&(t[o]=new a.default.AriDecoder);do{null==t[o].fc[h]&&(t[o].fc[h]=new a.default.FC),t[o].fc[h].F=255&e.get(),t[o].fc[h].F>=128&&(t[o].fc[h].F&=-129,t[o].fc[h].F=(127&t[o].fc[h].F)<<8|255&e.get()),t[o].fc[h].C=l,0===t[o].fc[h].F&&(t[o].fc[h].F=r.TOTFREQ),null==i[o][h]&&(i[o][h]=new a.default.RansDecSymbol),a.default.symbolInit(i[o][h],t[o].fc[h].C,t[o].fc[h].F),null==t[o].R&&(t[o].R=new Array(r.TOTFREQ)),t[o].R.fill(h,l,l+t[o].fc[h].F),l+=t[o].fc[h].F,s(l<=r.TOTFREQ),0===c&&h+1===(255&e.getByteAt(e.position()))?(h=255&e.get(),c=255&e.get()):0!==c?(c-=1,h+=1):h=255&e.get()}while(0!==h);0===n&&o+1===(255&e.getByteAt(e.position()))?(o=255&e.get(),n=255&e.get()):0!==n?(n-=1,o+=1):o=255&e.get()}while(0!==o)}},9675:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(8577),r=n(i(7634)),a=i(696),s=n(i(6484)),c=n(i(7121));class l{constructor(e,t=0){this._buffer=e,this._position=t,this.length=e.length}get(){const e=this._buffer[this._position];return this._position+=1,e}getByte(){return this.get()}getByteAt(e){return this._buffer[e]}position(){return this._position}put(e){return this._buffer[this._position]=e,this._position+=1,e}putAt(e,t){return this._buffer[e]=t,t}setPosition(e){return this._position=e,e}getInt(){const e=this._buffer.readInt32LE(this._position);return this._position+=4,e}remaining(){return this._buffer.length-this._position}}t.default=function(e,t,i=0){if(0===e.length)return t.fill(0),t;const n=new l(e,i),h=n.get();if(0!==h&&1!==h)throw new o.CramMalformedError(`Invalid rANS order ${h}`);if(n.getInt()!==n.remaining()-4)throw new o.CramMalformedError("Incorrect input length.");const d=n.getInt(),f=new l(t||Buffer.allocUnsafe(d));if(f.length<d)throw new o.CramMalformedError(`Output buffer too small to fit ${d} bytes.`);switch(h){case 0:return function(e,t){const i=new r.default.AriDecoder,n=new Array(256);for(let e=0;e<n.length;e+=1)n[e]=new r.default.Symbol;return(0,a.readStatsO0)(e,i,n),(0,s.default)(e,i,n,t),t}(n,f);case 1:return function(e,t){const i=new Array(256);for(let e=0;e<i.length;e+=1)i[e]=new r.default.AriDecoder;const n=new Array(256);for(let e=0;e<n.length;e+=1){n[e]=new Array(256);for(let t=0;t<n[e].length;t+=1)n[e][t]=new r.default.Symbol}return(0,a.readStatsO1)(e,i,n),(0,c.default)(e,t,i,n),t}(n,f);default:throw new o.CramMalformedError(`Invalid rANS order: ${h}`)}}},7578:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseHeaderText=void 0,t.parseHeaderText=function(e){const t=e.split(/\r?\n/),i=[];return t.forEach((e=>{const[t,...n]=e.split(/\t/),o=n.map((e=>{const[t,i]=e.split(":",2);return{tag:t,value:i}}));t&&i.push({tag:t.substr(1),data:o})})),i}},4319:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ensureNotNullish=void 0,t.ensureNotNullish=function(e){if(null==e)throw new Error("Value must not be nullish.");return e}},597:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unzip=void 0;const n=i(9591);t.unzip=function(e){return Buffer.from((0,n.inflate)(e))}},9996:(e,t,i)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=i(8764).Buffer,r=i(22),a=i(2961)._,s=i(3720);"undefined"!=typeof window&&(window.Buffer=o),"undefined"!=typeof self&&(self.Buffer=o);var c={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8,UInt64:8,Int64:8},l={},h="___parser_",d=[];!function(){var e;for(e=1;e<=32;e++)d.push(e)}();var f={};Object.keys(c).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach((function(e){f[e.toLowerCase()]=e}));var u=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};u.start=function(){return new u},Object.keys(c).forEach((function(e){u.prototype[e.toLowerCase()]=function(t,i){return this.setNextParser(e.toLowerCase(),t,i)};var t=e.replace(/BE|LE/,"").toLowerCase();t in u.prototype||(u.prototype[t]=function(e,i){return this[t+this.endian](e,i)})})),d.forEach((function(e){u.prototype["bit".concat(e.toString())]=function(t,i){return i||(i={}),i.length=e,this.setNextParser("bit",t,i)}})),u.prototype.namely=function(e){return l[e]=this,this.alias=e,this},u.prototype.skip=function(e,t){if(t&&t.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:e})},u.prototype.string=function(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)},u.prototype.buffer=function(e,t){if(!t.length&&!t.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",e,t)},u.prototype.array=function(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("Length option of array is not defined.");if(!t.type)throw new Error("Type option of array is not defined.");if("string"==typeof t.type&&!l[t.type]&&Object.keys(c).indexOf(f[t.type])<0)throw new Error('Specified primitive type "'.concat(t.type,'" is not supported.'));return this.setNextParser("array",e,t)},u.prototype.choice=function(e,t){if(1===arguments.length&&"object"===n(e)&&(t=e,e=null),!t.tag)throw new Error("Tag option of array is not defined.");if(!t.choices)throw new Error("Choices option of array is not defined.");return Object.keys(t.choices).forEach((function(i){if(!t.choices[i])throw new Error("Choice Case ".concat(i," of ").concat(e," is not valid."));if("string"==typeof t.choices[i]&&!l[t.choices[i]]&&Object.keys(c).indexOf(f[t.choices[i]])<0)throw new Error('Specified primitive type "'.concat(t.choices[i],'" is not supported.'))}),this),this.setNextParser("choice",e,t)},u.prototype.nest=function(e,t){if(1===arguments.length&&"object"===n(e)&&(t=e,e=null),!t.type)throw new Error("Type option of nest is not defined.");if(!(t.type instanceof u||l[t.type]))throw new Error("Type option of nest must be a Parser object.");if(!(t.type instanceof u||e))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",e,t)},u.prototype.endianess=function(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: ".concat(e))}return this},u.prototype.create=function(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this},u.prototype.getCode=function(){var e=new a;return e.pushCode("if (!Buffer.isBuffer(buffer)) {"),e.generateError('"argument buffer is not a Buffer object"'),e.pushCode("}"),this.alias?this.addAliasedCode(e):this.addRawCode(e),this.alias?e.pushCode("return {0}(0)",h+this.alias):e.pushCode("return { offset: offset, result: vars };"),e.code},u.prototype.addRawCode=function(e){e.pushCode("var offset = 0;"),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };")},u.prototype.addAliasedCode=function(e){return e.pushCode("function {0}(offset) {",h+this.alias),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e},u.prototype.resolveReferences=function(e){var t=e.getUnresolvedReferences();e.markRequested(t),t.forEach((function(t){l[t].addAliasedCode(e)}))},u.prototype.compile=function(){var e="(function(buffer, constructorFn, Long) { ".concat(this.getCode()," })");this.compiled=r.runInThisContext(e)},u.prototype.sizeOf=function(){var e=NaN;if(Object.keys(c).indexOf(this.type)>=0)e=c[this.type];else if("String"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var t=NaN;"string"==typeof this.options.type?t=c[f[this.options.type]]:this.options.type instanceof u&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"Skip"===this.type?e=this.options.length:"Nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e},u.prototype.parse=function(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn,s)},u.prototype.setNextParser=function(e,t,i){var n=new u;return n.type=f[e],n.varName=t,n.options=i||n.options,n.endian=this.endian,this.head?this.head.next=n:this.next=n,this.head=n,this},u.prototype.generate=function(e){this.type&&(this["generate".concat(this.type)](e),this.generateAssert(e));var t=e.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)},u.prototype.generateAssert=function(e){if(this.options.assert){var t=e.generateVariable(this.varName);switch(n(this.options.assert)){case"function":e.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,t);break;case"number":e.pushCode("if ({0} !== {1}) {",this.options.assert,t);break;case"string":e.pushCode('if ("{0}" !== {1}) {',this.options.assert,t);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}e.generateError('"Assert error: {0} is " + {0}',t),e.pushCode("}")}},u.prototype.generateNext=function(e){return this.next&&(e=this.next.generate(e)),e},Object.keys(c).forEach((function(e){u.prototype["generate".concat(e)]=function(t){"UInt64"===e?t.pushCode("{0} = Long.fromBytes(buffer.slice(offset,offset+8), true, this.endian === 'le').toNumber();",t.generateVariable(this.varName),e):"Int64"===e?t.pushCode("{0} = Long.fromBytes(buffer.slice(offset,offset+8), false, this.endian === 'le').toNumber();",t.generateVariable(this.varName),e):t.pushCode("{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),e),t.pushCode("offset += {0};",c[e])}})),u.prototype.generateBit=function(e){var t=JSON.parse(JSON.stringify(this));if(t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var i=0;e.bitFields.forEach((function(e){i+=e.options.length}));var n=e.generateTmpVariable();if(i<=8)e.pushCode("var {0} = buffer.readUInt8(offset);",n),i=8;else if(i<=16)e.pushCode("var {0} = buffer.readUInt16BE(offset);",n),i=16;else if(i<=24){var o=e.generateTmpVariable(),r=e.generateTmpVariable();e.pushCode("var {0} = buffer.readUInt16BE(offset);",o),e.pushCode("var {0} = buffer.readUInt8(offset + 2);",r),e.pushCode("var {2} = ({0} << 8) | {1};",o,r,n),i=24}else{if(!(i<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");e.pushCode("var {0} = buffer.readUInt32BE(offset);",n),i=32}e.pushCode("offset += {0};",i/8);var a=0,s="be"===this.endian;e.bitFields.forEach((function(t){e.pushCode("{0} = {1} >> {2} & {3};",t.varName,n,s?i-a-t.options.length:a,(1<<t.options.length)-1),a+=t.options.length})),e.bitFields=[]}},u.prototype.generateSkip=function(e){var t=e.generateOption(this.options.length);e.pushCode("offset += {0};",t)},u.prototype.generateString=function(e){var t=e.generateVariable(this.varName),i=e.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(e.pushCode("var {0} = offset;",i),e.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",i,this.options.length),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",t,this.options.encoding,i,this.options.length)):this.options.length?(e.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",t,this.options.encoding,e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))):this.options.zeroTerminated?(e.pushCode("var {0} = offset;",i),e.pushCode("while(buffer.readUInt8(offset++) !== 0);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",t,this.options.encoding,i)):this.options.greedy&&(e.pushCode("var {0} = offset;",i),e.pushCode("while(buffer.length > offset++);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset);",t,this.options.encoding,i)),this.options.stripNull&&e.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",t)},u.prototype.generateBuffer=function(e){"eof"===this.options.readUntil?e.pushCode("{0} = buffer.slice(offset);",e.generateVariable(this.varName)):(e.pushCode("{0} = buffer.slice(offset, offset + {1});",e.generateVariable(this.varName),e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))),this.options.clone&&e.pushCode("{0} = Buffer.from({0});",e.generateVariable(this.varName))},u.prototype.generateArray=function(e){var t=e.generateOption(this.options.length),i=e.generateOption(this.options.lengthInBytes),n=this.options.type,o=e.generateTmpVariable(),r=e.generateVariable(this.varName),a=e.generateTmpVariable(),s=this.options.key,d="string"==typeof s;if(d?e.pushCode("{0} = {};",r):e.pushCode("{0} = [];",r),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",o):void 0!==i?e.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",o,i):e.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",o,t),"string"==typeof n)if(l[n]){var p=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",p,h+n),e.pushCode("var {0} = {1}.result; offset = {1}.offset;",a,p),n!==this.alias&&e.addReference(n)}else e.pushCode("var {0} = buffer.read{1}(offset);",a,f[n]),e.pushCode("offset += {0};",c[f[n]]);else n instanceof u&&(e.pushCode("var {0} = {};",a),e.pushScope(a),n.generate(e),e.popScope());d?e.pushCode("{0}[{2}.{1}] = {2};",r,s,a):e.pushCode("{0}.push({1});",r,a),e.pushCode("}"),"function"==typeof this.options.readUntil&&e.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,a)},u.prototype.generateChoiceCase=function(e,t,i){if("string"==typeof i)if(l[i]){var n=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",n,h+i),e.pushCode("{0} = {1}.result; offset = {1}.offset;",e.generateVariable(this.varName),n),i!==this.alias&&e.addReference(i)}else e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),f[i]),e.pushCode("offset += {0};",c[f[i]]);else i instanceof u&&(e.pushPath(t),i.generate(e),e.popPath(t))},u.prototype.generateChoice=function(e){var t=e.generateOption(this.options.tag);this.varName&&e.pushCode("{0} = {};",e.generateVariable(this.varName)),e.pushCode("switch({0}) {",t),Object.keys(this.options.choices).forEach((function(t){var i=this.options.choices[t];Number.isNaN(parseInt(t,10))?e.pushCode("case '{0}':",t):e.pushCode("case {0}:",t),this.generateChoiceCase(e,this.varName,i),e.pushCode("break;")}),this),e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError('"Met undefined tag value " + {0} + " at choice"',t),e.pushCode("}")},u.prototype.generateNest=function(e){var t=e.generateVariable(this.varName);if(this.options.type instanceof u)this.varName&&e.pushCode("{0} = {};",t),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(l[this.options.type]){var i=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",i,h+this.options.type),e.pushCode("{0} = {1}.result; offset = {1}.offset;",t,i),this.options.type!==this.alias&&e.addReference(this.options.type)}},u.prototype.generateFormatter=function(e,t,i){"function"==typeof i&&e.pushCode("{0} = ({1}).call(this, {0});",t,i)},u.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},u.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},u.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},u.prototype.generateItf8=function(e){var t=e.generateVariable(this.varName),i=e.generateTmpVariable();e.pushCode("\n    var ".concat(i," = buffer[offset];\n    if (").concat(i," < 0x80) {\n      ").concat(t," = ").concat(i,";\n      offset += 1;\n    } else if (").concat(i," < 0xc0) {\n      ").concat(t," = ((").concat(i,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(i," < 0xe0) {\n      ").concat(t," = ((").concat(i,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(i," < 0xf0) {\n      ").concat(t," = ((").concat(i,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(t," = ((").concat(i," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},u.prototype.ltf8=function(e,t){return this.setNextParser("ltf8",e,t)},u.prototype.generateLtf8=function(e){var t=e.generateVariable(this.varName),i=e.generateTmpVariable();e.pushCode("\n  var ".concat(i," = buffer[offset];\n  if (").concat(i," < 0x80) {\n    ").concat(t," = ").concat(i,";\n    offset += 1;\n  } else if (").concat(i," < 0xc0) {\n    ").concat(t," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(i," < 0xe0) {\n    ").concat(t," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(t," = (((").concat(i," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(i," < 0xf0) {\n    ").concat(t," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(i," < 0xf8) {\n    ").concat(t," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(i," < 0xfc) {\n    ").concat(t," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(i," < 0xfe) {\n    ").concat(t," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(i," < 0xff) {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 9;\n  }\n  "))},t.Parser=u},2961:(e,t)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var n=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};n.prototype.generateVariable=function(e){var t=[];for(Array.prototype.push.apply(t,this.scopes[this.scopes.length-1]);/^\$parent\./.test(e);)t.pop(),e=e.replace(/^\$parent\./,"");return e&&t.push(e),t.join(".")},n.prototype.generateOption=function(e){switch(i(e)){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return"(".concat(e,").call(").concat(this.generateVariable(),", vars)");default:return}},n.prototype.generateError=function(){var e=Array.prototype.slice.call(arguments),t=n.interpolate.apply(this,e);this.isAsync?this.pushCode("return process.nextTick(function() { callback(new Error(".concat(t,"), vars); });")):this.pushCode("throw new Error(".concat(t,");"))},n.prototype.generateTmpVariable=function(){return"$tmp".concat(this.tmpVariableCount++)},n.prototype.pushCode=function(){var e=Array.prototype.slice.call(arguments);this.code+="".concat(n.interpolate.apply(this,e),"\n")},n.prototype.pushPath=function(e){e&&this.scopes[this.scopes.length-1].push(e)},n.prototype.popPath=function(e){e&&this.scopes[this.scopes.length-1].pop()},n.prototype.pushScope=function(e){this.scopes.push([e])},n.prototype.popScope=function(){this.scopes.pop()},n.prototype.addReference=function(e){this.references[e]||(this.references[e]={resolved:!1,requested:!1})},n.prototype.markResolved=function(e){this.references[e].resolved=!0},n.prototype.markRequested=function(e){e.forEach(function(e){this.references[e].requested=!0}.bind(this))},n.prototype.getUnresolvedReferences=function(){var e=this.references;return Object.keys(this.references).filter((function(t){return!e[t].resolved&&!e[t].requested}))},n.interpolate=function(e){var t=e.match(/{\d+}/g),i=Array.prototype.slice.call(arguments,1);return t&&t.forEach((function(t){var n=parseInt(t.substr(1,t.length-2),10);e=e.replace(t,i[n].toString())})),e},t._=n},22:e=>{e.exports.runInThisContext=function(e){return new Function("code","return eval(code);").call(globalThis,e)}},445:(e,t,i)=>{const n=i(7381),o=i(9260),r=i(576),a=i(4693),s=128;e.exports=class{decode(e){return this.stream=new o(e),this.decodeStream(this.stream)}decodeStream(e,t=0){var i=this.stream.ReadByte();16&i||(t=this.stream.ReadUint7());var n,o=t,r=1&i;if(8&i)return this.decodeStripe(this.stream,t);if(i&s&&([n,o]=this.decodePackMeta(this.stream)),32&i)var a=this.decodeCat(this.stream,o);else a=4&i?this.decodeExt(this.stream,o):64&i?r?this.decodeRLE1(this.stream,o):this.decodeRLE0(this.stream,o):r?this.decode1(this.stream,o):this.decode0(this.stream,o);return i&s&&(a=this.decodePack(a,n,t)),a}encode(e,t){if(this.stream=new o("",0,1.1*e.length+100),this.stream.WriteByte(t),16&t||this.stream.WriteUint7(e.length),8&t)return Buffer.concat([this.stream.buf.slice(0,this.stream.pos),this.encodeStripe(this.stream,e,t>>8)]);var i,n=1&t,r=e.length;return t&s&&([i,e,r]=this.encodePack(e)),t&s&&this.stream.WriteStream(i),64&t?n?this.encodeRLE1(e,r,this.stream):this.encodeRLE0(e,r,this.stream):n?this.encode1(e,r,this.stream):this.encode0(e,r,this.stream)}decode0(e,t){var i=new Buffer.allocUnsafe(t),o=e.ReadByte();0==o&&(o=256);var a=new r(o),s=new n(e);s.RangeStartDecode(e);for(var c=0;c<t;c++)i[c]=a.ModelDecode(e,s);return i}encode0(e,t,i){for(var o=0,a=0;a<t;a++)o<e[a]&&(o=e[a]);o++;var s=new r(o);i.WriteByte(o);var c=new n(i);for(a=0;a<t;a++)s.ModelEncode(i,c,e[a]);return c.RangeFinishEncode(i),i.buf.slice(0,i.pos)}decode1(e,t){var i=new Buffer.allocUnsafe(t),o=e.ReadByte();0==o&&(o=256);for(var a=new Array(o),s=0;s<o;s++)a[s]=new r(o);var c=new n(e);c.RangeStartDecode(e);var l=0;for(s=0;s<t;s++)i[s]=a[l].ModelDecode(e,c),l=i[s];return i}encode1(e,t,i){for(var o=0,a=0;a<t;a++)o<e[a]&&(o=e[a]);o++;var s=new Array(o);for(a=0;a<o;a++)s[a]=new r(o);i.WriteByte(o);var c=new n(i),l=0;for(a=0;a<t;a++)s[l].ModelEncode(i,c,e[a]),l=e[a];return c.RangeFinishEncode(i),i.buf.slice(0,i.pos)}decodeExt(e,t){var i=new Buffer.allocUnsafe(t),n=a.array(e.buf.slice(e.pos)),o=a.header(n),r=0;do{var s=a.decompress(n,o);-1!=s&&(Buffer.from(s).copy(i,r),r+=s.length,o-=s.length)}while(-1!=s);return i}encodeExt(e,t){}decodeRLE0(e,t){var i=new Buffer.allocUnsafe(t),o=e.ReadByte();0==o&&(o=256);for(var a=new r(o),s=new Array(258),c=0;c<=257;c++)s[c]=new r(4);var l=new n(e);for(l.RangeStartDecode(e),c=0;c<t;){i[c]=a.ModelDecode(e,l);for(var h=s[i[c]].ModelDecode(e,l),d=h,f=256;3==h;)h=s[f].ModelDecode(e,l),f=257,d+=h;for(var u=1;u<=d;u++)i[c+u]=i[c];c+=d+1}return i}encodeRLE0(e,t,i){for(var o=0,a=0;a<t;a++)o<e[a]&&(o=e[a]);o++;var s=new r(o),c=new Array(258);for(a=0;a<=257;a++)c[a]=new r(4);i.WriteByte(o);var l=new n(i);for(a=0;a<t;){s.ModelEncode(i,l,e[a]);for(var h=1;a+h<t&&e[a+h]==e[a];)h++;h--;var d=e[a];e[a],a+=h+1;var f=h>=3?3:h;for(c[d].ModelEncode(i,l,f),h-=f,d=256;3==f;)f=h>=3?3:h,c[d].ModelEncode(i,l,f),d=257,h-=f}return l.RangeFinishEncode(i),i.buf.slice(0,i.pos)}decodeRLE1(e,t){var i=new Buffer.allocUnsafe(t),o=e.ReadByte();0==o&&(o=256);for(var a=new Array(o),s=0;s<o;s++)a[s]=new r(o);var c=new Array(258);for(s=0;s<=257;s++)c[s]=new r(4);var l=new n(e);l.RangeStartDecode(e);var h=0;for(s=0;s<t;){i[s]=a[h].ModelDecode(e,l),h=i[s];for(var d=c[i[s]].ModelDecode(e,l),f=d,u=256;3==d;)d=c[u].ModelDecode(e,l),u=257,f+=d;for(var p=1;p<=f;p++)i[s+p]=i[s];s+=f+1}return i}encodeRLE1(e,t,i){for(var o=0,a=0;a<t;a++)o<e[a]&&(o=e[a]);o++;var s=new Array(o);for(a=0;a<o;a++)s[a]=new r(o);var c=new Array(258);for(a=0;a<=257;a++)c[a]=new r(4);i.WriteByte(o);for(var l=new n(i),h=(a=0,0);a<t;){s[h].ModelEncode(i,l,e[a]);for(var d=1;a+d<t&&e[a+d]==e[a];)d++;d--;var f=e[a];h=e[a],a+=d+1;var u=d>=3?3:d;for(c[f].ModelEncode(i,l,u),d-=u,f=256;3==u;)u=d>=3?3:d,c[f].ModelEncode(i,l,u),f=257,d-=u}return l.RangeFinishEncode(i),i.buf.slice(0,i.pos)}decodePackMeta(e){this.nsym=e.ReadByte();for(var t=new Array(this.nsym),i=0;i<this.nsym;i++)t[i]=e.ReadByte();return[t,e.ReadUint7()]}decodePack(e,t,i){var n=new Buffer.allocUnsafe(i);if(this.nsym<=1)for(var o=0;o<i;o++)n[o]=t[0];else if(this.nsym<=2){o=0;for(var r=0;o<i;o++){if(o%8==0)var a=e[r++];n[o]=t[1&a],a>>=1}}else if(this.nsym<=4)for(o=0,r=0;o<i;o++)o%4==0&&(a=e[r++]),n[o]=t[3&a],a>>=2;else{if(!(this.nsym<=16))return e;for(o=0,r=0;o<i;o++)o%2==0&&(a=e[r++]),n[o]=t[15&a],a>>=4}return n}packMeta(e){for(var t=new o("",0,1024),i=new Array(256),n=0;n<e.length;n++)i[e[n]]=1;var r=0;for(n=0;n<256;n++)i[n]&&(i[n]=++r);for(t.WriteByte(r),n=0;n<256;n++)i[n]&&(t.WriteByte(n),i[n]--);return[t,i,r]}encodePack(e){var t,i,n;[t,i,n]=this.packMeta(e);var o=e.length,r=0;if(n<=1)return t.WriteUint7(0),[t,new Buffer.allocUnsafe(0),0];if(n<=2){for(var a=new Buffer.allocUnsafe(Math.floor((o+7)/8)),s=(r=0,0);r<(-8&o);r+=8,s++)a[s]=(i[e[r+0]]|0)+(i[e[r+1]]<<1)+(i[e[r+2]]<<2)+(i[e[r+3]]<<3)+(i[e[r+4]]<<4)+(i[e[r+5]]<<5)+(i[e[r+6]]<<6)+(i[e[r+7]]<<7);if(r<o){a[s]=0;for(var c=0;r<o;)a[s]|=i[e[r++]]<<c,c++;s++}return t.WriteUint7(s),[t,a,a.length]}if(n<=4){for(a=new Buffer.allocUnsafe(Math.floor((o+3)/4)),r=0,s=0;r<(-4&o);r+=4,s++)a[s]=(i[e[r+0]]|0)+(i[e[r+1]]<<2)+(i[e[r+2]]<<4)+(i[e[r+3]]<<6);if(r<o){for(a[s]=0,c=0;r<o;)a[s]|=i[e[r++]]<<c,c+=2;s++}return t.WriteUint7(s),[t,a,a.length]}if(n<=16){for(a=new Buffer.allocUnsafe(Math.floor((o+1)/2)),r=0,s=0;r<(-2&o);r+=2,s++)a[s]=(i[e[r+0]]|0)+(i[e[r+1]]<<4);return r<o&&(a[s++]=i[e[r++]]),t.WriteUint7(s),[t,a,a.length]}return t.WriteUint7(e.length),[t,e,e.length]}encodeStripe(e,t,i){0==i&&(i=4);for(var n=new Array(i),r=new Array(i),a=0;a<i;a++)r[a]=Math.floor(t.length/i)+(t.length%i>a),n[a]=new Array(r[a]);for(var s=0,c=0;c<t.length;c+=i,s++)for(var l=0;l<i;l++)s<n[l].length&&(n[l][s]=t[c+l]);var h=new Array(i),d=0;for(a=0;a<i;a++){var f=this.encode(n[a],0),u=this.encode(n[a],1);h[a]=u.length<f.length?u:f,d+=h[a].length}var p=new o("",0,d+5*i+1);for(p.WriteByte(i),a=0;a<i;a++)p.WriteUint7(h[a].length);for(a=0;a<i;a++)p.WriteData(h[a],h[a].length);return p.buf.slice(0,p.buf.pos)}decodeStripe(e,t){for(var i=e.ReadByte(),n=new Array(i),o=new Array(i),r=0;r<i;r++)n[r]=e.ReadUint7();var a=new Array(i);for(r=0;r<i;r++)o[r]=Math.floor(t/i)+(t%i>r),a[r]=this.decodeStream(e,o[r]);var s=new Buffer.allocUnsafe(t);for(r=0;r<i;r++)for(var c=0;c<o[r];c++)s[c*i+r]=a[r][c];return s}decodeCat(e,t){for(var i=new Buffer.allocUnsafe(t),n=0;n<t;n++)i[n]=e.ReadByte();return i}}},7381:e=>{e.exports=class{constructor(e){this.low=0,this.range=4294967295,this.code=0,this.FFnum=0,this.carry=0,this.cache=0}RangeStartDecode(e){for(var t=0;t<5;t++)this.code=(this.code<<8)+e.ReadByte();this.code&=4294967295,this.code>>>=0}RangeGetFrequency(e){return this.range=Math.floor(this.range/e),Math.floor(this.code/this.range)}RangeDecode(e,t,i,n){for(this.code-=t*this.range,this.range*=i;this.range<1<<24;)this.range*=256,this.code=256*this.code+e.ReadByte()}RangeShiftLow(e){if(this.low<4278190080|this.carry){for(e.WriteByte(this.cache+this.carry);this.FFnum;)e.WriteByte(this.carry-1),this.FFnum--;this.cache=this.low>>>24,this.carry=0}else this.FFnum++;this.low<<=8,this.low>>>=0}RangeEncode(e,t,i,n){var o=this.low;for(this.range=Math.floor(this.range/n),this.low+=t*this.range,this.low>>>=0,this.range*=i,this.low<o&&(0!=this.carry&&console.log("ERROR: Multiple carry"),this.carry=1);this.range<1<<24;)this.range*=256,this.RangeShiftLow(e)}RangeFinishEncode(e){for(var t=0;t<5;t++)this.RangeShiftLow(e)}}},576:e=>{e.exports=class{constructor(e=256){this.total_freq=e,this.max_sym=e-1,this.S=new Array,this.F=new Array;for(var t=0;t<=this.max_sym;t++)this.S[t]=t,this.F[t]=1}ModelDecode(e,t){for(var i=t.RangeGetFrequency(this.total_freq),n=0,o=0;n+this.F[o]<=i;)n+=this.F[o++];t.RangeDecode(e,n,this.F[o],this.total_freq),this.F[o]+=16,this.total_freq+=16,this.total_freq>65519&&this.ModelRenormalise();var r=this.S[o];if(o>0&&this.F[o]>this.F[o-1]){var a=this.F[o];this.F[o]=this.F[o-1],this.F[o-1]=a,a=this.S[o],this.S[o]=this.S[o-1],this.S[o-1]=a}return r}ModelRenormalise(){this.total_freq=0;for(var e=0;e<=this.max_sym;e++)this.F[e]-=Math.floor(this.F[e]/2),this.total_freq+=this.F[e]}ModelEncode(e,t,i){for(var n=0,o=0;this.S[o]!=i;o++)n+=this.F[o];if(t.RangeEncode(e,n,this.F[o],this.total_freq),this.F[o]+=16,this.total_freq+=16,this.total_freq>65519&&this.ModelRenormalise(),i=this.S[o],o>0&&this.F[o]>this.F[o-1]){var r=this.F[o];this.F[o]=this.F[o-1],this.F[o-1]=r,r=this.S[o],this.S[o]=this.S[o-1],this.S[o-1]=r}}}},5260:(e,t,i)=>{const n=i(9260),o=i(576),r=i(7381);function a(e,t,i){for(var n=0,o=0,r=-1,a=new Array(1024);o<i;){var s=e.ReadByte();if(a[n++]=s,o+=s,s==r){var c=e.ReadByte();for(o+=s*c;c--;)a[n++]=s}r=s}var l=0;for(n=0,o=0;o<i;){var h=0;do{var d=a[n++];h+=d}while(255==d);for(;h--;)t[o++]=l;l++}}function s(e,t,i){var n=e.context;return t.qctx=(t.qctx<<e.qshift)+e.qtab[i],n+=(t.qctx&(1<<e.qbits)-1)<<e.qloc,e.do_pos&&(n+=e.ptab[Math.min(t.p,1023)]<<e.ploc),e.do_delta&&(n+=e.dtab[Math.min(t.delta,255)]<<e.dloc,t.delta+=t.prevq!=i?1:0,t.prevq=i),e.do_sel&&(n+=t.s<<e.sloc),t.p--,65535&n}function c(e){var t={};t.context=e.ReadUint16(),t.pflags=e.ReadByte(),t.do_dedup=2&t.pflags,t.fixed_len=4&t.pflags,t.do_sel=8&t.pflags,t.do_qmap=16&t.pflags,t.do_pos=32&t.pflags,t.do_delta=64&t.pflags,t.do_qtab=128&t.pflags,t.max_sym=e.ReadByte();var i=e.ReadByte();if(t.qbits=i>>4,t.qshift=15&i,i=e.ReadByte(),t.qloc=i>>4,t.sloc=15&i,i=e.ReadByte(),t.ploc=i>>4,t.dloc=15&i,t.qmap=new Array(256),16&t.pflags)for(var n=0;n<t.max_sym;n++)t.qmap[n]=e.ReadByte();else for(n=0;n<256;n++)t.qmap[n]=n;if(t.qtab=new Array(1024),t.qbits>0&&128&t.pflags)a(e,t.qtab,256);else for(n=0;n<256;n++)t.qtab[n]=n;return t.ptab=new Array(1024),32&t.pflags&&a(e,t.ptab,1024),t.dtab=new Array(256),64&t.pflags&&a(e,t.dtab,256),t}function l(e,t,i,n,o,r){i.max_sel>0?o.s=n.sel.ModelDecode(e,t):o.s=0,o.x=i.stab[o.s];var a=i.params[o.x];if(a.fixed_len>=0){var s=n.len[0].ModelDecode(e,t);s|=n.len[1].ModelDecode(e,t)<<8,s|=n.len[2].ModelDecode(e,t)<<16,s|=n.len[3].ModelDecode(e,t)<<24,a.fixed_len>0&&(a.fixed_len=-s)}else s=-a.fixed_len;o.len=s,i.do_rev&&(r[o.rec]=n.rev.ModelDecode(e,t)),o.is_dup=0,2&a.pflags&&n.dup.ModelDecode(e,t)&&(o.is_dup=1),o.p=s,o.delta=0,o.qctx=0,o.prevq=0,o.rec++}function h(e,t,i){for(var n=0,o=0,r=new Array(2*i),a=0;n<i;){for(var s=n;n<i&&t[n]==o;)n++;var c=n-s;do{var l=Math.min(255,c);r[a++]=l,c-=l}while(255==l);o++}var h=-1,d=new Array(2*i),f=0;for(n=0;n<a;){var u=r[n++];if(d[f++]=u,u==h){for(s=n;n<a&&r[n]==h&&n-s<255;)n++;d[f++]=n-s}else h=u}e.WriteData(d,f)}e.exports={decode:function(e,t){return function(e,t){var i=e.ReadUint7(),n=function(e){var t={max_sym:0};if(5==e.ReadByte()){var i=e.ReadByte(),n=1&i?e.ReadByte():1,o=i.nparam>1?i.nparam-1:0,r=new Array(256);if(2&i)o=e.ReadByte(),a(e,r,256);else{for(var s=0;s<n;s++)r[s]=s;for(;s<256;s++)r[s]=n-1}t.do_rev=4&i,t.stab=r,t.max_sel=o,t.params=new Array(t.nparam);for(var l=0;l<n;l++)t.params[l]=c(e),t.max_sym<t.params[l].max_sym&&(t.max_sym=t.params[l].max_sym);return t}console.error("Invalid FQZComp version number")}(e);if(n){var h=n.params,d=new Array(t.length),f=function(e){var t={};t.qual=new Array(65536);for(var i=0;i<65536;i++)t.qual[i]=new o(e.max_sym+1);for(t.len=new Array(4),i=0;i<4;i++)t.len[i]=new o(256);return t.rev=new o(2),t.dup=new o(2),e.max_sel>0&&(t.sel=new o(e.max_sel+1)),t}(n),u=new r(e);u.RangeStartDecode(e);for(var p=new Buffer.allocUnsafe(i),m={qctx:0,prevq:0,delta:0,p:0,s:0,x:0,len:0,is_dup:0,rec:0},g=0;g<i;){if(0==m.p){if(l(e,u,n,f,m,d),m.is_dup>0&&f.dup.ModelDecode(e,u)){for(var w=0;w<len;w++)p[g+w]=p[g+w-m.len];g+=m.len,m.p=0;continue}t.push(m.len);var F=(h=n.params[m.x]).context}var b=f.qual[F].ModelDecode(e,u);p[g++]=h.qmap[b],F=s(h,m,b)}return n.do_rev&&function(e,t,i,n){for(var o=0,r=0;r<t;){if(i[o])for(var a=0,s=n[o]-1;a<s;){var c=e[r+a];e[r+a]=e[r+s],e[r+s]=c,a++,s--}r+=n[o++]}}(p,i,d,t),p}}(new n(e),t)},encode:function(e,t,i){for(var a=new Array(2),s=new Array(2),c=new Array(2),l=new Array(2),d=new Array(256),f=0;f<2;f++)a[f]=new Array(256),s[f]=new Array(256),c[f]=new Array(1024),l[f]=new Array(256);(p=new n("",0,1.1*e.length+100)).WriteUint7(e.length);var u=function(e,t,i,n){for(var o=i[0],r=0;r<i.length&&i[r]==o;r++);var a=r==i.length?1:0,s=0,c=0;for(r=0;r<256;r++)n[0][r]=0;var l=0,h=0;for(r=0;r<e.length;r++)0==h&&(h=t[l<t.length-1?l++:l]),n[0][e[r]]++,h--;for(r=0;r<256;r++)n[0][r]&&(c<r&&(c=r),s++);var d=5,f=0;return s<=16&&(f=1,d=s<=2?1:s<=4?2:s<=8?3:4),[{qbits:8+(d>4),qshift:d,qloc:7,pbits:7,pshift:t[0]>128?1:0,ploc:0,dbits:d>4?0:1,dshift:3,dloc:15,sbits:0,sloc:15,do_stab:0,context:0,max_sym:c,nsym:s,do_qmap:f,do_dedup:0,fixed_len:1==t.length?1:0,do_sel:0,do_rev:0,do_pos:1,do_delta:d<=4?1:0,do_qtab:0,qbits:8+(d>4)-(0==a),sbits:1,sloc:15-(d<=4),do_stab:1,do_sel:1}]}(e,t,i,a),p=function(e,t,i,n,o,r,a){for(var s=[0,1,1,1,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],c=0;c<t.length;c++)a[c]=c;for(;c<256;c++)a[c]=t.length-1;e.WriteByte(5);var l=(t.length>1?1:0)|(t[0].do_stab?2:0);if(e.WriteByte(l),1&l&&e.WriteByte(t.length),2&l){var d=1<<t[0].sbits;d>0&&d--,e.WriteByte(d),h(e,a,256)}for(var f=0;f<t.length;f++){if(e.WriteUint16(t[f].context),e.WriteByte((t[f].do_qtab?128:0)|(t[f].do_delta?64:0)|(t[f].do_pos?32:0)|(t[f].do_qmap?16:0)|(t[f].do_sel?8:0)|(t[f].fixed_len?4:0)|(t[f].do_dedup?2:0)),t[f].do_qmap?e.WriteByte(t[f].nsym):e.WriteByte(t[f].max_sym),e.WriteByte(t[f].qbits<<4|t[f].qshift),e.WriteByte(t[f].qloc<<4|t[f].sloc),e.WriteByte(t[f].ploc<<4|t[f].dloc),t[f].do_qmap){t[f].max_sym=t[f].nsym;var u=0;for(c=0;c<256;c++)i[f][c]&&(e.WriteByte(c),i[f][c]=u++);for(;u<t[f].nsym;u++)e.WriteByte(0)}else for(c=0;c<256;c++)i[f][c]=c;if(t[f].qbits>0){for(c=0;c<256;c++)n[f][c]=c;t[f].do_qtab&&h(e,n[f],256)}if(t[f].pbits>0){for(c=0;c<1024;c++)o[f][c]=Math.min((1<<t[f].pbits)-1,c>>t[f].pshift);h(e,o[f],1024)}if(t[f].dbits>0){for(c=0;c<256;c++)s[c]>(1<<t[f].dbits)-1&&(s[c]=(1<<t[f].dbits)-1);for(c=0;c<256;c++)r[f][c]=s[Math.min(s.length-1,c>>t[f].dshift)];h(e,r[f],256)}}return e}(p,u,a,s,c,l,d);return function(e,t,i,n,a,s,c,l,h,d){var f=1<<a[0].sbits;f>0&&f--;for(var u=t.length,p=0,m=0;m<a.length;m++)p<a[m].max_sym&&(p=a[m].max_sym);for(var g=new Array(65536),w=0;w<65536;w++)g[w]=new o(p+1);var F=new Array(4);for(w=0;w<4;w++)F[w]=new o(256);new o(2),new o(2);for(var b=new o(f+1),v=new r(t),y=(m=0,w=0,0);w<u;){if(0==m){var _=n[y];a[0].sbits>0&&b.ModelEncode(e,v,_);var C=d[_],x=i[Math.min(i.length-1,y++)];a[C].fixed_len?a[C].fixed_len>0&&(F[0].ModelEncode(e,v,255&x),F[1].ModelEncode(e,v,x>>8&255),F[2].ModelEncode(e,v,x>>16&255),F[3].ModelEncode(e,v,x>>24&255),a[C].fixed_len=-1):(F[0].ModelEncode(e,v,255&x),F[1].ModelEncode(e,v,x>>8&255),F[2].ModelEncode(e,v,x>>16&255),F[3].ModelEncode(e,v,x>>24&255)),a[C].do_dedup&&process.exit(1),m=x;var k=0,E=a[C].context,N=0,S=0}var I=t[w++],z=s[C][I];g[E].ModelEncode(e,v,z),N=(N<<a[C].qshift)+c[C][z],E=a[C].context,E+=(N&(1<<a[C].qbits)-1)<<a[C].qloc,a[C].pbits>0&&(E+=l[C][Math.min(m,1023)]<<a[C].ploc),a[C].dbits>0&&(E+=h[C][Math.min(k,255)]<<a[C].dloc,k+=S!=z?1:0,S=z),a[C].do_sel&&(E+=_<<a[C].sloc),E&=65535,m--}return v.RangeFinishEncode(e),e.buf.slice(0,e.pos)}(p,e,t,i,u,a,s,c,l,d)}}},3498:(e,t,i)=>{var n=i(4459),o=i(594),r=i(445),a=i(5260),s=i(2881);e.exports={r4x8_uncompress:function(e,t){n.decode(e).copy(t,0,0)},r4x16_uncompress:function(e,t){o.decode(e).copy(t,0,0)},arith_uncompress:function(e,t){r.decode(e).copy(t,0,0)},fqzcomp_uncompress:function(e,t){var i=new Array;a.decode(e,i).copy(t,0,0)},tok3_uncompress:function(e,t){var i=s.decode(e,0,"\0");Buffer.from(i,"binary").copy(t,0,0)}}},9260:e=>{e.exports=class{constructor(e,t=0,i=0){0!=i?(this.buf=Buffer.allocUnsafe(i),this.length=i):(this.buf=e,this.length=e.length),this.pos=t}EOF(){return this.pos>=this.length}ReadData(e){var t=this.buf.slice(this.pos,this.pos+e);return this.pos+=e,t}ReadByte(){const e=this.buf[this.pos];return this.pos++,e}ReadChar(){const e=this.buf[this.pos];return this.pos++,String.fromCharCode(e)}ReadUint16(){return this.ReadByte()|this.ReadByte()<<8}ReadUint32(){const e=this.buf.readInt32LE(this.pos);return this.pos+=4,e}ReadString(){var e="";do{var t=this.buf[this.pos++];t&&(e+=String.fromCharCode(t))}while(t);return e}ReadUint7(){var e=0;do{var t=this.ReadByte();e=e<<7|127&t}while(128&t);return e}ReadITF8(){var e=this.buf[this.pos];return this.pos++,e>=240?(e=(15&e)<<28,e+=(this.buf[this.pos+0]<<20)+(this.buf[this.pos+1]<<12)+(this.buf[this.pos+2]<<4)+(this.buf[this.pos+3]>>4),this.pos+=4):e>=224?(e=(15&e)<<24,e+=(this.buf[this.pos+0]<<16)+(this.buf[this.pos+1]<<8)+(this.buf[this.pos+2]|0),this.pos+=3):e>=192?(e=(31&e)<<16,e+=(this.buf[this.pos+0]<<8)+(this.buf[this.pos+1]|0),this.pos+=2):e>=128&&(e=(63&e)<<8,e+=this.buf[this.pos],this.pos++),e}WriteByte(e){this.buf[this.pos++]=e}WriteChar(e){this.buf[this.pos++]=e.charCodeAt(0)}WriteString(e){for(var t=0;t<e.length;t++)this.buf[this.pos++]=e.charCodeAt(t);this.buf[this.pos++]=0}WriteData(e,t){for(var i=0;i<t;i++)this.buf[this.pos++]=e[i]}WriteStream(e){this.WriteData(e.buf,e.pos)}WriteUint16(e){this.WriteByte(255&e),this.WriteByte(e>>8&255)}WriteUint32(e){this.buf.writeInt32LE(e,this.pos),this.pos+=4}WriteUint7(e){var t=0,i=e;do{t+=7,i>>=7}while(i>0);do{t-=7,this.WriteByte((e>>t&127)+((t>0)<<7))}while(t>0)}WriteITF8(e){e<0&&(e=1+e),e<=127?this.buf[this.pos++]=e:e<=16383?(this.buf[this.pos++]=128|Math.floor(e/256),this.buf[this.pos++]=255&e):e<131071?(this.buf[this.pos++]=192|Math.floor(e/65536),this.buf[this.pos++]=255&Math.floor(e/256),this.buf[this.pos++]=255&e):e<268435455?(this.buf[this.pos++]=224|Math.floor(e/16777216),this.buf[this.pos++]=255&Math.floor(e/65536),this.buf[this.pos++]=255&Math.floor(e/256),this.buf[this.pos++]=255&e):(this.buf[this.pos++]=240|Math.floor(e/268435456),this.buf[this.pos++]=255&Math.floor(e/1048576),this.buf[this.pos++]=255&Math.floor(e/4096),this.buf[this.pos++]=255&Math.floor(e/4),this.buf[this.pos++]=15&e)}WriteByteNeg(e){this.buf[--this.pos]=e}}},4459:(e,t,i)=>{const n=i(9260);function o(e){return 4095&e}function r(e,t){for(var i=0;t>=e[i+1];)i++;return i}function a(e){for(var t=new Array(4096),i=0,n=0;n<4096;n++){for(;n>=e[i+1];)i++;t[n]=i}return t}function s(e,t,i){return i*(e>>12)+(4095&e)-t}function c(e,t){for(;t<1<<23;)t=(t<<8)+e.ReadByte();return t}function l(e,t){t.WriteByteNeg(e>>24&255),t.WriteByteNeg(e>>16&255),t.WriteByteNeg(e>>8&255),t.WriteByteNeg(255&e)}function h(e,t,i,n,o){return e=function(e,t,i,n){for(var o=(1<<23>>n<<8)*i;e>=o;)t.WriteByteNeg(255&e),e>>=8;return e}(e,t,n,o),(Math.floor(e/n)<<o)+e%n+i}function d(e,t,i){for(var n=0;n<256;n++)t[n]=0;var o=e.ReadByte(),r=o,a=0;do{var s=e.ReadITF8();t[o]=s,a>0?(a--,o++):(o=e.ReadByte())==r+1&&(a=e.ReadByte()),r=o}while(0!=o);for(i[0]=0,n=0;n<=255;n++)i[n+1]=i[n]+t[n]}function f(e){for(var t=0,i=0;i<256;i++)t+=e[i];const n=4096;var o=n/t;do{var r=0,a=0,s=0;for(t=0,i=0;i<256;i++)0!=e[i]&&(r<e[i]&&(r=e[i],a=i),e[i]=Math.floor(e[i]*o),0==e[i]&&(e[i]=1),t+=e[i]);t<n?e[a]+=n-t:t-n<e[a]/2&&e[a]>2?e[a]-=t-n:t!=n&&(o*=.99,s=1)}while(s)}function u(e,t){for(var i=0,n=0;n<256;n++)if(t[n]){if(i>0)i--;else if(e.WriteByte(n),n>0&&t[n-1]>0){for(i=n+1;i<256&&t[i];i++);i-=n+1,e.WriteByte(i)}e.WriteITF8(t[n])}e.WriteByte(0)}e.exports={decode:function(e){var t=new n(e),i=t.ReadByte(),l=(t.ReadUint32(),t.ReadUint32());return 0==i?function(e,t){var i=new Array(256),n=new Array(256);d(e,i,n);for(var r=a(n),l=new Array(4),h=0;h<4;h++)l[h]=e.ReadUint32();var f=new Buffer.allocUnsafe(t);for(h=0;h<t;h++){var u=h%4,p=r[o(l[u])];f[h]=p,l[u]=s(l[u],n[p],i[p]),l[u]=c(e,l[u])}return f}(t,l):function(e,t){var i=new Array(256),n=new Array(256);!function(e,t,i){for(var n=0;n<256;n++){t[n]=new Array(256),i[n]=new Array(256);for(var o=0;o<256;o++)t[n][o]=0}var r=e.ReadByte(),a=r,s=0;do{d(e,t[r],i[r]),s>0?(s--,r++):(r=e.ReadByte())==a+1&&(s=e.ReadByte()),a=r}while(0!=r)}(e,i,n);for(var l=new Array(256),h=0;h<256;h++)l[h]=a(n[h]);for(var f=new Array(4),u=new Array(4),p=0;p<4;p++)f[p]=e.ReadUint32(),u[p]=0;var m=new Buffer.allocUnsafe(t),g=Math.floor(t/4);for(h=0;h<g;h++)for(p=0;p<4;p++){var w=o(f[p]),F=l[u[p]][w];m[h+p*g]=F,f[p]=s(f[p],n[u[p]][F],i[u[p]][F]),f[p]=c(e,f[p]),u[p]=F}for(h*=4;h<t;)w=o(f[3]),F=r(n[u[3]],w),m[h++]=F,f[3]=s(f[3],n[u[3]][F],i[u[3]][F]),f[3]=c(e,f[3]),u[3]=F;return m}(t,l)},encode:function(e,t){return 0==t?function(e){const t=e.length;var i=new n("",0,780);i.WriteByte(0),i.WriteUint32(0),i.WriteUint32(0);var o=new Array(256);(function(e,t){for(var i=0;i<256;i++)t[i]=0;for(i=0;i<e.length;i++)t[e[i]]++})(e,o),f(o),u(i,o);var r=new Array(256);r[0]=0;for(var a=1;a<256;a++)r[a]=r[a-1]+o[a-1];var s=new Array(4);for(a=0;a<4;a++)s[a]=1<<23;var c=Math.floor(1.05*t+100),d=new n("",c,c);for(a=t-1;a>=0;a--)s[a%4]=h(s[a%4],d,r[e[a]],o[e[a]],12);for(a=3;a>=0;a--)l(s[a],d);var p=i.pos;return i.buf.writeInt32LE(p-9+(d.length-d.pos),1),i.buf.writeInt32LE(t,5),Buffer.concat([i.buf.slice(0,i.pos),d.buf.slice(d.pos,d.length)],i.pos+d.length-d.pos)}(e):function(e){const t=e.length;var i=new n("",0,198156);i.WriteByte(1),i.WriteUint32(0),i.WriteUint32(0);for(var o=new Array(256),r=new Array(256),a=new Array(256),s=0;s<256;s++)r[s]=new Array(256),a[s]=new Array(256);for(function(e,t,i){for(var n=0;n<256;n++){i[n]=0;for(var o=0;o<256;o++)t[n][o]=0}var r=0;for(n=0;n<e.length;n++)i[e[n]]++,t[r][e[n]]++,r=e[n];t[0][e[1*(e.length>>2)]]++,t[0][e[2*(e.length>>2)]]++,t[0][e[3*(e.length>>2)]]++,i[0]+=3}(e,r,o),function(e,t){for(var i=0;i<256;i++)t[i]&&f(e[i])}(r,o),function(e,t,i){for(var n=0,o=0;o<256;o++)if(i[o]){if(n>0)n--;else if(e.WriteByte(o),o>0&&i[o-1]>0){for(n=o+1;n<256&&i[n];n++);n-=o+1,e.WriteByte(n)}u(e,t[o])}e.WriteByte(0)}(i,r,o),s=0;s<256;s++)if(o[s]){a[s][0]=0;for(var c=1;c<256;c++)a[s][c]=a[s][c-1]+r[s][c-1]}var d=new Array(4),p=new Array(4);for(c=0;c<4;c++)d[c]=1<<23,p[c]=0;var m=new n("",t,t),g=Math.floor(t/4),w=new Array(4),F=new Array(4);for(c=0;c<4;c++)w[c]=(c+1)*g-2,F[c]=e[w[c]+1];for(F[3]=e[t-1],s=t-2;s>4*g-2;s--)d[3]=h(d[3],m,a[e[s]][F[3]],r[e[s]][F[3]],12),F[3]=e[s];for(;w[0]>=0;)for(c=3;c>=0;c--){var b=e[w[c]];d[c]=h(d[c],m,a[b][F[c]],r[b][F[c]],12),F[c]=b,w[c]--}for(c=3;c>=0;c--)d[c]=h(d[c],m,a[0][F[c]],r[0][F[c]],12);for(s=3;s>=0;s--)l(d[s],m);var v=i.pos;return i.buf.writeInt32LE(v-9+(m.length-m.pos),1),i.buf.writeInt32LE(t,5),Buffer.concat([i.buf.slice(0,i.pos),m.buf.slice(m.pos,m.length)],i.pos+m.length-m.pos)}(e)}}},594:(e,t,i)=>{const n=i(9260);function o(e,t){return e&(1<<t)-1}function r(e,t){for(var i=0;t>=e[i+1];)i++;return i}function a(e,t){for(var i=1<<t,n=new Array(i),o=0,r=0;r<i;r++){for(;r>=e[o+1];)o++;n[r]=o}return n}function s(e,t,i,n){return i*(e>>n)+(e&(1<<n)-1)-t}function c(e,t){return t<32768&&(t=(t<<16)+e.ReadUint16()),t}function l(e,t){t.WriteByteNeg(e>>24&255),t.WriteByteNeg(e>>16&255),t.WriteByteNeg(e>>8&255),t.WriteByteNeg(255&e)}function h(e,t,i,n,o){return e=function(e,t,i,n){for(var o=(1<<31-n)*i;e>=o;)t.WriteByteNeg(e>>8&255),t.WriteByteNeg(255&e),e>>=16;return e}(e,t,n,o),(Math.floor(e/n)<<o)+e%n+i}function d(e,t,i){0==i&&(i=4);for(var o=new Array(i),r=new Array(i),a=0;a<i;a++)r[a]=Math.floor(t.length/i)+(t.length%i>a),o[a]=new Array(r[a]);for(var s=0,c=0;c<t.length;c+=i,s++)for(var l=0;l<i;l++)s<o[l].length&&(o[l][s]=t[c+l]);var h=new Array(i),d=0;for(a=0;a<i;a++){var f=u(o[a],0),p=u(o[a],1);h[a]=p.length<f.length?p:f,d+=h[a].length}var m=new n("",0,d+5*i+1);for(m.WriteByte(i),a=0;a<i;a++)m.WriteUint7(h[a].length);for(a=0;a<i;a++)m.WriteData(h[a],h[a].length);return m.buf.slice(0,m.buf.pos)}function f(e,t){var i=e.ReadByte(),l=1&i,h=8&i,d=32&i,u=64&i,g=128&i;if(16&i||(t=e.ReadUint7()),h)return function(e,t){for(var i=e.ReadByte(),n=new Array(i),o=new Array(i),r=0;r<i;r++)n[r]=e.ReadUint7();var a=new Array(i);for(r=0;r<i;r++)o[r]=Math.floor(t/i)+(t%i>r),a[r]=f(e,o[r]);var s=new Buffer.allocUnsafe(t);for(r=0;r<i;r++)for(var c=0;c<o[r];c++)s[c*i+r]=a[r][c];return s}(e,t);if(g)var F=t,[b,v,t]=function(e){for(var t=e.ReadByte(),i=new Array(t),n=0;n<t;n++)i[n]=e.ReadByte();return[i,t,e.ReadUint7()]}(e);if(u)var y=t,[_,C,t]=function(e){var t=e.ReadUint7(),i=e.ReadUint7();if(1&t)var o=e.ReadData((t-1)/2);else{var r=e.ReadUint7();o=e.ReadData(r),o=m(new n(o),t/2)}o=new n(o);var a=new Array(256),s=o.ReadByte();0==s&&(s=256);for(var c=0;c<s;c++)a[o.ReadByte()]=1;return[a,o,i]}(e);if(d)var x=e.ReadData(t);else x=0==l?m(e,t):function(e,t){var i=(f=e.ReadByte())>>4,l=e;if(1&f){var h=e.ReadUint7(),d=e.ReadUint7(),f=new n(e.ReadData(d));l=new n(m(f,h))}var u=new Array(256),g=new Array(256);!function(e,t,i,n){for(var o=0;o<256;o++){t[o]=new Array(256),i[o]=new Array(256);for(var r=0;r<256;r++)t[o][r]=0}var a=p(e);for(o=0;o<256;o++)if(a[o]){var s=0;for(r=0;r<256;r++)a[r]&&(s>0?s--:(t[o][r]=e.ReadUint7(),0==t[o][r]&&(s=e.ReadByte())));for(w(t[o],n),i[o][0]=0,r=0;r<256;r++)i[o][r+1]=i[o][r]+t[o][r]}}(l,u,g,i);for(var F=new Array(256),b=0;b<256;b++)F[b]=a(g[b],i);for(var v=new Array(4),y=new Array(4),_=0;_<4;_++)v[_]=e.ReadUint32(),y[_]=0;var C=new Buffer.allocUnsafe(t),x=Math.floor(t/4);for(b=0;b<x;b++)for(_=0;_<4;_++){var k=o(v[_],i),E=F[y[_]][k];C[b+_*x]=E,v[_]=s(v[_],g[y[_]][E],u[y[_]][E],i),v[_]=c(e,v[_]),y[_]=E}for(b*=4;b<t;)k=o(v[3],i),E=r(g[y[3]],k),C[b++]=E,v[3]=s(v[3],g[y[3]][E],u[y[3]][E],i),v[3]=c(e,v[3]),y[3]=E;return C}(e,t);return u&&(x=function(e,t,i,o){new n(e);for(var r=new Buffer.allocUnsafe(o),a=0,s=0;a<o;s++){var c=e[s];if(t[c])for(var l=i.ReadUint7(),h=0;h<=l;h++)r[a++]=c;else r[a++]=c}return r}(x,_,C,y)),g&&(x=function(e,t,i,n){var o=new Buffer.allocUnsafe(n),r=0;if(i<=1)for(var a=0;a<n;a++)o[a]=t[0];else if(i<=2)for(a=0;a<n;a++){if(a%8==0)var s=e[r++];o[a]=t[1&s],s>>=1}else if(i<=4)for(a=0;a<n;a++)a%4==0&&(s=e[r++]),o[a]=t[3&s],s>>=2;else if(i<=16)for(a=0;a<n;a++)a%2==0&&(s=e[r++]),o[a]=t[15&s],s>>=4;return o}(x,b,v,F)),x}function u(e,t){var i=new n("",0,10);i.WriteByte(t);var o=1&t,r=8&t,a=32&t,s=64&t,c=128&t,f=t>>8;if(16&t||i.WriteUint7(e.length),r)return Buffer.concat([i.buf.slice(0,i.pos),d(0,e,f)]);var u=new Buffer.alloc(0);c&&([u,e]=function(e){for(var t=new Array(256),i=0;i<256;i++)t[i]=0;for(i=0;i<e.length;i++)t[e[i]]++;var o=new Array(256),r=0;for(i=0;i<256;i++)t[i]>0&&(o[i]=r++);if(!(r>16)){if(r<=1)var a=new Buffer.allocUnsafe(0);else if(r<=2){a=new Buffer.allocUnsafe(Math.ceil(e.length/8));var s=-1;for(i=0;i<e.length;i++)i%8==0&&(a[++s]=0),a[s]+=o[e[i]]<<i%8}else if(r<=4)for(a=new Buffer.allocUnsafe(Math.ceil(e.length/4)),s=-1,i=0;i<e.length;i++)i%4==0&&(a[++s]=0),a[s]+=o[e[i]]<<i%4*2;else for(a=new Buffer.allocUnsafe(Math.ceil(e.length/2)),s=-1,i=0;i<e.length;i++)i%2==0&&(a[++s]=0),a[s]+=o[e[i]]<<i%2*4;var c=new n("",0,r+5);for(c.WriteByte(r),s=0,i=0;i<256;i++)t[i]>0&&(t[i]=s++,c.WriteByte(i));return c.WriteUint7(a.length),[c.buf.slice(0,c.pos),a]}}(e));var p=new Buffer.alloc(0);if(s&&([p,e]=function(e){for(var t=new Array(256),i=0;i<256;i++)t[i]=0;var o=-1;for(i=0;i<e.length;i++)t[e[i]]+=e[i]==o?1:-1,o=e[i];var r=0;for(i=0;i<256;i++)t[i]>0&&r++;for(r||(r=1,t[0]=1),(l=new n("",0,r+1+e.length)).WriteByte(r),i=0;i<256;i++)t[i]>0&&l.WriteByte(i);var a=new Buffer.allocUnsafe(e.length),s=0;for(i=0;i<e.length;i++)if(a[s++]=e[i],t[e[i]]>0){o=e[i];for(var c=0;i+c+1<e.length&&e[i+c+1]==o;)c++;l.WriteUint7(c),i+=c}var l,h=b(l.buf.slice(0,l.pos)),d=new n("",0,16);return d.WriteUint7(2*l.pos),d.WriteUint7(s),d.WriteUint7(h.length),[l=Buffer.concat([d.buf.slice(0,d.pos),h]),a.slice(0,s)]}(e)),e.length<4&&1==o&&(o=0,i.buf[0]&=-2),a)var m=e;else m=0==o?b(e):function(e){const t=e.length;for(var i=new n("",0,198156),o=new Array(256),r=new Array(256),a=new Array(256),s=0;s<256;s++)r[s]=new Array(256),a[s]=new Array(256);(function(e,t,i){for(var n=0;n<256;n++){i[n]=0;for(var o=0;o<256;o++)t[n][o]=0}var r=0;for(n=0;n<e.length;n++)i[r]++,t[r][e[n]]++,r=e[n];i[r]++,t[0][e[1*(e.length>>2)]]++,t[0][e[2*(e.length>>2)]]++,t[0][e[3*(e.length>>2)]]++,i[0]+=3})(e,r,o),function(e,t){for(var i=0;i<256;i++)if(t[i]){var n=Math.ceil(Math.log2(t[i]));n>12&&(n=12),g(e[i],n)}}(r,o);var c=new n("",0,198156);!function(e,t,i){F(e,i);for(var n=0;n<256;n++)if(i[n])for(var o=0,r=0;r<256;r++)if(i[r])if(o)o--;else if(e.WriteUint7(t[n][r]),!t[n][r]){for(var a=r+1;a<256;a++)if(i[a]){if(0!=t[n][a])break;o++}e.WriteByte(o)}}(c,r,o);var d=b(c.buf.slice(0,c.pos));for(d.length<c.pos?(i.WriteByte(193),i.WriteUint7(c.pos),i.WriteUint7(d.length),i.WriteData(d,d.length)):(i.WriteByte(192),i.WriteData(c.buf,c.pos)),function(e,t){for(var i=0;i<256;i++)t[i]&&w(e[i],12)}(r,o),s=0;s<256;s++)if(o[s]){a[s][0]=0;for(var f=1;f<256;f++)a[s][f]=a[s][f-1]+r[s][f-1]}var u=new Array(4),p=new Array(4);for(f=0;f<4;f++)u[f]=32768,p[f]=0;var m=new n("",1.05*t+100|0,1.05*t+100|0),v=Math.floor(t/4),y=new Array(4),_=new Array(4);for(f=0;f<4;f++)y[f]=(f+1)*v-2,_[f]=e[y[f]+1];for(_[3]=e[t-1],s=t-2;s>4*v-2;s--)u[3]=h(u[3],m,a[e[s]][_[3]],r[e[s]][_[3]],12),_[3]=e[s];for(;y[0]>=0;)for(f=3;f>=0;f--){var C=e[y[f]];u[f]=h(u[f],m,a[C][_[f]],r[C][_[f]],12),_[f]=C,y[f]--}for(f=3;f>=0;f--)u[f]=h(u[f],m,a[0][_[f]],r[0][_[f]],12);for(s=3;s>=0;s--)l(u[s],m);return Buffer.concat([i.buf.slice(0,i.pos),m.buf.slice(m.pos,m.length)],i.pos+m.length-m.pos)}(e);return Buffer.concat([i.buf.slice(0,i.pos),u,p,m])}function p(e){for(var t=new Array(256),i=0;i<256;i++)t[i]=0;var n=0,o=e.ReadByte(),r=o;do{t[o]=1,n>0?(n--,o++):(o=e.ReadByte())==r+1&&(n=e.ReadByte()),r=o}while(0!=o);return t}function m(e,t){var i=new Array(256),n=new Array(256);!function(e,t,i){for(var n=0;n<256;n++)t[n]=0;var o=p(e);for(n=0;n<256;n++)o[n]>0&&(t[n]=e.ReadUint7());for(w(t,12),i[0]=0,n=0;n<=255;n++)i[n+1]=i[n]+t[n]}(e,i,n);for(var r=a(n,12),l=new Array(4),h=0;h<4;h++)l[h]=e.ReadUint32();var d=new Buffer.allocUnsafe(t);for(h=0;h<t;h++){var f=h%4,u=r[o(l[f],12)];d[h]=u,l[f]=s(l[f],n[u],i[u],12),l[f]=c(e,l[f])}return d}function g(e,t){for(var i=0,n=0;n<256;n++)i+=e[n];const o=1<<t;var r=o/i;do{var a=0,s=0,c=0;for(i=0,n=0;n<256;n++)0!=e[n]&&(a<e[n]&&(a=e[n],s=n),e[n]=Math.floor(e[n]*r),0==e[n]&&(e[n]=1),i+=e[n]);i<o?e[s]+=o-i:i-o<e[s]/2&&e[s]>2?e[s]-=i-o:i!=o&&(r=o/i,c=1)}while(c)}function w(e,t){for(var i=0,n=0;n<256;n++)i+=e[n];if(0!=i&&i!=1<<t){for(var o=0;i<1<<t;)i*=2,o++;for(n=0;n<256;n++)e[n]<<=o}}function F(e,t){for(var i=0,n=0;n<256;n++)if(t[n])if(i>0)i--;else if(e.WriteByte(n),n>0&&t[n-1]>0){for(i=n+1;i<256&&t[i];i++);i-=n+1,e.WriteByte(i)}e.WriteByte(0)}function b(e){const t=e.length;var i=new n("",0,780),o=new Array(256);!function(e,t){for(var i=0;i<256;i++)t[i]=0;for(i=0;i<e.length;i++)t[e[i]]++}(e,o);var r=Math.ceil(Math.log2(t));r>12&&(r=12),g(o,r),function(e,t){F(e,t);for(var i=0;i<256;i++)t[i]&&e.WriteUint7(t[i])}(i,o),g(o,12);var a=new Array(256);a[0]=0;for(var s=1;s<256;s++)a[s]=a[s-1]+o[s-1];var c=new Array(4);for(s=0;s<4;s++)c[s]=32768;var d=new n("",1.05*t+100|0,1.05*t+100|0);for(s=t-1;s>=0;s--)c[s%4]=h(c[s%4],d,a[e[s]],o[e[s]],12);for(s=3;s>=0;s--)l(c[s],d);return Buffer.concat([i.buf.slice(0,i.pos),d.buf.slice(d.pos,d.length)],i.pos+d.length-d.pos)}e.exports={decode:function(e){return f(new n(e),0)},encode:u}},2881:(e,t,i)=>{const n=i(9260),o=i(594);var r=new(i(445));function a(e,t){for(var i=e+"";i.length<t;)i="0"+i;return i}function s(e,t,i,n){var o=e[0][0].ReadByte(),r=n-e[0][o].ReadUint32();if(5==o)return t[n]=t[r],i[n]=i[r],t[n];var s=1;t[n]="",i[n]=new Array(256);do{switch(o=e[s][0].ReadByte()){case 2:i[n][s]=e[s][2].ReadChar();break;case 1:i[n][s]=e[s][1].ReadString();break;case 7:i[n][s]=e[s][7].ReadUint32();break;case 3:var c=e[s][3].ReadUint32(),l=e[s][4].ReadByte();i[n][s]=a(c,l);break;case 8:i[n][s]=(i[r][s]|0)+e[s][8].ReadByte();break;case 9:c=(i[r][s]|0)+e[s][9].ReadByte(),l=i[r][s].length,i[n][s]=a(c,l);break;case 10:i[n][s]=i[r][s];break;default:i[n][s]=""}t[n]+=i[n][s++]}while(12!=o);return t[n]}function c(e,t,i,n,o,r){for(var a=0;a<n.length;a++)if(!(i>0&&5==t[a][0].type)&&t[a][i])switch(e[0].WriteByte(t[a][i].type),t[a][i].type){case 6:e[6].WriteUint32(t[a][i].val);break;case 5:e[5].WriteUint32(t[a][i].val);break;case 1:e[1].WriteString(t[a][i].val);break;case 2:e[2].WriteChar(t[a][i].val);break;case 7:e[7].WriteUint32(t[a][i].val);break;case 3:e[3].WriteUint32(t[a][i].val),e[4].WriteByte(t[a][i].val.length);break;case 8:case 9:e[t[a][i].type].WriteByte(t[a][i].val)}}function l(e,t,i,n){for(var o=0;o<=12;o++)if(!(e[o].pos<=0)){n.WriteByte(o+(0==o?128:0)),e[o]=e[o].buf.slice(0,e[o].pos);var r=h(e[o],i);n.WriteUint7(r.length),n.WriteData(r,r.length)}}function h(e,t){var i,n=1<<30,a=[0,1,64,65,128,129,201];for(var s in a){var c=a[s];if(!(1&c&&e.length<100||8&c&&e.length%4!=0)){try{var l=t?r.encode(e,c):o.encode(e,c)}catch(e){l=0}l&&n>l.length&&(n=l.length,i=l)}}return i}function d(e,t,i,n,o){var r=0,a=o-1;e[o]=new Array(256),t[n]?e[o][0]={type:5,val:o-t[n]}:e[o][0]={type:6,val:0==o?0:1},t[n]=o;for(var s=n.match(/([a-zA-Z0-9]{1,9})|([^a-zA-Z0-9]+)/g),c=0;c<s.length;c++){var l=c+1,h=1,d=s[c];if(s[c].match(/^0+[0-9]*$/g)?h=3:s[c].match(/^[0-9]+$/g)?h=7:1==s[c].length&&(h=2),a>=0&&e[a][l])if(e[a][l].str==s[c])h=10,d="";else if(7==e[a][l].type||8==e[a][l].type){var f=d-e[a][l].str;i[l]++,f>=0&&f<256&&i[l]>o/2&&(h=8,d=f)}else 3!=e[a][l].type&&9!=e[a][l].type||e[a][l].str.length!=d.length||(f=d-e[a][l].str,i[l]++,f>=0&&f<256&&i[l]>o/2&&(h=9,d=f));e[o][l]={str:s[c],val:d,type:h},r<e[o][l].val.length+3&&(r=e[o][l].val.length+3)}return e[o][++l]={type:12},[l+1,r]}e.exports={encode:function(e,t){var i=e.toString();"\n"==i[i.length-1]&&(i=i.substring(0,i.length-1));var o=i.split("\n"),r=new n("",0,2*i.length+1e4);r.WriteUint32(i.length),r.WriteUint32(o.length),r.WriteByte(t);for(var a=new Array(o.length),s={},h=new Array(256).fill(0),f=0,u=0,p=0;p<o.length;p++){var[m,g]=d(a,s,h,o[p],p);f<m&&(f=m),u<g&&(u=g)}for(var w=0;w<f;w++){for(var F=new Array(13),b=0;b<=12;b++)F[b]=new n("",0,o.length*u);c(F,a,w,o),l(F,0,t,r)}return r.buf.slice(0,r.pos)},decode:function(e,t,i){(e=new n(e)).ReadUint32();var a=e.ReadUint32(),c=e.ReadByte(),l=function(e,t,i,a){for(var s=-1,c=new Array(256);!e.EOF();){var l=e.ReadByte(),h=128&l,d=64&l,f=63&l;if(h&&(c[++s]=new Array(13)),0!=f&&h){var u=new Array(a-1).fill(10);c[s][0]=new n(Buffer.from([f].concat(u)))}if(d){var p=e.ReadByte(),m=e.ReadByte();c[s][f]=new n(c[p][m].buf)}else{var g=e.ReadUint7(),w=e.ReadData(g);c[s][f]=i?r.decode(w):o.decode(w),c[s][f]=new n(c[s][f])}}return c}(e,0,c,a),h=new Array(a),d=new Array(a),f="";void 0===i&&(i="\n");for(var u=0;u<a;u++)f+=s(l,h,d,u)+i;return f}}},1422:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(8904),r=n(i(9049)),a=n(i(450));class s{constructor({fill:e,cache:t}){if("function"!=typeof e)throw new TypeError("must pass a fill function");if("object"!=typeof t)throw new TypeError("must pass a cache object");if("function"!=typeof t.get||"function"!=typeof t.set||"function"!=typeof t.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=t,this.fillCallback=e}static isAbortException(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message}evict(e,t){this.cache.get(e)===t&&this.cache.delete(e)}fill(e,t,i,n){const o=new r.default,s=new a.default;s.addCallback(n);const c={aborter:o,promise:this.fillCallback(t,o.signal,(e=>{s.callback(e)})),settled:!1,statusReporter:s,get aborted(){return this.aborter.signal.aborted}};c.aborter.addSignal(i),c.aborter.signal.addEventListener("abort",(()=>{c.settled||this.evict(e,c)})),c.promise.then((()=>{c.settled=!0}),(()=>{c.settled=!0,this.evict(e,c)})).catch((e=>{throw console.error(e),e})),this.cache.set(e,c)}static checkSinglePromise(e,t){function i(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then((e=>(i(),e)),(e=>{throw i(),e}))}has(e){return this.cache.has(e)}get(e,t,i,n){if(!i&&t instanceof o.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const r=this.cache.get(e);return r?r.aborted&&!r.settled?(this.evict(e,r),this.get(e,t,i,n)):r.settled?r.promise:(r.aborter.addSignal(i),r.statusReporter.addCallback(n),s.checkSinglePromise(r.promise,i)):(this.fill(e,t,i,n),s.checkSinglePromise(this.cache.get(e).promise,i))}delete(e){const t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))}clear(){const e=this.cache.keys();let t=0;for(let i=e.next();!i.done;i=e.next())this.delete(i.value),t+=1;return t}}t.default=s},9049:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(8904);class o{}t.default=class{constructor(){this.signals=new Set,this.abortController=new n.AbortController}addSignal(e=new o){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):"function"==typeof e.addEventListener&&e.addEventListener("abort",(()=>{this.handleAborted(e)}))}handleAborted(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}},450:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.callbacks=new Set}addCallback(e=()=>{}){this.callbacks.add(e),e(this.currentMessage)}callback(e){this.currentMessage=e,this.callbacks.forEach((t=>{t(e)}))}}},8904:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AbortSignal=t.AbortController=void 0;const n=i(5988);var o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw new Error("unable to locate global object")};let r=void 0===o().AbortController?n.AbortController:o().AbortController;t.AbortController=r;let a=void 0===o().AbortController?n.AbortSignal:o().AbortSignal;t.AbortSignal=a},4105:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i(1422));t.default=o.default},5988:(e,t)=>{function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:i):o.value}},c.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(){i(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return o(e,[{key:"addEventListener",value:function(e,t,i){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:i})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var i=this.listeners[e],n=0,o=i.length;n<o;n++)if(i[n].callback===t)return void i.splice(n,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),i=0,n=t.length;i<n;i++){var o=t[i];try{o.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}o.options&&o.options.once&&this.removeEventListener(e.type,o.callback)}return!e.defaultPrevented}}}]),e}(),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(d,e);var t,n,h=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=r(t);if(n){var o=r(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function d(){var e;return i(this,d),(e=h.call(this)).listeners||l.call(s(e)),Object.defineProperty(s(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(e),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(s(e),"reason",{value:void 0,writable:!0,configurable:!0}),e}return o(d,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(r(d.prototype),"dispatchEvent",this).call(this,e)}}]),d}(l),d=function(){function e(){i(this,e),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return o(e,[{key:"abort",value:function(e){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}var i=e;if(void 0===i)if("undefined"==typeof document)(i=new Error("This operation was aborted")).name="AbortError";else try{i=new DOMException("signal is aborted without reason")}catch(e){(i=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=i,this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),t.AbortController=d,t.AbortSignal=h,t.abortableFetch=function(e){"function"==typeof e&&(e={fetch:e});var t=e,i=t.fetch,n=t.Request,o=void 0===n?i.Request:n,r=t.AbortController,a=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==a&&a;if(!function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}({fetch:i,Request:o,AbortController:r,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:i,Request:c};var c=o;(c&&!c.prototype.hasOwnProperty("signal")||s)&&((c=function(e,t){var i;t&&t.signal&&(i=t.signal,delete t.signal);var n=new o(e,t);return i&&Object.defineProperty(n,"signal",{writable:!1,enumerable:!1,configurable:!0,value:i}),n}).prototype=o.prototype);var l=i;return{fetch:function(e,t){var i=c&&c.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(i){var n;try{n=new DOMException("Aborted","AbortError")}catch(e){(n=new Error("Aborted")).name="AbortError"}if(i.aborted)return Promise.reject(n);var o=new Promise((function(e,t){i.addEventListener("abort",(function(){return t(n)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([o,l(e,t)])}return l(e,t)},Request:c}}},9742:(e,t)=>{t.byteLength=function(e){var t=s(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,r=s(e),a=r[0],c=r[1],l=new o(function(e,t,i){return 3*(t+i)/4-i}(0,a,c)),h=0,d=c>0?a-4:a;for(i=0;i<d;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],l[h++]=t>>16&255,l[h++]=t>>8&255,l[h++]=255&t;return 2===c&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,l[h++]=255&t),1===c&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,l[h++]=t>>8&255,l[h++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,r=[],a=16383,s=0,l=n-o;s<l;s+=a)r.push(c(e,s,s+a>l?l:s+a));return 1===o?(t=e[n-1],r.push(i[t>>2]+i[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],r.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),r.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)i[a]=r[a],n[r.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e,t,n){for(var o,r,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(r=o)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2779:(e,t,i)=>{var n=i(8764).Buffer,o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function r(e){if(n.isBuffer(e))return e;var t="function"==typeof n.alloc&&"function"==typeof n.from;if("number"==typeof e)return t?n.alloc(e):new n(e);if("string"==typeof e)return t?n.from(e):new n(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function a(e,t){e=r(e),n.isBuffer(t)&&(t=t.readUInt32BE(0));for(var i=~t,a=0;a<e.length;a++)i=o[255&(i^e[a])]^i>>>8;return~i}function s(){return function(e){var t=r(4);return t.writeInt32BE(e,0),t}(a.apply(null,arguments))}"undefined"!=typeof Int32Array&&(o=new Int32Array(o)),s.signed=function(){return a.apply(null,arguments)},s.unsigned=function(){return a.apply(null,arguments)>>>0},e.exports=s},8764:(e,t,i)=>{const n=i(9742),o=i(645),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,i)}function l(e,t,i){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const i=0|m(e,t);let n=s(i);const o=n.write(e,t);return o!==i&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return u(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return u(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return u(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,i);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),i=s(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return h(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),i=s(t);for(let n=0;n<t;n+=1)i[n]=255&e[n];return i}function u(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return $(e).length;default:if(o)return n?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,i){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return z(this,t,i);case"utf8":case"utf-8":return E(this,t,i);case"ascii":return S(this,t,i);case"latin1":case"binary":return I(this,t,i);case"base64":return k(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function F(e,t,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),X(i=+i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,i,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):b(e,[t],i,n,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,i,n,o){let r,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,i/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let n=-1;for(r=i;r<s;r++)if(l(e,r)===l(t,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===c)return n*a}else-1!==n&&(r-=r-n),n=-1}else for(i+c>s&&(i=s-c),r=i;r>=0;r--){let i=!0;for(let n=0;n<c;n++)if(l(e,r+n)!==l(t,n)){i=!1;break}if(i)return r}return-1}function v(e,t,i,n){i=Number(i)||0;const o=e.length-i;n?(n=Number(n))>o&&(n=o):n=o;const r=t.length;let a;for(n>r/2&&(n=r/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(X(n))return a;e[i+a]=n}return a}function y(e,t,i,n){return Z(G(t,e.length-i),e,i,n)}function _(e,t,i,n){return Z(function(e){const t=[];for(let i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function C(e,t,i,n){return Z($(t),e,i,n)}function x(e,t,i,n){return Z(function(e,t){let i,n,o;const r=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),n=i>>8,o=i%256,r.push(o),r.push(n);return r}(t,e.length-i),e,i,n)}function k(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function E(e,t,i){i=Math.min(e.length,i);const n=[];let o=t;for(;o<i;){const t=e[o];let r=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=i){let i,n,s,c;switch(a){case 1:t<128&&(r=t);break;case 2:i=e[o+1],128==(192&i)&&(c=(31&t)<<6|63&i,c>127&&(r=c));break;case 3:i=e[o+1],n=e[o+2],128==(192&i)&&128==(192&n)&&(c=(15&t)<<12|(63&i)<<6|63&n,c>2047&&(c<55296||c>57343)&&(r=c));break;case 4:i=e[o+1],n=e[o+2],s=e[o+3],128==(192&i)&&128==(192&n)&&128==(192&s)&&(c=(15&t)<<18|(63&i)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(r=c))}}null===r?(r=65533,a=1):r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r),o+=a}return function(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=N));return i}(n)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,i){return l(e,t,i)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,i){return function(e,t,i){return h(e),e<=0?s(e):void 0!==t?"string"==typeof i?s(e).fill(t,i):s(e).fill(t):s(e)}(e,t,i)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let o=0,r=Math.min(i,n);o<r;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const n=c.allocUnsafe(t);let o=0;for(i=0;i<e.length;++i){let t=e[i];if(K(t,Uint8Array))o+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(e,t,i,n,o){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=i)return 0;if(n>=o)return-1;if(t>=i)return 1;if(this===e)return 0;let r=(o>>>=0)-(n>>>=0),a=(i>>>=0)-(t>>>=0);const s=Math.min(r,a),l=this.slice(n,o),h=e.slice(t,i);for(let e=0;e<s;++e)if(l[e]!==h[e]){r=l[e],a=h[e];break}return r<a?-1:a<r?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return F(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return F(this,e,t,i,!1)},c.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}const o=this.length-t;if((void 0===i||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let r=!1;for(;;)switch(n){case"hex":return v(this,e,t,i);case"utf8":case"utf-8":return y(this,e,t,i);case"ascii":case"latin1":case"binary":return _(this,e,t,i);case"base64":return C(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const N=4096;function S(e,t,i){let n="";i=Math.min(e.length,i);for(let o=t;o<i;++o)n+=String.fromCharCode(127&e[o]);return n}function I(e,t,i){let n="";i=Math.min(e.length,i);for(let o=t;o<i;++o)n+=String.fromCharCode(e[o]);return n}function z(e,t,i){const n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);let o="";for(let n=t;n<i;++n)o+=Y[e[n]];return o}function D(e,t,i){const n=e.slice(t,i);let o="";for(let e=0;e<n.length-1;e+=2)o+=String.fromCharCode(n[e]+256*n[e+1]);return o}function A(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,i,n,o,r){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function T(e,t,i,n,o){U(t,n,o,e,i,7);let r=Number(t&BigInt(4294967295));e[i++]=r,r>>=8,e[i++]=r,r>>=8,e[i++]=r,r>>=8,e[i++]=r;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a,i}function R(e,t,i,n,o){U(t,n,o,e,i,7);let r=Number(t&BigInt(4294967295));e[i+7]=r,r>>=8,e[i+6]=r,r>>=8,e[i+5]=r,r>>=8,e[i+4]=r;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=a,a>>=8,e[i+2]=a,a>>=8,e[i+1]=a,a>>=8,e[i]=a,i+8}function L(e,t,i,n,o,r){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function B(e,t,i,n,r){return t=+t,i>>>=0,r||L(e,0,i,4),o.write(e,t,i,n,23,4),i+4}function H(e,t,i,n,r){return t=+t,i>>>=0,r||L(e,0,i,8),o.write(e,t,i,n,52,8),i+8}c.prototype.slice=function(e,t){const i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||A(e,t,this.length);let n=this[e],o=1,r=0;for(;++r<t&&(o*=256);)n+=this[e+r]*o;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||A(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){V(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||j(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+i*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){V(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||j(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+i;return(BigInt(n)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||A(e,t,this.length);let n=this[e],o=1,r=0;for(;++r<t&&(o*=256);)n+=this[e+r]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||A(e,t,this.length);let n=t,o=1,r=this[e+--n];for(;n>0&&(o*=256);)r+=this[e+--n]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);const i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);const i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){V(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||j(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){V(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||j(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+i)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||M(this,e,t,i,Math.pow(2,8*i)-1,0);let o=1,r=0;for(this[t]=255&e;++r<i&&(o*=256);)this[t+r]=e/o&255;return t+i},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||M(this,e,t,i,Math.pow(2,8*i)-1,0);let o=i-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+i},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return T(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*i-1);M(this,e,t,i,n-1,-n)}let o=0,r=1,a=0;for(this[t]=255&e;++o<i&&(r*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/r|0)-a&255;return t+i},c.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*i-1);M(this,e,t,i,n-1,-n)}let o=i-1,r=1,a=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/r|0)-a&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return T(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,i){return B(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return B(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return H(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return H(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);const o=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),o},c.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;let o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{const r=c.isBuffer(e)?e:c.from(e,n),a=r.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=r[o%a]}return this};const O={};function P(e,t,i){O[e]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",i=e.length;const n="-"===e[0]?1:0;for(;i>=n+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}function U(e,t,i,n,o,r){if(e>i||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=r>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(r+1)}${n}`:`>= -(2${n} ** ${8*(r+1)-1}${n}) and < 2 ** ${8*(r+1)-1}${n}`:`>= ${t}${n} and <= ${i}${n}`,new O.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,i){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+i]||j(t,e.length-(i+1))}(n,o,r)}function V(e,t){if("number"!=typeof e)throw new O.ERR_INVALID_ARG_TYPE(t,"number",e)}function j(e,t,i){if(Math.floor(e)!==e)throw V(e,i),new O.ERR_OUT_OF_RANGE(i||"offset","an integer",e);if(t<0)throw new O.ERR_BUFFER_OUT_OF_BOUNDS;throw new O.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}P("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),P("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),P("ERR_OUT_OF_RANGE",(function(e,t,i){let n=`The value of "${e}" is out of range.`,o=i;return Number.isInteger(i)&&Math.abs(i)>2**32?o=q(String(i)):"bigint"==typeof i&&(o=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(o=q(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function G(e,t){let i;t=t||1/0;const n=e.length;let o=null;const r=[];for(let a=0;a<n;++a){if(i=e.charCodeAt(a),i>55295&&i<57344){if(!o){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&r.push(239,191,189);continue}o=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function $(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,i,n){let o;for(o=0;o<n&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){const n=16*i;for(let o=0;o<16;++o)t[n+o]=e[i]+e[o]}return t}();function Q(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},4693:e=>{var t={array:function(e){var t=0,i=0,n=[0,1,3,7,15,31,63,127,255];return function(o){for(var r=0;o>0;){var a=8-t;o>=a?(r<<=a,r|=n[a]&e[i++],t=0,o-=a):(r<<=o,r|=(e[i]&n[o]<<8-o-t)>>8-o-t,t+=o,o=0)}return r}},simple:function(e){var i,n,o=t.header(e),r=[],a=0;do{-1!=(n=t.decompress(e,o))&&(r.push(n),a+=n.byteLength)}while(-1!=n);i=new Uint8Array(a),a=0;for(var s=0;s<r.length;++s)n=r[s],i.set(n,a),a+=n.byteLength;return i},header:function(e){if(4348520!=e(24))throw"No magic number found";var t=e(8)-48;if(t<1||t>9)throw"Not a BZIP archive";return t},decompress:function(e,t,i){for(var n=9e5,o="",r=0;r<6;r++)o+=e(8).toString(16);if("177245385090"==o)return-1;if("314159265359"!=o)throw"eek not valid bzip data";if(e(32),e(1))throw"unsupported obsolete version";var a=e(24);if(a>n)throw"Initial position larger than buffer size";var s=e(16),c=new Uint8Array(256),l=0;for(r=0;r<16;r++)if(s&1<<15-r){var h=e(16);for(m=0;m<16;m++)h&1<<15-m&&(c[l++]=16*r+m)}var d=e(3);if(d<2||d>6)throw"another error";var f=e(15);if(0==f)throw"meh";var u=[];for(r=0;r<d;r++)u[r]=r;var p=new Uint8Array(32768);for(r=0;r<f;r++){for(var m=0;e(1);m++)if(m>=d)throw"whoops another error";var g=u[m];u.splice(m,1),u.splice(0,0,g),p[r]=g}var w=l+2,F=[];for(m=0;m<d;m++){var b,v,y,_=new Uint8Array(258),C=new Uint8Array(21);for(s=e(5),r=0;r<w;r++){for(;;){if(s<1||s>20)throw"I gave up a while ago on writing error messages";if(!e(1))break;e(1)?s--:s++}_[r]=s}for(b=v=_[0],r=1;r<w;r++)_[r]>v?v=_[r]:_[r]<b&&(b=_[r]);(y=F[m]={}).permute=new Uint32Array(258),y.limit=new Uint32Array(21),y.base=new Uint32Array(21),y.minLen=b,y.maxLen=v;var x=y.base.subarray(1),k=y.limit.subarray(1),E=0;for(r=b;r<=v;r++)for(s=0;s<w;s++)_[s]==r&&(y.permute[E++]=s);for(r=b;r<=v;r++)C[r]=k[r]=0;for(r=0;r<w;r++)C[_[r]]++;for(E=s=0,r=b;r<v;r++)E+=C[r],k[r]=E-1,E<<=1,x[r+1]=E-(s+=C[r]);k[v]=E+C[v]-1,x[b]=0}var N,S,I,z=new Uint32Array(256);for(r=0;r<256;r++)u[r]=r;N=S=w=I=0;for(var D=new Uint32Array(n);;){if(!w--){if(w=49,I>=f)throw"meow i'm a kitty, that's an error";x=(y=F[p[I++]]).base.subarray(1),k=y.limit.subarray(1)}for(m=e(r=y.minLen);;){if(r>y.maxLen)throw"rawr i'm a dinosaur";if(m<=k[r])break;r++,m=m<<1|e(1)}if((m-=x[r])<0||m>=258)throw"moo i'm a cow";var A=y.permute[m];if(0!=A&&1!=A){if(N){if(N=0,S+s>=n)throw"Boom.";for(z[g=c[u[0]]]+=s;s--;)D[S++]=g}if(A>l)break;if(S>=n)throw"I can't think of anything. Error";g=u[r=A-1],u.splice(r,1),u.splice(0,0,g),z[g=c[g]]++,D[S++]=g}else N||(N=1,s=0),s+=0==A?N:2*N,N<<=1}if(a<0||a>=S)throw"I'm a monkey and I'm throwing something at someone, namely you";for(m=0,r=0;r<256;r++)h=m+z[r],z[r]=m,m=h;for(r=0;r<S;r++)D[z[g=255&D[r]]]|=r<<8,z[g]++;var M=0,T=0,R=0;S&&(T=255&(M=D[a]),M>>=8,R=-1);var L,B,H,O=new Uint8Array(n),P=0;for(i||(i=1/0);S;){for(S--,B=T,T=255&(M=D[M]),M>>=8,3==R++?(L=T,H=B,T=-1):(L=1,H=T);L--;)if(O[P++]=H,! --i)return O;T!=B&&(R=0)}return O.subarray(0,P)}};e.exports=t},487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t},bytesToString:function(e){for(var t=[],i=0;i<e.length;i++)t.push(String.fromCharCode(e[i]));return t.join("")}}};e.exports=t},1012:e=>{var t,i;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],i=0,n=0;i<e.length;i++,n+=8)t[n>>>5]|=e[i]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],i=0;i<32*e.length;i+=8)t.push(e[i>>>5]>>>24-i%32&255);return t},bytesToHex:function(e){for(var t=[],i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t},bytesToBase64:function(e){for(var i=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],r=0;r<4;r++)8*n+6*r<=8*e.length?i.push(t.charAt(o>>>6*(3-r)&63)):i.push("=");return i.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&i.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return i}},e.exports=i},2949:(e,t,i)=>{i.r(t),i.d(t,{BlobFile:()=>l,LocalFile:()=>o(),RemoteFile:()=>s,fromUrl:()=>h,open:()=>d});var n=i(7067),o=i.n(n),r=i(8764);const a="undefined"!=typeof window?window:"undefined"!=typeof self?self:{fetch:void 0};class s{constructor(e,t={}){this.baseOverrides={},this.url=e;const i=t.fetch||a.fetch&&a.fetch.bind(a);if(!i)throw new TypeError("no fetch function supplied, and none found in global environment");t.overrides&&(this.baseOverrides=t.overrides),this.fetchImplementation=i}async getBufferFromResponse(e){if("function"==typeof e.buffer)return e.buffer();if("function"==typeof e.arrayBuffer){const t=await e.arrayBuffer();return r.Buffer.from(t)}throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}async fetch(e,t){let i;try{i=await this.fetchImplementation(e,t)}catch(n){if(!`${n}`.includes("Failed to fetch"))throw n;console.warn(`generic-filehandle: refetching ${e} to attempt to work around chrome CORS header caching bug`),i=await this.fetchImplementation(e,{...t,cache:"reload"})}return i}async read(e,t=0,i,n=0,o={}){const{headers:r={},signal:a,overrides:s={}}=o;i<1/0?r.range=`bytes=${n}-${n+i}`:i===1/0&&0!==n&&(r.range=`bytes=${n}-`);const c={...this.baseOverrides,...s,headers:{...r,...s.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:a},l=await this.fetch(this.url,c);if(!l.ok)throw new Error(`HTTP ${l.status} ${l.statusText} ${this.url}`);if(200===l.status&&0===n||206===l.status){const n=await this.getBufferFromResponse(l),o=n.copy(e,t,0,Math.min(i,n.length)),r=l.headers.get("content-range"),a=/\/(\d+)$/.exec(r||"");return a&&a[1]&&(this._stat={size:parseInt(a[1],10)}),{bytesRead:o,buffer:e}}if(200===l.status)throw new Error("${this.url} fetch returned status 200, expected 206");throw new Error(`HTTP ${l.status} fetching ${this.url}`)}async readFile(e={}){let t,i;"string"==typeof e?(t=e,i={}):(t=e.encoding,i=e,delete i.encoding);const{headers:n={},signal:o,overrides:r={}}=i,a={headers:n,method:"GET",redirect:"follow",mode:"cors",signal:o,...this.baseOverrides,...r},s=await this.fetch(this.url,a);if(!s)throw new Error("generic-filehandle failed to fetch");if(200!==s.status)throw Object.assign(new Error(`HTTP ${s.status} fetching ${this.url}`),{status:s.status});if("utf8"===t)return s.text();if(t)throw new Error(`unsupported encoding: ${t}`);return this.getBufferFromResponse(s)}async stat(){if(!this._stat){const e=r.Buffer.allocUnsafe(10);if(await this.read(e,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}function c(e){const t=new FileReader;return new Promise(((i,n)=>{t.onerror=()=>{t.abort(),n(new Error("problem reading blob"))},t.onabort=()=>{n(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&"string"!=typeof t.result?i(t.result):n(new Error("unknown error reading blob"))},t.readAsArrayBuffer(e)}))}class l{constructor(e){this.blob=e,this.size=e.size}async read(e,t=0,i,n=0){if(!i)return{bytesRead:0,buffer:e};const o=n,a=o+i,s=await c(this.blob.slice(o,a)),l=r.Buffer.from(s);return{bytesRead:l.copy(e,t),buffer:l}}async readFile(e){let t;if(t="string"==typeof e?e:e&&e.encoding,"utf8"===t)return function(e){const t=new FileReader;return new Promise(((i,n)=>{t.onerror=()=>{t.abort(),n(new Error("problem reading blob"))},t.onabort=()=>{n(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&"string"==typeof t.result?i(t.result):n(new Error("unknown error reading blob"))},t.readAsText(e)}))}(this.blob);if(t)throw new Error(`unsupported encoding: ${t}`);const i=await c(this.blob);return r.Buffer.from(i)}async stat(){return{size:this.size}}async close(){}}function h(e,t={}){return new s(e,t)}function d(e,t,i,n={}){if(void 0!==i)return i;if(void 0!==e)return h(e,n);if(void 0!==t)return new(o())(t,n);throw new Error("no url, path, or filehandle provided, cannot open")}},645:(e,t)=>{t.read=function(e,t,i,n,o){var r,a,s=8*o-n-1,c=(1<<s)-1,l=c>>1,h=-7,d=i?o-1:0,f=i?-1:1,u=e[t+d];for(d+=f,r=u&(1<<-h)-1,u>>=-h,h+=s;h>0;r=256*r+e[t+d],d+=f,h-=8);for(a=r&(1<<-h)-1,r>>=-h,h+=n;h>0;a=256*a+e[t+d],d+=f,h-=8);if(0===r)r=1-l;else{if(r===c)return a?NaN:1/0*(u?-1:1);a+=Math.pow(2,n),r-=l}return(u?-1:1)*a*Math.pow(2,r-n)},t.write=function(e,t,i,n,o,r){var a,s,c,l=8*r-o-1,h=(1<<l)-1,d=h>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:r-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=h?(s=0,a=h):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[i+u]=255&s,u+=p,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[i+u]=255&a,u+=p,a/=256,l-=8);e[i+u-p]|=128*m}},8738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},3720:e=>{e.exports=i;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function i(e,t,i){this.low=0|e,this.high=0|t,this.unsigned=!!i}function n(e){return!0===(e&&e.__isLong__)}i.prototype.__isLong__,Object.defineProperty(i.prototype,"__isLong__",{value:!0}),i.isLong=n;var o={},r={};function a(e,t){var i,n,a;return t?(a=0<=(e>>>=0)&&e<256)&&(n=r[e])?n:(i=c(e,(0|e)<0?-1:0,!0),a&&(r[e]=i),i):(a=-128<=(e|=0)&&e<128)&&(n=o[e])?n:(i=c(e,e<0?-1:0,!1),a&&(o[e]=i),i)}function s(e,t){if(isNaN(e))return t?w:g;if(t){if(e<0)return w;if(e>=u)return _}else{if(e<=-p)return C;if(e+1>=p)return y}return e<0?s(-e,t).neg():c(e%f|0,e/f|0,t)}function c(e,t,n){return new i(e,t,n)}i.fromInt=a,i.fromNumber=s,i.fromBits=c;var l=Math.pow;function h(e,t,i){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(i=t,t=!1):t=!!t,(i=i||10)<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return h(e.substring(1),t,i).neg();for(var o=s(l(i,8)),r=g,a=0;a<e.length;a+=8){var c=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+c),i);if(c<8){var f=s(l(i,c));r=r.mul(f).add(s(d))}else r=(r=r.mul(o)).add(s(d))}return r.unsigned=t,r}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?h(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}i.fromString=h,i.fromValue=d;var f=4294967296,u=f*f,p=u/2,m=a(1<<24),g=a(0);i.ZERO=g;var w=a(0,!0);i.UZERO=w;var F=a(1);i.ONE=F;var b=a(1,!0);i.UONE=b;var v=a(-1);i.NEG_ONE=v;var y=c(-1,2147483647,!1);i.MAX_VALUE=y;var _=c(-1,-1,!0);i.MAX_UNSIGNED_VALUE=_;var C=c(0,-2147483648,!1);i.MIN_VALUE=C;var x=i.prototype;x.toInt=function(){return this.unsigned?this.low>>>0:this.low},x.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},x.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=s(e),i=this.div(t),n=i.mul(t).sub(this);return i.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=s(l(e,6),this.unsigned),r=this,a="";;){var c=r.div(o),h=(r.sub(c.mul(o)).toInt()>>>0).toString(e);if((r=c).isZero())return h+a;for(;h.length<6;)h="0"+h;a=""+h+a}},x.getHighBits=function(){return this.high},x.getHighBitsUnsigned=function(){return this.high>>>0},x.getLowBits=function(){return this.low},x.getLowBitsUnsigned=function(){return this.low>>>0},x.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},x.isZero=function(){return 0===this.high&&0===this.low},x.eqz=x.isZero,x.isNegative=function(){return!this.unsigned&&this.high<0},x.isPositive=function(){return this.unsigned||this.high>=0},x.isOdd=function(){return!(1&~this.low)},x.isEven=function(){return!(1&this.low)},x.equals=function(e){return n(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},x.eq=x.equals,x.notEquals=function(e){return!this.eq(e)},x.neq=x.notEquals,x.ne=x.notEquals,x.lessThan=function(e){return this.comp(e)<0},x.lt=x.lessThan,x.lessThanOrEqual=function(e){return this.comp(e)<=0},x.lte=x.lessThanOrEqual,x.le=x.lessThanOrEqual,x.greaterThan=function(e){return this.comp(e)>0},x.gt=x.greaterThan,x.greaterThanOrEqual=function(e){return this.comp(e)>=0},x.gte=x.greaterThanOrEqual,x.ge=x.greaterThanOrEqual,x.compare=function(e){if(n(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},x.comp=x.compare,x.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(F)},x.neg=x.negate,x.add=function(e){n(e)||(e=d(e));var t=this.high>>>16,i=65535&this.high,o=this.low>>>16,r=65535&this.low,a=e.high>>>16,s=65535&e.high,l=e.low>>>16,h=0,f=0,u=0,p=0;return u+=(p+=r+(65535&e.low))>>>16,f+=(u+=o+l)>>>16,h+=(f+=i+s)>>>16,h+=t+a,c((u&=65535)<<16|(p&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},x.subtract=function(e){return n(e)||(e=d(e)),this.add(e.neg())},x.sub=x.subtract,x.multiply=function(e){if(this.isZero())return g;if(n(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(C))return e.isOdd()?C:g;if(e.eq(C))return this.isOdd()?C:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,o=65535&this.high,r=this.low>>>16,a=65535&this.low,l=e.high>>>16,h=65535&e.high,f=e.low>>>16,u=65535&e.low,p=0,w=0,F=0,b=0;return F+=(b+=a*u)>>>16,w+=(F+=r*u)>>>16,F&=65535,w+=(F+=a*f)>>>16,p+=(w+=o*u)>>>16,w&=65535,p+=(w+=r*f)>>>16,w&=65535,p+=(w+=a*h)>>>16,p+=i*u+o*f+r*h+a*l,c((F&=65535)<<16|(b&=65535),(p&=65535)<<16|(w&=65535),this.unsigned)},x.mul=x.multiply,x.divide=function(e){if(n(e)||(e=d(e)),e.isZero())throw Error("division by zero");var i,o,r;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?w:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return w;if(e.gt(this.shru(1)))return b;r=w}else{if(this.eq(C))return e.eq(F)||e.eq(v)?C:e.eq(C)?F:(i=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?F:v:(o=this.sub(e.mul(i)),r=i.add(o.div(e)));if(e.eq(C))return this.unsigned?w:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=g}for(o=this;o.gte(e);){i=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),h=a<=48?1:l(2,a-48),f=s(i),u=f.mul(e);u.isNegative()||u.gt(o);)u=(f=s(i-=h,this.unsigned)).mul(e);f.isZero()&&(f=F),r=r.add(f),o=o.sub(u)}return r},x.div=x.divide,x.modulo=function(e){return n(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},x.mod=x.modulo,x.rem=x.modulo,x.not=function(){return c(~this.low,~this.high,this.unsigned)},x.and=function(e){return n(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},x.or=function(e){return n(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},x.xor=function(e){return n(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},x.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},x.shl=x.shiftLeft,x.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},x.shr=x.shiftRight,x.shiftRightUnsigned=function(e){if(n(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},x.shru=x.shiftRightUnsigned,x.shr_u=x.shiftRightUnsigned,x.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},x.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},x.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},x.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},x.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},i.fromBytes=function(e,t,n){return n?i.fromBytesLE(e,t):i.fromBytesBE(e,t)},i.fromBytesLE=function(e,t){return new i(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},i.fromBytesBE=function(e,t){return new i(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},2568:(e,t,i)=>{var n,o,r,a,s;n=i(1012),o=i(487).utf8,r=i(8738),a=i(487).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):o.stringToBytes(e):r(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var i=n.bytesToWords(e),c=8*e.length,l=1732584193,h=-271733879,d=-1732584194,f=271733878,u=0;u<i.length;u++)i[u]=16711935&(i[u]<<8|i[u]>>>24)|4278255360&(i[u]<<24|i[u]>>>8);i[c>>>5]|=128<<c%32,i[14+(c+64>>>9<<4)]=c;var p=s._ff,m=s._gg,g=s._hh,w=s._ii;for(u=0;u<i.length;u+=16){var F=l,b=h,v=d,y=f;l=p(l,h,d,f,i[u+0],7,-680876936),f=p(f,l,h,d,i[u+1],12,-389564586),d=p(d,f,l,h,i[u+2],17,606105819),h=p(h,d,f,l,i[u+3],22,-1044525330),l=p(l,h,d,f,i[u+4],7,-176418897),f=p(f,l,h,d,i[u+5],12,1200080426),d=p(d,f,l,h,i[u+6],17,-1473231341),h=p(h,d,f,l,i[u+7],22,-45705983),l=p(l,h,d,f,i[u+8],7,1770035416),f=p(f,l,h,d,i[u+9],12,-1958414417),d=p(d,f,l,h,i[u+10],17,-42063),h=p(h,d,f,l,i[u+11],22,-1990404162),l=p(l,h,d,f,i[u+12],7,1804603682),f=p(f,l,h,d,i[u+13],12,-40341101),d=p(d,f,l,h,i[u+14],17,-1502002290),l=m(l,h=p(h,d,f,l,i[u+15],22,1236535329),d,f,i[u+1],5,-165796510),f=m(f,l,h,d,i[u+6],9,-1069501632),d=m(d,f,l,h,i[u+11],14,643717713),h=m(h,d,f,l,i[u+0],20,-373897302),l=m(l,h,d,f,i[u+5],5,-701558691),f=m(f,l,h,d,i[u+10],9,38016083),d=m(d,f,l,h,i[u+15],14,-660478335),h=m(h,d,f,l,i[u+4],20,-405537848),l=m(l,h,d,f,i[u+9],5,568446438),f=m(f,l,h,d,i[u+14],9,-1019803690),d=m(d,f,l,h,i[u+3],14,-187363961),h=m(h,d,f,l,i[u+8],20,1163531501),l=m(l,h,d,f,i[u+13],5,-1444681467),f=m(f,l,h,d,i[u+2],9,-51403784),d=m(d,f,l,h,i[u+7],14,1735328473),l=g(l,h=m(h,d,f,l,i[u+12],20,-1926607734),d,f,i[u+5],4,-378558),f=g(f,l,h,d,i[u+8],11,-2022574463),d=g(d,f,l,h,i[u+11],16,1839030562),h=g(h,d,f,l,i[u+14],23,-35309556),l=g(l,h,d,f,i[u+1],4,-1530992060),f=g(f,l,h,d,i[u+4],11,1272893353),d=g(d,f,l,h,i[u+7],16,-155497632),h=g(h,d,f,l,i[u+10],23,-1094730640),l=g(l,h,d,f,i[u+13],4,681279174),f=g(f,l,h,d,i[u+0],11,-358537222),d=g(d,f,l,h,i[u+3],16,-722521979),h=g(h,d,f,l,i[u+6],23,76029189),l=g(l,h,d,f,i[u+9],4,-640364487),f=g(f,l,h,d,i[u+12],11,-421815835),d=g(d,f,l,h,i[u+15],16,530742520),l=w(l,h=g(h,d,f,l,i[u+2],23,-995338651),d,f,i[u+0],6,-198630844),f=w(f,l,h,d,i[u+7],10,1126891415),d=w(d,f,l,h,i[u+14],15,-1416354905),h=w(h,d,f,l,i[u+5],21,-57434055),l=w(l,h,d,f,i[u+12],6,1700485571),f=w(f,l,h,d,i[u+3],10,-1894986606),d=w(d,f,l,h,i[u+10],15,-1051523),h=w(h,d,f,l,i[u+1],21,-2054922799),l=w(l,h,d,f,i[u+8],6,1873313359),f=w(f,l,h,d,i[u+15],10,-30611744),d=w(d,f,l,h,i[u+6],15,-1560198380),h=w(h,d,f,l,i[u+13],21,1309151649),l=w(l,h,d,f,i[u+4],6,-145523070),f=w(f,l,h,d,i[u+11],10,-1120210379),d=w(d,f,l,h,i[u+2],15,718787259),h=w(h,d,f,l,i[u+9],21,-343485551),l=l+F>>>0,h=h+b>>>0,d=d+v>>>0,f=f+y>>>0}return n.endian([l,h,d,f])})._ff=function(e,t,i,n,o,r,a){var s=e+(t&i|~t&n)+(o>>>0)+a;return(s<<r|s>>>32-r)+t},s._gg=function(e,t,i,n,o,r,a){var s=e+(t&n|i&~n)+(o>>>0)+a;return(s<<r|s>>>32-r)+t},s._hh=function(e,t,i,n,o,r,a){var s=e+(t^i^n)+(o>>>0)+a;return(s<<r|s>>>32-r)+t},s._ii=function(e,t,i,n,o,r,a){var s=e+(i^(t|~n))+(o>>>0)+a;return(s<<r|s>>>32-r)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var i=n.wordsToBytes(s(e,t));return t&&t.asBytes?i:t&&t.asString?a.bytesToString(i):n.bytesToHex(i)}},9591:(e,t,i)=>{var n={};(0,i(4236).assign)(n,i(4555),i(8843),i(1619)),e.exports=n},4555:(e,t,i)=>{var n=i(405),o=i(4236),r=i(9373),a=i(8898),s=i(2292),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(a[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var h;if(h="string"==typeof t.dictionary?r.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(i=n.deflateSetDictionary(this.strm,h)))throw new Error(a[i]);this._dict_set=!0}}function h(e,t){var i=new l(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}l.prototype.push=function(e,t){var i,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=r.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(l),s.next_out=0,s.avail_out=l),1!==(i=n.deflate(s,a))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(r.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==a||(this.onEnd(0),s.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=h,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,h(e,t)}},8843:(e,t,i)=>{var n=i(7948),o=i(4236),r=i(9373),a=i(1619),s=i(8898),c=i(2292),l=i(2401),h=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(s[i]);if(this.header=new l,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=r.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=n.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[i])}function f(e,t){var i=new d(t);if(i.push(e,!0),i.err)throw i.msg||s[i.err];return i.result}d.prototype.push=function(e,t){var i,s,c,l,d,f=this.strm,u=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=r.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(u),f.next_out=0,f.avail_out=u),(i=n.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(i=n.inflateSetDictionary(this.strm,p)),i===a.Z_BUF_ERROR&&!0===m&&(i=a.Z_OK,m=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&i!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=r.utf8border(f.output,f.next_out),l=f.next_out-c,d=r.buf2string(f.output,c),f.next_out=l,f.avail_out=u-l,l&&o.arraySet(f.output,f.output,c,l,0),this.onData(d)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},4236:(e,t)=>{var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var o in i)n(i,o)&&(e[o]=i[o])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,i,n,o){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),o);else for(var r=0;r<n;r++)e[o+r]=t[i+r]},flattenChunks:function(e){var t,i,n,o,r,a;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(a=new Uint8Array(n),o=0,t=0,i=e.length;t<i;t++)r=e[t],a.set(r,o),o+=r.length;return a}},r={arraySet:function(e,t,i,n,o){for(var r=0;r<n;r++)e[o+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(i)},9373:(e,t,i)=>{var n=i(4236),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&r||!e.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}a[254]=a[254]=1,t.string2buf=function(e){var t,i,o,r,a,s=e.length,c=0;for(r=0;r<s;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(o-56320),r++),c+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(c),a=0,r=0;a<c;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(o-56320),r++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,o=t.length;i<o;i++)t[i]=e.charCodeAt(i);return t},t.buf2string=function(e,t){var i,n,o,r,s=t||e.length,l=new Array(2*s);for(n=0,i=0;i<s;)if((o=e[i++])<128)l[n++]=o;else if((r=a[o])>4)l[n++]=65533,i+=r-1;else{for(o&=2===r?31:3===r?15:7;r>1&&i<s;)o=o<<6|63&e[i++],r--;r>1?l[n++]=65533:o<65536?l[n++]=o:(o-=65536,l[n++]=55296|o>>10&1023,l[n++]=56320|1023&o)}return c(l,n)},t.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+a[e[i]]>t?i:t}},6069:e=>{e.exports=function(e,t,i,n){for(var o=65535&e,r=e>>>16&65535,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{r=r+(o=o+t[n++]|0)|0}while(--a);o%=65521,r%=65521}return o|r<<16}},1619:e=>{e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{var t=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,i,n,o){var r=t,a=o+n;e^=-1;for(var s=o;s<a;s++)e=e>>>8^r[255&(e^i[s])];return~e}},405:(e,t,i)=>{var n,o=i(4236),r=i(342),a=i(6069),s=i(2869),c=i(8898),l=-2,h=258,d=262,f=103,u=113,p=666;function m(e,t){return e.msg=c[t],t}function g(e){return(e<<1)-(e>4?9:0)}function w(e){for(var t=e.length;--t>=0;)e[t]=0}function F(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(o.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function b(e,t){r._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function y(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _(e,t,i,n){var r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,o.arraySet(t,e.input,e.next_in,r,i),1===e.state.wrap?e.adler=a(e.adler,t,r,i):2===e.state.wrap&&(e.adler=s(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)}function C(e,t){var i,n,o=e.max_chain_length,r=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,l=e.window,f=e.w_mask,u=e.prev,p=e.strstart+h,m=l[r+a-1],g=l[r+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(i=t)+a]===g&&l[i+a-1]===m&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<p);if(n=h-(p-r),r=p-h,n>a){if(e.match_start=t,a=n,n>=s)break;m=l[r+a-1],g=l[r+a]}}}while((t=u[t&f])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead}function x(e){var t,i,n,r,a,s=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-d)){o.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=s?n-s:0}while(--i);t=i=s;do{n=e.prev[--t],e.prev[t]=n>=s?n-s:0}while(--i);r+=s}if(0===e.strm.avail_in)break;if(i=_(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=i,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function k(e,t){for(var i,n;;){if(e.lookahead<d){if(x(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-d&&(e.match_length=C(e,i)),e.match_length>=3)if(n=r._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t){for(var i,n,o;;){if(e.lookahead<d){if(x(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-d&&(e.match_length=C(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,n=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=r._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function N(e,t,i,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=o}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),w(this.dyn_ltree),w(this.dyn_dtree),w(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),w(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),w(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:u,e.adler=2===t.wrap?0:1,t.last_flush=0,r._tr_init(t),0):m(e,l)}function z(e){var t,i=I(e);return 0===i&&((t=e.state).window_size=2*t.w_size,w(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),i}function D(e,t,i,n,r,a){if(!e)return l;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==i||n<8||n>15||t<0||t>9||a<0||a>4)return m(e,l);8===n&&(n=9);var c=new S;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=r+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new o.Buf8(2*c.w_size),c.head=new o.Buf16(c.hash_size),c.prev=new o.Buf16(c.w_size),c.lit_bufsize=1<<r+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new o.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=i,z(e)}n=[new N(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(x(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new N(4,4,8,4,k),new N(4,5,16,8,k),new N(4,6,32,32,k),new N(4,4,16,16,E),new N(8,16,32,32,E),new N(8,16,128,128,E),new N(8,32,128,256,E),new N(32,128,258,1024,E),new N(32,258,258,4096,E)],t.deflateInit=function(e,t){return D(e,t,8,15,8,0)},t.deflateInit2=D,t.deflateReset=z,t.deflateResetKeep=I,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var i,o,a,c;if(!e||!e.state||t>5||t<0)return e?m(e,l):l;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===p&&4!==t)return m(e,0===e.avail_out?-5:l);if(o.strm=e,i=o.last_flush,o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,v(o,31),v(o,139),v(o,8),o.gzhead?(v(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),v(o,255&o.gzhead.time),v(o,o.gzhead.time>>8&255),v(o,o.gzhead.time>>16&255),v(o,o.gzhead.time>>24&255),v(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),v(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(v(o,255&o.gzhead.extra.length),v(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(v(o,0),v(o,0),v(o,0),v(o,0),v(o,0),v(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),v(o,3),o.status=u);else{var d=8+(o.w_bits-8<<4)<<8;d|=(o.strategy>=2||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(d|=32),d+=31-d%31,o.status=u,y(o,d),0!==o.strstart&&(y(o,e.adler>>>16),y(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),F(e),a=o.pending,o.pending!==o.pending_buf_size));)v(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),F(e),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,v(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),F(e),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,v(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.status=f)}else o.status=f;if(o.status===f&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&F(e),o.pending+2<=o.pending_buf_size&&(v(o,255&e.adler),v(o,e.adler>>8&255),e.adler=0,o.status=u)):o.status=u),0!==o.pending){if(F(e),0===e.avail_out)return o.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(i)&&4!==t)return m(e,-5);if(o.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==o.lookahead||0!==t&&o.status!==p){var _=2===o.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(x(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(o,t):3===o.strategy?function(e,t){for(var i,n,o,a,s=e.window;;){if(e.lookahead<=h){if(x(e),e.lookahead<=h&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[o=e.strstart-1])===s[++o]&&n===s[++o]&&n===s[++o]){a=e.strstart+h;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<a);e.match_length=h-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=r._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(o,t):n[o.level].func(o,t);if(3!==_&&4!==_||(o.status=p),1===_||3===_)return 0===e.avail_out&&(o.last_flush=-1),0;if(2===_&&(1===t?r._tr_align(o):5!==t&&(r._tr_stored_block(o,0,0,!1),3===t&&(w(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),F(e),0===e.avail_out))return o.last_flush=-1,0}return 4!==t?0:o.wrap<=0?1:(2===o.wrap?(v(o,255&e.adler),v(o,e.adler>>8&255),v(o,e.adler>>16&255),v(o,e.adler>>24&255),v(o,255&e.total_in),v(o,e.total_in>>8&255),v(o,e.total_in>>16&255),v(o,e.total_in>>24&255)):(y(o,e.adler>>>16),y(o,65535&e.adler)),F(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==f&&t!==u&&t!==p?m(e,l):(e.state=null,t===u?m(e,-3):0):l},t.deflateSetDictionary=function(e,t){var i,n,r,s,c,h,d,f,u=t.length;if(!e||!e.state)return l;if(2===(s=(i=e.state).wrap)||1===s&&42!==i.status||i.lookahead)return l;for(1===s&&(e.adler=a(e.adler,t,u,0)),i.wrap=0,u>=i.w_size&&(0===s&&(w(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=new o.Buf8(i.w_size),o.arraySet(f,t,u-i.w_size,i.w_size,0),t=f,u=i.w_size),c=e.avail_in,h=e.next_in,d=e.input,e.avail_in=u,e.next_in=0,e.input=t,x(i);i.lookahead>=3;){n=i.strstart,r=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+3-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--r);i.strstart=n,i.lookahead=2,x(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=h,e.input=d,e.avail_in=c,i.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},2401:e=>{e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4264:e=>{e.exports=function(e,t){var i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b,v,y,_,C,x,k,E;i=e.state,n=e.next_in,k=e.input,o=n+(e.avail_in-5),r=e.next_out,E=e.output,a=r-(t-e.avail_out),s=r+(e.avail_out-257),c=i.dmax,l=i.wsize,h=i.whave,d=i.wnext,f=i.window,u=i.hold,p=i.bits,m=i.lencode,g=i.distcode,w=(1<<i.lenbits)-1,F=(1<<i.distbits)-1;e:do{p<15&&(u+=k[n++]<<p,p+=8,u+=k[n++]<<p,p+=8),b=m[u&w];t:for(;;){if(u>>>=v=b>>>24,p-=v,0==(v=b>>>16&255))E[r++]=65535&b;else{if(!(16&v)){if(!(64&v)){b=m[(65535&b)+(u&(1<<v)-1)];continue t}if(32&v){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}y=65535&b,(v&=15)&&(p<v&&(u+=k[n++]<<p,p+=8),y+=u&(1<<v)-1,u>>>=v,p-=v),p<15&&(u+=k[n++]<<p,p+=8,u+=k[n++]<<p,p+=8),b=g[u&F];i:for(;;){if(u>>>=v=b>>>24,p-=v,!(16&(v=b>>>16&255))){if(!(64&v)){b=g[(65535&b)+(u&(1<<v)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(_=65535&b,p<(v&=15)&&(u+=k[n++]<<p,(p+=8)<v&&(u+=k[n++]<<p,p+=8)),(_+=u&(1<<v)-1)>c){e.msg="invalid distance too far back",i.mode=30;break e}if(u>>>=v,p-=v,_>(v=r-a)){if((v=_-v)>h&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(C=0,x=f,0===d){if(C+=l-v,v<y){y-=v;do{E[r++]=f[C++]}while(--v);C=r-_,x=E}}else if(d<v){if(C+=l+d-v,(v-=d)<y){y-=v;do{E[r++]=f[C++]}while(--v);if(C=0,d<y){y-=v=d;do{E[r++]=f[C++]}while(--v);C=r-_,x=E}}}else if(C+=d-v,v<y){y-=v;do{E[r++]=f[C++]}while(--v);C=r-_,x=E}for(;y>2;)E[r++]=x[C++],E[r++]=x[C++],E[r++]=x[C++],y-=3;y&&(E[r++]=x[C++],y>1&&(E[r++]=x[C++]))}else{C=r-_;do{E[r++]=E[C++],E[r++]=E[C++],E[r++]=E[C++],y-=3}while(y>2);y&&(E[r++]=E[C++],y>1&&(E[r++]=E[C++]))}break}}break}}while(n<o&&r<s);n-=y=p>>3,u&=(1<<(p-=y<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<o?o-n+5:5-(n-o),e.avail_out=r<s?s-r+257:257-(r-s),i.hold=u,i.bits=p}},7948:(e,t,i)=>{var n=i(4236),o=i(6069),r=i(2869),a=i(4264),s=i(9241),c=-2,l=12,h=30;function d(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):c}function m(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,p(e))):c}function g(e,t){var i,n;return e?(n=new f,e.state=n,n.window=null,0!==(i=m(e,t))&&(e.state=null),i):c}var w,F,b=!0;function v(e){if(b){var t;for(w=new n.Buf32(512),F=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,F,0,e.work,{bits:5}),b=!1}e.lencode=w,e.lenbits=9,e.distcode=F,e.distbits=5}function y(e,t,i,o){var r,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),o>=a.wsize?(n.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>o&&(r=o),n.arraySet(a.window,t,i-o,r,a.wnext),(o-=r)?(n.arraySet(a.window,t,i-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}t.inflateReset=p,t.inflateReset2=m,t.inflateResetKeep=u,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var i,f,u,p,m,g,w,F,b,_,C,x,k,E,N,S,I,z,D,A,M,T,R,L,B=0,H=new n.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(i=e.state).mode===l&&(i.mode=13),m=e.next_out,u=e.output,w=e.avail_out,p=e.next_in,f=e.input,g=e.avail_in,F=i.hold,b=i.bits,_=g,C=w,T=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;b<16;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if(2&i.wrap&&35615===F){i.check=0,H[0]=255&F,H[1]=F>>>8&255,i.check=r(i.check,H,2,0),F=0,b=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&F)<<8)+(F>>8))%31){e.msg="incorrect header check",i.mode=h;break}if(8!=(15&F)){e.msg="unknown compression method",i.mode=h;break}if(b-=4,M=8+(15&(F>>>=4)),0===i.wbits)i.wbits=M;else if(M>i.wbits){e.msg="invalid window size",i.mode=h;break}i.dmax=1<<M,e.adler=i.check=1,i.mode=512&F?10:l,F=0,b=0;break;case 2:for(;b<16;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if(i.flags=F,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=h;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=h;break}i.head&&(i.head.text=F>>8&1),512&i.flags&&(H[0]=255&F,H[1]=F>>>8&255,i.check=r(i.check,H,2,0)),F=0,b=0,i.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}i.head&&(i.head.time=F),512&i.flags&&(H[0]=255&F,H[1]=F>>>8&255,H[2]=F>>>16&255,H[3]=F>>>24&255,i.check=r(i.check,H,4,0)),F=0,b=0,i.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}i.head&&(i.head.xflags=255&F,i.head.os=F>>8),512&i.flags&&(H[0]=255&F,H[1]=F>>>8&255,i.check=r(i.check,H,2,0)),F=0,b=0,i.mode=5;case 5:if(1024&i.flags){for(;b<16;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}i.length=F,i.head&&(i.head.extra_len=F),512&i.flags&&(H[0]=255&F,H[1]=F>>>8&255,i.check=r(i.check,H,2,0)),F=0,b=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((x=i.length)>g&&(x=g),x&&(i.head&&(M=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,f,p,x,M)),512&i.flags&&(i.check=r(i.check,f,x,p)),g-=x,p+=x,i.length-=x),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===g)break e;x=0;do{M=f[p+x++],i.head&&M&&i.length<65536&&(i.head.name+=String.fromCharCode(M))}while(M&&x<g);if(512&i.flags&&(i.check=r(i.check,f,x,p)),g-=x,p+=x,M)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===g)break e;x=0;do{M=f[p+x++],i.head&&M&&i.length<65536&&(i.head.comment+=String.fromCharCode(M))}while(M&&x<g);if(512&i.flags&&(i.check=r(i.check,f,x,p)),g-=x,p+=x,M)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;b<16;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if(F!==(65535&i.check)){e.msg="header crc mismatch",i.mode=h;break}F=0,b=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=l;break;case 10:for(;b<32;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}e.adler=i.check=d(F),F=0,b=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=m,e.avail_out=w,e.next_in=p,e.avail_in=g,i.hold=F,i.bits=b,2;e.adler=i.check=1,i.mode=l;case l:if(5===t||6===t)break e;case 13:if(i.last){F>>>=7&b,b-=7&b,i.mode=27;break}for(;b<3;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}switch(i.last=1&F,b-=1,3&(F>>>=1)){case 0:i.mode=14;break;case 1:if(v(i),i.mode=20,6===t){F>>>=2,b-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=h}F>>>=2,b-=2;break;case 14:for(F>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if((65535&F)!=(F>>>16^65535)){e.msg="invalid stored block lengths",i.mode=h;break}if(i.length=65535&F,F=0,b=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(x=i.length){if(x>g&&(x=g),x>w&&(x=w),0===x)break e;n.arraySet(u,f,p,x,m),g-=x,p+=x,w-=x,m+=x,i.length-=x;break}i.mode=l;break;case 17:for(;b<14;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if(i.nlen=257+(31&F),F>>>=5,b-=5,i.ndist=1+(31&F),F>>>=5,b-=5,i.ncode=4+(15&F),F>>>=4,b-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=h;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;b<3;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}i.lens[O[i.have++]]=7&F,F>>>=3,b-=3}for(;i.have<19;)i.lens[O[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,R={bits:i.lenbits},T=s(0,i.lens,0,19,i.lencode,0,i.work,R),i.lenbits=R.bits,T){e.msg="invalid code lengths set",i.mode=h;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;S=(B=i.lencode[F&(1<<i.lenbits)-1])>>>16&255,I=65535&B,!((N=B>>>24)<=b);){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if(I<16)F>>>=N,b-=N,i.lens[i.have++]=I;else{if(16===I){for(L=N+2;b<L;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if(F>>>=N,b-=N,0===i.have){e.msg="invalid bit length repeat",i.mode=h;break}M=i.lens[i.have-1],x=3+(3&F),F>>>=2,b-=2}else if(17===I){for(L=N+3;b<L;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}b-=N,M=0,x=3+(7&(F>>>=N)),F>>>=3,b-=3}else{for(L=N+7;b<L;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}b-=N,M=0,x=11+(127&(F>>>=N)),F>>>=7,b-=7}if(i.have+x>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=h;break}for(;x--;)i.lens[i.have++]=M}}if(i.mode===h)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=h;break}if(i.lenbits=9,R={bits:i.lenbits},T=s(1,i.lens,0,i.nlen,i.lencode,0,i.work,R),i.lenbits=R.bits,T){e.msg="invalid literal/lengths set",i.mode=h;break}if(i.distbits=6,i.distcode=i.distdyn,R={bits:i.distbits},T=s(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,R),i.distbits=R.bits,T){e.msg="invalid distances set",i.mode=h;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(g>=6&&w>=258){e.next_out=m,e.avail_out=w,e.next_in=p,e.avail_in=g,i.hold=F,i.bits=b,a(e,C),m=e.next_out,u=e.output,w=e.avail_out,p=e.next_in,f=e.input,g=e.avail_in,F=i.hold,b=i.bits,i.mode===l&&(i.back=-1);break}for(i.back=0;S=(B=i.lencode[F&(1<<i.lenbits)-1])>>>16&255,I=65535&B,!((N=B>>>24)<=b);){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if(S&&!(240&S)){for(z=N,D=S,A=I;S=(B=i.lencode[A+((F&(1<<z+D)-1)>>z)])>>>16&255,I=65535&B,!(z+(N=B>>>24)<=b);){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}F>>>=z,b-=z,i.back+=z}if(F>>>=N,b-=N,i.back+=N,i.length=I,0===S){i.mode=26;break}if(32&S){i.back=-1,i.mode=l;break}if(64&S){e.msg="invalid literal/length code",i.mode=h;break}i.extra=15&S,i.mode=22;case 22:if(i.extra){for(L=i.extra;b<L;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}i.length+=F&(1<<i.extra)-1,F>>>=i.extra,b-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;S=(B=i.distcode[F&(1<<i.distbits)-1])>>>16&255,I=65535&B,!((N=B>>>24)<=b);){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if(!(240&S)){for(z=N,D=S,A=I;S=(B=i.distcode[A+((F&(1<<z+D)-1)>>z)])>>>16&255,I=65535&B,!(z+(N=B>>>24)<=b);){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}F>>>=z,b-=z,i.back+=z}if(F>>>=N,b-=N,i.back+=N,64&S){e.msg="invalid distance code",i.mode=h;break}i.offset=I,i.extra=15&S,i.mode=24;case 24:if(i.extra){for(L=i.extra;b<L;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}i.offset+=F&(1<<i.extra)-1,F>>>=i.extra,b-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=h;break}i.mode=25;case 25:if(0===w)break e;if(x=C-w,i.offset>x){if((x=i.offset-x)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=h;break}x>i.wnext?(x-=i.wnext,k=i.wsize-x):k=i.wnext-x,x>i.length&&(x=i.length),E=i.window}else E=u,k=m-i.offset,x=i.length;x>w&&(x=w),w-=x,i.length-=x;do{u[m++]=E[k++]}while(--x);0===i.length&&(i.mode=21);break;case 26:if(0===w)break e;u[m++]=i.length,w--,i.mode=21;break;case 27:if(i.wrap){for(;b<32;){if(0===g)break e;g--,F|=f[p++]<<b,b+=8}if(C-=w,e.total_out+=C,i.total+=C,C&&(e.adler=i.check=i.flags?r(i.check,u,C,m-C):o(i.check,u,C,m-C)),C=w,(i.flags?F:d(F))!==i.check){e.msg="incorrect data check",i.mode=h;break}F=0,b=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;b<32;){if(0===g)break e;g--,F+=f[p++]<<b,b+=8}if(F!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=h;break}F=0,b=0}i.mode=29;case 29:T=1;break e;case h:T=-3;break e;case 31:return-4;default:return c}return e.next_out=m,e.avail_out=w,e.next_in=p,e.avail_in=g,i.hold=F,i.bits=b,(i.wsize||C!==e.avail_out&&i.mode<h&&(i.mode<27||4!==t))&&y(e,e.output,e.next_out,C-e.avail_out)?(i.mode=31,-4):(_-=e.avail_in,C-=e.avail_out,e.total_in+=_,e.total_out+=C,i.total+=C,i.wrap&&C&&(e.adler=i.check=i.flags?r(i.check,u,C,e.next_out-C):o(i.check,u,C,e.next_out-C)),e.data_type=i.bits+(i.last?64:0)+(i.mode===l?128:0)+(20===i.mode||15===i.mode?256:0),(0===_&&0===C||4===t)&&0===T&&(T=-5),T)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var i;return e&&e.state&&2&(i=e.state).wrap?(i.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?c:11===i.mode&&o(1,t,n,0)!==i.check?-3:y(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},9241:(e,t,i)=>{var n=i(4236),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,c,l,h,d,f){var u,p,m,g,w,F,b,v,y,_=f.bits,C=0,x=0,k=0,E=0,N=0,S=0,I=0,z=0,D=0,A=0,M=null,T=0,R=new n.Buf16(16),L=new n.Buf16(16),B=null,H=0;for(C=0;C<=15;C++)R[C]=0;for(x=0;x<c;x++)R[t[i+x]]++;for(N=_,E=15;E>=1&&0===R[E];E--);if(N>E&&(N=E),0===E)return l[h++]=20971520,l[h++]=20971520,f.bits=1,0;for(k=1;k<E&&0===R[k];k++);for(N<k&&(N=k),z=1,C=1;C<=15;C++)if(z<<=1,(z-=R[C])<0)return-1;if(z>0&&(0===e||1!==E))return-1;for(L[1]=0,C=1;C<15;C++)L[C+1]=L[C]+R[C];for(x=0;x<c;x++)0!==t[i+x]&&(d[L[t[i+x]]++]=x);if(0===e?(M=B=d,F=19):1===e?(M=o,T-=257,B=r,H-=257,F=256):(M=a,B=s,F=-1),A=0,x=0,C=k,w=h,S=N,I=0,m=-1,g=(D=1<<N)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){b=C-I,d[x]<F?(v=0,y=d[x]):d[x]>F?(v=B[H+d[x]],y=M[T+d[x]]):(v=96,y=0),u=1<<C-I,k=p=1<<S;do{l[w+(A>>I)+(p-=u)]=b<<24|v<<16|y}while(0!==p);for(u=1<<C-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,x++,0==--R[C]){if(C===E)break;C=t[i+d[x]]}if(C>N&&(A&g)!==m){for(0===I&&(I=N),w+=k,z=1<<(S=C-I);S+I<E&&!((z-=R[S+I])<=0);)S++,z<<=1;if(D+=1<<S,1===e&&D>852||2===e&&D>592)return 1;l[m=A&g]=N<<24|S<<16|w-h}}return 0!==A&&(l[w+A]=C-I<<24|64<<16),f.bits=N,0}},8898:e=>{e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(e,t,i)=>{var n=i(4236);function o(e){for(var t=e.length;--t>=0;)e[t]=0}var r=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);o(l);var h=new Array(60);o(h);var d=new Array(512);o(d);var f=new Array(256);o(f);var u=new Array(29);o(u);var p,m,g,w=new Array(30);function F(e,t,i,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function v(e){return e<256?d[e]:d[256+(e>>>7)]}function y(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function _(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,y(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function C(e,t,i){_(e,i[2*t],i[2*t+1])}function x(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function k(e,t,i){var n,o,r=new Array(16),a=0;for(n=1;n<=15;n++)r[n]=a=a+i[n-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=x(r[s]++,s))}}function E(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function N(e){e.bi_valid>8?y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function S(e,t,i,n){var o=2*t,r=2*i;return e[o]<e[r]||e[o]===e[r]&&n[t]<=n[i]}function I(e,t,i){for(var n=e.heap[i],o=i<<1;o<=e.heap_len&&(o<e.heap_len&&S(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!S(t,n,e.heap[o],e.depth));)e.heap[i]=e.heap[o],i=o,o<<=1;e.heap[i]=n}function z(e,t,i){var n,o,s,c,l=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],o=e.pending_buf[e.l_buf+l],l++,0===n?C(e,o,t):(C(e,(s=f[o])+256+1,t),0!==(c=r[s])&&_(e,o-=u[s],c),C(e,s=v(--n),i),0!==(c=a[s])&&_(e,n-=w[s],c))}while(l<e.last_lit);C(e,256,t)}function D(e,t){var i,n,o,r=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<c;i++)0!==r[2*i]?(e.heap[++e.heap_len]=l=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)r[2*(o=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=l,i=e.heap_len>>1;i>=1;i--)I(e,r,i);o=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I(e,r,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,r[2*o]=r[2*i]+r[2*n],e.depth[o]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,r[2*i+1]=r[2*n+1]=o,e.heap[1]=o++,I(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,o,r,a,s,c=t.dyn_tree,l=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(r=0;r<=15;r++)e.bl_count[r]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(r=c[2*c[2*(n=e.heap[i])+1]+1]+1)>p&&(r=p,m++),c[2*n+1]=r,n>l||(e.bl_count[r]++,a=0,n>=u&&(a=f[n-u]),s=c[2*n],e.opt_len+=s*(r+a),d&&(e.static_len+=s*(h[2*n+1]+a)));if(0!==m){do{for(r=p-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(r=p;0!==r;r--)for(n=e.bl_count[r];0!==n;)(o=e.heap[--i])>l||(c[2*o+1]!==r&&(e.opt_len+=(r-c[2*o+1])*c[2*o],c[2*o+1]=r),n--)}}(e,t),k(r,l,e.bl_count)}function A(e,t,i){var n,o,r=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)o=a,a=t[2*(n+1)+1],++s<c&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==r&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,r=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4))}function M(e,t,i){var n,o,r=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),n=0;n<=i;n++)if(o=a,a=t[2*(n+1)+1],!(++s<c&&o===a)){if(s<l)do{C(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==r&&(C(e,o,e.bl_tree),s--),C(e,16,e.bl_tree),_(e,s-3,2)):s<=10?(C(e,17,e.bl_tree),_(e,s-3,3)):(C(e,18,e.bl_tree),_(e,s-11,7));s=0,r=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4)}}o(w);var T=!1;function R(e,t,i,o){_(e,0+(o?1:0),3),function(e,t,i){N(e),y(e,i),y(e,~i),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}t._tr_init=function(e){T||(function(){var e,t,i,n,o,c=new Array(16);for(i=0,n=0;n<28;n++)for(u[n]=i,e=0;e<1<<r[n];e++)f[i++]=n;for(f[i-1]=n,o=0,n=0;n<16;n++)for(w[n]=o,e=0;e<1<<a[n];e++)d[o++]=n;for(o>>=7;n<30;n++)for(w[n]=o<<7,e=0;e<1<<a[n]-7;e++)d[256+o++]=n;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,c[8]++;for(;e<=255;)l[2*e+1]=9,e++,c[9]++;for(;e<=279;)l[2*e+1]=7,e++,c[7]++;for(;e<=287;)l[2*e+1]=8,e++,c[8]++;for(k(l,287,c),e=0;e<30;e++)h[2*e+1]=5,h[2*e]=x(e,5);p=new F(l,r,257,286,15),m=new F(h,a,0,30,15),g=new F(new Array(0),s,0,19,7)}(),T=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,E(e)},t._tr_stored_block=R,t._tr_flush_block=function(e,t,i,n){var o,r,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),a=function(e){var t;for(A(e,e.dyn_ltree,e.l_desc.max_code),A(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=o&&(o=r)):o=r=i+5,i+4<=o&&-1!==t?R(e,t,i,n):4===e.strategy||r===o?(_(e,2+(n?1:0),3),z(e,l,h)):(_(e,4+(n?1:0),3),function(e,t,i,n){var o;for(_(e,t-257,5),_(e,i-1,5),_(e,n-4,4),o=0;o<n;o++)_(e,e.bl_tree[2*c[o]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),z(e,e.dyn_ltree,e.dyn_dtree)),E(e),n&&N(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(f[i]+256+1)]++,e.dyn_dtree[2*v(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){_(e,2,3),C(e,256,l),function(e){16===e.bi_valid?(y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},2292:e=>{e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},2587:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,n,o){i=i||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(i);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var h,d,f,u,p=e[l].replace(a,"%20"),m=p.indexOf(n);m>=0?(h=p.substr(0,m),d=p.substr(m+1)):(h=p,d=""),f=decodeURIComponent(h),u=decodeURIComponent(d),t(r,f)?Array.isArray(r[f])?r[f].push(u):r[f]=[r[f],u]:r[f]=u}return r}},2361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,n,o){return i=i||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var r=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return r+encodeURIComponent(t(e))})).join(i):r+encodeURIComponent(t(e[o]))})).join(i):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},7673:(e,t,i)=>{t.decode=t.parse=i(2587),t.encode=t.stringify=i(2361)},1269:e=>{class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}e.exports=t},2511:function(e,t,i){var n;e=i.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof i.g&&i.g;o.global!==o&&o.window!==o&&o.self;var r,a=2147483647,s=36,c=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,u=String.fromCharCode;function p(e){throw RangeError(d[e])}function m(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function g(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+m((e=e.replace(h,".")).split("."),t).join(".")}function w(e){for(var t,i,n=[],o=0,r=e.length;o<r;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<r?56320==(64512&(i=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),o--):n.push(t);return n}function F(e){return m(e,(function(e){var t="";return e>65535&&(t+=u((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+u(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function v(e,t,i){var n=0;for(e=i?f(e/700):e>>1,e+=f(e/t);e>455;n+=s)e=f(e/35);return f(n+36*e/(e+38))}function y(e){var t,i,n,o,r,c,l,h,d,u,m,g=[],w=e.length,b=0,y=128,_=72;for((i=e.lastIndexOf("-"))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&p("not-basic"),g.push(e.charCodeAt(n));for(o=i>0?i+1:0;o<w;){for(r=b,c=1,l=s;o>=w&&p("invalid-input"),((h=(m=e.charCodeAt(o++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:s)>=s||h>f((a-b)/c))&&p("overflow"),b+=h*c,!(h<(d=l<=_?1:l>=_+26?26:l-_));l+=s)c>f(a/(u=s-d))&&p("overflow"),c*=u;_=v(b-r,t=g.length+1,0==r),f(b/t)>a-y&&p("overflow"),y+=f(b/t),b%=t,g.splice(b++,0,y)}return F(g)}function _(e){var t,i,n,o,r,c,l,h,d,m,g,F,y,_,C,x=[];for(F=(e=w(e)).length,t=128,i=0,r=72,c=0;c<F;++c)(g=e[c])<128&&x.push(u(g));for(n=o=x.length,o&&x.push("-");n<F;){for(l=a,c=0;c<F;++c)(g=e[c])>=t&&g<l&&(l=g);for(l-t>f((a-i)/(y=n+1))&&p("overflow"),i+=(l-t)*y,t=l,c=0;c<F;++c)if((g=e[c])<t&&++i>a&&p("overflow"),g==t){for(h=i,d=s;!(h<(m=d<=r?1:d>=r+26?26:d-r));d+=s)C=h-m,_=s-m,x.push(u(b(m+C%_,0))),h=f(C/_);x.push(u(b(h,0))),r=v(i,y,n==o),i=0,++n}++i,++t}return x.join("")}r={version:"1.3.2",ucs2:{decode:w,encode:F},decode:y,encode:_,toASCII:function(e){return g(e,(function(e){return l.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?y(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return r}.call(t,i,t,e))||(e.exports=n)}()},8575:(e,t,i)=>{var n=i(2511),o=i(2502);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=b(e)),e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),d=["%","/","?",";","#"].concat(h),f=["/","?","#"],u=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},F=i(7673);function b(e,t,i){if(e&&o.isObject(e)&&e instanceof r)return e;var n=new r;return n.parse(e,t,i),n}r.prototype.parse=function(e,t,i){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),s=-1!==r&&r<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(s);if(b=b.trim(),!i&&1===e.split("#").length){var v=c.exec(b);if(v)return this.path=b,this.href=b,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?F.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var y=a.exec(b);if(y){var _=(y=y[0]).toLowerCase();this.protocol=_,b=b.substr(y.length)}if(i||y||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===b.substr(0,2);!C||y&&g[y]||(b=b.substr(2),this.slashes=!0)}if(!g[y]&&(C||y&&!w[y])){for(var x,k,E=-1,N=0;N<f.length;N++)-1!==(S=b.indexOf(f[N]))&&(-1===E||S<E)&&(E=S);for(-1!==(k=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(x=b.slice(0,k),b=b.slice(k+1),this.auth=decodeURIComponent(x)),E=-1,N=0;N<d.length;N++){var S;-1!==(S=b.indexOf(d[N]))&&(-1===E||S<E)&&(E=S)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var z=this.hostname.split(/\./),D=(N=0,z.length);N<D;N++){var A=z[N];if(A&&!A.match(u)){for(var M="",T=0,R=A.length;T<R;T++)A.charCodeAt(T)>127?M+="x":M+=A[T];if(!M.match(u)){var L=z.slice(0,N),B=z.slice(N+1),H=A.match(p);H&&(L.push(H[1]),B.unshift(H[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[_])for(N=0,D=h.length;N<D;N++){var q=h[N];if(-1!==b.indexOf(q)){var U=encodeURIComponent(q);U===q&&(U=escape(q)),b=b.split(q).join(U)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var j=b.indexOf("?");if(-1!==j?(this.search=b.substr(j),this.query=b.substr(j+1),t&&(this.query=F.parse(this.query)),b=b.slice(0,j)):t&&(this.search="",this.query={}),b&&(this.pathname=b),w[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){O=this.pathname||"";var W=this.search||"";this.path=O+W}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,a="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=F.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||w[t])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+r+(i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},r.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(o.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var i=new r,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];i[s]=this[s]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var h=c[l];"protocol"!==h&&(i[h]=e[h])}return w[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!w[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var u=d[f];i[u]=e[u]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||g[e.protocol])i.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),i.pathname=p.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",F=i.search||"";i.path=m+F}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var b=i.pathname&&"/"===i.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=v||b||i.host&&e.pathname,_=y,C=i.pathname&&i.pathname.split("/")||[],x=(p=e.pathname&&e.pathname.split("/")||[],i.protocol&&!w[i.protocol]);if(x&&(i.hostname="",i.port=null,i.host&&(""===C[0]?C[0]=i.host:C.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),y=y&&(""===p[0]||""===C[0])),v)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,C=p;else if(p.length)C||(C=[]),C.pop(),C=C.concat(p),i.search=e.search,i.query=e.query;else if(!o.isNullOrUndefined(e.search))return x&&(i.hostname=i.host=C.shift(),(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift())),i.search=e.search,i.query=e.query,o.isNull(i.pathname)&&o.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!C.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var k=C.slice(-1)[0],E=(i.host||e.host||C.length>1)&&("."===k||".."===k)||""===k,N=0,S=C.length;S>=0;S--)"."===(k=C[S])?C.splice(S,1):".."===k?(C.splice(S,1),N++):N&&(C.splice(S,1),N--);if(!y&&!_)for(;N--;N)C.unshift("..");!y||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),E&&"/"!==C.join("/").substr(-1)&&C.push("");var I,z=""===C[0]||C[0]&&"/"===C[0].charAt(0);return x&&(i.hostname=i.host=z?"":C.length?C.shift():"",(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift())),(y=y||i.host&&C.length)&&!z&&C.unshift(""),C.length?i.pathname=C.join("/"):(i.pathname=null,i.path=null),o.isNull(i.pathname)&&o.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},r.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2502:e=>{e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},7067:()=>{}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i(5590)})();class sg{constructor(e,t,i){this.config=e,this.browser=i,this.genome=t,this.cramFile=new ag.CramFile({filehandle:new cg(e.url,e),seqFetch:e.seqFetch||function(e,t,i){const n=this.genome.sequence,o=this.genome;return this.getHeader().then((function(r){const a=o.getChromosomeName(r.chrNames[e]);return n.getSequence(a,t-1,i)}))}.bind(this),checkSequenceMD5:void 0===e.checkSequenceMD5||e.checkSequenceMD5});const n=new cg(e.indexURL,e);this.indexedCramFile=new ag.IndexedCramFile({cram:this.cramFile,index:new ag.CraiIndex({filehandle:n}),fetchSizeLimit:3e7}),Km.setReaderDefaults(this,e)}async getHeader(){if(!this.header){const e=this.genome,t=await this.cramFile.getSamHeader(),i={},n=[],o={},r=[];for(let a of t)if("SQ"===a.tag){for(let t of a.data)if("SN"===t.tag){const r=t.value;if(i[r]=n.length,n.push(r),e){o[e.getChromosomeName(r)]=r}break}}else"RG"===a.tag&&r.push(a.data);this.header={chrNames:n,chrToIndex:i,chrAliasTable:o,readGroups:r}}return this.header}async readAlignments(e,t,i){this.browser;const n=await this.getHeader(),o=n.chrAliasTable.hasOwnProperty(e)?n.chrAliasTable[e]:e,r=n.chrToIndex[o],a=new Nm(e,t,i,this.config);if(void 0===r)return a;try{const e=await this.indexedCramFile.getRecordsForRange(r,t,i);for(let o of e){const e=o.sequenceId,c=o.alignmentStart,l=c+o.lengthOnRef;if(e<0)continue;if(e>r||c>i)return;if(e<r)continue;if(l<t)continue;const h=s(o,n.chrNames);this.filter.pass(h)&&a.push(h)}return a.finish(),a}catch(e){let t=e.message;throw t&&t.indexOf("MD5")>=0&&(t="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),this.browser.alert.present(new Error(t)),e}function s(e,t){const i=new Rm;if(i.chr=t[e.sequenceId],i.start=e.alignmentStart-1,i.lengthOnRef=e.lengthOnRef,i.flags=e.flags,i.strand=!(16&e.flags),i.fragmentLength=e.templateLength||e.templateSize,i.mq=e.mappingQuality,i.end=e.alignmentStart+e.lengthOnRef,i.readGroupId=e.readGroupId,e.mate&&void 0!==e.mate.sequenceId){const n=void 0!==e.mate.flags?!(1&e.mate.flags):!(32&e.flags);i.mate={chr:t[e.mate.sequenceId],position:e.mate.alignmentStart,strand:n}}return i.seq=e.getReadBases(),i.qual=e.qualityScores,i.tagDict=e.tags,i.readName=e.readName,function(e,t){const i=[];let n,o,r=0,a="";if(t.scStart=t.start,t.scLengthOnRef=t.lengthOnRef,e.readFeatures)for(let s of e.readFeatures){const e=s.code,c=s.data,l=s.pos-1,h=s.refPos-1;switch(e){case"S":case"I":case"i":case"N":case"D":if(l>r){const e=l-r;i.push(new Vm({start:h-e,seqOffset:r,len:e,type:"M"})),r+=e,a+=e+"M"}if("S"===e){let n=h;t.scLengthOnRef+=c.length,0===l&&(t.scStart-=c.length,n-=c.length);const o=c.length;i.push(new Vm({start:n,seqOffset:r,len:o,type:"S"})),r+=o,a+=o+e}else if("I"===e||"i"===e){void 0===n&&(n=[]);const t="i"===e?1:c.length;n.push(new Vm({start:h,len:t,seqOffset:r,type:"I"})),r+=t,a+=t+e}else"D"!==e&&"N"!==e||(o||(o=[]),o.push({start:h,len:c,type:e}),a+=c+e);break;case"H":case"P":a+=c+e}}const s=e.readLength-r;s>0&&(i.push(new Vm({start:e.alignmentStart+e.lengthOnRef-s-1,seqOffset:r,len:s,type:"M"})),a+=s+"M");t.blocks=i,t.insertions=n,t.gaps=o,t.cigar=a}(e,i),i.mate&&i.start>i.mate.position&&i.fragmentLength>0&&(i.fragmentLength=-i.fragmentLength),Km.setPairOrientation(i),i}}}class cg{constructor(e,t){this.position=0,this.url=e,this.config=t,this.cache=new lg({fetch:(e,t)=>this._fetch(e,t)})}async _fetch(e,t){const i={start:e,size:t};this._stat={size:void 0};const n=await ad.loadArrayBuffer(this.url,zd(this.config,{range:i}));return Buffer.from(n)}async read(e,t=0,i=1/0,n=0){let o=n;return null===n&&(o=this.position,this.position+=i),this.cache.get(e,t,i,n)}async readFile(){const e=await ad.loadArrayBuffer(this.url,zd(this.config));return Buffer.from(e)}async stat(){if(!this._stat){const e=Buffer.allocUnsafe(10);if(await this.read(e,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}}class lg{constructor({fetch:e,size:t=1e7,chunkSize:i=32768}){this.fetch=e,this.chunkSize=i,this.lruCache=new hg({maxSize:Math.floor(t/i)})}async get(e,t,i,n){if(e.length<t+i)throw new Error("output buffer not big enough for request");const o=Math.floor(n/this.chunkSize),r=Math.floor((n+i)/this.chunkSize),a=new Array(r-o+1);for(let e=o;e<=r;e+=1)a[e-o]=this._getChunk(e).then((t=>({data:t,chunkNumber:e})));const s=await Promise.all(a),c=n-s[0].chunkNumber*this.chunkSize;s.forEach((({data:a,chunkNumber:s})=>{const l=s*this.chunkSize;let h=0,d=this.chunkSize,f=t+(s-o)*this.chunkSize-c;s===o&&(f=t,h=c),s===r&&(d=n+i-l),a.copy(e,f,h,d)}))}_getChunk(e){const t=this.lruCache.get(e);if(t)return t;const i=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,i),i}}class hg{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}var dg={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"};const fg=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.filter=new jm(e.filter),this.readGroupSetIds=e.readGroupSetIds,this.authKey=e.authKey,this.samplingWindowSize=void 0===e.samplingWindowSize?100:e.samplingWindowSize,this.samplingDepth=void 0===e.samplingDepth?1e3:e.samplingDepth,e.viewAsPairs?this.pairsSupported=!0:this.pairsSupported=void 0===e.pairsSupported||e.pairsSupported};fg.prototype.readAlignments=function(e,t,i){const n=this.genome,o=this;return(o.chrAliasTable?Promise.resolve(o.chrAliasTable):o.readMetadata().then((function(e){if(o.chrAliasTable={},n&&e.readGroups&&e.readGroups.length>0){var t=e.readGroups[0].referenceSetId;return t?zp({url:o.url+"/references/search",body:{referenceSetId:t},decode:function(e){return e.references}}).then((function(e){return e.forEach((function(e){var t=e.name,i=n.getChromosomeName(t);o.chrAliasTable[i]=t})),o.chrAliasTable})):(function(e,t){var i;if("461916304629"===t||"337315832689"===t){for(i=1;i<23;i++)e["chr"+i]=i;e.chrX="X",e.chrY="Y",e.chrM="MT"}}(o.chrAliasTable,o.config.datasetId),o.chrAliasTable)}return o.chrAliasTable}))).then((function(n){var a=n.hasOwnProperty(e)?n[e]:e;return zp({url:o.url+"/reads/search",body:{readGroupSetIds:[o.readGroupSetIds],referenceName:a,start:t,end:i,pageSize:"10000"},decode:r,results:new Nm(e,t,i,o.config)})}));function r(e){var t,i,r,a,s,c=e.alignments,l=c.length,h=[];for(t=0;t<l;t++){let e=c[t];(i=new Rm).readName=e.fragmentName,i.properPlacement=e.properPlacement,i.duplicateFragment=e.duplicateFragment,i.numberReads=e.numberReads,i.fragmentLength=e.fragmentLength,i.readNumber=e.readNumber,i.failedVendorQualityChecks=e.failedVendorQualityChecks,i.secondaryAlignment=e.secondaryAlignment,i.supplementaryAlignment=e.supplementaryAlignment,i.seq=e.alignedSequence,i.qual=e.alignedQuality,i.matePos=e.nextMatePosition,i.tagDict=e.info,i.flags=0,e.alignment?(i.mapped=!0,i.chr=e.alignment.position.referenceName,n&&(i.chr=n.getChromosomeName(i.chr)),i.start=parseInt(e.alignment.position.position),i.strand=!e.alignment.position.reverseStrand,i.mq=e.alignment.mappingQuality,i.cigar=d(e.alignment.cigar),r=f(e.alignment.cigar),i.lengthOnRef=r.lengthOnRef,s=u(i,r.array),i.blocks=s.blocks,i.insertions=s.insertions):i.mapped=!1,(a=e.nextMatePosition)&&(i.mate={chr:a.referenceFrame,position:parseInt(a.position),strand:!a.reverseStrand}),o.filter.pass(i)&&h.push(i)}return h;function d(e){var t="";return e.forEach((function(e){var i=dg[e.operation],n=e.operationLength;t+=n+i})),t}function f(e){var t,i,n,o,r=0,a=[];for(o=0;o<e.length;o++)t=e[o],n=dg[t.operation],i=parseInt(t.operationLength),"M"!==n&&"EQ"!==n&&"X"!==n&&"D"!==n&&"N"!==n&&"="!==n||(r+=i),a.push({len:i,ltr:n});return{lengthOnRef:r,array:a}}function u(e,t){for(var i,n,o,r=[],a=0,s=e.start,c=t.length,l=0;l<c;l++){var h=t[l];switch(h.ltr){case"H":case"P":break;case"S":a+=h.len,o="S";break;case"N":case"D":void 0===i&&(i=[]),i.push({start:s,len:h.len,type:h.ltr}),s+=h.len;break;case"I":void 0===n&&(n=[]),n.push(new Vm({start:s,len:h.len,seqOffset:a})),a+=h.len;break;case"M":case"EQ":case"=":case"X":r.push(new Vm({start:s,len:h.len,seqOffset:a,gapType:o})),a+=h.len,s+=h.len;break;default:console.log("Error processing cigar element: "+h.len+h.ltr)}}return{blocks:r,insertions:n,gaps:i}}}},fg.prototype.readMetadata=function(){return Ip({url:this.url,entity:"readgroupsets",entityId:this.readGroupSetIds})};class ug{constructor(e,t){const i=t.genome;if(this.config=e,this.genome=i,Rd(e.url)&&(this.config.indexed=!1),"ga4gh"===e.sourceType)this.bamReader=new fg(e,i);else if("pysam"===e.sourceType)this.bamReader=new ng(e,i);else if("htsget"===e.sourceType)this.bamReader=new rg(e,i);else if("shardedBam"===e.sourceType)this.bamReader=new ig(e,i);else if("cram"===e.format)this.bamReader=new sg(e,i,t);else{if(!this.config.indexURL&&!1!==e.indexed)if($a(this.config.url)){const e=Gd(this.config.url,"bai");e?(console.error(`Warning: no indexURL specified for ${this.config.url}.  Guessing ${this.baiPath}`),this.config.indexURL=e):(console.error(`Warning: no indexURL specified for ${this.config.url}.`),this.config.indexed=!1)}else console.error(`Warning: no indexURL specified for ${this.config.name}.`),this.config.indexed=!1;!1!==this.config.indexed?this.bamReader=new tg(e,i):this.bamReader=new eg(e,i)}this.viewAsPairs=e.viewAsPairs,this.showSoftClips=e.showSoftClips}setViewAsPairs(e){this.viewAsPairs=e}setShowSoftClips(e){this.showSoftClips=e}async getAlignments(e,t,i){const n=this.genome,o=this.showSoftClips,r=await this.bamReader.readAlignments(e,t,i);let a=r.alignments;this.viewAsPairs||(a=xm([{alignments:a}]));const s=a.length>0;if(r.packedAlignmentRows=km(a,r.start,r.end,o),this.alignmentContainer=r,s){const t=await n.sequence.getSequence(e,r.start,r.end);if(t)return r.coverageMap.refSeq=t,r.sequence=t,r;console.error("No sequence for: "+e+":"+r.start+"-"+r.end)}return r}}function pg(e,t,i){var n,o,r,a,s,c,l,h={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};if(void 0===this.dataRange||void 0===this.dataRange.max||void 0===this.dataRange.min)return;let d=void 0!==this.flipAxis&&this.flipAxis;function f(e){return 0===e?"0":Math.abs(e)>=10?e.toFixed():Math.abs(e)>=1?e.toFixed(1):e.toFixed(2)}kd.fillRect(e,0,0,t,i,{fillStyle:"rgb(255, 255, 255)"}),n=(l=.95*t)-8,s={x:o=l,y:r=a=.01*i},kd.strokeLine(e,n,r,o,a,h),kd.fillText(e,f(d?this.dataRange.min:this.dataRange.max),n+4,r+12,h),c={x:o,y:r=a=.99*i},kd.strokeLine(e,n,r,o,a,h),kd.fillText(e,f(d?this.dataRange.max:this.dataRange.min),n+4,r-4,h),kd.strokeLine(e,s.x,s.y,c.x,c.y,h)}class mg{constructor({chr:e,start:t,end:i}){this.chr=e,this.start=t,this.end=i}contains(e){return e.chr===this.chr&&e.start>=this.start&&e.end<=this.end}overlaps(e){return e.chr===this.chr&&!(e.end<this.start||e.start>this.end)}extend(e){e.chr===this.chr&&(this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}getLocusString(){if("all"===this.chr)return"all";{const e=Za(Math.floor(this.start)+1),t=Za(Math.round(this.end));return`${this.chr}:${e}-${t}`}}static fromLocusString(e){if("all"===e)return new mg({chr:"all"});const t=e.split(":"),i=t[0],n=t[1].split("-"),o=Number.parseInt(n[0].replace(/,/g,""))-1,r=Number.parseInt(n[1].replace(/,/g,""));return new mg({chr:i,start:o,end:r})}}
/*!
     * vanilla-picker v2.12.1
     * https://vanilla-picker.js.org
     *
     * Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
     * Released under the ISC license.
     */var gg=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},wg=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Fg=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var i=this;i.length<e;)i=t+i;return i};var bg={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function vg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString())||"0"}var yg=function(){function e(t,i,n,o){gg(this,e);var r=this;if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===n){var a=t&&""+t;a&&function(t){if(t.startsWith("hsl")){var i=t.match(/([\-\d\.e]+)/g).map(Number),n=Fg(i,4),o=n[0],a=n[1],s=n[2],c=n[3];void 0===c&&(c=1),o/=360,a/=100,s/=100,r.hsla=[o,a,s,c]}else if(t.startsWith("rgb")){var l=t.match(/([\-\d\.e]+)/g).map(Number),h=Fg(l,4),d=h[0],f=h[1],u=h[2],p=h[3];void 0===p&&(p=1),r.rgba=[d,f,u,p]}else t.startsWith("#")?r.rgba=e.hexToRgb(t):r.rgba=e.nameToRgb(t)||e.hexToRgb(t)}(a.toLowerCase())}else this.rgba=[t,i,n,void 0===o?1:o]}return wg(e,[{key:"printRGB",value:function(e){var t=(e?this.rgba:this.rgba.slice(0,3)).map((function(e,t){return vg(e,3===t?3:0)}));return e?"rgba("+t+")":"rgb("+t+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],i=["","%","%",""],n=(e?this.hsla:this.hsla.slice(0,3)).map((function(e,n){return vg(e*t[n],3===n?3:1)+i[n]}));return e?"hsla("+n+")":"hsl("+n+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=e.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=e.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map((function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)})).map((function(e){return e.padStart(2,"0")})).join("")},set:function(t){this.rgba=e.hexToRgb(t)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var i=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(e){return parseInt(e,16)}));return i[3]=i[3]/255,i}},{key:"nameToRgb",value:function(t){var i=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),n=bg[i];return void 0===n?n:e.hexToRgb(n.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=Fg(e,4),i=t[0],n=t[1],o=t[2],r=t[3];i/=255,n/=255,o/=255;var a=Math.max(i,n,o),s=Math.min(i,n,o),c=void 0,l=void 0,h=(a+s)/2;if(a===s)c=l=0;else{var d=a-s;switch(l=h>.5?d/(2-a-s):d/(a+s),a){case i:c=(n-o)/d+(n<o?6:0);break;case n:c=(o-i)/d+2;break;case o:c=(i-n)/d+4}c/=6}return[c,l,h,r]}},{key:"hslToRgb",value:function(e){var t=Fg(e,4),i=t[0],n=t[1],o=t[2],r=t[3],a=void 0,s=void 0,c=void 0;if(0===n)a=s=c=o;else{var l=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},h=o<.5?o*(1+n):o+n-o*n,d=2*o-h;a=l(d,h,i+1/3),s=l(d,h,i),c=l(d,h,i-1/3)}var f=[255*a,255*s,255*c].map(Math.round);return f[3]=r,f}}]),e}(),_g=function(){function e(){gg(this,e),this._events=[]}return wg(e,[{key:"add",value:function(e,t,i){e.addEventListener(t,i,!1),this._events.push({target:e,type:t,handler:i})}},{key:"remove",value:function(t,i,n){this._events=this._events.filter((function(o){var r=!0;return t&&t!==o.target&&(r=!1),i&&i!==o.type&&(r=!1),n&&n!==o.handler&&(r=!1),r&&e._doRemove(o.target,o.type,o.handler),!r}))}},{key:"destroy",value:function(){this._events.forEach((function(t){return e._doRemove(t.target,t.type,t.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(e,t,i){e.removeEventListener(t,i,!1)}}]),e}();function Cg(e,t,i){var n=!1;function o(e,t,i){return Math.max(t,Math.min(e,i))}function r(e,r,a){if(a&&(n=!0),n){e.preventDefault();var s=t.getBoundingClientRect(),c=s.width,l=s.height,h=r.clientX,d=r.clientY,f=o(h-s.left,0,c),u=o(d-s.top,0,l);i(f/c,u/l)}}function a(e,t){1===(void 0===e.buttons?e.which:e.buttons)?r(e,e,t):n=!1}function s(e,t){1===e.touches.length?r(e,e.touches[0],t):n=!1}e.add(t,"mousedown",(function(e){a(e,!0)})),e.add(t,"touchstart",(function(e){s(e,!0)})),e.add(window,"mousemove",a),e.add(t,"touchmove",s),e.add(window,"mouseup",(function(e){n=!1})),e.add(t,"touchend",(function(e){n=!1})),e.add(t,"touchcancel",(function(e){n=!1}))}var xg="keydown",kg="mousedown",Eg="focusin";function Ng(e,t){return(t||document).querySelector(e)}function Sg(e){e.preventDefault(),e.stopPropagation()}function Ig(e,t,i,n,o){e.add(t,xg,(function(e){i.indexOf(e.key)>=0&&(o&&Sg(e),n(e))}))}var zg=function(){function e(t){gg(this,e),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new _g,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return wg(e,[{key:"setOptions",value:function(e){var t=this;if(e){var i=this.settings;if(e instanceof HTMLElement)i.parent=e;else{i.parent&&e.parent&&i.parent!==e.parent&&(this._events.remove(i.parent),this._popupInited=!1),function(e,t,i){for(var n in e)i&&i.indexOf(n)>=0||(t[n]=e[n])}(e,i),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var n=e.color||e.colour;n&&this._setColor(n)}var o=i.parent;if(o&&i.popup&&!this._popupInited){var r=function(e){return t.openHandler(e)};this._events.add(o,"click",r),Ig(this._events,o,[" ","Spacebar","Enter"],r),this._popupInited=!0}else e.parent&&!i.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var t=e&&e.type===xg?this._domEdit:this.domElement;setTimeout((function(){return t.focus()}),100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var t=e&&e.type,i=!1;if(e)if(t===kg||t===Eg){var n=(this.__containedEvent||0)+100;e.timeStamp>n&&(i=!0)}else Sg(e),i=!0;else i=!0;i&&this.hide()&&(this.settings.parent.style.pointerEvents="",t!==kg&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t})}},{key:"_setColor",value:function(e,t){if("string"==typeof e&&(e=e.trim()),e){t=t||{};var i=void 0;try{i=new yg(e)}catch(e){if(t.failSilently)return;throw e}if(!this.settings.alpha){var n=i.hsla;n[3]=1,i.hsla=n}this.colour=this.color=i,this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(e,t){this.setColor(e,t)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>');return this.domElement=t,this._domH=Ng(".picker_hue",t),this._domSL=Ng(".picker_sl",t),this._domA=Ng(".picker_alpha",t),this._domEdit=Ng(".picker_editor input",t),this._domSample=Ng(".picker_sample",t),this._domOkay=Ng(".picker_done button",t),this._domCancel=Ng(".picker_cancel button",t),t.classList.add("layout_"+this.settings.layout),this.settings.alpha||t.classList.add("no_alpha"),this.settings.editor||t.classList.add("no_editor"),this.settings.cancelButton||t.classList.add("no_cancel"),this._ifPopup((function(){return t.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,t=this,i=this.domElement,n=this._events;function o(e,t,i){n.add(e,t,i)}o(i,"click",(function(e){return e.preventDefault()})),Cg(n,this._domH,(function(e,i){return t._setHSLA(e)})),Cg(n,this._domSL,(function(e,i){return t._setHSLA(null,e,1-i)})),this.settings.alpha&&Cg(n,this._domA,(function(e,i){return t._setHSLA(null,null,null,1-i)}));var r=this._domEdit;o(r,"input",(function(e){t._setColor(this.value,{fromEditor:!0,failSilently:!0})})),o(r,"focus",(function(e){var t=this;t.selectionStart===t.selectionEnd&&t.select()})),this._ifPopup((function(){var t=function(t){return e.closeHandler(t)};o(window,kg,t),o(window,Eg,t),Ig(n,i,["Esc","Escape"],t);var r=function(t){e.__containedEvent=t.timeStamp};o(i,kg,r),o(i,Eg,r),o(e._domCancel,"click",t)}));var a=function(t){e._ifPopup((function(){return e.closeHandler(t)})),e.onDone&&e.onDone(e.colour)};o(this._domOkay,"click",a),Ig(n,i,["Enter"],a)}},{key:"_setPosition",value:function(){var e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup((function(i){"static"===getComputedStyle(e).position&&(e.style.position="relative");var n=!0===i?"popup_right":"popup_"+i;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(e){e===n?t.classList.add(e):t.classList.remove(e)})),t.classList.add(n)}))}},{key:"_setHSLA",value:function(e,t,i,n,o){o=o||{};var r=this.colour,a=r.hsla;[e,t,i,n].forEach((function(e,t){(e||0===e)&&(a[t]=e)})),r.hsla=a,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(r)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var t=this.colour,i=t.hsla,n="hsl("+360*i[0]+", 100%, 50%)",o=t.hslString,r=t.hslaString,a=this._domH,s=this._domSL,c=this._domA,l=Ng(".picker_selector",a),h=Ng(".picker_selector",s),d=Ng(".picker_selector",c);F(0,l,i[0]),this._domSL.style.backgroundColor=this._domH.style.color=n,F(0,h,i[1]),b(0,h,1-i[2]),s.style.color=o,b(0,d,1-i[3]);var f=o,u=f.replace("hsl","hsla").replace(")",", 0)"),p="linear-gradient("+[f,u]+")";if(this._domA.style.background=p+", linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",!e.fromEditor){var m=this.settings.editorFormat,g=this.settings.alpha,w=void 0;switch(m){case"rgb":w=t.printRGB(g);break;case"hsl":w=t.printHSL(g);break;default:w=t.printHex(g)}this._domEdit.value=w}this._domSample.style.color=r}function F(e,t,i){t.style.left=100*i+"%"}function b(e,t,i){t.style.top=100*i+"%"}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return!1;var i=e?"":"none",n=t.style.display!==i;return n&&(t.style.display=i),n}}]),e}(),Dg=document.createElement("style");function Ag(e){if(Mg[e])return Mg[e];if(Mg["chr"+e]){const t=Mg["chr"+e];return Mg[e]=t,t}{const o=(t=Math.round(255*Math.random()).toString(10),i=Math.round(255*Math.random()).toString(10),n=Math.round(255*Math.random()).toString(10),"rgb("+t+","+i+","+n+")");return Mg[e]=o,o}var t,i,n}Dg.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(Dg),zg.StyleElement=Dg;const Mg={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"};class Tg{constructor(e){this.tracks=[],this.chordSets=[]}addChordSet(e){this.chordSets=this.chordSets.filter((t=>t.name!==e.name)),this.chordSets.push(e);let t=this.tracks.find((t=>e.trackName===t.name));t&&(t.chordSets=t.chordSets.filter((t=>t.name!==e.name)),t.chordSets.push(e)),t||(t=new Rg(e),this.tracks.push(t))}clearChords(){this.tracks=[],this.chordSets=[]}getTrack(e){return this.tracks.find((t=>e===t.name))}getChordSet(e){return this.chordSets.find((t=>e===t.name))}}class Rg{constructor(e){this.name=e.trackName,this.color=e.trackColor,this.visible=!0,this.chordSets=[e],this.id=("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)}get chords(){if(1===this.chordSets.length)return this.chordSets[0].chords;const e=[];for(let t of this.chordSets)for(let i of t.chords)e.push(i);return e}}const Lg=Math.exp(5);class Bg{static isInstalled(){return void 0!==window.JBrowseReactCircularGenomeView&&void 0!==window.React&&void 0!==window.ReactDOM}constructor(e,t){if(t=t||{},this.config=t,Bg.isInstalled()){this.parent=e,this.groupByTrack=!0===t.groupByTrack,this.chordManager=new Tg(t);const i=document.createElement("div");i.className="igv-circview-container",e.appendChild(i),this.createControls(i),this.resetControlPanel();const n=document.createElement("div");n.className="igv-circview-circular-genome-view",i.appendChild(n),this.container=n,t.assembly&&this.setAssembly(t.assembly),this.width=t.width||500,this.height=t.height||500,this.setSize(this.width,this.height)}else console.error("JBrowse circular view is not installed")}createControls(e){const t=document.createElement("div");t.className="igv-circview-toolbar",e.appendChild(t),this.toolbar=t;const i=document.createElement("div");i.className="igv-circview-track-panel",e.appendChild(i),this.controlPanel=i,this.controlPanel.style.display="none";const n=document.createElement("div");n.className="igv-circview-toolbar-button-container",this.toolbar.appendChild(n),this.showControlsButton=document.createElement("div"),this.showControlsButton.className="igv-circview-button",n.appendChild(this.showControlsButton),this.showControlsButton.innerText="none"===this.controlPanel.style.display?"Show Controls":"Hide Controls",this.showControlsButton.addEventListener("click",(e=>{this.controlPanel.querySelectorAll("div").length>0&&("none"===this.controlPanel.style.display?(this.controlPanel.style.display="flex",e.target.innerText="Hide Controls"):(this.controlPanel.style.display="none",e.target.innerText="Show Controls"))}));let o=document.createElement("div");o.className="igv-circview-button",n.appendChild(o),o.innerText="Clear All",o.addEventListener("click",(()=>{this.clearChords()})),!1!==this.config.showCloseButton&&(o=document.createElement("div"),o.className="igv-circview-button",n.appendChild(o),o.innerText="Close",o.addEventListener("click",(()=>{this.visible=!1})))}resetControlPanel(){this.controlPanel.innerHTML="",this.controlPanel.appendChild(this.createGroupByCB());const e=this.groupByTrack?this.chordManager.tracks:this.chordManager.chordSets;for(let t of e)this.addToControlPanel(t)}createGroupByCB(){const e=document.createElement("input");e.type="checkbox",e.id="groupByCB",e.style.width="1.4em",e.style.height="1.4em",e.checked=this.groupByTrack,e.onclick=e=>{this.groupByTrack=e.target.checked,this.resetControlPanel(),this.render()};const t=document.createElement("label");t.for="groupByCB",t.innerText="Group by track",t.style.color="black",t.style.paddingLeft="10px";const i=document.createElement("div");return i.style.width="100%",i.style.paddingTop="5px",i.style.paddingBottom="5px",i.style.background="rgb(216, 230, 234)",i.appendChild(e),i.appendChild(t),i}addToControlPanel(e){const t=document.createElement("div");this.controlPanel.appendChild(t);const i=document.createElement("div");i.className="igv-circview-button",t.appendChild(i),i.innerText=!0===e.visible?"Hide":"Show",i.addEventListener("click",(t=>{!0===e.visible?(this.hideChordSet(e.name),t.target.innerText="Show"):(this.showChordSet(e.name),t.target.innerText="Hide")}));const n=document.createElement("input"),o=e=>200*Math.log(e*Lg),r=document.createElement("div");r.className="igv-circview-button",r.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;",t.appendChild(r),r.style.backgroundColor=Hg(e.color,1);const a={parent:r,popup:"right",editorFormat:"rgb",color:e.color,onChange:({rgbaString:t})=>{r.style.backgroundColor=Hg(t,1),this.setColor(e.name,t),n.value=o(Og(e.color))}},s=new zg(a);n.setAttribute("title","Adjust transparency of arcs"),n.type="range",n.style.width="100px",n.style.marginRight="10px",n.setAttribute("class","range"),n.setAttribute("min","0"),n.setAttribute("max","1000"),n.value=o(Og(e.color)),n.oninput=()=>{const t=(i=n.value,Math.exp(i/200)/Lg);var i;this.setColor(e.name,Hg(e.color,t)),s.setColor(e.color)},t.appendChild(n);const c=document.createElement("div");c.style.color="black",t.appendChild(c),c.innerText=c.title=e.name}setAssembly(e){const t=this.genomeId||Ug();if(this.genomeId===t)return;this.chordManager.clearChords(),this.genomeId=t,this.chrNames=new Set(e.chromosomes.map((e=>Pg(e.name))));const i=[],n=[];for(let t of e.chromosomes){const e=Pg(t.name);n.push(t.color||Ag(e)),i.push({refName:e,uniqueId:e,start:0,end:t.bpLength})}this.assembly={name:e.name,sequence:{trackId:t,type:"ReferenceSequenceTrack",adapter:{type:"FromConfigSequenceAdapter",features:i}},refNameColors:n},this.render()}addChords(e,t={}){const i=t.name||t.track||"*",n=i.split(" ")[0].replaceAll("%20"," "),o={name:i.replaceAll("%20"," "),trackName:n,chords:e,color:t.color||"black",trackColor:t.trackColor||t.color||"black",visible:!0,id:t.id||Ug()};this.chordManager.addChordSet(o),this.resetControlPanel(),this.render()}setSize(e,t){if(t=t||e,this.width=e,this.height=t,this.viewState){const i=this.viewState.session.view;i.setWidth(e),i.setHeight(t),i.setBpPerPx(i.minBpPerPx)}}getSize(){return Math.min(this.width,this.height)}clearChords(){this.chordManager.clearChords(),this.resetControlPanel(),this.render()}clearSelection(){this.viewState.pluginManager.rootModel.session.clearSelection()}show(){this.parent.style.display="block"}hide(){this.parent.style.display="none"}get visible(){return"none"!==this.parent.style.display}set visible(e){this.parent.style.display=e?"block":"none"}hideChordSet(e){let t=this.getChordSet(e);t?(t.visible=!1,this.render()):console.warn(`No track with name: ${name}`)}showChordSet(e){let t=this.getChordSet(e);t?(t.visible=!0,this.render()):console.warn(`No track with name: ${e}`)}deleteTrack(e){let t=this.tracks.findIndex((t=>e===t.name));t>=0&&this.tracks.splice(t,1),this.render()}getChordSet(e){return this.groupByTrack?this.chordManager.getTrack(e):this.chordManager.getChordSet(e)}setColor(e,t){const i=this.getChordSet(e);if(i){i.color=t;const e=i.id;for(let i of this.viewState.config.tracks)if(e===i.trackId){i.displays[0].renderer.strokeColor.set(t);break}}}render(){const{createViewState:e,JBrowseCircularGenomeView:t}=JBrowseReactCircularGenomeView;ReactDOM.unmountComponentAtNode(this.container);const i=(this.groupByTrack?this.chordManager.tracks:this.chordManager.chordSets).filter((e=>e.visible)),n=[],o=[];for(let e of i)n.push({trackId:e.id,name:e.name,assemblyNames:["forIGV"],type:"VariantTrack",adapter:{type:"FromConfigAdapter",features:e.chords}}),o.push(e.color);this.viewState=e({assembly:this.assembly,tracks:n});for(let e=0;e<i.length;e++)this.viewState.config.tracks[e].displays[0].renderer.strokeColor.set(o[e]);this.element=React.createElement(t,{viewState:this.viewState}),this.setSize(this.width,this.height),ReactDOM.render(this.element,this.container);const r=this.config.onChordClick||qg;for(let e=0;e<i.length;e++)this.viewState.session.view.showTrack(this.viewState.config.tracks[e].trackId),r&&(this.viewState.pluginManager.jexl.addFunction("onChordClick",r),this.viewState.config.tracks[e].displays[0].onChordClick.set("jexl:onChordClick(feature, track, pluginManager)"))}}function Hg(e,t){const[i,n,o,r]=e.split(",");return`${i},${n},${o},${t})`}function Og(e){return e.startsWith("rgba(")?Number(e.split(",")[3].replace(")","")):1}function Pg(e){return e.startsWith("chr")?e.substring(3):e}function qg(e,t,i){console.log(e)}function Ug(){return("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)}if("undefined"!=typeof document){function Ok(e){for(let t of document.styleSheets)if(t=t.href?t.href.replace(/^.*[\\\/]/,""):"",t===e)return!0;return!1}Ok("circular-view.css")||function(){const e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML='.igv-circview-container {\n  width: fit-content;\n  height: fit-content;\n  box-sizing: content-box;\n  color: dimgray;\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  background-color: white;\n  border-color: dimgray;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n\n.igv-circview-toolbar {\n  position: relative;\n  width: 100%;\n  height: 32px;\n  background-color: lightgrey;\n  border-bottom-style: solid;\n  border-bottom-color: dimgray;\n  border-bottom-width: thin;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.igv-circview-toolbar-button-container {\n  height: 100%;\n  width: fit-content;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-circview-toolbar-button-container > div {\n  margin: 4px;\n}\n\n.igv-circview-track-panel {\n  z-index: 1024;\n  position: absolute;\n  top: 33px;\n  left: 0;\n  width: 100%;\n  height: fit-content;\n  border-bottom-style: solid;\n  border-bottom-color: dimgray;\n  border-bottom-width: thin;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n.igv-circview-track-panel > div {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-circview-track-panel > div > div {\n  margin: 4px;\n}\n\n.igv-circview-swatch-button {\n  cursor: pointer;\n  padding: 5px;\n  width: 8px;\n  height: 8px;\n  border: 1px solid #8d8b8b;\n  border-radius: 16px;\n}\n\n.igv-circview-button {\n  cursor: pointer;\n  padding: 5px;\n  color: #444;\n  vertical-align: middle;\n  text-align: center;\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  border: 1px solid #8d8b8b;\n  border-radius: 4px;\n  background: #efefef;\n  box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.2);\n}\n\n.igv-circview-button:hover {\n  background: #efefef;\n  box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.6);\n}\n\n.igv-circview-button:active {\n  color: #007bff;\n  box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.6);\n}\n\n/*# sourceMappingURL=circular-view.css.map */\n',document.head.insertBefore(e,document.head.childNodes[document.head.childNodes.length-1])}()}const Vg=e=>e.startsWith("chr")?e.substring(3):e;function jg(e){const t=[],i=[];for(let n of e.wgChromosomeNames){const o=e.getChromosome(n);i.push(ww(o.name)),t.push({name:o.name,bpLength:o.bpLength})}return t}function Wg(e,t,i,n){const o=t.color||"rgb(0,0,255)",r=qh.addAlpha("all"===i.chr?o:ww(i.chr),n),a=qh.addAlpha(o,n),s=t.name.replaceAll(" ","%20"),c="all"===i.chr?s:`${s}  ${i.chr}:${i.start}-${i.end}`;t.browser.circularView.addChords(e,{track:c,color:r,trackColor:a}),t.browser.circularViewVisible||(t.browser.circularViewVisible=!0)}class Gg{constructor(e,{minTLENPercentile:t,maxTLENPercentile:i}){this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0,this.lp=void 0===t?.1:t,this.up=void 0===i?99.5:i,this.isizes=[],this.compute(e)}compute(e){for(let n of e)if(n.isProperPair()){var t=Math.abs(n.fragmentLength);this.sumF+=t,this.sumF2+=t*t,this.isizes.push(t);var i=n.pairOrientation;if("string"==typeof i&&4===i.length)switch(""+i.charAt(0)+i.charAt(2)){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}this.totalCount++}this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf"),this.minTLEN=0===this.lp?0:$g(this.isizes,this.lp),this.maxTLEN=$g(this.isizes,this.up)}}function $g(e,t){if(0!==e.length){var i=Math.floor(e.length*(t/100));return e.sort((function(e,t){return e-t})),e[i]}}const Zg={getTissueInfo:function(e,t){let i=(t=t||"https://gtexportal.org/rest/v1")+"/dataset/tissueInfo?datasetId="+(e=e||"gtex_v8");return ad.loadJson(i,{})},trackConfiguration:function(e,t){return{type:"eqtl",sourceType:"gtex-ws",url:(t=t||"https://gtexportal.org/rest/v1")+"/association/singleTissueEqtlByLocation",tissueSiteDetailId:e.tissueSiteDetailId,name:e.tissueSiteDetailId.split("_").join(" "),visibilityWindow:25e4}}};function Kg(e,t,i){let n=(e.start-t)/i,o=(e.end-t)/i,r=o-n;return r<3&&(r=3,n-=1.5),{px:n,px1:o,pw:r}}function Xg(e,t,i,n,o,r){try{o.save(),o.fillStyle=this.color,o.strokeStyle=this.color;const n=this.getColorForFeature(e);let a,s;o.fillStyle=n,o.strokeStyle=n,"SQUISHED"===this.displayMode&&void 0!==e.row?(a=this.featureHeight/2,s=this.margin+this.squishedRowHeight*e.row):"EXPANDED"===this.displayMode&&void 0!==e.row?(a=this.featureHeight,s=this.margin+this.expandedRowHeight*e.row):(a=this.featureHeight,s=this.margin);const c=r.pixelWidth,l=s+a/2,h=a/2,d=l-h/2,f=e.exons?e.exons.length:0,u=Kg(e,t,i),p=this.arrowSpacing,m="+"===e.strand?1:"-"===e.strand?-1:0;if(0===f){const e=Math.max(0,u.px),t=Math.min(c,u.px1),i=t-e;if(o.fillRect(e,s,i,a),0!==m){o.fillStyle="white",o.strokeStyle="white";for(let i=e+p/2;i<t;i+=p)kd.strokeLine(o,i-2*m,l-2,i,l),kd.strokeLine(o,i-2*m,l+2,i,l);o.fillStyle=n,o.strokeStyle=n}}else{kd.strokeLine(o,u.px+1,l,u.px1-1,l);const r=Math.max(0,u.px)+p/2,g=Math.min(c,u.px1);for(let e=r;e<g;e+=p)kd.strokeLine(o,e-2*m,l-2,e,l),kd.strokeLine(o,e-2*m,l+2,e,l);for(let r=0;r<f;r++){const f=e.exons[r];let u,g=Math.round((f.start-t)/i),w=Math.round((f.end-t)/i),F=Math.max(1,w-g);if(!(g+F<0)){if(g>c)break;if(f.utr)o.fillRect(g,d,F,h);else if(f.cdStart&&(u=Math.round((f.cdStart-t)/i),o.fillRect(g,d,u-g,h),F-=u-g,g=u),f.cdEnd&&(u=Math.round((f.cdEnd-t)/i),o.fillRect(u,d,w-u,h),F-=w-u,w=u),F=Math.max(F,1),o.fillRect(g,s,F,a),F>p+5&&0!==m){o.fillStyle="white",o.strokeStyle="white";for(let e=g+p/2;e<w;e+=p)kd.strokeLine(o,e-2*m,l-2,e,l),kd.strokeLine(o,e-2*m,l+2,e,l);o.fillStyle=n,o.strokeStyle=n}}}}r.drawLabel&&"SQUISHED"!==this.displayMode&&Yg.call(this,o,e,u.px,u.px1,s,r.referenceFrame,r)}finally{o.restore()}}function Yg(e,t,i,n,o,r,a){try{e.save();let s=t.name;if(void 0===s&&t.gene&&(s=t.gene.name),void 0===s&&(s=t.id||t.ID),!s||"."===s)return;let c,l=(i+n)/2;"COLLAPSED"===this.displayMode&&"SLANT"===this.labelDisplayMode&&(c={rotate:{angle:45}});const h=function(e,t){return t?e+20:e+25}(o,c);let d,f=this.getColorForFeature(t),u=!1;r.selection&&Zg.gtexLoaded&&(u=!0,d=r.selection.colorForGene(s));const p={textAlign:"SLANT"===this.labelDisplayMode?void 0:"center",fillStyle:d||f,strokeStyle:d||f},m=e.measureText(s),g=l-m.width/2,w=l+m.width/2,F=a.rowLastLabelX[t.row]||-Number.MAX_SAFE_INTEGER;(a.labelAllFeatures||g>F||u)&&(a.rowLastLabelX[t.row]=w,"y"===a.axis?(e.save(),kd.labelTransformWithContext(e,l),kd.fillText(e,s,l,h,p,c),e.restore()):kd.fillText(e,s,l,h,p,c))}finally{e.restore()}}const Qg=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),Jg=new Set(["coding-synon"]),ew=new Set(["splice-3","splice-5"]),tw=new Set(["untranslated-5","untranslated-3"]);function iw(e,t,i,n,o){var r,a,s,c,l,h,d=Kg(e,t,i),f=this.margin,u=this.snpColors.length;switch(r="squished"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":c=e.func,h=c.split(","),l=h.map((function(e){return Qg.has(e)||ew.has(e)?u-1:Jg.has(e)?u-2:tw.has(e)?u-3:0})),a=l.reduce((function(e,t){return Math.max(e,t)}));break;case"class":a="deletion"===(s=e.class)?u-1:"mnp"===s?u-2:"microsatellite"===s||"named"===s?u-3:0}o.fillStyle=this.snpColors[a],o.fillRect(d.px,f,d.pw,r)}function nw(e,t,i,n,o){const r="EXPANDED"===this.displayMode?this.expandedRowHeight:this.squishedRowHeight;let a=this.margin;"COLLAPSED"!==this.displayMode&&void 0!==e.row&&(a+=e.row*r);const s=a+.5*r,c=s-.5*r,l=s+.5*r,h=Math.round((e.junction_left-t)/i),d=Math.round((e.junction_right-t)/i);o.beginPath(),o.moveTo(h,s),o.bezierCurveTo(h,c,d,c,d,s),o.lineWidth=1+Math.log(e.num_junction_reads)/Math.log(2),o.strokeStyle="blue",o.stroke();const f=e.spanning_frag_coords;for(let e=0;e<f.length;e++){const n=f[e],r=Math.round((n.left-t)/i),a=Math.round((n.right-t)/i);o.beginPath(),o.moveTo(r,s),o.bezierCurveTo(r,l,a,l,a,s),o.lineWidth=1,o.strokeStyle="purple",o.stroke()}}class ow extends Tu{static defaults={type:"annotation",maxRows:1e3,displayMode:"EXPANDED",margin:10,featureHeight:14,autoHeight:!1,useScore:!1};constructor(e,t){super(e,t)}init(e){super.init(e),this.labelDisplayMode=e.labelDisplayMode,e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=e.featureSource?e.featureSource:pm(e,this.browser.genome),"FusionJuncSpan"===e.type?(this.render=e.render||nw,this.squishedRowHeight=e.squishedRowHeight||50,this.expandedRowHeight=e.expandedRowHeight||50,this.height=e.height||this.margin+2*this.expandedRowHeight):"snp"===e.type?(this.render=e.render||iw,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function",this.expandedRowHeight=e.expandedRowHeight||10,this.squishedRowHeight=e.squishedRowHeight||5,this.height=e.height||30):(this.render=e.render||Xg,this.arrowSpacing=30,function(e){e.browser.on&&(e.browser.on("trackdragend",t),e.browser.on("trackremoved",i));function t(){e.trackView&&"SQUISHED"!==e.displayMode&&e.trackView.updateViews()}function i(n){e.browser.un&&e===n&&(e.browser.un("trackdragend",t),e.browser.un("trackremoved",i))}}(this),this.squishedRowHeight=e.squishedRowHeight||15,this.expandedRowHeight=e.expandedRowHeight||30,this.height=e.height||this.margin+2*this.expandedRowHeight,e.colorBy&&(e.colorBy.field&&(e.colorTable=e.colorBy.pallete||e.colorBy.palette,e.colorBy=e.colorBy.field),this.colorBy=e.colorBy,e.colorTable?this.colorTable=new _d(e.colorTable):this.colorTable=new yd("Set1")))}async postInit(){if("function"!=typeof this.featureSource.getHeader||(this.header=await this.featureSource.getHeader(),!this.disposed))return this.header&&this.setTrackProperties(this.header),void 0===this.visibilityWindow&&"function"==typeof this.featureSource.defaultVisibilityWindow&&(this.visibilityWindow=await this.featureSource.defaultVisibilityWindow()),this}get supportsWholeGenome(){return void 0!==this.config.supportsWholeGenome?this.config.supportsWholeGenome:this.featureSource&&"function"==typeof this.featureSource.supportsWholeGenome?this.featureSource.supportsWholeGenome():!(void 0!==this.visibilityWindow||!1!==this.config.indexed&&this.config.indexURL)||void 0}async getFeatures(e,t,i,n){const o=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:i,bpPerPixel:n,visibilityWindow:o})}computePixelHeight(e){if("COLLAPSED"===this.displayMode)return this.margin+this.expandedRowHeight;{let t=0;if(e&&"function"==typeof e.forEach)for(let i of e)i.row&&i.row>t&&(t=i.row);return this.margin+(t+1)*("SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight)}}draw(e){const t=e.features,i=e.context,n=e.bpPerPixel,o=e.bpStart,r=e.pixelWidth,a=e.pixelHeight,s=o+r*n+1;if(this.config.isMergedTrack||kd.fillRect(i,0,e.pixelTop,r,a,{fillStyle:"rgb(255, 255, 255)"}),t){const c=[];e.rowLastX=[],e.rowLastLabelX=[];for(let i of t)if(i.start>o&&i.end<s){const t="COLLAPSED"===this.displayMode?0:i.row||0;void 0===c[t]?c[t]=1:c[t]++,e.rowLastX[t]=-Number.MAX_SAFE_INTEGER,e.rowLastLabelX[t]=-Number.MAX_SAFE_INTEGER}const l=r/Math.max(1,Math.max(...c));let h=[];for(let r of t){if(r.end<o)continue;if(r.start>s)break;const t="COLLAPSED"===this.displayMode?0:r.row;e.drawLabel=e.labelAllFeatures||l>10;const c=Math.ceil((r.end-o)/n),d=h[t];if(!d||c>d){this.render.call(this,r,o,n,a,i,e);const s=Math.floor((r.start-o)/n);d&&s-d<=0&&(i.globalAlpha=.5,kd.strokeLine(i,s,0,s,a,{strokeStyle:"rgb(255, 255, 255)"}),i.globalAlpha=1),h[t]=c}}}else console.log("No feature list")}clickedFeatures(e){const t=e.y-this.margin,i=super.clickedFeatures(e);let n;switch(this.displayMode){case"SQUISHED":n=Math.floor(t/this.squishedRowHeight);break;case"EXPANDED":n=Math.floor(t/this.expandedRowHeight);break;default:n=void 0}return i.filter((function(e){return void 0===n||void 0===e.row||n===e.row}))}popupData(e,t){void 0===t&&(t=this.clickedFeatures(e));const i=e.genomicLocation,n=[];for(let e of t){const t=e._f||e,o="function"==typeof t.popupData?t.popupData(i):this.extractPopupData(t);if(o){n.length>0&&n.push("<hr/><hr/>");const r=this.infoURL||this.config.infoURL;for(let t of o)if(n.push(t),r&&t.name&&"name"===t.name.toLowerCase()&&t.value&&$a(t.value)&&!t.value.startsWith("<")){const i=r.replace("$$",e.name);t.value=`<a target=_blank href=${i}>${t.value}</a>`}const a="gff"===this.config.format||"gff3"===this.config.format||"gtf"===this.config.format;if(t.exons)for(let e=0;e<t.exons.length;e++){const o=t.exons[e];if(i>=o.start&&i<=o.end){const i=a?o.number:"-"===t.strand?t.exons.length-e:e+1;i&&(n.push("<hr/>"),n.push({name:"Exon Number",value:i}));break}}}}return n}menuItemList(){const e=[];if(this.render===iw){e.push("<hr/>");for(let t of["function","class"])e.push({object:wr(Ua("Color by "+t,t===this.colorBy)),click:()=>{this.colorBy=t,this.trackView.repaintViews()}})}e.push("<hr/>");for(let t of["COLLAPSED","SQUISHED","EXPANDED"]){const i={COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"};e.push({object:wr(Ua(i[t],t===this.displayMode)),click:()=>{this.displayMode=t,this.config.displayMode=t,this.trackView.checkContentHeight(),this.trackView.repaintViews()}})}return e}contextMenuItemList(e){const t=this.clickedFeatures(e);if(void 0===t||0===t.length)return;t.length>1&&t.sort(((e,t)=>t.end-t.start-(e.end-e.start)));const i=t[0];if(i.end-i.start<=1e6){const e=[{label:"View feature sequence",click:async()=>{let e=await this.browser.genome.getSequence(i.chr,i.start,i.end);e?"-"===i.strand&&(e=Jd(e)):e="Unknown sequence",this.browser.alert.present(e)}}];return Od()&&void 0!==navigator.clipboard&&e.push({label:"Copy feature sequence",click:async()=>{let e=await this.browser.genome.getSequence(i.chr,i.start,i.end);e?"-"===i.strand&&(e=Jd(e)):e="Unknown sequence";try{await navigator.clipboard.writeText(e)}catch(e){console.error(e),this.browser.alert.present(`error copying sequence to clipboard ${e}`)}}}),e.push("<hr/>"),e}}description(){if(iw===this.render){let e="<html>"+this.name+"<hr/>";return e+="<em>Color By Function:</em><br>",e+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',e+='<span style="color:green">Green</span>: Coding-Synonymous<br>',e+='<span style="color:blue">Blue</span>: Untranslated<br>',e+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',e+="<em>Color By Class:</em><br>",e+='<span style="color:red">Red</span>: Deletion<br>',e+='<span style="color:green">Green</span>: MNP<br>',e+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',e+='<span style="color:black">Black</span>: Indel, Insertion, SNP',e+="</html>",e}return super.description()}getColorForFeature(e){let t;if(this.altColor&&"-"===e.strand)t="function"==typeof this.altColor?this.altColor(e):this.altColor;else if(this.color)t="function"==typeof this.color?this.color(e):this.color;else if(this.colorBy){const i=e.getAttributeValue?e.getAttributeValue(this.colorBy):e[this.colorBy];t=this.colorTable.getColor(i)}else e.color&&(t=e.color);if(t||(t="rgb(0, 0, 150)"),e.alpha&&1!==e.alpha)t=qh.addAlpha(t,e.alpha);else if(this.useScore&&e.score&&!Number.isNaN(e.score)){const i=function(e,t,i){const n=(t-e)/9,o=Math.floor((i-e)/n);return Math.min(1,.2+.8*o/9)}(this.config.min?this.config.min:this.viewLimitMin?this.viewLimitMin:0,this.config.max?this.config.max:this.viewLimitMax?this.viewLimitMax:1e3,e.score);e.alpha=i,t=qh.addAlpha(t,i)}return t}dispose(){this.trackView=void 0}}class rw{constructor(e){this.config=e,this.browser=e.browser,this.columnFormat=e.columnFormat,this.tableRowSelectionList=[],this.tableDOM=xr.div({class:"igv-roi-table"}),e.parent.appendChild(this.tableDOM),this.headerDOM=e,this.tableColumnTitles=this.tableDOM,this.tableRowContainer=this.tableDOM,this.footerDOM=e.gotoButtonHandler}set headerDOM({browser:e,parent:t,headerTitle:i,dismissHandler:n}){const o=xr.div();this.tableDOM.appendChild(o);const r=xr.div();o.appendChild(r),r.innerHTML=i;const a=xr.div();o.appendChild(a),a.appendChild(xa.createIcon("times")),this.boundDismissHandler=function(e){e.stopPropagation(),n()}.bind(this),a.addEventListener("click",this.boundDismissHandler);const{y:s}=e.root.getBoundingClientRect(),{y:c}=t.getBoundingClientRect(),l=-(c-s);Sa(this.tableDOM,o,{minX:0,minY:l}),this.tableDOM.style.display="none",this._headerDOM=o}set tableColumnTitles(e){const t=xr.div({class:"igv-roi-table-column-titles"});e.appendChild(t);for(const{label:e,width:i}of this.columnFormat){const n=xr.div();t.appendChild(n),n.style.width=i,n.innerText=e}this._tableColumnTitlesDOM=t}get tableColumnTitles(){return this._tableColumnTitlesDOM}set tableRowContainer(e){const t=xr.div({class:"igv-roi-table-row-container"});e.appendChild(t),this._tableRowContainerDOM=t}get tableRowContainer(){return this._tableRowContainerDOM}set footerDOM(e){const t=xr.div();this.tableDOM.appendChild(t);const i=xr.div({class:"igv-roi-table-button"});t.appendChild(i),i.id="igv-roi-table-view-button",i.textContent="Go To",i.style.pointerEvents="none",this._footerDOM=t,this.gotoButton=i,this.boundGotoButtonHandler=e.bind(this),this.gotoButton.addEventListener("click",this.boundGotoButtonHandler)}tableRowDOMHelper(e){e.addEventListener("mousedown",(t=>{t.stopPropagation(),e.classList.toggle("igv-roi-table-row-selected"),e.classList.contains("igv-roi-table-row-selected")?e.classList.remove("igv-roi-table-row-hover"):e.classList.add("igv-roi-table-row-hover"),this.setTableRowSelectionState(e.classList.contains("igv-roi-table-row-selected"))})),e.addEventListener("mouseover",(t=>{e.classList.contains("igv-roi-table-row-selected")?e.classList.remove("igv-roi-table-row-hover"):e.classList.add("igv-roi-table-row-hover")})),e.addEventListener("mouseout",(t=>{e.classList.remove("igv-roi-table-row-hover")}))}clearTable(){const e=this.tableRowContainer.querySelectorAll(".igv-roi-table-row");for(let t of e)t.remove()}setTableRowSelectionState(e){e?this.tableRowSelectionList.push(1):this.tableRowSelectionList.pop(),this.gotoButton.style.pointerEvents=this.tableRowSelectionList.length>0?"auto":"none"}present(){this.tableDOM.style.left="0px";const{y:e}=this.browser.root.getBoundingClientRect(),{y:t}=this.config.parent.getBoundingClientRect();this.tableDOM.style.top=e-t+"px",this.tableDOM.style.display="flex"}dismiss(){this.tableDOM.style.display="none"}dispose(){this.tableDOM.innerHTML="",this.tableDOM.remove();for(const e of Object.keys(this))this[e]=void 0;document.removeEventListener("click",this.boundDismissHandler)}}class aw extends rw{constructor(e){super(Object.assign({width:"1024px"},e)),this.descriptionDOM=e}set descriptionDOM(e){if(e.description){let t;t=xr.div({class:"igv-roi-table-description"}),this.tableDOM.insertBefore(t,this.tableColumnTitles),t.style.height="auto",t.innerHTML="BLAT result for query sequence:",t=xr.div({class:"igv-roi-table-description"}),this.tableDOM.insertBefore(t,this.tableColumnTitles),t.style.height="auto",t.style.maxHeight="128px",t.innerHTML=e.description,t=xr.div({class:"igv-roi-table-goto-explainer"}),this.tableDOM.insertBefore(t,this.tableColumnTitles),t.innerHTML="Select one or more rows and click Go To to view the regions"}}tableRowDOM(e){const t=xr.div({class:"igv-roi-table-row"}),i=e.map((e=>isFinite(e)?Za(e):e));for(let e=0;e<i.length;e++){const n=xr.div();t.appendChild(n);const o=this.columnFormat[e];n.style.width=o.width||"fit-content",n.innerText=i[e]}return this.tableRowDOMHelper(t),t}renderTable(e){if(Array.from(this.tableRowContainer.querySelectorAll(".igv-roi-table-row")).forEach((e=>e.remove())),e.length>0)for(let t of e){const e=this.tableRowDOM(t);this.tableRowContainer.appendChild(e)}}static getColumnFormatConfiguration(){return[{label:"chr",width:"7%"},{label:"start",width:"12%"},{label:"end",width:"12%"},{label:"strand",width:"5%"},{label:"score",width:"5%"},{label:"match",width:"5%"},{label:"mis-match",width:"7%"},{label:"rep. match",width:"7%"},{label:"N's",width:"3%"},{label:"Q gap count",width:"9%"},{label:"Q gap bases",width:"9%"},{label:"T gap count",width:"9%"},{label:"T gap bases",width:"9%"}]}static gotoButtonHandler(e){e.stopPropagation();const t=this.tableDOM.querySelectorAll(".igv-roi-table-row-selected"),i=[];for(const e of t){const t=[];e.querySelectorAll("div").forEach((e=>t.push(e.innerText)));const[n,o,r]=t;i.push(`${n}:${o}-${r}`)}for(const e of this.tableDOM.querySelectorAll(".igv-roi-table-row"))e.classList.remove("igv-roi-table-row-selected");this.setTableRowSelectionState(!1),this.browser.search(i.join(" "))}}async function sw({url:e,userSeq:t,db:i}){e=e||"https://igv.org/services/blatUCSC.php";const n=await async function(e="",t,i){const n=new URLSearchParams;n.append("userSeq",t),n.append("db",i);const o=await fetch(e,{method:"post",body:n});return o.json()}(e,t,i);n.fields;return n.blat.map(gu)}const cw=25e3;class lw extends ow{constructor(e,t){super(e,t),this.name||(this.name="Blat Results"),this.sequence=e.sequence,this.table=void 0}openTableView(){if(void 0===this.table){const e=this.config.features.map((e=>[e.chr,e.start+1,e.end,e.strand,e.score,e.matches,e.misMatches,e.repMatches,e.nCount,e.qNumInsert,e.qBaseInsert,e.tNumInsert,e.tBaseInsert])),t={browser:this.browser,parent:this.browser.parent,headerTitle:this.config.title,description:this.sequence,dismissHandler:()=>{this.table.dismiss(),this.table.dispose(),this.table=void 0},columnFormat:aw.getColumnFormatConfiguration(),gotoButtonHandler:aw.gotoButtonHandler};this.table=new aw(t),this.table.renderTable(e)}this.table.present()}menuItemList(){const e=super.menuItemList();return e.push("<hr/>"),e.push({label:"Open table view",click:()=>this.openTableView()}),e}dispose(){super.dispose(),this.table&&this.table.popover.parentElement.removeChild(this.table.popover)}}async function hw({sequence:e,browser:t,name:i,title:n}){if(e.length>cw)return void t.alert.present(`Sequence size exceeds maximum allowed length (${e.length} > 25000)`);const o=t.genome.id,r=t.config.blatServerURL;try{const a={type:"blat",name:i||"blat results",title:n||"blat results",sequence:e,altColor:"rgb(176, 176, 236)",color:"rgb(236, 176, 176)",features:await sw({url:r,userSeq:e,db:o})};(await t.loadTrack(a)).openTableView()}catch(e){t.alert.present(`Error performing blat search:  ${e}`)}}const dw="rgb(185, 185, 185)";class fw extends Tu{static defaults={alleleFreqThreshold:.2,visibilityWindow:3e4,showCoverage:!0,showAlignments:!0,viewAsPairs:!1,pairsSupported:!0,showSoftClips:!1,showAllBases:!1,showInsertions:!0,showMismatches:!0,height:300,coverageTrackHeight:50};constructor(e,t){super(e,t)}init(e){this.type="alignment",this.featureSource=new ug(e,this.browser),this.coverageTrack=new uw(e,this),this.alignmentTrack=new pw(e,this),super.init(e),this.alignmentTrack.setTop(this.coverageTrack,this.showCoverage),this.showAlignments||(this._height=this.coverageTrackHeight),e.sort&&(Array.isArray(e.sort)?this.assignSort(e.sort[0]):this.assignSort(e.sort))}set height(e){this._height=e,this.showAlignments&&(this.alignmentTrack.height=this.showCoverage?e-this.coverageTrackHeight:e)}get height(){return this._height}get minTemplateLength(){const e=void 0!==this.config.minTLEN?this.config.minTLEN:this.config.minFragmentLength;return void 0!==e?e:this._pairedEndStats?this._pairedEndStats.minTLEN:0}get maxTemplateLength(){const e=void 0!==this.config.maxTLEN?this.config.maxTLEN:this.config.maxFragmentLength;return void 0!==e?e:this._pairedEndStats?this._pairedEndStats.maxTLEN:1e3}sort(e){e=this.assignSort(e);for(let t of this.trackView.viewports)if(t.containsPosition(e.chr,e.position)){const i=t.cachedFeatures;i&&(i.sortRows(e),t.repaint())}}assignSort(e){if(e.locus){const t=function(e){const t=e.split(":"),i=t[1].split("-"),n={chr:t[0],start:Number.parseInt(i[0].replace(/,/g,""))-1};return i.length>1?n.end=Number.parseInt(i[1].replace(/,/g,"")):n.end=n.start+1,n}(e.locus);e.chr=t.chr,e.position=t.start}else e.position--;return e.direction="ASC"===e.direction||!0===e.direction,e.chr=this.browser.genome.getChromosomeName(e.chr),this.sortObject=e,this.sortObject}async getFeatures(e,t,i,n,o){const r=await this.featureSource.getAlignments(e,t,i);if(r.paired&&!this._pairedEndStats&&!this.config.maxFragmentLength){const e=new Gg(r.alignments,this.config);e.totalCount>99&&(this._pairedEndStats=e)}r.alignments=void 0;const a=this.sortObject;return a&&a.chr===e&&a.position>=t&&a.position<=i&&r.sortRows(a),r}computePixelHeight(e){return(this.showCoverage?this.coverageTrackHeight:0)+(this.showAlignments?this.alignmentTrack.computePixelHeight(e):0)}draw(e){kd.fillRect(e.context,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),!0===this.showCoverage&&this.coverageTrackHeight>0?(this.trackView.axisCanvas.style.display="block",this.coverageTrack.draw(e)):this.trackView.axisCanvas.style.display="none",!0===this.showAlignments&&(this.alignmentTrack.setTop(this.coverageTrack,this.showCoverage),this.alignmentTrack.draw(e))}paintAxis(e,t,i){this.coverageTrack.paintAxis(e,t,this.coverageTrackHeight)}contextMenuItemList(e){return this.alignmentTrack.contextMenuItemList(e)}popupData(e){return!0===this.showCoverage&&e.y>=this.coverageTrack.top&&e.y<this.coverageTrackHeight?this.coverageTrack.popupData(e):this.alignmentTrack.popupData(e)}clickedFeatures(e){let t;return t=!0===this.showCoverage&&e.y>=this.coverageTrack.top&&e.y<this.coverageTrackHeight?this.coverageTrack.getClickedObject(e):this.alignmentTrack.getClickedObject(e),t?[t]:void 0}hoverText(e){if(!0===this.showCoverage&&e.y>=this.coverageTrack.top&&e.y<this.coverageTrackHeight){const t=this.coverageTrack.getClickedObject(e);if(t)return t.hoverText()}}menuItemList(){let e=[];e=e.concat(Va.numericDataMenuItems(this.trackView)),e.push("<hr/>");const t=wr('<div class="igv-track-menu-category">');t.text("Color by:"),e.push({name:void 0,object:t,click:void 0,init:void 0});const i=[{key:"strand",label:"read strand"}];this.alignmentTrack.hasPairs&&(i.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),i.push({key:"pairOrientation",label:"pair orientation"}),i.push({key:"tlen",label:"insert size (TLEN)"}),i.push({key:"unexpectedPair",label:"pair orientation & insert size (TLEN)"}));const n="tag"+(this.alignmentTrack.colorByTag?" ("+this.alignmentTrack.colorByTag+")":"");i.push({key:"tag",label:n});for(let t of i){const i=this.alignmentTrack.colorBy===t.key;e.push(this.colorByCB(t,i))}const o=()=>{if(!this.autoHeight){const e=(this.showCoverage?this.coverageTrackHeight:0)+(this.showAlignments?this.alignmentTrack.height:0);this.trackView.setTrackHeight(e)}};e.push("<hr/>"),e.push({object:wr(Ua("Show Coverage",this.showCoverage)),click:()=>{this.showCoverage=!this.showCoverage,o(),this.trackView.checkContentHeight(),this.trackView.repaintViews()}}),e.push({object:wr(Ua("Show Alignments",this.showAlignments)),click:()=>{this.showAlignments=!this.showAlignments,o(),this.trackView.checkContentHeight(),this.trackView.repaintViews()}}),e.push("<hr/>"),e.push({object:wr(Ua("Show all bases",this.showAllBases)),click:()=>{this.showAllBases=!this.showAllBases,this.config.showAllBases=this.showAllBases,this.trackView.repaintViews()}}),e.push("<hr/>"),e.push({object:wr(Ua("Show mismatches",this.showMismatches)),click:()=>{this.showMismatches=!this.showMismatches,this.config.showMismatches=this.showMismatches,this.trackView.repaintViews()}}),e.push({object:wr(Ua("Show insertions",this.showInsertions)),click:()=>{this.showInsertions=!this.showInsertions,this.config.showInsertions=this.showInsertions,this.getCachedAlignmentContainers(),this.trackView.repaintViews()}}),e.push({object:wr(Ua("Show soft clips",this.showSoftClips)),click:()=>{this.showSoftClips=!this.showSoftClips,this.config.showSoftClips=this.showSoftClips,this.featureSource.setShowSoftClips(this.showSoftClips);const e=this.getCachedAlignmentContainers();for(let t of e)t.setShowSoftClips(this.showSoftClips);this.trackView.repaintViews()}}),this.pairsSupported&&this.alignmentTrack.hasPairs&&(e.push("<hr/>"),e.push({object:wr(Ua("View as pairs",this.viewAsPairs)),click:()=>{this.viewAsPairs=!this.viewAsPairs,this.config.viewAsPairs=this.viewAsPairs,this.featureSource.setViewAsPairs(this.viewAsPairs);const e=this.getCachedAlignmentContainers();for(let t of e)t.setViewAsPairs(this.viewAsPairs);this.trackView.repaintViews()}})),this.browser.circularView&&(this.alignmentTrack.hasPairs||this.alignmentTrack.hasSupplemental)&&(e.push("<hr/>"),this.alignmentTrack.hasPairs&&e.push({label:"Add discordant pairs to circular view",click:()=>{for(let e of this.trackView.viewports)this.addPairedChordsForViewport(e)}}),this.alignmentTrack.hasSupplemental&&e.push({label:"Add split reads to circular view",click:()=>{for(let e of this.trackView.viewports)this.addSplitChordsForViewport(e)}})),e.push("<hr/>");const r=wr('<div class="igv-track-menu-category">');return r.text("Display mode:"),e.push({name:void 0,object:r,click:void 0,init:void 0}),e.push({object:wr(Ua("expand","EXPANDED"===this.alignmentTrack.displayMode)),click:()=>{this.alignmentTrack.displayMode="EXPANDED",this.config.displayMode="EXPANDED",this.trackView.checkContentHeight(),this.trackView.repaintViews()}}),e.push({object:wr(Ua("squish","SQUISHED"===this.alignmentTrack.displayMode)),click:()=>{this.alignmentTrack.displayMode="SQUISHED",this.config.displayMode="SQUISHED",this.trackView.checkContentHeight(),this.trackView.repaintViews()}}),e}colorByCB(e,t){return{name:void 0,object:wr(Ua(e.label,t)),click:t=>{"tag"!==e.key?e.key===this.alignmentTrack.colorBy?(this.alignmentTrack.colorBy="none",this.config.colorBy="none",this.trackView.repaintViews()):(this.alignmentTrack.colorBy=e.key,this.config.colorBy=e.key,this.trackView.repaintViews()):this.browser.inputDialog.present({label:"Tag Name",value:this.alignmentTrack.colorByTag?this.alignmentTrack.colorByTag:"",callback:e=>{e?(this.alignmentTrack.colorBy="tag",this.alignmentTrack.colorByTag=e,this.alignmentTrack.tagColors||(this.alignmentTrack.tagColors=new yd("Set1"))):(this.alignmentTrack.colorBy="none",this.alignmentTrack.colorByTag=""),this.trackView.repaintViews()}},t)},init:void 0}}getState(){const e=super.getState();return this.sortObject&&(e.sort={chr:this.sortObject.chr,position:this.sortObject.position+1,option:this.sortObject.option,direction:this.sortObject.direction?"ASC":"DESC"}),e}getCachedAlignmentContainers(){return this.trackView.viewports.map((e=>e.cachedFeatures))}get dataRange(){return this.coverageTrack.dataRange}set dataRange(e){this.coverageTrack.dataRange=e}get logScale(){return this.coverageTrack.logScale}set logScale(e){this.coverageTrack.logScale=e}get autoscale(){return this.coverageTrack.autoscale}set autoscale(e){this.coverageTrack.autoscale=e}addPairedChordsForViewport(e){const t=this.maxTemplateLength,i=[],n=e.referenceFrame;for(let o of e.cachedFeatures.allAlignments())o.end>=n.start&&o.start<=n.end&&(o.paired?o.end-o.start>t&&i.push(o):o.mate&&o.mate.chr&&(o.mate.chr!==o.chr||Math.max(o.fragmentLength)>t)&&i.push(o));Wg((e=>{const t=[];for(let i of e)if(i.paired)i.firstAlignment&&i.secondAlignment&&t.push({uniqueId:i.readName,refName:Vg(i.firstAlignment.chr),start:i.firstAlignment.start,end:i.firstAlignment.end,mate:{refName:Vg(i.secondAlignment.chr),start:i.secondAlignment.start,end:i.secondAlignment.end}});else{const e=i.mate;e&&e.chr&&e.position&&t.push({uniqueId:i.readName,refName:Vg(i.chr),start:i.start,end:i.end,mate:{refName:Vg(e.chr),start:e.position-1,end:e.position}})}return t})(i),this,n,.02)}addSplitChordsForViewport(e){const t=[],i=e.referenceFrame;for(let n of e.cachedFeatures.allAlignments()){const e=n.hasTag("SA");n.end>=i.start&&n.start<=i.end&&e&&t.push(n)}Wg((e=>{const t=e=>{const t=Mm(e.tags().SA);let n=0;for(let o of t)o.start!==e.start&&i.push({uniqueId:`${e.readName}_${n++}`,refName:Vg(e.chr),start:e.start,end:e.end,mate:{refName:Vg(o.chr),start:o.start,end:o.start+o.lenOnRef}})},i=[];for(let i of e)i.paired?(t(i.firstAlignment),i.secondAlignment&&t(i.secondAlignment)):t(i);return i})(t),this,i,.02)}}class uw{constructor(e,t){this.parent=t,this.featureSource=t.featureSource,this.paintAxis=pg,this.top=0,this.autoscale=e.autoscale||void 0===e.max,this.autoscale||(this.dataRange={min:e.min||0,max:e.max})}get height(){return this.parent.coverageTrackHeight}draw(e){const t=e.pixelTop;e.pixelHeight;const i=this.parent.browser.nucleotideColors;if(t>this.height)return;const n=e.context,o=e.features.coverageMap;let r;o.refSeq&&(r=o.refSeq.toUpperCase());const a=e.bpPerPixel,s=e.bpStart,c=s+e.pixelWidth*a+1;let l;l=this.parent.coverageColor?this.parent.coverageColor:this.parent.color&&"function"!=typeof this.parent.color?qh.darkenLighten(this.parent.color,-35):"rgb(150, 150, 150)",kd.setProperties(n,{fillStyle:l,strokeStyle:l});const h=Math.max(1,Math.ceil(1/a));for(let e=0,t=o.coverage.length;e<t;e++){const t=o.bpStart+e;if(t<s)continue;if(t>c)break;const i=o.coverage[e];if(!i)continue;const r=Math.round(i.total/this.dataRange.max*this.height),l=this.height-r,d=Math.floor((t-s)/a);kd.fillRect(n,d,l,h,r)}if(r)for(let e=0,t=o.coverage.length;e<t;e++){const t=o.bpStart+e;if(t<s)continue;if(t>c)break;const l=o.coverage[e];if(!l)continue;const d=l.total/this.dataRange.max*this.height;let f=this.height-d;const u=Math.floor((t-s)/a),p=r[e];if(l.isMismatch(p)){kd.setProperties(n,{fillStyle:i[p]}),kd.fillRect(n,u,f,h,d);let e=0;for(let t of["A","C","T","G"]){const o=(l["pos"+t]+l["neg"+t])/this.dataRange.max*this.height;f=this.height-o-e,e+=o,kd.setProperties(n,{fillStyle:i[t]}),kd.fillRect(n,u,f,h,o)}}}}getClickedObject(e){let t=e.viewport.cachedFeatures;if(!t||0===t.length)return;const i=Math.floor(e.genomicLocation),n=t.coverageMap,o=Math.floor(i-n.bpStart);return n.coverage[o]}popupData(e){const t=[],i=this.getClickedObject(e);if(i){const n=Math.floor(e.genomicLocation),o=e.viewport.referenceFrame;t.push(o.chr+":"+Za(1+n)),t.push({name:"Total Count",value:i.total});let r=i.posA+i.negA;r>0&&(r=r.toString()+" ("+Math.round(r/i.total*100)+"%, "+i.posA+"+, "+i.negA+"- )"),t.push({name:"A",value:r}),r=i.posC+i.negC,r>0&&(r=r.toString()+" ("+Math.round(r/i.total*100)+"%, "+i.posC+"+, "+i.negC+"- )"),t.push({name:"C",value:r}),r=i.posG+i.negG,r>0&&(r=r.toString()+" ("+Math.round(r/i.total*100)+"%, "+i.posG+"+, "+i.negG+"- )"),t.push({name:"G",value:r}),r=i.posT+i.negT,r>0&&(r=r.toString()+" ("+Math.round(r/i.total*100)+"%, "+i.posT+"+, "+i.negT+"- )"),t.push({name:"T",value:r}),r=i.posN+i.negN,r>0&&(r=r.toString()+" ("+Math.round(r/i.total*100)+"%, "+i.posN+"+, "+i.negN+"- )"),t.push({name:"N",value:r}),t.push("<HR/>"),t.push({name:"DEL",value:i.del.toString()}),t.push({name:"INS",value:i.ins.toString()})}return t}}class pw{constructor(e,t){this.parent=t,this.browser=t.browser,this.featureSource=t.featureSource,this.top=0===e.coverageTrackHeight?0:e.coverageTrackHeight+5,this.displayMode=e.displayMode||"EXPANDED",this.alignmentRowHeight=e.alignmentRowHeight||14,this.squishedRowHeight=e.squishedRowHeight||3,this.negStrandColor=e.negStrandColor||"rgba(150, 150, 230, 0.75)",this.posStrandColor=e.posStrandColor||"rgba(230, 150, 150, 0.75)",this.insertionColor=e.insertionColor||"rgb(138, 94, 161)",this.insertionTextColor=e.insertionTextColor||"white",this.showInsertionText=void 0!==e.showInsertionText&&!!e.showInsertionText,this.deletionColor=e.deletionColor||"black",this.deletionTextColor=e.deletionTextColor||"black",this.showDeletionText=void 0!==e.showDeletionText&&!!e.showDeletionText,this.skippedColor=e.skippedColor||"rgb(150, 170, 170)",this.pairConnectorColor=e.pairConnectorColor,this.smallTLENColor=e.smallTLENColor||e.smallFragmentLengthColor||"rgb(0, 0, 150)",this.largeTLENColor=e.largeTLENColor||e.largeFragmentLengthColor||"rgb(200, 0, 0)",this.pairOrientation=e.pairOrienation||"fr",this.pairColors={},this.pairColors.RL=e.rlColor||"rgb(0, 150, 0)",this.pairColors.RR=e.rrColor||"rgb(20, 50, 200)",this.pairColors.LL=e.llColor||"rgb(0, 150, 150)",this.colorBy=e.colorBy||"unexpectedPair",this.colorByTag=e.colorByTag?e.colorByTag.toUpperCase():void 0,this.bamColorTag=void 0===e.bamColorTag?"YC":e.bamColorTag,this.hideSmallIndels=e.hideSmallIndels,this.indelSizeThreshold=e.indelSizeThreshold||1,this.hasPairs=!1,this.hasSupplemental=!1}setTop(e,t){this.top=0===e.height||!1===t?0:5+e.height}computePixelHeight(e){if(e.packedAlignmentRows){return(e.hasDownsampledIntervals()?10:0)+("SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight)*e.packedAlignmentRows.length+5}return 0}draw(e){const t=e.features,i=e.context,n=e.bpPerPixel,o=e.bpStart,r=e.pixelWidth,a=o+r*n+1,s=this.parent.showSoftClips,c=this.parent.showAllBases,l=this.browser.nucleotideColors,h=t.packedAlignmentRows;i.save();let d=t.sequence;d&&(d=d.toUpperCase());let f=0,u=e.pixelTop;this.top&&i.translate(0,this.top);const p=u+e.pixelHeight;t.hasDownsampledIntervals()?(f=10,t.downsampledIntervals.forEach((function(e){var t=(e.start-o)/n,r=(e.end-o)/n;r-t>5&&(t+=1,r-=1),kd.fillRect(i,t,2,r-t,3,{fillStyle:"black"})}))):f=0,this.alignmentsYOffset=f;const m="SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight;if(h){const e=h.length;for(let t=0;t<e;t++){const e=h[t],i=f+m*t,n=m<=4?m:m-2;if(i>p)break;if(!(i+n<u))for(let t of e.alignments)if(this.hasPairs=this.hasPairs||t.isPaired(),this.browser.circularView&&(this.hasSupplemental=this.hasSupplemental||t.hasTag("SA")),!(t.start+t.lengthOnRef<o)){if(t.start>a)break;!0!==t.hidden&&(t instanceof ym?(g.call(this,t,i,n),w.call(this,t.firstAlignment,i,n),t.secondAlignment&&w.call(this,t.secondAlignment,i,n)):w.call(this,t,i,n))}}}function g(e,t,r){var s=this.getConnectorColor(e.firstAlignment),c=(e.connectingStart-o)/n,l=(e.connectingEnd-o)/n,h=t+r/2;e.connectingEnd<o||e.connectingStart>a||(e.mq<=0&&(s=qh.addAlpha(s,.15)),kd.setProperties(i,{fillStyle:s,strokeStyle:s}),kd.strokeLine(i,c,h,l,h))}function w(e,h,f){if(e.start+e.lengthOnRef<o||e.start>a)return;const u=s?e.blocks:e.blocks.filter((e=>"S"!==e.type));let p=this.getAlignmentColor(e);const g=p;e.mq<=0&&(p=qh.addAlpha(p,.15)),kd.setProperties(i,{fillStyle:p,strokeStyle:g});const w=[];for(let e=0;e<u.length;e++){const t=u[e];if(!(e!==u.length-1&&u[e+1].start<o)&&(w.push(...F.call(this,t,e)),t.start+t.len>a))break}if(e.gaps){const t=h+f/2;for(let r of e.gaps){const e=(r.start-o)/n,a=(r.start+r.len-o)/n,s=a-e,c=r.len.toString(),l=6*c.length,d=e+s/2,f="D"===r.type?this.deletionColor:this.skippedColor;if(kd.strokeLine(i,e,t,a,t,{strokeStyle:f,lineWidth:2}),this.showDeletionText&&r.len>1&&s>=l+8){const e=d-l/2;kd.fillRect(i,e-1,h-1,l+2,12,{fillStyle:"white"}),kd.fillText(i,c,e,h+10,{font:"normal 10px monospace",fillStyle:this.deletionTextColor})}}}if(e.insertions&&this.parent.showInsertions){let t=-1;for(let r of e.insertions){if(this.hideSmallIndels&&r.len<=this.indelSizeThreshold)continue;if(r.start<o)continue;if(r.start>a)break;const e=r.start-o,s=r.len.toString(),c=2+6*s.length,l=this.showInsertionText&&1!==r.len?Math.round(r.len/n):2,d=Math.max(Math.min(c,l),2),u=e/n-d/2;if(u-t>2){const e={fillStyle:this.insertionColor};kd.fillRect(i,u-2,h,d+4,2,e),kd.fillRect(i,u,h+2,d,f-4,e),kd.fillRect(i,u-2,h+f-2,d+4,2,e),this.showInsertionText&&r.len>1&&l>c&&kd.fillText(i,s,u+1,h+10,{font:"normal 10px monospace",fillStyle:this.insertionTextColor}),t=u}}}function F(a,s){const w=[],F=a.start-t.start,b=(a.start-o)/n,v=(a.start+a.len-o)/n,y=Math.max(1,v-b),_=100/n,C=Math.min(m/2,_/6),x="S"===a.type,k=e.mq<=0||this.highlightedAlignmentReadNamed===e.readName||x;let E=g;this.highlightedAlignmentReadNamed===e.readName?E="red":x&&(E="rgb(50,50,50)");const N=!0===e.strand&&s===u.length-1,S=!1===e.strand&&0===s;if(N|S){let e,t;N?(e=[b,v,v+C,v,b,b],t=[h,h,h+f/2,h+f,h+f,h]):S&&(e=[v,b,b-C,b,v,v],t=[h,h,h+f/2,h+f,h+f,h]),kd.fillPolygon(i,e,t,{fillStyle:p}),k&&kd.strokePolygon(i,e,t,{strokeStyle:E})}else kd.fillRect(i,b,h,y,f,{fillStyle:p}),k&&(i.save(),i.strokeStyle=E,i.strokeRect(b,h,y,f),i.restore());if(x||c||this.parent.showMismatches&&d&&e.seq&&"*"!==e.seq){const t=e.seq?e.seq.toUpperCase():void 0,i=e.qual,s=a.seqOffset,u=Math.max(1,1/n);for(let e=0,p=a.len;e<p;e++){const p=(a.start+e-o)/n;if(p+u<0)continue;if(p>r)break;let m=t?t.charAt(s+e):"";const g=F+e>=0?d.charAt(F+e):"";if("="===m&&(m=g),"X"===m||g!==m||x||c){let t;if(!x&&void 0!==i&&i.length>s+e){t=mw(i[s+e],l[m])}else t=l[m];t&&w.push({bbox:{x:p,y:h,width:u,height:f},baseColor:t,readChar:m})}}}return w}w.forEach((({bbox:e,baseColor:t,readChar:o})=>{!function(e,t,i,n,o){var r;if(t<=.1&&i.height>=8){const t=Math.min(10,i.height);e.font=t+"px sans-serif",r=i.x+i.width/2,kd.strokeText(e,o,r-e.measureText(o).width/2,t-1+i.y,{strokeStyle:n})}else kd.fillRect(e,i.x,i.y,i.width,i.height,{fillStyle:n})}(i,n,e,t,o)}))}i.restore()}popupData(e){const t=this.getClickedObject(e);return t?t.popupData(e.genomicLocation):void 0}contextMenuItemList(e){const t=e.viewport,i=[],n=i=>{const n=this.parent.sortObject,o=!n||n.position!==Math.floor(e.genomicLocation)||!n.direction,r={chr:t.referenceFrame.chr,position:Math.floor(e.genomicLocation),option:i,direction:o};this.parent.sortObject=r,t.cachedFeatures.sortRows(r),t.repaint()};i.push("<b>Sort by...</b>"),i.push({label:"&nbsp; base",click:()=>n("BASE")}),i.push({label:"&nbsp; read strand",click:()=>n("STRAND")}),i.push({label:"&nbsp; insert size",click:()=>n("INSERT_SIZE")}),i.push({label:"&nbsp; gap size",click:()=>n("GAP_SIZE")}),i.push({label:"&nbsp; chromosome of mate",click:()=>n("MATE_CHR")}),i.push({label:"&nbsp; mapping quality",click:()=>n("MQ")}),i.push({label:"&nbsp; read name",click:()=>n("READ_NAME")}),i.push({label:"&nbsp; aligned read length",click:()=>n("ALIGNED_READ_LENGTH")}),i.push({label:"&nbsp; tag",click:()=>{const i=this.parent.sortObject,n=!i||i.position!==Math.floor(e.genomicLocation)||!i.direction,o={label:"Tag Name",value:this.sortByTag?this.sortByTag:"",callback:i=>{if(i){const o={chr:t.referenceFrame.chr,position:Math.floor(e.genomicLocation),option:"TAG",tag:i,direction:n};this.sortByTag=i,this.parent.sortObject=o,t.cachedFeatures.sortRows(o),t.repaint()}}};this.browser.inputDialog.present(o,e.event)}}),i.push("<hr/>");const o=this.getClickedObject(e);if(o){const t=this.parent.showSoftClips,n="function"==typeof o.alignmentContaining?o.alignmentContaining(e.genomicLocation,t):o;if(n){n.isPaired()&&n.isMateMapped()&&i.push({label:"View mate in split screen",click:()=>{if(n.mate){const t=e.viewport.referenceFrame;if(this.browser.genome.getChromosome(n.mate.chr)){this.highlightedAlignmentReadNamed=n.readName;const e=t.end-t.start,i=n.mate.position-e/2,o=n.mate.position+e/2;this.browser.addMultiLocusPanel(n.mate.chr,i,o,t)}else this.browser.alert.present(`Reference does not contain chromosome: ${n.mate.chr}`)}},init:void 0}),i.push({label:"View read sequence",click:()=>{const e=n.seq;e&&"*"!==e?this.browser.alert.present(e):this.browser.alert.present("Read sequence: *")}}),Od()&&i.push({label:"Copy read sequence",click:async()=>{const e=n.seq;try{await navigator.clipboard.writeText(e)}catch(e){console.error(e),this.browser.alert.present(`error copying sequence to clipboard ${e}`)}}});const t=n.seq;if(t&&"*"!=t){t.length<cw&&i.push({label:"BLAT read sequence",click:()=>{const e=n.isNegativeStrand()?Jd(t):t,i=`${n.readName} - blat`,o=`${this.parent.name} - ${i}`;hw({sequence:e,browser:this.browser,name:i,title:o})}});const e=n.softClippedBlocks();e.left&&e.left.len>20&&e.left.len<cw&&i.push({label:"BLAT left soft-clipped sequence",click:()=>{const i=t.substr(e.left.seqOffset,e.left.len),o=n.isNegativeStrand()?Jd(i):i,r=`${n.readName} - blat left clip`,a=`${this.parent.name} - ${r}`;hw({sequence:o,browser:this.browser,name:r,title:a})}}),e.right&&e.right.len>20&&e.right.len<cw&&i.push({label:"BLAT right soft-clipped sequence",click:()=>{const i=t.substr(e.right.seqOffset,e.right.len),o=n.isNegativeStrand()?Jd(i):i,r=`${n.readName} - blat right clip`,a=`${this.parent.name} - ${r}`;hw({sequence:o,browser:this.browser,name:r,title:a})}})}i.push("<hr/>")}}return this.browser.circularView&&(this.hasPairs||this.hasSupplemental)&&(this.hasPairs&&i.push({label:"Add discordant pairs to circular view",click:()=>{this.parent.addPairedChordsForViewport(t)}}),this.hasSupplemental&&i.push({label:"Add split reads to circular view",click:()=>{this.parent.addSplitChordsForViewport(t)}}),i.push("<hr/>")),i}getClickedObject(e){const t=e.viewport,i=e.y,n=e.genomicLocation,o=this.parent.showSoftClips;let r=t.cachedFeatures;if(!r||0===r.length)return;let a=r.packedAlignmentRows,s=r.downsampledIntervals;const c="SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight;let l=Math.floor((i-this.top-this.alignmentsYOffset)/c);if(l<0){for(let e=0;e<s.length;e++)if(s[e].start<=n&&s[e].end>=n)return s[e]}else if(l<a.length){const e=a[l].alignments.filter((e=>e.containsLocation(n,o)));if(e.length>0)return e[0]}}getConnectorColor(e){if(this.pairConnectorColor)return this.pairConnectorColor;switch(this.colorBy){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.parent.color?"function"==typeof this.parent.color?this.parent.color(e):this.parent.color:"rgb(200, 200, 200)";default:return this.getAlignmentColor(e)}}getAlignmentColor(e){let t=dw;t=this.parent.color?"function"==typeof this.parent.color?this.parent.color(e):this.parent.color:dw;const i=this.colorBy;switch(i){case"strand":t=e.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":e instanceof ym?t=e.firstOfPairStrand()?this.posStrandColor:this.negStrandColor:e.isPaired()&&(e.isFirstOfPair()?t=e.strand?this.posStrandColor:this.negStrandColor:e.isSecondOfPair()?t=e.strand?this.negStrandColor:this.posStrandColor:console.error("ERROR. Paired alignments are either first or second."));break;case"unexpectedPair":case"pairOrientation":if(this.pairOrientation&&e.pairOrientation){const i=gw[this.pairOrientation];if(i){const n=this.pairColors[i[e.pairOrientation]];if(n){t=n;break}}}if("pairOrientation"===i)break;case"tlen":case"fragmentLength":e.mate&&e.isMateMapped()&&(e.mate.chr!==e.chr?t=ww(e.mate.chr):this.parent.minTemplateLength&&Math.abs(e.fragmentLength)<this.parent.minTemplateLength?t=this.smallTLENColor:this.parent.maxTemplateLength&&Math.abs(e.fragmentLength)>this.parent.maxTemplateLength&&(t=this.largeTLENColor));break;case"tag":const n=e.tags()[this.colorByTag];void 0!==n&&(this.bamColorTag===this.colorByTag?t="rgb("+n+")":(this.tagColors||(this.tagColors=new yd("Set1")),t=this.tagColors.getColor(n)))}return t}}function mw(e,t){let i;return i=e<5?.1:Math.max(.1,Math.min(1,.1+.9*(e-5)/15)),i=Math.round(10*i)/10,i<1&&(t=qh.addAlpha(t,i)),t}const gw={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};function ww(e){if(Fw[e])return Fw[e];if(Fw["chr"+e]){const t=Fw["chr"+e];return Fw[e]=t,t}{const t=qh.randomRGB(0,255);return Fw[e]=t,t}}const Fw={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0)",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"};let bw,vw;class yw extends Pf{constructor(e,t,i,n){super(e,t,i,n)}get contentDiv(){return this.$viewport.get(0)}initializationHelper(){let e;this.$multiLocusCloseButton=wr("<div>",{class:"igv-multi-locus-close-button"}),this.$viewport.append(this.$multiLocusCloseButton),this.$multiLocusCloseButton.get(0).appendChild(xa.createIcon("times-circle")),this.$multiLocusCloseButton.click((()=>{this.browser.removeMultiLocusPanel(this.referenceFrame)})),this.$rulerLabel=wr("<div>",{class:"igv-multi-locus-ruler-label"}),this.$viewport.append(this.$rulerLabel),e=document.createElement("div"),this.$rulerLabel.append(wr(e)),this.$rulerLabel.get(0).addEventListener("click",(async e=>{e.stopPropagation(),await this.browser.gotoMultilocusPanel(this.referenceFrame)})),this.$tooltip=wr("<div>",{class:"igv-ruler-tooltip"}),this.$tooltip.height(this.$viewport.height()),this.$viewport.append(this.$tooltip),this.$tooltipContent=wr("<div>"),this.$tooltip.append(this.$tooltipContent),this.rulerSweeper=new vm(this,this.$viewport.get(0).parentElement,this.browser,this.referenceFrame),this.attachMouseHandlers(Rf.isWholeGenomeView(this.referenceFrame.chr)),this.$tooltip.hide(),this.dismissLocusLabel()}presentLocusLabel(e){this.$multiLocusCloseButton.show(),this.$rulerLabel.show(),this.$rulerLabel.get(0).style.backgroundColor=ww(this.referenceFrame.chr);const t=this.$rulerLabel.get(0).querySelector("div"),{width:i}=this.$rulerLabel.get(0).getBoundingClientRect();t.innerHTML=`${this.referenceFrame.getMultiLocusLabel(e)}`;const{width:n}=t.getBoundingClientRect();n/i>.5&&(t.innerHTML=`${this.referenceFrame.getMultiLocusLabelBPLengthOnly(e)}`)}dismissLocusLabel(){this.$rulerLabel.hide(),this.$multiLocusCloseButton.hide()}attachMouseHandlers(e){if(this.namespace=`.ruler_track_viewport_${this.browser.referenceFrameList.indexOf(this.referenceFrame)}`,this.$viewport.off(this.namespace),!0===e){const e=this.browser.referenceFrameList.indexOf(this.referenceFrame),t=`click${this.namespace}`;this.$viewport.on(t,(t=>{const{x:i}=xr.translateMouseCoordinates(t,this.$viewport.get(0)),n=Math.round(this.referenceFrame.start+this.referenceFrame.toBP(i));let o;const{chr:r}=this.browser.genome.getChromosomeCoordinate(n);if(1===this.browser.referenceFrameList.length)o=r;else{let t=this.browser.referenceFrameList.map((({locusSearchString:e})=>e));t[e]=r,o=t.join(" ")}this.browser.search(o)})),this.$viewport.get(0).style.cursor="pointer"}else this.$viewport.get(0).style.cursor="default"}mouseMove(e){if(!0===this.browser.cursorGuideVisible){void 0===vw?(vw=this,this.$tooltip.show()):vw.guid!==this.guid?(vw.$tooltip&&vw.$tooltip.hide(),this.$tooltip.show(),vw=this):this.$tooltip.show();if(this.browser.isMultiLocusWholeGenomeView()||Rf.isWholeGenomeView(this.referenceFrame.chr))return void this.$tooltip.hide();const{x:t}=xr.translateMouseCoordinates(e,this.$viewport.get(0)),{start:i,bpPerPixel:n}=this.referenceFrame,o=Math.round(.5+i+Math.max(0,t)*n);this.$tooltipContent.text(Za(o));const{width:r}=this.$tooltipContent.get(0).getBoundingClientRect(),{width:a}=this.$viewport.get(0).getBoundingClientRect();this.$tooltip.css({left:`${Bh(t,0,a-r)}px`}),clearTimeout(bw),bw=setTimeout((()=>{this.$tooltip&&this.$tooltip.hide()}),1e4)}}startSpinner(){}stopSpinner(){}dispose(){this.rulerSweeper.dispose(),super.dispose()}}class _w extends Pf{constructor(e,t,i,n){super(e,t,i,n)}initializationHelper(){this.canvas=document.createElement("canvas"),this.canvas.className="igv-ideogram-canvas",this.$viewport.append(wr(this.canvas)),this.ideogram_ctx=this.canvas.getContext("2d"),this.addMouseHandlers()}addMouseHandlers(){this.addViewportClickHandler(this.$viewport.get(0))}addViewportClickHandler(e){this.boundClickHandler=function(e){const{xNormalized:t,width:i}=xr.translateMouseCoordinates(e,this.ideogram_ctx.canvas),{bpLength:n}=this.browser.genome.getChromosome(this.referenceFrame.chr),o=this.referenceFrame.bpPerPixel*i/n;let r=t;r-o/2<0&&(r=o/2);r+o/2>1&&(r=1-o/2);const a=Math.round((r-o/2)*n),s=Math.round((r+o/2)*n);this.referenceFrame.start=a,this.referenceFrame.end=s,this.referenceFrame.bpPerPixel=(s-a)/i,this.browser.updateViews(this.referenceFrame,this.browser.trackViews,!0)}.bind(this),e.addEventListener("click",this.boundClickHandler)}setWidth(e){this.$viewport.width(e)}drawSVGWithContext(e,t,i,n,o,r,a){e.saveWithTranslationAndClipRect(n,o,r,t,i,a),this.trackView.track.draw({context:e,referenceFrame:this.referenceFrame,pixelWidth:t,pixelHeight:i}),e.restore()}repaint(){this.draw({referenceFrame:this.referenceFrame})}draw({referenceFrame:e}){kd.configureHighDPICanvas(this.ideogram_ctx,this.$viewport.width(),this.$viewport.height()),this.trackView.track.draw({context:this.ideogram_ctx,referenceFrame:e,pixelWidth:this.$viewport.width(),pixelHeight:this.$viewport.height()})}startSpinner(){}stopSpinner(){}}function Cw(e,t,i,n){if("ruler"===e.track.type)return new yw(e,t,i,n);if("ideogram"===e.track.id)return new _w(e,t,i,n);return new Pf(e,t,i,n)}const xw={textAlign:"start",textBaseline:"bottom",strokeStyle:"black",fillStyle:"black"};class kw{constructor(e,t,i,n){this.guid=xr.guid(),this.trackView=e,this.browser=e.browser,this.viewport=xr.div({class:"igv-viewport"}),t.appendChild(this.viewport),e.track.height&&(this.viewport.style.height=`${e.track.height}px`),this.canvas=document.createElement("canvas"),this.viewport.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.trackScrollDelta=0,this.contentTop=0,this.setWidth(n),!1===this.browser.showSampleNames&&this.hide(),this.addMouseHandlers()}checkCanvas(){const e=window.devicePixelRatio,t=this.viewport.clientHeight,i=this.browser.sampleNameViewportWidth;if(this.canvas.width!==i*e||this.canvas.height!==t*e){const n=this.canvas;n.width=i*e,n.height=t*e,n.style.width=`${i}px`,n.style.height=`${t}px`,this.ctx=this.canvas.getContext("2d"),this.ctx.scale(e,e)}}setTop(e){if("function"==typeof this.trackView.track.getSamples){this.contentTop=e;const t=this.trackView.track.getSamples();this.repaint(t)}}setWidth(e){this.viewport.innerWidth=e,this.checkCanvas()}show(){this.viewport.style.display="block"}hide(){this.viewport.style.display="none"}async repaint(e){this.checkCanvas(),this.draw({context:this.ctx,samples:e})}draw({context:e,samples:t}){if(!t||0===t.names.length)return;!function(e,{textAlign:t,textBaseline:i,strokeStyle:n,fillStyle:o},r){const a=Math.min(r,10);e.font=`${a}px sans-serif`,e.textAlign=t,e.textBaseline=i,e.fillStyle=o}(e,xw,t.height);e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle=function(e){const{r:t,g:i,b:n}=bd[e];return`rgb(${t},${i},${n})`}("lead");const i=this.viewport.getBoundingClientRect().height;let n=(t.yOffset||0)+this.contentTop;for(let o of t.names){if(n>i)break;if(n+t.height>0){const i=o,r=Ew(e,i,n,t.height);e.fillText(i,4,r)}n+=t.height}}renderSVGContext(e,{deltaX:t,deltaY:i}){if("function"==typeof this.trackView.track.getSamples){const n=this.trackView.track.getSamples(),o=0,{width:r,height:a}=this.viewport.getBoundingClientRect(),s=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_sample_names_guid_${xr.guid()}`;e.saveWithTranslationAndClipRect(s,t,i+o,r,a,-o),this.draw({context:e,samples:n}),e.restore()}}addMouseHandlers(){this.addViewportContextMenuHandler(this.viewport)}removeMouseHandlers(){this.removeViewportContextMenuHandler(this.viewport)}addViewportContextMenuHandler(e){this.boundContextMenuHandler=function(e){e.preventDefault(),e.stopPropagation();const t={label:"Name Panel Width",value:this.browser.sampleNameViewportWidth,callback:e=>{this.browser.sampleNameViewportWidth=parseInt(e);for(let{sampleNameViewport:e}of this.browser.trackViews)e.setWidth(this.browser.sampleNameViewportWidth);this.browser.layoutChange()}};this.browser.inputDialog.present(t,e)}.bind(this),e.addEventListener("contextmenu",this.boundContextMenuHandler)}removeViewportContextMenuHandler(e){e.removeEventListener("contextmenu",this.boundContextMenuHandler)}dispose(){this.removeMouseHandlers(),this.viewport.remove()}}function Ew(e,t,i,n){return i+n-function(e,t,i){const{actualBoundingBoxAscent:n,actualBoundingBoxDescent:o}=e.measureText(t);return(i-(n+o))/2}(e,t,n)}const Nw=function(e){this.popover=xr.div({class:"igv-menu-popup"}),e.appendChild(this.popover);const t=xr.div({class:"igv-menu-popup-header"});this.popover.appendChild(t),Ea.attachDialogCloseHandlerWithParent(t,(()=>this.hide())),this.popoverContent=xr.div(),this.popover.appendChild(this.popoverContent),Sa(this.popover,t),t.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault()})),this.hide()};Nw.prototype.hide=function(){this.popover.style.display="none"},Nw.prototype.presentMenuList=function(e){if(Sw(),e.length>0){this.popoverContent.innerHTML="",e=Va.trackMenuItemListHelper(e,this);for(let t of e){t.init&&t.init();let i=t.object;0===e.indexOf(t)&&i.removeClass("igv-track-menu-border-top"),i.hasClass("igv-track-menu-border-top")||i.hasClass("igv-menu-popup-check-container")||i.is("div")&&i.addClass("igv-menu-popup-shim"),this.popoverContent.appendChild(i.get(0))}this.popover.style.display="flex";const{width:t}=this.popover.getBoundingClientRect();this.popover.style.left=-t+"px",this.popover.style.top="0px"}},Nw.prototype.presentTrackContextMenu=function(e,t){this.popoverContent.innerHTML="";const i=(n=t,o=this.popover,n.map((e=>{let t;if("string"==typeof e&&"<hr/>"===e)t=document.createElement("hr");else if("string"==typeof e)t=xr.div({class:"context-menu"}),t.innerHTML=e;else if("Node"==typeof e)t=e;else{if("function"==typeof e.init&&e.init(),"checkbox"===e.type)t=Ua("Show all bases",e.value);else if("color"===e.type){const i=new qa({parent:o.parentElement,width:364});i.configure(void 0,{color:t=>e.click(t)}),t=xr.div({class:"context-menu"}),"string"==typeof e.label&&(t.innerHTML=e.label);const n=e=>{i.show(),xr.hide(o),e.preventDefault(),e.stopPropagation()};t.addEventListener("click",n),t.addEventListener("touchend",n),t.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}else t=xr.div({class:"context-menu"}),"string"==typeof e.label&&(t.innerHTML=e.label);if(e.click&&"color"!==e.type){function r(t){e.click(),xr.hide(o),t.preventDefault(),t.stopPropagation()}t.addEventListener("click",r),t.addEventListener("touchend",r),t.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}}return{el:t,init:e.init}})));var n,o;for(let{el:e}of i)this.popoverContent.appendChild(e);!function(e,t){t.style.display="flex";const{x:i,y:n}=xr.translateMouseCoordinates(e,t.parentNode),{width:o}=t.getBoundingClientRect(),r=i+o,{width:a}=t.parentNode.getBoundingClientRect();t.style.left=`${r>a?i-(r-a):i}px`,t.style.top=`${n}px`}(e,this.popover)},Nw.prototype.dispose=function(){this.popoverContent.innerHTML="",this.popover.innerHTML="",Object.keys(this).forEach((function(e){this[e]=void 0}))};const Sw=()=>{const e=document.querySelectorAll(".igv-menu-popup");for(let t=0;t<e.length;t++)e[t].style.display="none"},Iw=new Set(["ruler","ideogram"]),zw=new Set(["ruler","sequence","ideogram"]);class Dw{constructor(e,t,i){this.browser=e,this.track=i,i.trackView=this,this.addDOMToColumnContainer(e,t,e.referenceFrameList)}startSpinner(){this.viewports&&this.viewports.length>0&&this.viewports[0].startSpinner()}stopSpinner(){this.viewports&&this.viewports.length>0&&this.viewports[0].stopSpinner()}addDOMToColumnContainer(e,t,i){this.axis=this.createAxis(e,this.track),this.viewports=[];const n=e.calculateViewportWidth(i.length),o=t.querySelectorAll(".igv-column");for(let e=0;e<o.length;e++){const t=Cw(this,o[e],i[e],n);this.viewports.push(t)}this.sampleNameViewport=new kw(this,e.columnContainer.querySelector(".igv-sample-name-column"),void 0,e.sampleNameViewportWidth),this.createTrackScrollbar(e),this.createTrackDragHandle(e),this.createTrackGearPopup(e)}createAxis(e,t){const i=xr.div();if(e.columnContainer.querySelector(".igv-axis-column").appendChild(i),i.style.height=`${t.height}px`,"function"==typeof t.paintAxis){t.dataRange&&i.addEventListener("click",(()=>{e.dataRangeDialog.configure(this),e.dataRangeDialog.present(wr(e.columnContainer))}));const{width:n,height:o}=i.getBoundingClientRect();this.axisCanvas=document.createElement("canvas"),this.axisCanvas.style.width=`${n}px`,this.axisCanvas.style.height=`${o}px`,i.appendChild(this.axisCanvas)}return i}resizeAxisCanvas(e,t){this.axis.style.width=`${e}px`,this.axis.style.height=`${t}px`,"function"==typeof this.track.paintAxis&&(this.axisCanvas.style.width=`${e}px`,this.axisCanvas.style.height=`${t}px`)}removeDOMFromColumnContainer(){this.boundAxisClickHander&&this.removeAxisEventListener(this.axis),this.axis.remove();for(let e of this.viewports)e.$viewport.remove();this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove()}renderSVGContext(e,{deltaX:t,deltaY:i}){!function(e,t,i,n,o){if("function"==typeof t.paintAxis){const{y:r,width:a,height:s}=i.getBoundingClientRect(),c=`${(t.name||t.id).replace(/\W/g,"")}_axis_guid_${xr.guid()}`;e.saveWithTranslationAndClipRect(c,n,r+o,a,s,0),t.paintAxis(e,a,s),e.restore()}}(e,this.track,this.axisCanvas,t,i);const{width:n}=this.axis.getBoundingClientRect(),{y:o}=this.viewports[0].$viewport.get(0).getBoundingClientRect();let r={deltaX:n+t,deltaY:o+i};for(let t of this.viewports){t.renderSVGContext(e,r);const{width:i}=t.$viewport.get(0).getBoundingClientRect();r.deltaX+=i}!0===this.browser.showSampleNames&&this.sampleNameViewport.renderSVGContext(e,r)}dataRange(){return this.track.dataRange?this.track.dataRange:void 0}setDataRange(e,t){void 0!==e&&(this.track.dataRange.min=e),void 0!==t&&(this.track.dataRange.max=t),this.track.autoscale=!1,this.repaintViews()}presentColorPicker(e){if(!1===zw.has(this.track.type)){const t=[],i=this.track.color||this.track.defaultColor;$a(i)&&t.push(i),this.track.altColor&&$a(this.track.altColor)&&t.push(this.track.altColor);const n=t.map((e=>e.startsWith("#")?e:e.startsWith("rgb(")?qh.rgbToHex(e):qh.colorNameToHex(e))),o={color:e=>{this.track.color=e,this.repaintViews()},altColor:e=>{this.track.altColor=e,this.repaintViews()}};this.browser.genericColorPicker.configure(n,o),this.browser.genericColorPicker.setActiveColorHandler(e),this.browser.genericColorPicker.show()}}setTrackHeight(e,t){t||(this.track.minHeight&&(e=Math.max(this.track.minHeight,e)),this.track.maxHeight&&(e=Math.min(this.track.maxHeight,e))),this.track.height=e,this.resizeAxisCanvas(this.axis.clientWidth,this.track.height),"function"==typeof this.track.paintAxis&&this.paintAxis();for(let{$viewport:t}of this.viewports)t.height(e);if(this.sampleNameViewport.viewport.style.height=`${e}px`,"function"!=typeof this.track.computePixelHeight)for(let t of this.viewports)t.setContentHeight(e);this.repaintViews(),!1===Iw.has(this.track.type)&&this.updateScrollbar(),this.dragHandle.style.height=`${e}px`,this.gearContainer.style.height=`${e}px`}updateScrollbar(){const e=this.viewports[0].$viewport.height();this.outerScroll.style.height=`${e}px`;const t=this.maxViewportContentHeight(),i=Math.round(e/t*e);t>e?(this.innerScroll.style.display="block",this.innerScroll.style.height=`${i}px`):this.innerScroll.style.display="none"}moveScroller(e){const t=wr(this.innerScroll).position().top+e,i=Math.min(Math.max(0,t),this.outerScroll.clientHeight-this.innerScroll.clientHeight);wr(this.innerScroll).css("top",`${i}px`);const n=this.maxViewportContentHeight(),o=-Math.round(i*(n/this.viewports[0].$viewport.height()));for(let e of this.viewports)e.setTop(o);this.sampleNameViewport.trackScrollDelta=e,this.sampleNameViewport.setTop(o)}isLoading(){for(let e of this.viewports)if(e.isLoading())return!0}repaintViews(){for(let e of this.viewports)e.isVisible()&&e.repaint();"function"==typeof this.track.paintAxis&&this.paintAxis(),this.repaintSamples()}repaintSamples(){if("function"==typeof this.track.getSamples){const e=this.track.getSamples();this.sampleNameViewport.repaint(e)}}setTrackLabelName(e){this.viewports.forEach((t=>t.setTrackLabel(e)))}resize(e){for(let t of this.viewports)t.setWidth(e)}async updateViews(){if(!this.browser||!this.browser.referenceFrameList)return;const e=this.viewports.filter((e=>e.isVisible()));if(e.forEach((e=>e.shift())),this.browser.dragObject)return;const t=e.filter((e=>e.needsRepaint())).filter((e=>e.checkZoomIn())),i=t.filter((e=>e.needsReload()));for(let e of i)await e.loadFeatures();if(this.disposed)return;if(this.track&&"function"==typeof this.track.variantRowCount&&i.length>0){let e=0;for(let t of this.viewports)t.featureCache&&t.featureCache.features&&(e=Math.max(e,t.featureCache.features.reduce(((e,t)=>Math.max(e,t.row||0)),0)));if(this.track.nVariantRows!==e+1){this.track.variantRowCount(e+1);for(let e of this.viewports)e.checkContentHeight()}}if(this.track.autoscale){let t=[];for(let i of e){const e=i.referenceFrame,n=e.start,o=n+e.toBP(i.getWidth());if(i.featureCache&&i.featureCache.features)if("function"==typeof i.featureCache.features.getMax){const e=i.featureCache.features.getMax(n,o);t.push({value:e})}else{const e=Fd(i.featureCache.features,n,o);for(let i of e)t.push(i)}}"function"==typeof this.track.doAutoscale?this.track.dataRange=this.track.doAutoscale(t):this.track.dataRange=Dd(t)}const n=this.track.autoscale||this.track.autoscaleGroup||"ruler"===this.track.type;for(let i of e)t.includes(i)?i.repaint():n&&i.refresh();this.adjustTrackHeight(),this.repaintSamples(),this.updateRulerViewportLabels()}clearCachedFeatures(){for(let e of this.viewports)e.clearCache()}updateRulerViewportLabels(){const e=this.browser.calculateViewportWidth(this.viewports.length);for(let t of this.viewports)"ruler"===this.track.type&&(this.viewports.length>1?t.presentLocusLabel(e):t.dismissLocusLabel())}async getInViewFeatures(){if(!this.browser||!this.browser.referenceFrameList)return[];let e=[];const t=this.viewports.filter((e=>e.isVisible()));for(let i of t){const t=i.referenceFrame,{chr:n,start:o,bpPerPixel:r}=i.referenceFrame,a=o+t.toBP(i.getWidth());if((!i.featureCache||!i.featureCache.containsRange(n,o,a,r))&&await i.loadFeatures(),i.featureCache&&i.featureCache.features)if("function"==typeof i.featureCache.features.getMax){const t=i.featureCache.features.getMax(o,a);e.push({value:t})}else{const t="function"==typeof i.featureCache.queryFeatures?i.featureCache.queryFeatures(n,o,a):Fd(i.featureCache.features,o,a);e=e.concat(t)}}return e}checkContentHeight(){for(let e of this.viewports)e.checkContentHeight();this.adjustTrackHeight()}adjustTrackHeight(){var e=this.maxViewportContentHeight();if(this.track.autoHeight?this.setTrackHeight(e,!1):this.track.paintAxis&&this.paintAxis(),!1===Iw.has(this.track.type)){const t=this.viewports[0].getContentTop(),i=this.viewports[0].$viewport.height(),n=Math.min(0,i-e);if(t<n)for(let e of this.viewports)e.setTop(n);this.updateScrollbar()}}createTrackScrollbar(e){const t=xr.div();if(e.columnContainer.querySelector(".igv-scrollbar-column").appendChild(t),t.style.height=`${this.track.height}px`,this.outerScroll=t,!1===Iw.has(this.track.type)){const i=xr.div();t.appendChild(i),this.innerScroll=i,this.addTrackScrollMouseHandlers(e)}}createTrackDragHandle(e){const t="ideogram"===this.track.type||"ruler"===this.track.type?"igv-track-drag-shim":"igv-track-drag-handle";this.dragHandle=xr.div({class:t}),e.columnContainer.querySelector(".igv-track-drag-column").appendChild(this.dragHandle),this.dragHandle.style.height=`${this.track.height}px`,this.addTrackDragMouseHandlers(e)}createTrackGearPopup(e){this.gearContainer=xr.div(),e.columnContainer.querySelector(".igv-gear-menu-column").appendChild(this.gearContainer),this.gearContainer.style.height=`${this.track.height}px`,!0===this.track.ignoreTrackMenu||(this.gear=xr.div(),this.gearContainer.appendChild(this.gear),this.gear.appendChild(xa.createIcon("cog")),this.trackGearPopup=new Nw(this.gear),this.addTrackGearMouseHandlers())}addAxisEventListener(e){this.boundAxisClickHander=function(e){this.browser.dataRangeDialog.configure(this),this.browser.dataRangeDialog.present(wr(this.browser.columnContainer))}.bind(this),e.addEventListener("click",this.boundAxisClickHander)}removeAxisEventListener(e){e.removeEventListener("click",this.boundAxisClickHander)}addTrackScrollMouseHandlers(e){this.boundTrackScrollMouseDownHandler=function(t){t.stopPropagation();const{y:i}=xr.pageCoordinates(t);wr(this.innerScroll).data("yDown",i.toString()),this.boundColumnContainerMouseMoveHandler=function(e){e.stopPropagation();const{y:t}=xr.pageCoordinates(e);this.moveScroller(t-parseInt(wr(this.innerScroll).data("yDown"))),wr(this.innerScroll).data("yDown",t.toString())}.bind(this),e.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler)}.bind(this),this.innerScroll.addEventListener("mousedown",this.boundTrackScrollMouseDownHandler),this.boundColumnContainerMouseUpHandler=function(t){e.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler)}.bind(this),e.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler)}removeTrackScrollMouseHandlers(){!1===Iw.has(this.track.type)&&(this.innerScroll.removeEventListener("mousedown",this.boundTrackScrollMouseDownHandler),this.browser.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.browser.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler))}addTrackDragMouseHandlers(e){if("ideogram"===this.track.id||"ruler"===this.track.id);else{let t;function i(i){i.preventDefault(),t=i.target,t.classList.add("igv-track-drag-handle-hover"),e.startTrackDrag(this)}function n(i){e.endTrackDrag(),t&&i.target!==t&&t.classList.remove("igv-track-drag-handle-hover"),t=void 0}function o(i){i.preventDefault(),void 0===t&&i.target.classList.add("igv-track-drag-handle-hover"),e.updateTrackDrag(this)}function r(e){e.preventDefault(),void 0===t&&e.target.classList.remove("igv-track-drag-handle-hover")}this.boundTrackDragMouseDownHandler=i.bind(this),this.dragHandle.addEventListener("mousedown",this.boundTrackDragMouseDownHandler),this.boundDocumentTrackDragMouseUpHandler=n.bind(this),document.addEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.boundTrackDragMouseEnterHandler=o.bind(this),this.dragHandle.addEventListener("mouseenter",this.boundTrackDragMouseEnterHandler),this.dragHandle.addEventListener("mouseout",(e=>{e.preventDefault(),void 0===t&&e.target.classList.remove("igv-track-drag-handle-hover")})),this.boundTrackDragMouseOutHandler=r.bind(this),this.dragHandle.addEventListener("mouseout",this.boundTrackDragMouseOutHandler)}}removeTrackDragMouseHandlers(){"ideogram"===this.track.id||"ruler"===this.track.id||(this.dragHandle.removeEventListener("mousedown",this.boundTrackDragMouseDownHandler),document.removeEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.dragHandle.removeEventListener("mouseup",this.boundTrackDragMouseEnterHandler),this.dragHandle.removeEventListener("mouseout",this.boundTrackDragMouseOutHandler))}addTrackGearMouseHandlers(){if(!0===this.track.ignoreTrackMenu);else{function e(e){e.preventDefault(),e.stopPropagation(),this.trackGearPopup.presentMenuList(Va.trackMenuItemList(this))}this.boundTrackGearClickHandler=e.bind(this),this.gear.addEventListener("click",this.boundTrackGearClickHandler)}}removeTrackGearMouseHandlers(){!0===this.track.ignoreTrackMenu||this.gear.removeEventListener("click",this.boundTrackGearClickHandler)}dispose(){this.removeAxisEventListener(this.axis),this.axis.remove();for(let e of this.viewports)e.dispose();this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove(),"function"==typeof this.track.dispose&&this.track.dispose();for(let e of Object.keys(this))this[e]=void 0;this.alert&&this.alert.container.remove(),this.disposed=!0}paintAxis(){if("function"==typeof this.track.paintAxis){const{width:e,height:t}=this.axisCanvas.getBoundingClientRect(),i=window.devicePixelRatio||1;this.axisCanvas.height=i*t,this.axisCanvas.width=i*e;const n=this.axisCanvas.getContext("2d");n.scale(i,i),this.track.paintAxis(n,e,t)}}maxViewportContentHeight(){return Math.max(this.viewports.map((e=>e.getContentHeight())))}}const Aw="rgb(150, 150, 150)";class Mw extends Tu{static defaults={height:50,flipAxis:!1,logScale:!1,windowFunction:"mean",graphType:"bar",autoscale:!0,normalize:void 0,scaleFactor:void 0};constructor(e,t){super(e,t)}init(e){super.init(e),this.type="wig",this.featureType="numeric",this.paintAxis=pg;const t=e.format?e.format.toLowerCase():e.format;e.featureSource?(this.featureSource=e.featureSource,delete e.featureSource):this.featureSource="bigwig"===t?new im(e,this.browser.genome):"tdf"===t?new sm(e,this.browser.genome):pm(e,this.browser.genome),void 0===e.max||!0===e.autoscale?this.autoscale=!0:this.dataRange={min:e.min||0,max:e.max}}async postInit(){const e=await this.getHeader();this.disposed||e&&this.setTrackProperties(e)}async getFeatures(e,t,i,n){const o=await this.featureSource.getFeatures({chr:e,start:t,end:i,bpPerPixel:n,visibilityWindow:this.visibilityWindow,windowFunction:this.windowFunction});if(this.normalize&&this.featureSource.normalizationFactor){const e=this.featureSource.normalizationFactor;for(let t of o)t.value*=e}if(this.scaleFactor){const e=this.scaleFactor;for(let t of o)t.value*=e}return o}menuItemList(){let e=[];return void 0!==this.flipAxis&&(e.push("<hr>"),e.push({label:"Flip y-axis",click:()=>{this.flipAxis=!this.flipAxis,this.trackView.repaintViews()}})),e=e.concat(Va.numericDataMenuItems(this.trackView)),e}async getHeader(){return"function"==typeof this.featureSource.getHeader&&(this.header=await this.featureSource.getHeader()),this.header}getScaleFactor(e,t,i,n){return n?i/(Math.log10(t+1)-(e<=0?0:Math.log10(e+1))):i/(t-e)}computeYPixelValue(e,t){return(this.flipAxis?e-this.dataRange.min:this.dataRange.max-e)*t}computeYPixelValueInLogScale(e,t){let i=this.dataRange.max,n=this.dataRange.min;return i<=0?0:(n<=-1&&(n=0),n=n<=0?0:Math.log10(n+1),i=Math.log10(i+1),e=Math.log10(e+1),(this.flipAxis?e-n:i-e)*t)}draw(e){const t=e.features,i=e.context,n=e.bpPerPixel,o=e.bpStart,r=e.pixelWidth;e.pixelHeight;const a=o+r*n+1,s=this.color||Aw;let c;"string"==typeof s&&s.startsWith("rgb(")&&(c=qh.addAlpha(s,.1));const l=this.getScaleFactor(this.dataRange.min,this.dataRange.max,e.pixelHeight,this.logScale),h=e=>this.logScale?this.computeYPixelValueInLogScale(e,l):this.computeYPixelValue(e,l);if(t&&t.length>0&&(void 0===this.dataRange.min&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){let r,s=-1;const l=h(0);for(let e of t){if(e.end<o)continue;if(e.start>a)break;const t=Math.floor((e.start-o)/n);if(isNaN(t))continue;let c=h(e.value);const d=Math.ceil((e.end-o)/n),f=Math.max(1,d-t),u=this.getColorForFeature(e);if("points"===this.graphType){const e=this.config.pointSize||3,n=t+f/2;kd.fillCircle(i,n,c,e/2,{fillStyle:u,strokeStyle:u})}else if("line"===this.graphType)null!=r&&kd.strokeLine(i,s,r,t,c,{fillStyle:u,strokeStyle:u}),kd.strokeLine(i,t,c,t+f,c,{fillStyle:u,strokeStyle:u});else{const e=c-l;kd.fillRect(i,t,l,f,e,{fillStyle:u})}s=t+f,r=c}if(this.dataRange.min<0){const t=this.dataRange.max/(this.dataRange.max-this.dataRange.min)*e.pixelHeight;kd.strokeLine(i,0,t,e.pixelWidth,t,{strokeStyle:c})}}if(this.config.hasOwnProperty("guideLines"))for(let t of this.config.guideLines)if(t.hasOwnProperty("color")&&t.hasOwnProperty("y")&&t.hasOwnProperty("dotted")){let i=h(t.y),n={strokeStyle:t.color,strokeWidth:2};t.dotted?kd.dashedLine(e.context,0,i,e.pixelWidth,i,5,n):kd.strokeLine(e.context,0,i,e.pixelWidth,i,n)}}popupData(e,t){if(void 0===t&&(t=this.clickedFeatures(e)),t&&t.length>0){const i=e.genomicLocation,n=[];t.sort((function(e,t){return Math.abs((e.start+e.end)/2-i)-Math.abs((t.start+t.end)/2-i)}));const o=t.length>10?t.slice(0,10):t;o.sort((function(e,t){return e.start-t.start}));for(let e of o)if(e){n.length>0&&n.push("<hr/>");let t=e.end-e.start==1?Za(e.start+1):Za(e.start+1)+"-"+Za(e.end);n.push({name:"Position:",value:t}),n.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:Za(e.value)})}return o.length<t.length&&n.push("<hr/>..."),n}return[]}get supportsWholeGenome(){return!this.config.indexURL&&!1!==this.config.supportsWholeGenome}getColorForFeature(e){let t=e.value<0&&this.altColor?this.altColor:this.color||Aw;return"function"==typeof t?t(e.value):t}dispose(){this.trackView=void 0}}function Tw(e){this.thresholds=e.thresholds,this.colors=e.colors}function Rw(e){this.scale=e,this.lowColor="rgb("+e.lowR+","+e.lowG+","+e.lowB+")",this.highColor="rgb("+e.highR+","+e.highG+","+e.highB+")",this.diff=e.high-e.low}Tw.prototype.getColor=function(e){for(let t of this.thresholds)if(e<t)return this.colors[this.thresholds.indexOf(t)];return this.colors[this.colors.length-1]},Rw.prototype.getColor=function(e){var t,i=this.scale;return e<=i.low?this.lowColor:e>=i.high?this.highColor:(t=(e-i.low)/this.diff,"rgb("+Math.floor(i.lowR+t*(i.highR-i.lowR))+","+Math.floor(i.lowG+t*(i.highG-i.lowG))+","+Math.floor(i.lowB+t*(i.highB-i.lowB))+")")};class Lw{constructor(e){this.color=e}getColor(){return this.color}}class Bw extends Tu{constructor(e,t){super(e,t)}init(e){if(super.init(e),this.type=e.type||"seg","maf"===this.type&&(this.type="mut"),this.isLog=e.isLog,this.displayMode=e.displayMode||"EXPANDED",this.height=e.height||300,this.maxHeight=e.maxHeight||500,this.squishedRowHeight=e.sampleSquishHeight||e.squishedRowHeight||2,this.expandedRowHeight=e.sampleExpandHeight||e.expandedRowHeight||13,this.sampleHeight=this.squishedRowHeight,e.color?this.color=e.color:(this.posColorScale=e.posColorScale||new Rw({low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0}),this.negColorScale=e.negColorScale||new Rw({low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255}),"mut"===this.type&&(this.colorTable=new _d(e.colorTable||Hw))),this.sampleKeys=[],this.sampleNames=new Map,e.samples){for(let t of e.samples)this.sampleKeys.push(t),this.sampleNames.set(t,t);this.explicitSamples=!0}const t=Object.assign({},this.config);t.maxWGCount=t.maxWGCount||Number.MAX_SAFE_INTEGER,this.featureSource=pm(t,this.browser.genome),this.initialSort=e.sort}async postInit(){"function"==typeof this.featureSource.getHeader&&(this.header=await this.featureSource.getHeader(),this.disposed)||this.header&&this.setTrackProperties(this.header)}menuItemList(){const e=[],t={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};e.push("<hr/>"),e.push("DisplayMode:");const i="seg"===this.type?["SQUISHED","EXPANDED","FILL"]:["SQUISHED","EXPANDED"];for(let n of i){const i=Ua(t[n],n===this.displayMode);e.push({object:wr(i),click:()=>{this.displayMode=n,this.config.displayMode=n,this.trackView.checkContentHeight(),this.trackView.repaintViews(),this.trackView.moveScroller(this.trackView.sampleNameViewport.trackScrollDelta)}})}return e}hasSamples(){return!0}getSamples(){return{names:this.sampleKeys.map((e=>this.sampleNames.get(e))),height:this.sampleHeight,yOffset:0}}async getFeatures(e,t,i){const n=await this.featureSource.getFeatures({chr:e,start:t,end:i});if(this.initialSort){const e=this.initialSort;this.sortSamples(e.chr,e.start,e.end,e.direction,n),this.initialSort=void 0}return n}draw({context:e,renderSVG:t,pixelTop:i,pixelWidth:n,pixelHeight:o,features:r,bpPerPixel:a,bpStart:s}){if(kd.fillRect(e,0,i,n,o,{fillStyle:"rgb(255, 255, 255)"}),r&&r.length>0){this.checkForLog(r),this.updateSampleKeys(r);const t={};let c;switch(this.sampleKeys.forEach((function(e,i){t[e]=i})),this.displayMode){case"FILL":this.sampleHeight=o/this.sampleKeys.length,c=0;break;case"SQUISHED":this.sampleHeight=this.squishedRowHeight,c=0;break;default:this.sampleHeight=this.expandedRowHeight,c=1}const l=this.sampleHeight;for(let e of r)e.pixelRect=void 0;const h=i+o,d=s+n*a+1,f=a;this.sampleYStart=void 0;for(let n of r){if(n.end<s)continue;if(n.start>d)break;const o=n.sampleKey||n.sample;n.row=t[o];const r=n.row*l+c;void 0===this.sampleYStart&&(this.sampleYStart=r);if(r+l<i||r>h)continue;const a=Math.max(n.start,s);let u=Math.round((a-s)/f);const p=Math.min(n.end,d),m=Math.round((p-s)/f);let g,w,F=Math.max(1,m-u);if(this.color?g="function"==typeof this.color?this.color(n):this.color:this.colorTable&&(g=this.colorTable.getColor(n.value.toLowerCase())),"mut"===this.type)w=l-2*c,F<3&&(F=3,u-=1);else{let e=n.value;this.isLog||(e=Hh(e/2)),g=e<-.1?this.negColorScale.getColor(e):e>.1?this.posColorScale.getColor(e):"white";let t=l;if(l<.25){const i=.1+2*Math.abs(e);t=Math.min(1,i*l)}w=t-2*c}n.pixelRect={x:u,y:r,w:F,h:w},e.fillStyle=g,e.fillRect(u,r,F,w)}}}checkForLog(e){if(void 0===this.isLog){this.isLog=!1;for(let t of e)if(t.value<0)return void(this.isLog=!0)}}computePixelHeight(e){if(!e)return 0;const t="SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(e),this.sampleKeys.length*t}async sortSamples(e,t,i,n,o){if(o||(o=await this.featureSource.getFeatures({chr:e,start:t,end:i})),!o)return;this.updateSampleKeys(o);const r={},a="ASC"===n?1:-1,s=()=>{const e=i-t+1;for(let n of o){if(n.end<t)continue;if(n.start>i)break;const o=Math.max(t,n.start),a=(Math.min(i,n.end)-o)/e,s=n.sampleKey||n.sample,c=r[s]||0;r[s]=c+a*n.value}this.sampleKeys.sort((function(e,t){let i=r[e],n=r[t];return i||(i=a*Number.MAX_VALUE),n||(n=a*Number.MAX_VALUE),i===n?0:i>n?a:-1*a}))},c=()=>{for(let e of o){if(e.end<t)continue;if(e.start>i)break;const n=e.sampleKey||e.sample;(!r.hasOwnProperty(n)||e.value.localeCompare(r[n])>0)&&(r[n]=e.value)}this.sampleKeys.sort((function(e,t){let i=r[e]||"",n=r[t]||"";return a*i.localeCompare(n)}))};"mut"===this.type?c():s(),this.trackView.repaintViews()}clickedFeatures(e){const t=super.clickedFeatures(e),i=e.y;return t.filter((function(e){const t=e.pixelRect;return t&&i>=t.y&&i<=t.y+t.h}))}hoverText(e){const t=this.clickedFeatures(e);if(t&&t.length>0)return`${t[0].sample}: ${t[0].value}`}popupData(e,t){void 0===t&&(t=this.clickedFeatures(e));const i=[];for(let e of t){i.length>0&&(i.push("<hr/>"),i.push("<hr/>"));const t=e._f||e,n="function"==typeof t.popupData?t.popupData(this.type,this.browser.genome.id):this.extractPopupData(t);Array.prototype.push.apply(i,n)}return i}contextMenuItemList(e){const t=e.viewport.referenceFrame,i=e.genomicLocation,n=this.config.sort?"ASC"===this.config.sort.direction?"DESC":"ASC":"DESC",o=t.toBP(2.5),r=t=>{const i=e.viewport.cachedFeatures;this.sortSamples(t.chr,t.start,t.end,t.direction,i)};return[{label:"seg"===this.type?"Sort by value":"Sort by type",click:t=>{const a={direction:n,chr:e.viewport.referenceFrame.chr,start:i-o,end:i+o};r(a),this.config.sort=a}}]}get supportsWholeGenome(){return(!1===this.config.indexed||!this.config.indexURL)&&!1!==this.config.supportsWholeGenome}updateSampleKeys(e){if(!this.explicitSamples)for(let t of e){const e=t.sampleKey||t.sample;this.sampleNames.has(e)||(this.sampleNames.set(e,t.sample),this.sampleKeys.push(e))}}}const Hw={indel:"rgb(0,200,0)","targeted region":"rgb(236,155,43)",truncating:"rgb(\t150,0,0)","non-coding transcript":"rgb(0,0,150)",synonymous:"rgb(109,165,95)",silent:"rgb(109,135,80)",missense_mutation:"rgb(72,130,187)",missense:"rgb(72,130,187)","splice site":"rgb(143,83,155)",splice_region:"rgb(143,83,155)",nonsense:"rgb(216, 57,81)",nonsense_mutation:"rgb(216, 57,81)",frame_shift_del:"rgb(226,135,65)",frame_shift_ins:"rgb(226,135,65)",in_frame_del:"rgb(247,235,94)",in_frame_ins:"rgb(247,235,94)","*other*":"rgb(159,91,50)"};class Ow extends Tu{constructor(e,t){super(e,t),this.type="merged",this.featureType="numeric",this.paintAxis=pg,this.graphType=e.graphType}init(e){if(!e.tracks)throw Error("Error: no tracks defined for merged track"+e);super.init(e)}async postInit(){this.tracks=[];const e=[];for(let t of this.config.tracks){t.isMergedTrack=!0;const i=await this.browser.createTrack(t);i?(i.autoscale=!1,this.tracks.push(i)):console.warn("Could not create track "+t),"function"==typeof i.postInit&&e.push(i.postInit())}this.flipAxis=!!this.config.flipAxis&&this.config.flipAxis,this.logScale=!!this.config.logScale&&this.config.logScale,this.autoscale=this.config.autoscale||void 0===this.config.max,this.autoscale||(this.dataRange={min:this.config.min||0,max:this.config.max});for(let e of this.tracks)e.autoscale=!1,e.dataRange=this.dataRange;return this.height=this.config.height||50,Promise.all(e)}get height(){return this._height}set height(e){if(this._height=e,this.tracks)for(let t of this.tracks)t.height=e,t.config.height=e}menuItemList(){let e=[];return void 0!==this.flipAxis&&e.push({label:"Flip y-axis",click:()=>{this.flipAxis=!this.flipAxis,this.trackView.repaintViews()}}),e=e.concat(Va.numericDataMenuItems(this.trackView)),e}async getFeatures(e,t,i,n){const o=this.tracks.map((o=>o.getFeatures(e,t,i,n))),r=await Promise.all(o);return new Pw(r)}draw(e){const t=e.features;for(let i=0,n=this.tracks.length;i<n;i++){const n=Object.assign({},e);n.features=t.featureArrays[i],this.tracks[i].dataRange=this.dataRange,this.tracks[i].flipAxis=this.flipAxis,this.tracks[i].logScale=this.logScale,this.graphType&&(this.tracks[i].graphType=this.graphType),this.tracks[i].draw(n)}}popupData(e){if(e.viewport&&e.viewport.cachedFeatures){const t=e.viewport.cachedFeatures.featureArrays;if(t&&t.length===this.tracks.length){const i=[];for(let n=0;n<this.tracks.length;n++){n>0&&i.push("<hr/>"),i.push(`<div style=background-color:rgb(245,245,245);border-bottom-style:dashed;border-bottom-width:1px;padding-bottom:5px;padding-top:10px;font-weight:bold;font-size:larger >${this.tracks[n].name}</div>`);const o=this.tracks[n].popupData(e,t[n]);i.push(...o)}return i}}}clickedFeatures(e){const t=e.viewport.cachedFeatures;if(!t)return[];const i=e.genomicLocation,n=[];for(let o of t.featureArrays){const t=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:.2,r=Fd(o,i-t,i+t);for(let e of r)n.push(e)}return n}get supportsWholeGenome(){return this.tracks.every((e=>e.supportsWholeGenome))}}class Pw{constructor(e){this.featureArrays=e}getMax(e,t){let i=-Number.MAX_VALUE;for(let n of this.featureArrays)for(let o of n)if(void 0!==o.value&&!Number.isNaN(o.value)){if(o.end<e)continue;if(o.start>t)break;i=Math.max(i,o.value)}return i}}class qw extends Tu{static defaults={height:250,theta:Math.PI/4,arcOrientation:!0,showBlocks:!0,blockHeight:3,thickness:1,alpha:.02,logScale:!0};constructor(e,t){super(e,t)}init(e){super.init(e),this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.arcType=function(e){if(!e.arcType)return"nested";switch(e.arcType){case"chiapet":return"inView";case"chiapetoutbound":return"partialInView";default:return e.arcType}}(e),this.alpha=e.alpha||.02,this.painter={flipAxis:!this.arcOrientation,dataRange:this.dataRange,paintAxis:pg},e.valueColumn?(this.valueColumn=e.valueColumn,this.hasValue=!0):e.useScore&&(this.hasValue=!0,this.valueColumn="score"),e.max?(this.dataRange={min:e.min||0,max:e.max},this.autoscale=!1):this.autoscale=!0,e.featureSource?(this.featureSource=e.featureSource,delete e._featureSource):(this.featureSource=pm(e,this.browser.genome),this.featureSource.getWGFeatures=Gw)}async postInit(){if("function"!=typeof this.featureSource.getHeader||(this.header=await this.featureSource.getHeader(),!this.disposed))return this.header&&this.setTrackProperties(this.header),void 0===this.visibilityWindow&&"function"==typeof this.featureSource.defaultVisibilityWindow&&(this.visibilityWindow=await this.featureSource.defaultVisibilityWindow(),this.featureSource.visibilityWindow=this.visibilityWindow),this}get supportsWholeGenome(){return!0}async getFeatures(e,t,i){const n=this.visibilityWindow,o=await this.featureSource.getFeatures({chr:e,start:t,end:i,visibilityWindow:n});return void 0===this.hasValue&&o&&o.length>0&&(this.hasValue=void 0!==o[0].score),o}draw(e){"proportional"===this.arcType||"inView"===this.arcType||"partialInView"===this.arcType?this.drawProportional(e):this.drawNested(e)}drawNested(e){const t=e.context,i=e.pixelWidth,n=e.pixelHeight,o=e.viewportWidth,r=e.bpPerPixel,a=e.bpStart,s=r;kd.fillRect(t,0,e.pixelTop,i,n,{fillStyle:"rgb(255, 255, 255)"});const c=e.features;if(c){(function(){let e=0;for(let t of c){let n=(t.start-a)/s,o=(t.end-a)/s;n>=0&&o<=i&&(e=Math.max(e,o-n))}let t=Math.min(o,e)/2;if(e>0){let e=(n-10)/t;this.theta=function(e){let t,i=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],n=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966];for(t=0;t<i.length&&!(i[t]>e);t++);let o=0===t?0:i[t-1],r=t<i.length?i[t]:1,a=(e-o)/(r-o),s=0===t?0:n[t-1],c=t<n.length?n[t]:Math.PI/2;return Math.min(Math.PI/2,s+a*(c-s))}(e),this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta)}}).call(this);const r=this.arcOrientation?e.pixelHeight:0,h=this.arcOrientation;t.font="8px sans-serif",t.textAlign="center";for(let e of c){let n;if(e.drawState=void 0,"function"==typeof this.color?n=this.color(e):(n=this.color||e.color||"rgb(180,25,137)",n&&this.config.useScore&&(n=Ww(n,(l=e.score,Math.min(1,.11+l/779*.89).toString())))),t.lineWidth=e.thickness||this.thickness||1,e.chr1===e.chr2||"all"===e.chr){const{m1:c,m2:l}=Uw(e,this.browser.genome);let d=Math.round((c-a)/s),f=Math.round((l-a)/s);if(f<0||d>i)continue;let u=f-d;u<3&&(u=3,d--);const p=u/2,m=p/this.sinTheta,g=this.cosTheta*m,w=d+p;let F,b,v;if(h?(F=this.height+g,b=Math.PI+Math.PI/2-this.theta,v=Math.PI+Math.PI/2+this.theta):(F=-g,b=Math.PI/2-this.theta,v=Math.PI/2+this.theta),this.showBlocks&&"all"!==e.chr){const i=(e.start1-a)/s,n=(e.end1-a)/s,o=(e.start2-a)/s,c=(e.end2-a)/s,l=this.arcOrientation?-this.blockHeight:this.blockHeight;t.fillRect(i,r,n-i,l),t.fillRect(o,r,c-o,l)}n&&!this.config.useScore&&u>o&&(n=Ww(n,this.alpha)),t.strokeStyle=n,t.fillStyle=n,t.beginPath(),t.arc(w,F,m,b,v,!1),t.stroke(),e.drawState={xc:w,yc:F,r:m}}else{let o=Math.round((e.start-a)/s),r=Math.round((e.end-a)/s);if(r<0||o>i)continue;let c=r-o;c<3&&(c=3,o--);const l=e.chr===e.chr1?e.chr2:e.chr1;t.strokeStyle=n,t.fillStyle=Ww(ww(l),.5),h?(t.fillRect(o,this.height/2,c,this.height/2),t.fillText(l,o+c/2,this.height/2-5),e.drawState={x:o,y:this.height/2,w:c,h:this.height/2}):(t.fillRect(o,0,c,this.height/2),t.fillText(l,o+c/2,this.height/2+13),e.drawState={x:o,y:0,w:c,h:this.height/2})}}}var l}getScaleFactor(e,t,i,n){return n?i/(Math.log10(t+1)-(e<=0?0:Math.log10(e+1))):i/(t-e)}drawProportional(e){const t=e.context,i=e.pixelWidth,n=e.pixelHeight,o=e.bpPerPixel,r=e.bpStart,a=o,s=e.referenceFrame.start,c=e.referenceFrame.end;kd.fillRect(t,0,e.pixelTop,i,n,{fillStyle:"rgb(255, 255, 255)"});const l=e.features;if(l&&l.length>0){const n=0,o=this.getScaleFactor(n,this.dataRange.max,e.pixelHeight-1,this.logScale),h=this.arcOrientation?e.pixelHeight:0;for(let e of l){e.drawState=void 0;const n=this.valueColumn?e[this.valueColumn]:e.score;if(void 0===n||Number.isNaN(n))continue;const l=Math.round((this.logScale?Math.log10(n+1):n)*o);if(e.chr1===e.chr2||"all"===e.chr){const{m1:i,m2:o}=Uw(e,this.browser.genome);let d=Math.round((i-r)/a),f=Math.round((o-r)/a)-d;if(f<3&&(f=3,d--),n<this.dataRange.min||n>this.dataRange.max)continue;if("proportional"!==this.arcType){const e="partialInView"===this.arcType,t=i>=s&&o<=c;let n=!1,r=!1;if(!t&&e&&(n=s<=i&&i<=c,n||(r=s<=o&&o<=c)),!(t||n||r))continue}const u=f/2,p=d+f/2;e.drawState={xc:p,yc:h,radiusX:u,radiusY:l};const m=!!this.arcOrientation,g=e.color||this.color;if(t.strokeStyle=g,t.lineWidth=e.thickness||this.thickness||1,!0===t.isSVG?t.strokeEllipse(p,h,u,l,0,0,Math.PI,m):(t.beginPath(),t.ellipse(p,h,u,l,0,0,Math.PI,m),t.stroke()),this.alpha&&(t.fillStyle=Ww(g,this.alpha),!0===t.isSVG?t.fillEllipse(p,h,u,l,0,0,Math.PI,m):t.fill()),this.showBlocks&&"all"!==e.chr){t.fillStyle=g;const i=(e.start1-r)/a,n=(e.end1-r)/a,o=(e.start2-r)/a,s=(e.end2-r)/a,c=this.arcOrientation?-this.blockHeight:this.blockHeight;t.fillRect(i,h,n-i,c),t.fillRect(o,h,s-o,c)}}else{let o=Math.round((e.start-r)/a),s=Math.round((e.end-r)/a);if(s<0||o>i||n<this.dataRange.min||n>this.dataRange.max)continue;const c=Math.min(l,this.height-13);let h=s-o;h<3&&(h=3,o--);const d=e.chr===e.chr1?e.chr2:e.chr1;if(t.font="8px sans-serif",t.textAlign="center",t.fillStyle=Ww(ww(d),.5),this.arcOrientation){const i=this.height-c;t.fillRect(o,i,h,c),t.fillText(d,o+h/2,i-5),e.drawState={x:o,y:i,w:h,h:c}}else t.fillRect(o,0,h,c),t.fillText(d,o+h/2,c+13),e.drawState={x:o,y:0,w:h,h:c}}}}}clearAxis(e,t,i){kd.fillRect(e,0,0,t,i,{fillStyle:"rgb(255, 255, 255)"})}paintAxis(e,t,i){const n={min:0,max:this.dataRange.max};"proportional"===this.arcType||"inView"===this.arcType||"partialInView"===this.arcType?(this.painter.flipAxis=!this.arcOrientation,this.painter.dataRange=n,this.painter.paintAxis(e,t,i)):this.clearAxis(e,t,i)}menuItemList(){let e=[];if(this.hasValue){e.push("<hr/>");const t={nested:"Nested",proportional:"Proportional - All",inView:"Proportional - Both Ends in View",partialInView:"Proportional - One End in View"};e.push("<b>Arc Type</b>");for(let i of["nested","proportional","inView","partialInView"])e.push({object:wr(Ua(t[i],i===this.arcType)),click:()=>{this.arcType=i,this.trackView.repaintViews()}})}return e.push("<hr/>"),e.push({name:"Toggle arc direction",click:()=>{this.arcOrientation=!this.arcOrientation,this.trackView.repaintViews()}}),e.push({name:this.showBlocks?"Hide Blocks":"Show Blocks",click:()=>{this.showBlocks=!this.showBlocks,this.trackView.repaintViews()}}),"proportional"!==this.arcType&&"inView"!==this.arcType&&"partialInView"!==this.arcType||(e=e.concat(Va.numericDataMenuItems(this.trackView))),this.browser.circularView&&(e.push("<hr/>"),e.push({label:"Add interactions to circular view",click:()=>{for(let e of this.trackView.viewports)this.addChordsForViewport(e.referenceFrame)}})),e}contextMenuItemList(e){if(this.browser.circularView){const t=e.viewport,i=[];return i.push({label:"Add interactions to circular view",click:()=>{const e=t.referenceFrame;this.addChordsForViewport(e)}}),i.push("<hr/>"),i}}addChordsForViewport(e){const t=("all"===e.chr?this.featureSource.getAllFeatures():this.featureSource.featureCache.queryFeatures(e.chr,e.start,e.end)).filter((e=>e.drawState));if(0===t.length)return;Wg(t.map((e=>{const t=e._f||e;return{uniqueId:`${t.chr1}:${t.start1}-${t.end1}_${t.chr2}:${t.start2}-${t.end2}`,refName:Vg(t.chr1),start:t.start1,end:t.end1,mate:{refName:Vg(t.chr2),start:t.start2,end:t.end2}}})),this,e,.5)}doAutoscale(e){let t=0;if(e)for(let i of e){const e=this.valueColumn?i[this.valueColumn]:i.score;Number.isNaN(e)||(t=Math.max(t,e))}return{min:0,max:t}}popupData(e,t){void 0===t&&(t=this.clickedFeatures(e));const i=[];for(let e of t){const t=e._||e;if(i.push({name:"Region 1",value:Vw(t.chr1,t.start1,t.end1,t.strand1)}),i.push({name:"Region 2",value:Vw(t.chr2,t.start2,t.end2,t.strand2)}),t.name&&i.push({name:"Name",value:t.name}),void 0!==t.value&&i.push({name:"Value",value:t.value}),void 0!==t.score&&i.push({name:"Score",value:t.score}),t.extras&&this.header&&this.header.columnNames){const e=this.header.columnNames,n=this.header.hiccups?6:10;for(let o=n;o<e.length;o++)this.header.colorColumn!==o&&("info"===e[o]?$w(i,t.extras[o-n]):i.push({name:e[o],value:t.extras[o-n]}))}break}return i}clickedFeatures(e){const t=e.viewport.cachedFeatures,i=[];if(t){const n="proportional"===this.arcType||"inView"===this.arcType||"partialInView"===this.arcType;for(let o of t)if(o.drawState)if(o.chr1===o.chr2||"all"===o.chr)if(n){const{xc:t,yc:n,radiusX:r,radiusY:a}=o.drawState,s=e.canvasX-t,c=e.canvasY-n,l=s/r*(s/r)+c/a*(c/a);l<=1&&i.push({score:1/l,feature:o})}else{const{xc:t,yc:n,r:r}=o.drawState,a=e.canvasX-t,s=e.canvasY-n,c=Math.abs(Math.sqrt(a*a+s*s)-r);c<5&&i.push({score:c,feature:o})}else{const{x:t,y:n,w:r,h:a}=o.drawState,s=5;if(e.canvasX>=t-s&&e.canvasX<=t+r+s&&e.canvasY>=n&&e.canvasY<=n+a){const n=-Math.abs(e.canvasX-(t+r/2));i.push({score:n,feature:o});break}}}return i.length>1&&i.sort(((e,t)=>e.score-t.score)),i.map((e=>e.feature))}}function Uw(e,t){let i=(e.start1+e.end1)/2,n=(e.start2+e.end2)/2;if("all"===e.chr&&(i=t.getGenomeCoordinate(e.chr1,i),n=t.getGenomeCoordinate(e.chr2,n)),i>n){const e=i;i=n,n=e}return{m1:i,m2:n}}function Vw(e,t,i,n){return n&&"."!==n?`${e}:${Za(t+1)}-${Za(i)} (${n})`:`${e}:${Za(t+1)}-${Za(i)}`}const jw=new Map;function Ww(e,t){const i=`${e}_${t}`;let n=jw.get(i);return n||(n=qh.addAlpha(e,t),jw.set(i,n)),n}function Gw(e){const t=e=>{const t=Object.assign({},e);return t.chr="all",t.start=i.getGenomeCoordinate(e.chr1,e.start1),t.end=i.getGenomeCoordinate(e.chr2,e.end2),t},i=this.genome;let n,o=0;for(let t of i.wgChromosomeNames){let i=e[t];if(i)for(let e of i)e.dup||(o++,e.score&&(!n||e.score>n.score)&&(n=e))}const r=this.maxWGCount,a=n&&n.score>0&&o>r?5:1,s=Math.floor(r/a),c=n&&n.score>0?Math.log(n.score)/a:Number.MAX_SAFE_INTEGER;let l,h=[],d=[];for(let e=0;e<a;e++)d.push([0]),h.push([]);for(let n of i.wgChromosomeNames){let i=e[n];if(i)for(let e of i)if(!e.dup){const i=e.score?Math.max(0,Math.min(a-1,Math.floor(Math.log(e.score)/c))):0;if(h[i].length<s)h[i].push(t(e));else{const n=s/(d[i]+1);if(Math.random()<n){const n=Math.floor(Math.random()*(s-1));h[i][n]=t(e)}}d[i]++}}if(1===a)l=h[0];else{l=[];for(let e of h)for(let t of e)l.push(t);n&&l.push(t(n)),l.sort((function(e,t){return e.start-t.start})),console.log(l.length)}return l}function $w(e,t){const i=t.split(";");for(let t of i){const i=t.split("=");2===i.length&&e.push({name:i[0],value:i[1]})}}const Zw=$a,Kw=new Map([["REF","referenceBases"],["ALT","alternateBases"],["QUAL","quality"],["FILTER","filter"]]);class Xw extends Tu{static defaults={displayMode:"EXPANDED",sortDirection:"ASC",showGenotypes:!0,squishedVariantHeight:2,squishedCallHeight:1,expandedCallHeight:10,expandedVGap:2,squishedVGap:1,expandedGroupGap:10,squishedGroupGap:5,featureHeight:14,noGenotypeColor:"rgb(200,180,180)",noCallColor:"rgb(225, 225, 225)",nonRefColor:"rgb(200, 200, 215)",mixedColor:"rgb(200, 220, 200)",homrefColor:"rgb(200, 200, 200)",homvarColor:"rgb(17,248,254)",hetvarColor:"rgb(34,12,253)",colorBy:void 0,visibilityWindow:void 0,labelDisplayMode:void 0,type:"variant"};constructor(e,t){super(e,t)}init(e){super.init(e),this.expandedVariantHeight=e.expandedVariantHeight||e.variantHeight||10,this.featureSource=pm(e,this.browser.genome),this._initColorBy=e.colorBy,e.colorTable&&(this.colorTables=new Map,this.colorTables.set(e.colorBy,new _d(e.colorTable))),this._color=e.color,this._strokecolor=e.strokecolor,this._context_hook=e.context_hook,this.variantRowCount(1)}async postInit(){if(this.header=await this.getHeader(),!this.disposed){if(void 0===this.visibilityWindow&&!1!==this.config.indexed){const e=Ja(this.config.url)?this.config.url.name:this.config.url;Zw(e)&&e.toLowerCase().includes("gnomad")?this.visibilityWindow=1e3:"function"==typeof this.featureSource.defaultVisibilityWindow?this.visibilityWindow=await this.featureSource.defaultVisibilityWindow():this.visibilityWindow=1e6}return this}}get supportsWholeGenome(){return!1===this.config.indexed||!0===this.config.supportsWholeGenome}get color(){return this._color||"rgb(0,0,150)"}set color(e){this._color=e,this.colorBy=void 0}async getHeader(){if(!this.header){if("function"==typeof this.featureSource.getHeader){const e=await this.featureSource.getHeader();e&&(this.callSets=e.callSets||[]),this.header=e}this.sampleNames=this.callSets?this.callSets.map((e=>e.name)):[]}return this.header}getCallsetsLength(){return this.callSets?this.callSets.length:0}async getFeatures(e,t,i,n){return void 0===this.header&&(this.header=await this.getHeader()),this.featureSource.getFeatures({chr:e,start:t,end:i,bpPerPixel:n,visibilityWindow:this.visibilityWindow})}hasSamples(){return this.getCallsetsLength()>0}getSamples(){return{yOffset:this.sampleYOffset,names:this.sampleNames,height:this.sampleHeight}}computePixelHeight(e){if(!e||0==e.length)return 10;const t="COLLAPSED"===this.displayMode?1:this.nVariantRows,i="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,n="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight,o="SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight;return 10+t*(n+i)+i+((!1===this.showGenotypes?0:this.getCallsetsLength()*t)+1)*(o+i)}variantRowCount(e){this.nVariantRows=e}draw({context:e,pixelWidth:t,pixelHeight:i,bpPerPixel:n,bpStart:o,pixelTop:r,features:a}){kd.fillRect(e,0,r,t,i,{fillStyle:"rgb(255, 255, 255)"});const s="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,c="COLLAPSED"===this.displayMode?1:this.nVariantRows,l="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight;this.variantBandHeight=10+c*(l+s);let h=this.callSets;!h&&this._f&&(h=this._f.callSets);const d=this.getCallsetsLength();if(h&&d>0&&!1!==this.showGenotypes&&kd.strokeLine(e,0,this.variantBandHeight,t,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "}),a){const i="SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight,r="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,s=o+t*n+1;for(let t of a){if(t.end<o)continue;if(t.start>s)break;const a="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight,c=10+("COLLAPSED"===this.displayMode?0:t.row*(a+r)),l=a;let f=Math.round((t.start-o)/n),u=Math.round((t.end-o)/n),p=Math.max(1,u-f);p<3?(p=3,f-=1):p>5&&(f+=1,p-=2),e.fillStyle=this.getColorForFeature(t),e.fillRect(f,c,p,l);let m=this.getVariantStrokecolor(t);if(m&&(e.strokeStyle=m,e.strokeRect(f,c,p,l)),this.callContextHook(t,e,f,c,p,l),t.pixelRect={x:f,y:c,w:p,h:l},d>0&&!1!==this.showGenotypes){const n="COLLAPSED"===this.displayMode?1:this.nVariantRows;this.sampleYOffset=this.variantBandHeight+r,this.sampleHeight=n*(i+r);let o=0;if(h&&t.calls)for(let n of h){const a=t.calls[n.id];if(a){const s="COLLAPSED"===this.displayMode?0:t.row,c=this.sampleYOffset+o*this.sampleHeight+s*(i+r);let l=!0,h=!0,d=!1;if(a.genotype)for(let e of a.genotype){if("."===e){d=!0;break}0!==e&&(h=!1),0===e&&(l=!1)}a.genotype?e.fillStyle=d?this.noCallColor:h?this.homrefColor:l?this.homvarColor:this.hetvarColor:e.fillStyle=this.noGenotypeColor,e.fillRect(f,c,p,i),n.pixelRect={x:f,y:c,w:p,h:i}}o++}}}}else console.log("No feature list")}getColorForFeature(e){const t=e._f||e;let i;if(this.colorBy){const e=this.colorBy;let n;if(t.info.hasOwnProperty(e))n=t.info[e];else if(Kw.has(e)){n=t[Kw.get(e)]}i=this.getVariantColorTable(e).getColor(n),i||(i="gray")}else i=this._color?"function"==typeof this._color?this._color(e):this._color:"NONVARIANT"===t.type?this.nonRefColor:"MIXED"===t.type?this.mixedColor:this.color;return i}getVariantStrokecolor(e){const t=e._f||e;let i;return i=this._strokecolor?"function"==typeof this._strokecolor?this._strokecolor(t):this._strokecolor:void 0,i}callContextHook(e,t,i,n,o,r){if(this._context_hook&&"function"==typeof this._context_hook){const a=e._f||e;t.save(),this._context_hook(a,t,i,n,o,r),t.restore()}}clickedFeatures(e){let t=super.clickedFeatures(e);const i="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap,n=i+("SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight),o=e.y;if(o<=this.variantBandHeight){const e="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight,n=Math.floor((o-10)/(e+i));"COLLAPSED"!==this.displayMode&&(t=t.filter((e=>e.row===n)))}else if(this.callSets){const e=this.callSets,i=o-this.variantBandHeight,r=Math.floor(i/this.sampleHeight);if(r>=0&&r<e.length){const o=Math.floor((i-r*this.sampleHeight)/n),a="COLLAPSED"===this.displayMode?t:t.filter((e=>e.row===o)),s=e[r];t=a.map((e=>{const t=e.calls[s.id];return function(e,t){if(e.genotype){let i="";if("."===t.alternateBases)i="No Call";else{const n=t.alternateBases.split(",");for(let o of e.genotype)if(i.length>0&&(i+="|"),"."===o)i+=".";else if(0===o)i+=t.referenceBases;else{i+=n[o-1].replace("<","&lt;")}}e.genotypeName=i}}(t,e),t}))}}return t}popupData(e,t){void 0===t&&(t=this.clickedFeatures(e));const i=e.genomicLocation,n=this.browser.genome.id,o=this.browser.sampleInformation;let r=[];for(let e of t){const t=e._f||e;if(r.length>0&&r.push({html:'<hr style="border-top-width:2px ;border-color: #c9c3ba" />'}),"function"==typeof t.popupData){const e=t.popupData(i,n);Array.prototype.push.apply(r,e)}else{const e=t;if(void 0!==e.callSetName&&r.push({name:"Name",value:e.callSetName}),e.genotypeName&&r.push({name:"Genotype",value:e.genotypeName}),void 0!==e.phaseset&&r.push({name:"Phase set",value:e.phaseset}),void 0!==e.genotypeLikelihood&&r.push({name:"genotypeLikelihood",value:e.genotypeLikelihood.toString()}),o){var a=o.getAttributes(e.callSetName);a&&Object.keys(a).forEach((function(e){var t=e.replace(/([A-Z])/g," $1");t=t.charAt(0).toUpperCase()+t.slice(1),r.push({name:t,value:a[e]})}))}var s=Object.keys(e.info);s.length&&r.push("<hr/>"),s.forEach((function(t){r.push({name:t,value:decodeURIComponent(e.info[t])})}))}}return r}menuItemList(){const e=[];if(this.header.INFO&&this.header.INFO){const t=this.header.INFO.SVTYPE?["SVTYPE"]:[];if(this._initColorBy&&"SVTYPE"!==this._initColorBy&&t.push(this._initColorBy),t.length>0){e.push("<hr/>");const i=wr('<div class="igv-track-menu-category igv-track-menu-border-top">');i.text("Color by:"),e.push({name:void 0,object:i,click:void 0,init:void 0}),t.sort();for(let i of t){const t=this.colorBy===i,n=i||"None";e.push(this.colorByCB({key:i,label:n},t))}e.push(this.colorByCB({key:void 0,label:"None"},void 0===this.colorBy)),e.push("<hr/>")}}this.getCallsetsLength()>0&&(e.push({object:wr('<div class="igv-track-menu-border-top">')}),e.push({object:wr(Ua("Show Genotypes",this.showGenotypes)),click:()=>{this.showGenotypes=!this.showGenotypes,this.trackView.checkContentHeight(),this.trackView.repaintViews()}})),e.push({object:wr('<div class="igv-track-menu-border-top">')});for(let t of["COLLAPSED","SQUISHED","EXPANDED"]){e.push({object:wr(Ua({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[t],t===this.displayMode)),click:()=>{this.displayMode=t,this.trackView.checkContentHeight(),this.trackView.repaintViews()}})}return this.browser.circularView&&(e.push("<hr>"),e.push({label:"Add SVs to circular view",click:()=>{for(let e of this.trackView.viewports)this.sendChordsForViewport(e)}})),e}contextMenuItemList(e){if(this.browser.circularView){const t=e.viewport,i=[];return i.push({label:"Add SVs to Circular View",click:()=>{this.sendChordsForViewport(t)}}),i.push("<hr/>"),i}}sendChordsForViewport(e){const t=e.referenceFrame;let i;if("all"===t.chr){const e=this.featureSource.getAllFeatures(),t=Object.keys(e).map((t=>e[t]));i=[].concat(...t)}else i=this.featureSource.featureCache.queryFeatures(t.chr,t.start,t.end);Wg(i.filter((e=>{const t=e._f||e;return t.info&&t.info.CHR2&&t.info.END&&(t.info.CHR2!==t.chr||Math.abs(Number.parseInt(t.info.END)-t.pos)>1e6)})).map((e=>{const t=e._f||e,i=Number.parseInt(t.info.END),n=i-100,o=i+100;return{uniqueId:`${t.chr}:${t.start}-${t.end}_${t.info.CHR2}:${t.info.END}`,refName:Vg(t.chr),start:t.start,end:t.end,mate:{refName:Vg(t.info.CHR2),start:n,end:o}}})),this,t,.5)}colorByCB(e,t){return{name:void 0,object:wr(Ua(e.label,t)),click:()=>{e.key===this.colorBy?(this.colorBy=void 0,delete this.config.colorBy,this.trackView.repaintViews()):(this.colorBy=e.key,this.config.colorBy=e.key,this.trackView.repaintViews())},init:void 0}}getState(){const e=super.getState();return this._color&&"function"!=typeof this._color&&(e.color=this._color),e}getVariantColorTable(e){if(this.colorTables||(this.colorTables=new Map),!this.colorTables.has(e)){let t;if("SVTYPE"===e)t=Yw;else t=new yd("Set1");this.colorTables.set(e,t)}return this.colorTables.get(e)}}const Yw=new _d({DEL:"#ff2101",INS:"#001888",DUP:"#028401",INV:"#008688",CNV:"#8931ff",BND:"#891100","*":"#002eff"});class Qw extends Tu{constructor(e,t){super(e,t)}init(e){super.init(e),this.name=e.name,this.pValueField=e.pValueField||"pValue",this.geneField=e.geneField||"geneSymbol",this.snpField=e.snpField||"snp";const t=e.minLogP||e.min,i=e.maxLogP||e.max;this.dataRange={min:t||3.5,max:i||25},this.autoscale=!i||e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||2,this.height=e.height||100,this.autoHeight=!1,this.disableButtons=e.disableButtons,this.visibilityWindow=void 0===e.visibilityWindow?2e6:e.visibilityWindow>=0?Math.min(2e6,e.visibilityWindow):2e6,this.featureSource=pm(e,this.browser.genome),Zg.gtexLoaded=!0}paintAxis(e,t,i){const n=(this.dataRange.max-this.dataRange.min)/i,o={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};kd.fillRect(e,0,0,t,i,{fillStyle:"rgb(255, 255, 255)"});const r=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/i);for(let a=4;a<=this.dataRange.max;a+=r){const r=.85*t,s=r-5,c=r,l=i-(a-this.dataRange.min)/n;kd.strokeLine(e,s,l,c,l,o),l>8&&kd.fillText(e,a,s-1,l+2,o)}o.textAlign="center",kd.fillText(e,"-log10(pvalue)",t/4,i/2,o,{rotate:{angle:-90}})}async getFeatures(e,t,i){const n=this.pValueField,o=this.visibilityWindow,r=await this.featureSource.getFeatures({chr:e,start:t,end:i,visibilityWindow:o});return r.forEach((function(e){e.value=e[n]})),r}draw(e){const t=e.context,i=e.pixelWidth,n=e.pixelHeight;this.background&&kd.fillRect(t,0,0,i,n,{fillStyle:this.background}),kd.strokeLine(t,0,n-1,i,n-1,{strokeStyle:this.divider});const o=o=>{const r=o?2*this.dotSize:this.dotSize,a=e.bpStart,s=(this.dataRange.max-this.dataRange.min)/n,c=e.referenceFrame.selection;for(let h of e.features){const d=(h.start-a+.5)/e.bpPerPixel;if(d<0)continue;if(d>i)break;const f=h.snp.toUpperCase(),u=h[this.geneField].toUpperCase(),p=c&&(c.snp===f||c.gene===u);if(!o||p){c&&c.snp===f&&c.addGene(u);var l=-Math.log(h[this.pValueField])/Math.LN10;if(l>=this.dataRange.min){let e;l>this.dataRange.max?(l=this.dataRange.max,e=!0):e=!1;const i=Math.max(0+r,n-Math.round((l-this.dataRange.min)/s));let a;h.px=d,h.py=i,h.radius=r,o&&c?(a=c.colorForGene(u),kd.setProperties(t,{fillStyle:a,strokeStyle:"black"})):(a=e?"rgb(150, 150, 150)":"rgb(180, 180, 180)",kd.setProperties(t,{fillStyle:a,strokeStyle:a})),kd.fillCircle(t,d,i,r),kd.strokeCircle(t,d,i,r)}}}};o(!1),o(!0)}popupData(e,t){if(void 0===t&&(t=e.viewport.cachedFeatures),!t||0===t.length)return[];const i=this.name,n=[];for(let o of t)Math.abs(o.px-e.canvasX)<o.radius+3&&Math.abs(o.py-e.canvasY)<o.radius+3&&(n.length>0&&n.push("<hr/>"),n.push({name:"snp id",value:o.snp},{name:"gene id",value:o.geneId},{name:"gene name",value:o.geneName},{name:"p value",value:o.pValue},{name:"tissue",value:i}));return n}menuItemList(){return Va.numericDataMenuItems(this.trackView)}doAutoscale(e){if(e.length>0){var t=e.map((function(e){return-Math.log(e.value)/Math.LN10}));this.dataRange.max=Lh(t,this.autoscalePercentile)}else{const e=this.config.maxLogP||this.config.max;this.dataRange.max=e||25}return this.dataRange}}const Jw={X:"rgb(204, 153, 0)",Y:"rgb(153, 204, 0)",Un:"darkGray)",1:"rgb(80, 80, 255)",2:"rgb(206, 61, 50)","2a":"rgb(210, 65, 55)","2b":"rgb(215, 70, 60)",3:"rgb(116, 155, 88)",4:"rgb(240, 230, 133)",5:"rgb(70, 105, 131)",6:"rgb(186, 99, 56)",7:"rgb(93, 177, 221)",8:"rgb(128, 34, 104)",9:"rgb(107, 215, 107)",10:"rgb(213, 149, 167)",11:"rgb(146, 72, 34)",12:"rgb(131, 123, 141)",13:"rgb(199, 81, 39)",14:"rgb(213, 143, 92)",15:"rgb(122, 101, 165)",16:"rgb(228, 175, 105)",17:"rgb(59, 27, 83)",18:"rgb(205, 222, 183)",19:"rgb(97, 42, 121)",20:"rgb(174, 31, 99)",21:"rgb(231, 199, 111)",22:"rgb(90, 101, 94)",23:"rgb(204, 153, 0)",24:"rgb(153, 204, 0)",25:"rgb(51, 204, 0)",26:"rgb(0, 204, 51)",27:"rgb(0, 204, 153)",28:"rgb(0, 153, 204)",29:"rgb(10, 71, 255)",30:"rgb(71, 117, 255)",31:"rgb(255, 194, 10)",32:"rgb(255, 209, 71)",33:"rgb(153, 0, 51)",34:"rgb(153, 26, 0)",35:"rgb(153, 102, 0)",36:"rgb(128, 153, 0)",37:"rgb(51, 153, 0)",38:"rgb(0, 153, 26)",39:"rgb(0, 153, 102)",40:"rgb(0, 128, 153)",41:"rgb(0, 51, 153)",42:"rgb(26, 0, 153)",43:"rgb(102, 0, 153)",44:"rgb(153, 0, 128)",45:"rgb(214, 0, 71)",46:"rgb(255, 20, 99)",47:"rgb(0, 214, 143)",48:"rgb(20, 255, 177)"};for(let Pk of Object.keys(Jw)){Jw["chr"+Pk]=Jw[Pk]}for(let qk=1;qk<=48;qk++){if(10===qk)continue;const Uk=eF(qk);Jw[Uk]=Jw[qk.toString()]}function eF(e){if(!+e)return!1;for(var t=String(+e).split(""),i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",o=3;o--;)n=(i[+t.pop()+10*o]||"")+n;return Array(+t.join("")+1).join("M")+n}class tF extends Tu{constructor(e,t){super(e,t)}init(e){super.init(e),this.useChrColors=void 0===e.useChrColors||e.useChrColors,this.trait=e.trait,this.posteriorProbability=e.posteriorProbability,this.valueProperty="bed"===e.format?"score":"value",this.height=e.height||100,this.autoscale=e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||3,this.popoverWindow=void 0===e.popoverWindow?1e8:e.popoverWindow,this.useChrColors?this.colorScale=new _d(e.colorTable||Jw):e.color?this.colorScale=new Lw(e.color):this.colorScale=new Tw(e.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]}),this.featureSource=pm(e,this.browser.genome)}async postInit(){if("function"!=typeof this.featureSource.getHeader||(this.header=await this.featureSource.getHeader(),!this.disposed))return this.header&&this.setTrackProperties(this.header),this.autoscale||(this.posteriorProbability?this.dataRange={min:void 0===this.config.min?0:this.config.min,max:void 0===this.config.max?1:this.config.max}:this.dataRange={min:void 0===this.config.min?0:this.config.min,max:void 0===this.config.max?25:this.config.max}),this}get supportsWholeGenome(){return!0}async getFeatures(e,t,i){const n=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:i,visibilityWindow:n})}draw(e){const t=e.features,i=e.context,n=e.pixelWidth,o=e.pixelHeight;if(this.background&&kd.fillRect(i,0,0,n,o,{fillStyle:this.background}),kd.strokeLine(i,0,o-1,n,o-1,{strokeStyle:this.divider}),t){const r=e.bpPerPixel,a=e.bpStart,s=a+n*r+1;for(let e of t){const t=e.start;if(t<a)continue;if(t>s)break;let n;if(this.posteriorProbability)n=e[this.valueProperty];else{const t=e[this.valueProperty];if(!t)continue;n=-Math.log10(t)}const c=this.useChrColors?e._f?e._f.chr:e.chr:n,l=this.colorScale.getColor(c),h=(this.dataRange.max-this.dataRange.min)/o,d=Math.round((t-a)/r),f=Math.max(this.dotSize,o-Math.round((n-this.dataRange.min)/h));l&&kd.setProperties(i,{fillStyle:l,strokeStyle:"black"}),kd.fillCircle(i,d,f,this.dotSize),e.px=d,e.py=f}}}paintAxis(e,t,i){kd.fillRect(e,0,0,t,i,{fillStyle:"rgb(255, 255, 255)"});var n={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};const o=(this.dataRange.max-this.dataRange.min)/i;if(this.posteriorProbability){const t=.1;for(let r=this.dataRange.min;r<this.dataRange.max;r+=t){const t=i-Math.round((r-this.dataRange.min)/o);kd.strokeLine(e,45,t-2,50,t-2,n),kd.fillText(e,r.toFixed(1),44,t+2,n)}}else{const t=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/i);for(let r=this.dataRange.min;r<this.dataRange.max;r+=t){const t=i-Math.round((r-this.dataRange.min)/o);kd.strokeLine(e,45,t,50,t,n),kd.fillText(e,Math.floor(r),44,t+4,n)}}n.textAlign="center",this.posteriorProbability?kd.fillText(e,"PPA",t/2,i/2,n,{rotate:{angle:-90}}):kd.fillText(e,"-log10(pvalue)",t/2,i/2,n,{rotate:{angle:-90}})}popupData(e,t){void 0===t&&(t=e.viewport.cachedFeatures);let i=[];const n=e.viewport.trackView.track;if(t){let o=0;for(let r of t){const t=Math.abs(e.canvasX-r.px),a=Math.abs(e.canvasY-r.py),s=r[this.valueProperty];if(t<this.dotSize&&a<this.dotSize){if(o>0&&i.push("<HR/>"),5==o){i.push("...");break}if("function"==typeof r.popupData)i=i.concat(r.popupData());else{const e=r.realChr||r.chr,t=(r.realStart||r.start)+1;i.push({name:"chromosome",value:e}),i.push({name:"position",value:t}),i.push({name:"name",value:r.name}),n.posteriorProbability?i.push({name:"posterior probability",value:s}):i.push({name:"pValue",value:s})}o++}}}return i}menuItemList(){return Va.numericDataMenuItems(this.trackView)}doAutoscale(e){if(e.length>0){const t=this.valueProperty,i=this.posteriorProbability,n=e.map((function(e){const n=e[t];return{value:i?n:-Math.log(n)/Math.LN10}}));this.dataRange=Dd(n)}else this.posteriorProbability?this.dataRange={min:this.config.min||0,max:this.config.max||1}:this.dataRange={min:this.config.max||25,max:this.config.min||0};return this.dataRange}}class iF extends Tu{constructor(e,t){super(e,t)}init(e){super.init(e),this.autoscale=e.autoscale||void 0===e.max,this.dataRange={min:e.min||0,max:e.max},this.windowFunction=e.windowFunction||"mean",this.paintAxis=pg,this.graphType=e.graphType||"bar",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=pm(this.config,this.browser.genome),this.visibilityWindow=-1,this.featureSource.visibilityWindow=this.visibilityWindow}async postInit(){if("function"==typeof this.featureSource.getHeader){if(this.header=await this.featureSource.getHeader(),this.disposed)return;if(this.sampleNames=this.header.columnNames.slice(3),this.setTrackProperties(this.header),this.header.hasOwnProperty("clickToHighlight")){let e=this.header.clickToHighlight;this.config.clickToHighlight=e,this.config.samplesClickedToHighlight={}}if(this.header.hasOwnProperty("highlight")){this.config.highlightSamples={};let e=this.header.highlight;Array.isArray(e)||(e=[e]);for(let t of e){const e=t.split(";");2===e.length&&(this.config.highlightSamples[e[0]]=e[1])}}}}menuItemList(){return Va.numericDataMenuItems(this.trackView)}async getFeatures(e,t,i){const n=await this.featureSource.getFeatures({chr:e,start:0,end:Number.MAX_SAFE_INTEGER,visibilityWindow:this.visibilityWindow});let o,r;for(let e=1;e<n.length-1;e++)if(void 0===o&&n[e].end>t&&(o=e-1),void 0===r&&n[e].start>i){r=e+1;break}return void 0===o&&(o=0),void 0===r&&(r=n.length),n.slice(o,r)}draw(e){const{features:t,context:i,bpPerPixel:n,bpStart:o,pixelWidth:r,pixelHeight:a}=e,s=e=>(this.dataRange.max-e)/(this.dataRange.max-this.dataRange.min)*a,c=function(e){let t=Math.floor((e-o)/n);return isNaN(t)&&console.warn("isNaN(x). feature start "+Za(e)+" bp start "+Za(o)),t};if(t&&t.length>0&&(void 0===this.dataRange.min&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){const e=this.config.highlightSamples,n=this.config.onlyHandleClicksForHighlightedSamples,o=this.config.clickToHighlight;let r=-1,a={},l=[],h=[];this.clickDetectorCache={};for(let d of t){const t=c(d.start),f=c(d.end),u=r>=0?c(r):t;if(!isNaN(t)&&!isNaN(f)){this.clickDetectorCache[t]=[],this.clickDetectorCache[f]=[];for(let r=0;r<d.values.length;r++){const c=this.sampleNames[r],p=d.values[r],m=s(p);if(t-u>=1){const r=a[c],h=s(r),d=e&&e[c];d?l.push([u,h,t,m,d]):o&&c in this.config.samplesClickedToHighlight?l.push([u,h,t,m,this.config.samplesClickedToHighlight[c]]):kd.strokeLine(i,u,h,t,m,{strokeStyle:"#D9D9D9"}),n&&!(c in e)||this.clickDetectorCache[t].push([u,h,t,m,c,d||"gray"])}if(f-t>=1){const r=e&&e[c];r?h.push([t,m,f,m,r]):o&&c in this.config.samplesClickedToHighlight?h.push([t,m,f,m,this.config.samplesClickedToHighlight[c]]):kd.strokeLine(i,t,m,f,m,{strokeStyle:"gray"}),n&&!(c in e)||this.clickDetectorCache[f].push([t,m,f,m,c,r||"gray"])}a[c]=p}r=d.end}}for(let e of l)kd.strokeLine(i,e[0],e[1],e[2],e[3],{strokeStyle:e[4],lineWidth:1.3});for(let e of h)kd.strokeLine(i,e[0],e[1],e[2],e[3],{strokeStyle:e[4],lineWidth:2})}(e=>{if(this.config.hasOwnProperty("guideLines"))for(let t of this.config.guideLines)if(t.hasOwnProperty("color")&&t.hasOwnProperty("y")&&t.hasOwnProperty("dotted")){let i=s(t.y),n={strokeStyle:t.color,strokeWidth:2};t.dotted?kd.dashedLine(e.context,0,i,e.pixelWidth,i,5,n):kd.strokeLine(e.context,0,i,e.pixelWidth,i,n)}})(e)}doAutoscale(e){let t,i;return e.length>0?(t=Number.MAX_VALUE,i=-Number.MAX_VALUE,e.forEach((function(e){t=Math.min(t,...e.values),i=Math.max(i,...e.values)})),t-=.01,i+=.01):(t=0,i=100),{min:t,max:i}}clickedFeatures(e){const t=e.canvasX,i=e.canvasY;let n=null;for(n of Object.keys(this.clickDetectorCache))if(n=parseInt(n),n>=t)break;if(n){let e=Number.MAX_VALUE,a=[];const s=this.clickDetectorCache[n];for(let n of s){const o=n[0],r=n[2];if(t<o||t>r)return[];const s=n[1],c=n[3];if(i<Math.min(s,c)-10||i>Math.max(s,c)+10)continue;const l=nF(t,i,o,s,r,c);l<e&&(a=[{name:n[4],color:n[5]}],e=l)}if(e<5){if(this.config.clickToHighlight){if(a[0].name in this.config.samplesClickedToHighlight)delete this.config.samplesClickedToHighlight[a[0].name];else if("any"===this.config.clickToHighlight){var o=["red","darkblue","green","teal","olivedrab","orange","maroon","purple","blue","gold"],r=o[Math.floor(Math.random()*(o.length+1))];this.config.samplesClickedToHighlight[a[0].name]=r}else this.config.samplesClickedToHighlight[a[0].name]=this.config.clickToHighlight;this.trackView.repaintViews()}return a}}return[]}popupData(e,t){void 0===t&&(t=this.clickedFeatures(e));const i=[];return t.forEach((function(e){for(let t of Object.keys(e))Id(e[t])&&i.push({name:t,value:e[t]})})),i}get supportsWholeGenome(){return!1}}function nF(e,t,i,n,o,r){const a=o-i,s=r-n,c=Math.abs(a*(n-t)-(i-e)*s),l=Math.sqrt(a*a+s*s);return l>0?c/l:0}class oF extends Tu{constructor(e,t){super(e,t),e.height||(this.height=300),this.arcOrientation=!1,this.theta=Math.PI/2,"bp"===e.format?this.featureSource=new aF(e,t.genome):this.featureSource=new qp(e,t.genome)}async getFeatures(e,t,i){const n=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:i,visibilityWindow:n})}draw(e){const t=e.context,i=Math.PI/2,n=e.pixelWidth,o=e.pixelHeight;e.viewportWidth;const r=e.bpPerPixel,a=e.bpStart,s=r,c=this.arcOrientation;kd.fillRect(t,0,e.pixelTop,n,o,{fillStyle:"rgb(255, 255, 255)"});const l=e.features;if(l){rF(l,1);for(let e of l)if(e.startLeft){let n=Math.round((e.startLeft-a)/s),o=Math.round((e.startRight-a)/s),r=Math.round((e.endLeft-a)/s),l=Math.round((e.endRight-a)/s);t.fillStyle=e.color,t.strokeStyle=e.color,t.beginPath();let h=(n+l)/2,d=(l-n)/2,f=this.height,u=Math.PI+(Math.PI/2-i),p=2*Math.PI-(Math.PI/2-i);c?(f=0,t.arc(h,f,d,p,u),t.lineTo(l,f)):(t.arc(h,f,d,u,p),t.lineTo(r,f));const m=(o+r)/2,g=(r-o)/2,w=f;c?(t.arc(m,w,g,u,p,!0),t.lineTo(r,w)):(t.arc(m,w,g,p,u,!0),t.lineTo(n,w)),t.stroke(),t.fill(),e.drawState={x1:h,y1:f,r1:d,x2:m,y2:w,r2:g,sa:u,ea:p}}else{let n=Math.round((e.start-a)/s),o=Math.round((e.end-a)/s);t.strokeStyle=e.color,t.beginPath();let r=(n+o)/2,l=(o-n)/2,h=this.height,d=Math.PI+(Math.PI/2-i),f=2*Math.PI-(Math.PI/2-i);c?(h=0,t.arc(r,h,l,f,d)):t.arc(r,h,l,d,f),t.stroke(),e.drawState={x1:r,y1:h,r1:l,sa:d,ea:f}}}}clickedFeatures(e){const t=super.clickedFeatures(e),i=[];rF(t,-1);for(let n of t){const t=n.drawState,o=e.canvasX-t.x1,r=e.canvasY-t.y1,a=Math.sqrt(o*o+r*r),s=t.r1+3;let c,l;if(void 0===t.x2)c=a,l=t.r1-3;else{const i=e.canvasX-t.x2,n=e.canvasY-t.y2;c=Math.sqrt(i*i+n*n),l=t.r2-3}if(a<s&&c>l){i.push(n);break}}return i}popupData(e,t){if(void 0===t&&(t=this.clickedFeatures(e)),t&&t.length>0)return this.extractPopupData(t[0],this.getGenomeId())}menuItemList(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}]}}function rF(e,t){e.sort((function(e,i){const n=void 0===e.score?-Number.MAX_VALUE:e.score,o=void 0===i.score?-Number.MAX_VALUE:i.score;return(void 0===t?1:t)*(n-o)}))}class aF{constructor(e,t){this.config=e,this.genome=t}async getFeatures({chr:e,start:t,end:i,bpPerPixel:n,visibilityWindow:o}){const r=this.genome;if(this.featureCache)return this.featureCache.queryFeatures(e,t,i);{const n=zd(this.config),o=await ad.loadString(this.config.url,n);return this.featureCache=new md(function(e){if(!e)return null;const t=fp(e);let i,n=!0;const o=[],r=[],a=[];for(;void 0!==(i=t.nextLine());){const e=i.split("\t");if(n&&i.startsWith("color:")){const t="rgb("+e[1]+","+e[2]+","+e[3]+")";o.push(t),e.length>4&&r.push(e[4])}else{n=!1;const t=e[0],i=Number.parseInt(e[1])-1,c=Number.parseInt(e[2])-1,l=Number.parseInt(e[3]),h=Number.parseInt(e[4]);var s=Number.parseInt(e[5]);const d=o[s];let f;f=i<=h?{chr:t,startLeft:Math.min(i,c),startRight:Math.max(i,c),endLeft:Math.min(l,h),endRight:Math.max(l,h),color:d,score:s}:{chr:t,startLeft:Math.min(l,h),startRight:Math.max(l,h),endLeft:Math.min(i,c),endRight:Math.max(i,c),color:d,score:s},f.start=f.startLeft,f.end=f.endRight,r.length>s&&(f.description=r[s]),a.push(f)}}return a}(o),r),this.featureCache.queryFeatures(e,t,i)}}}class sF{constructor(e){this.browser=e,this.type="ideogram",this.height=16,this.order=Number.MIN_SAFE_INTEGER,this.disableButtons=!0,this.ignoreTrackMenu=!0}async getFeatures(e,t,i){return[]}computePixelHeight(e){return this.height}draw({context:e,referenceFrame:t,pixelWidth:i,pixelHeight:n}){const o=t.chr,r=t.genome.getChromosome(o);if(void 0===r||i<=0||n<=0||"all"===o.toLowerCase())return;!function({ctx:e,chr:t,referenceFrame:i,genome:n,width:o,height:r,stainColors:a}){const s=1,c=.5*s,l=0;if(void 0===n)return;kd.fillRect(e,0,0,o,r,{fillStyle:qh.greyScale(255)});const h=n.getCytobands(t);if(h){const t=l+r/2,i=[],n=[];if(0===h.length)return;const d=o/h[h.length-1].end;e.beginPath(),kd.roundRect(e,c,c+l,o-2*c,r-2*c,(r-2*c)/2,0,1),e.clip();for(let o=0;o<h.length;o++){const c=h[o],f=d*c.start,u=d*c.end;"c"===c.type?("p"===c.name.charAt(0)?(i[0]=f,n[0]=r+l,i[1]=f,n[1]=l,i[2]=u,n[2]=t):(i[0]=u,n[0]=r+l,i[1]=u,n[1]=l,i[2]=f,n[2]=t),e.fillStyle="rgb(150, 0, 0)",e.strokeStyle="rgb(150, 0, 0)",kd.polygon(e,i,n,1,0)):(e.fillStyle=cF(a,c),kd.fillRect(e,f,s+l,u-f,r-2*s))}}e.strokeStyle=qh.greyScale(41),kd.roundRect(e,c,c+l,o-2*c,r-2*c,(r-2*c)/2,0,1)}({ctx:e,chr:o,referenceFrame:t,genome:t.genome,width:i,height:n,stainColors:[]});const a=Math.round(t.bpPerPixel*i),s=t.start;let c=r.bpLength;const l=t.genome.getCytobands(o);if(l&&l.length>0&&l[l.length-1].end&&(c=Math.max(c,l[l.length-1].end),r.bpLength=c),a<c){const t=a/c,o=s/c;let r=Math.floor(o*i),l=Math.floor(t*i);r=Math.max(0,r),r=Math.min(i-l,r),e.save(),e.strokeStyle="red",e.lineWidth=l<2?1:2;const h=r+e.lineWidth/2;l=l<2?1:l-e.lineWidth;const d=e.lineWidth/2,f=n-e.lineWidth;e.strokeRect(h,d,l,f),e.restore()}}dispose(){this.trackView=void 0}}function cF(e,t){if("c"===t.type)return"rgb(150, 10, 10)";var i=t.stain,n=230;"p"===t.type&&(n=Math.floor(230-i/100*230));var o=e[n];return o||(o="rgb("+n+","+n+","+n+")",e[n]=o),o}let lF=new yd("Dark2");["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"].forEach((e=>{lF.getColor(e)}));const hF={};class dF extends Tu{constructor(e,t){super(e,t)}init(e){super.init(e),this.type=e.type||"junctions",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=e.featureSource?e.featureSource:pm(e,this.browser.genome),this.margin=void 0===e.margin?10:e.margin,this.height||(this.height=100),void 0===e.colorByNumReadsThreshold&&(e.colorByNumReadsThreshold=5)}async postInit(){if("function"!=typeof this.featureSource.getHeader||(this.header=await this.featureSource.getHeader(),!this.disposed))return this.header&&this.setTrackProperties(this.header),void 0===this.visibilityWindow&&"function"==typeof this.featureSource.defaultVisibilityWindow&&(this.visibilityWindow=await this.featureSource.defaultVisibilityWindow()),this}get supportsWholeGenome(){return!1}async getFeatures(e,t,i,n){const o=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:i,bpPerPixel:n,visibilityWindow:o})}computePixelHeight(e){return this.height}draw(e){const t=e.features,i=e.context,n=e.bpPerPixel,o=e.bpStart,r=e.pixelWidth,a=e.pixelHeight,s=o+r*n+1;if(this.config.isMergedTrack||kd.fillRect(i,0,e.pixelTop,r,a,{fillStyle:"rgb(255, 255, 255)"}),t){hF.referenceFrame=e.viewport.referenceFrame,hF.referenceFrameStart=hF.referenceFrame.start,hF.referenceFrameEnd=hF.referenceFrameStart+hF.referenceFrame.toBP(e.viewport.getWidth()),hF.featureZoomOutTracker={};for(let e of t)if(!(e.end<o)){if(e.start>s)break;this.renderJunction(e,o,n,a,i)}}else console.log("No feature list")}renderJunction(e,t,i,n,o){e.isVisible=!1;const r=Math.round((e.start-t)/i),a=Math.round((e.end-t)/i),s=(r+a)/2;if(a-r<=3){if(s in hF.featureZoomOutTracker)return;hF.featureZoomOutTracker[s]=!0}if(this.config.hideAnnotatedJunctions&&"true"===e.attributes.annotated_junction)return;if(this.config.hideUnannotatedJunctions&&"false"===e.attributes.annotated_junction)return;if(this.config.hideMotifs&&this.config.hideMotifs.includes(e.attributes.motif))return;if(this.config.hideStrand===e.strand)return;if(this.config.minJunctionEndsVisible){let t=0;if(e.start>=hF.referenceFrameStart&&e.start<=hF.referenceFrameEnd&&(t+=1),e.end>=hF.referenceFrameStart&&e.end<=hF.referenceFrameEnd&&(t+=1),t<this.config.minJunctionEndsVisible)return}let c,l,h,d;if(e.attributes.uniquely_mapped){if(c=parseInt(e.attributes.uniquely_mapped),c<this.config.minUniquelyMappedReads)return;if(l=parseInt(e.attributes.multi_mapped),h=c+l,h<this.config.minTotalReads)return;if(h>0&&l/h>this.config.maxFractionMultiMappedReads)return;if(e.attributes.maximum_spliced_alignment_overhang&&parseInt(e.attributes.maximum_spliced_alignment_overhang)<this.config.minSplicedAlignmentOverhang)return}if(e.attributes.num_samples_with_this_junction){if(d=parseInt(e.attributes.num_samples_with_this_junction),this.config.minSamplesWithThisJunction&&d<this.config.minSamplesWithThisJunction)return;if(this.config.maxSamplesWithThisJunction&&d>this.config.maxSamplesWithThisJunction)return;if(e.attributes.num_samples_total&&(e.attributes.percent_samples_with_this_junction=100*d/Number(e.attributes.num_samples_total),this.config.minPercentSamplesWithThisJunction&&(e.attributes.percent_samples_with_this_junction<this.config.minPercentSamplesWithThisJunction||e.attributes.percent_samples_with_this_junction>this.config.maxPercentSamplesWithThisJunction)))return}const f=this.margin,u=this.height,p=f+.5*u;let m=f;const g=f+u-10,w=(r+s)/2,F=(s+a)/2;let b,v,y=1;e.attributes.line_width?y=Number(e.attributes.line_width):(void 0===this.config.thicknessBasedOn||"numUniqueReads"===this.config.thicknessBasedOn?y=c:"numReads"===this.config.thicknessBasedOn?y=h:"numSamplesWithThisJunction"===this.config.thicknessBasedOn&&void 0!==d&&(y=d),y=1+Math.log(y+1)/Math.log(12)),void 0===this.config.bounceHeightBasedOn||"random"===this.config.bounceHeightBasedOn?b=(e.start+e.end)%7:"distance"===this.config.bounceHeightBasedOn?b=6*(e.end-e.start)/(hF.referenceFrameEnd-hF.referenceFrameStart):"thickness"===this.config.bounceHeightBasedOn&&(b=2*y),m+=u*Math.max(7-b,0)/10,v=e.attributes.color?e.attributes.color:void 0===this.config.colorBy||"numUniqueReads"===this.config.colorBy?c>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"numReads"===this.config.colorBy?h>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"isAnnotatedJunction"===this.config.colorBy?"true"===e.attributes.annotated_junction?"#b0b0ec":"orange":"strand"===this.config.colorBy?"+"===e.strand?"#b0b0ec":"#ecb0b0":"motif"===this.config.colorBy?lF.getColor(e.attributes.motif):"#AAAAAA";let _="";e.attributes.label?_=e.attributes.label.replace(/_/g," "):void 0===this.config.labelWith||"uniqueReadCount"===this.config.labelWith?_=c:"totalReadCount"===this.config.labelWith?_=h:"numSamplesWithThisJunction"===this.config.labelWith?void 0!==d&&(_=d):"percentSamplesWithThisJunction"===this.config.labelWith?void 0!==e.attributes.percent_samples_with_this_junction&&(_=e.attributes.percent_samples_with_this_junction.toFixed(0)+"%"):"motif"===this.config.labelWith&&void 0!==e.attributes.motif&&(_+=e.attributes.motif),"uniqueReadCount"===this.config.labelWithInParen?_+=" ("+c+")":"totalReadCount"===this.config.labelWithInParen?_+=" ("+h+")":"multiMappedReadCount"===this.config.labelWithInParen?l>0&&(_+=" (+"+l+")"):"numSamplesWithThisJunction"===this.config.labelWithInParen?void 0!==d&&(_+=" ("+d+")"):"percentSamplesWithThisJunction"===this.config.labelWithInParen?void 0!==e.attributes.percent_samples_with_this_junction&&(_+=" ("+e.attributes.percent_samples_with_this_junction.toFixed(0)+"%)"):"motif"===this.config.labelWithInParen&&void 0!==e.attributes.motif&&(_+=` ${e.attributes.motif}`),e.isVisible=!0,o.beginPath(),o.moveTo(r,g),o.bezierCurveTo(w,m,F,m,a,g),o.lineWidth=y,o.strokeStyle=v,o.stroke();const C=(e,t,i,n)=>{e.beginPath(),e.moveTo(t,i),e.lineTo(t-n/2,i-n),e.lineTo(t+n/2,i-n),e.lineTo(t,i),e.closePath(),e.fill()};if(e.attributes.left_shape||e.attributes.right_shape){o.fillStyle=v;const t=o.lineWidth>2?10:7;e.attributes.left_shape&&C(o,r,g,t),e.attributes.right_shape&&C(o,a,g,t)}o.fillText(_,s-o.measureText(_).width/2,(7*m+p)/8)}clickedFeatures(e){return super.clickedFeatures(e).filter((function(e){return e.isVisible&&e.attributes}))}popupData(e,t){void 0===t&&(t=this.clickedFeatures(e));const i=e.genomicLocation,n=[];for(let e of t){const t="function"==typeof e.popupData?e.popupData(i):this.extractPopupData(e._f||e,this.getGenomeId());t&&(n.length>0&&n.push("<hr/><hr/>"),Array.prototype.push.apply(n,t))}return n}dispose(){this.trackView=void 0}}class fF{constructor(e){var t;this.config=e,this.url=(t=e.path||e.url).includes("//www.dropbox.com")?t.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):t.startsWith("ftp://ftp.ncbi.nlm.nih.gov")?t.replace("ftp://","https://"):t}async read(e,t){const i=this.config.headers||{};if(void 0!==e&&t){const n="bytes="+e+"-"+(e+t-1);i.Range=n}let n=this.url.slice();if(this.config.oauthToken){const e=async function(e){return"function"==typeof e?await Promise.resolve(e()):e}(this.config.oauthToken);i.Authorization=`Bearer ${e}`}this.config.apiKey&&(n=function(e,t,i){const n=e.includes("?")?"&":"?";return e+n+t+"="+i}(n,"key",this.config.apiKey));const o=await fetch(n,{method:"GET",headers:i,redirect:"follow",mode:"cors"}),r=o.status;if(r>=400){const e=Error(o.statusText);throw e.code=r,e}return o.arrayBuffer()}}class uF{constructor(e){this.file=e.file,this.fetchSize=e.fetchSize||16e3,this.maxSize=e.maxSize||1e6,this.buffers=[]}async read(e,t){let i=this.buffers.filter((i=>i.overlaps(e,e+t)));for(let n of i)if(n.contains(e,e+t))return n.slice(e,e+t);if(0===i.length){let i=Math.max(t,this.fetchSize);this.buffers.sort(((e,t)=>e.start-t.start));const n=function(e,t,i){let n=i-1,o=e.length;for(;1+n<o;){const i=n+(o-n>>1);t(e[i])?o=i:n=i}return o}(this.buffers,(t=>t.start>e),0);n<this.buffers.length&&(i=Math.min(i,this.buffers[n].start-e));const o=e,r=await this.file.read(o,i),a=new pF(o,r);return this.addBuffer(a),a.slice(e,e+t)}{i.sort(((e,t)=>e.start-t.start));const n=[];let o=e;for(let e of i){if(o<e.start){const t=o,i=e.start-o,r=await this.file.read(t,i),a=new pF(t,r);n.push(a)}n.push(e),o=e.end}const r=e+t;if(r>o){const e=o,t=r-e,i=await this.file.read(e,t),a=new pF(e,i);n.push(a)}const a=n[0].start,s=function(e){const t=e.reduce(((e,t)=>e+t.byteLength),0),i=new Uint8Array(t);let n=0;for(let t of e)i.set(new Uint8Array(t),n),n+=t.byteLength;return i.buffer}(n.map((e=>e.buffer))),c=new pF(a,s),l=new Set(i);return this.buffers=this.buffers.filter((e=>!l.has(e))),this.addBuffer(c),c.slice(e,e+t)}}addBuffer(e){const t=this.buffers.reduce(((e,t)=>e+t.size),0)+e.size;if(t>this.maxSize){const e=t-this.maxSize;this.buffers.sort(((e,t)=>e.creationTime-t.creationTime));let i,n=0;for(i=0;i<this.buffers.length&&(n+=this.buffers[i].size,!(n>e));i++);this.buffers=i<this.buffers.length-1?this.buffers.slice(i):[]}e.size<=this.maxSize&&this.buffers.push(e)}}class pF{constructor(e,t){this.creationTime=Date.now(),this.start=e,this.buffer=t}slice(e,t){if(e<this.start||t-e>this.buffer.byteLength)throw Error("buffer bounds error");return this.buffer.slice(e-this.start,t-this.start)}get end(){return this.start+this.buffer.byteLength}get size(){return this.buffer.byteLength}contains(e,t){return e>=this.start&&t<=this.end}overlaps(e,t){return e>this.start&&e<this.end||t>this.start&&t<this.end}toString(){return`Buffer ${this.creationTime}   ${this.start} - ${this.end}`}}class mF{constructor(e){this.file=e}async read(e,t){if(0===t)return new ArrayBuffer;return(null!=e&&t?this.file.slice(e,e+t):this.file).arrayBuffer()}}var gF=Object.defineProperty,wF=(e,t,i)=>(((e,t,i)=>{t in e?gF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);async function FF(e,t,i=0){var n=new Map;for(let[o,r]of e.entries()){let e=await kF.unpack_from_async("<"+r,t,i);i+=kF.calcsize(r),1==e.length&&(e=e[0]),n.set(o,e)}return n}function bF(e,t,i=0){var n=new Map;for(let[o,r]of e.entries()){let e=kF.unpack_from("<"+r,t,i);i+=kF.calcsize(r),1==e.length&&(e=e[0]),n.set(o,e)}return n}function vF(e){e||e()}function yF(e){var t="<"+Array.from(e.values()).join("");return kF.calcsize(t)}function _F(e,t=8){return Math.ceil(e/t)*t}var CF={u:"Uint",i:"Int",f:"Float"};function xF(e){var t,i,n=kF._is_big_endian(e);if(/S/.test(e))t="getString",i=0|((e.match(/S(\d*)/)||[])[1]||1);else{let[n,o,r]=e.match(/[<>=!@]?(i|u|f)(\d*)/);i=parseInt(r||4,10),t="get"+CF[o]+(8*i).toFixed()}return[t,n,i]}var kF=new class{constructor(){this.big_endian=function(){const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])}(),this.getters={s:"getUint8",b:"getInt8",B:"getUint8",h:"getInt16",H:"getUint16",i:"getInt32",I:"getUint32",l:"getInt32",L:"getUint32",q:"getInt64",Q:"getUint64",f:"getFloat32",d:"getFloat64"},this.byte_lengths={s:1,b:1,B:1,h:2,H:2,i:4,I:4,l:4,L:4,q:8,Q:8,f:4,d:8};let e=Object.keys(this.byte_lengths).join("");this.fmt_size_regex="(\\d*)(["+e+"])"}calcsize(e){for(var t,i=0,n=new RegExp(this.fmt_size_regex,"g");null!==(t=n.exec(e));){let e=parseInt(t[1]||1,10),n=t[2];i+=e*this.byte_lengths[n]}return i}_is_big_endian(e){return!/^</.test(e)&&(!!/^(!|>)/.test(e)||this.big_endian)}async unpack_from_async(e,t,i){i=Number.parseInt(i||0);const n=this.calcsize(e),o=await t.slice(i,i+n);let r=0;for(var a,s=new EF(o),c=[],l=this._is_big_endian(e),h=new RegExp(this.fmt_size_regex,"g");null!==(a=h.exec(e));){let e=parseInt(a[1]||1,10),t=a[2],i=this.getters[t],n=this.byte_lengths[t];if("s"==t)c.push((new TextDecoder).decode(o.slice(r,r+e))),r+=e;else for(var d=0;d<e;d++)c.push(s[i](r,!l)),r+=n}return c}unpack_from(e,t,i){i=Number.parseInt(i||0);const n=this.calcsize(e),o=t.slice(i,i+n);let r=0;for(var a,s=new EF(o),c=[],l=this._is_big_endian(e),h=new RegExp(this.fmt_size_regex,"g");null!==(a=h.exec(e));){let e=parseInt(a[1]||1,10),t=a[2],i=this.getters[t],n=this.byte_lengths[t];if("s"==t)c.push((new TextDecoder).decode(o.slice(r,r+e))),r+=e;else for(var d=0;d<e;d++)c.push(s[i](r,!l)),r+=n}return c}};var EF=class extends DataView{getUint64(e,t){const i=BigInt(this.getUint32(e,t)),n=BigInt(this.getUint32(e+4,t));let o=t?i+(n<<32n):(i<<32n)+n;return Number.parseInt(o)}getInt64(e,t){var i,n;t?(i=this.getUint32(e,!0),n=this.getInt32(e+4,!0)):(n=this.getInt32(e,!1),i=this.getUint32(e+4,!1));let o=BigInt(i)+(BigInt(n)<<32n);return Number.parseInt(o)}getString(e,t,i){const n=this.buffer.slice(e,e+i);return(new TextDecoder).decode(n)}getVLENStruct(e,t,i){return[this.getUint32(e,t),this.getUint64(e+4,t),this.getUint32(e+12,t)]}};function NF(e){return e.toString(2).length}function SF(e,t,i=0,n=!0){const o=t.slice(i,i+e);let r=new Uint8Array(o);n||r.reverse();let a=r.reduce(((e,t,i)=>e+(t<<8*i)),0);return a}var IF=class{constructor(e,t){this.buf=e,this.offset=t,this.dtype=this.determine_dtype()}async determine_dtype(){let e=await FF(zF,this.buf,this.offset);this.offset+=DF;let t=15&e.get("class_and_version");if(t==AF)return this._determine_dtype_fixed_point(e);if(t==MF)return this._determine_dtype_floating_point(e);if(t==TF)throw"Time datatype class not supported.";if(t==RF)return this._determine_dtype_string(e);if(t==LF)throw"Bitfield datatype class not supported.";if(t==BF)return{datatype_class:BF,size:e.get("size")};if(t==HF)return this._determine_dtype_compound(e);if(t==OF)return["REFERENCE",e.get("size")];if(t==PF)return this.determine_dtype();if(t==UF)throw"Array datatype class not supported.";if(t==qF){let t=this._determine_dtype_vlen(e);if("VLEN_SEQUENCE"==t[0]){t=["VLEN_SEQUENCE",this.determine_dtype()]}return t}throw"Invalid datatype class "+t}_determine_dtype_fixed_point(e){let t=e.get("size");if(![1,2,4,8].includes(t))throw"Unsupported datatype size";var i;var n;return i=(8&e.get("class_bit_field_0"))>0?"i":"u",n=0==(1&e.get("class_bit_field_0"))?"<":">",this.offset+=4,n+i+t.toFixed()}_determine_dtype_floating_point(e){let t=e.get("size");if(![1,2,4,8].includes(t))throw"Unsupported datatype size";var i;return i=0==(1&e.get("class_bit_field_0"))?"<":">",this.offset+=12,i+"f"+t.toFixed()}_determine_dtype_string(e){return"S"+e.get("size").toFixed()}_determine_dtype_vlen(e){return 1!=(1&e.get("class_bit_field_0"))?["VLEN_SEQUENCE",0,0]:["VLEN_STRING",e.get("class_bit_field_0")>>4,1&e.get("class_bit_field_1")]}_determine_dtype_compound(e){throw"Compound type not yet implemented!"}},zF=new Map([["class_and_version","B"],["class_bit_field_0","B"],["class_bit_field_1","B"],["class_bit_field_2","B"],["size","I"]]),DF=yF(zF);yF(new Map([["offset","I"],["dimensionality","B"],["reserved_0","B"],["reserved_1","B"],["reserved_2","B"],["permutation","I"],["reserved_3","I"],["dim_size_1","I"],["dim_size_2","I"],["dim_size_3","I"],["dim_size_4","I"]]));var AF=0,MF=1,TF=2,RF=3,LF=4,BF=5,HF=6,OF=7,PF=8,qF=9,UF=10;function VF(e){let t=e.length;for(;--t>=0;)e[t]=0}VF(new Array(576)),VF(new Array(60)),VF(new Array(512)),VF(new Array(256)),VF(new Array(29)),VF(new Array(30));var jF=(e,t,i,n)=>{let o=65535&e,r=e>>>16&65535,a=0;for(;0!==i;){a=i>2e3?2e3:i,i-=a;do{o=o+t[n++]|0,r=r+o|0}while(--a);o%=65521,r%=65521}return o|r<<16},WF=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})()),GF=(e,t,i,n)=>{const o=WF,r=n+i;e^=-1;for(let i=n;i<r;i++)e=e>>>8^o[255&(e^t[i])];return~e},$F={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ZF={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},KF=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),XF=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)KF(i,t)&&(e[t]=i[t])}}return e},YF=e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,o=e.length;t<o;t++){let o=e[t];i.set(o,n),n+=o.length}return i},QF=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Vk){QF=!1}var JF=new Uint8Array(256);for(let jk=0;jk<256;jk++)JF[jk]=jk>=252?6:jk>=248?5:jk>=240?4:jk>=224?3:jk>=192?2:1;JF[254]=JF[254]=1;var eb=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,o,r,a=e.length,s=0;for(o=0;o<a;o++)i=e.charCodeAt(o),55296==(64512&i)&&o+1<a&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),o++)),s+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(s),r=0,o=0;r<s;o++)i=e.charCodeAt(o),55296==(64512&i)&&o+1<a&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),o++)),i<128?t[r++]=i:i<2048?(t[r++]=192|i>>>6,t[r++]=128|63&i):i<65536?(t[r++]=224|i>>>12,t[r++]=128|i>>>6&63,t[r++]=128|63&i):(t[r++]=240|i>>>18,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63,t[r++]=128|63&i);return t},tb=(e,t)=>{const i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,o;const r=new Array(2*i);for(o=0,n=0;n<i;){let t=e[n++];if(t<128){r[o++]=t;continue}let a=JF[t];if(a>4)r[o++]=65533,n+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&n<i;)t=t<<6|63&e[n++],a--;a>1?r[o++]=65533:t<65536?r[o++]=t:(t-=65536,r[o++]=55296|t>>10&1023,r[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&QF)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(r,o)},ib=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+JF[e[i]]>t?i:t};var nb=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ob=function(e,t){let i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b,v,y,_,C,x,k;const E=e.state;i=e.next_in,x=e.input,n=i+(e.avail_in-5),o=e.next_out,k=e.output,r=o-(t-e.avail_out),a=o+(e.avail_out-257),s=E.dmax,c=E.wsize,l=E.whave,h=E.wnext,d=E.window,f=E.hold,u=E.bits,p=E.lencode,m=E.distcode,g=(1<<E.lenbits)-1,w=(1<<E.distbits)-1;e:do{u<15&&(f+=x[i++]<<u,u+=8,f+=x[i++]<<u,u+=8),F=p[f&g];t:for(;;){if(b=F>>>24,f>>>=b,u-=b,b=F>>>16&255,0===b)k[o++]=65535&F;else{if(!(16&b)){if(64&b){if(32&b){E.mode=12;break e}e.msg="invalid literal/length code",E.mode=30;break e}F=p[(65535&F)+(f&(1<<b)-1)];continue t}for(v=65535&F,b&=15,b&&(u<b&&(f+=x[i++]<<u,u+=8),v+=f&(1<<b)-1,f>>>=b,u-=b),u<15&&(f+=x[i++]<<u,u+=8,f+=x[i++]<<u,u+=8),F=m[f&w];;){if(b=F>>>24,f>>>=b,u-=b,b=F>>>16&255,16&b){if(y=65535&F,b&=15,u<b&&(f+=x[i++]<<u,u+=8,u<b&&(f+=x[i++]<<u,u+=8)),y+=f&(1<<b)-1,y>s){e.msg="invalid distance too far back",E.mode=30;break e}if(f>>>=b,u-=b,b=o-r,y>b){if(b=y-b,b>l&&E.sane){e.msg="invalid distance too far back",E.mode=30;break e}if(_=0,C=d,0===h){if(_+=c-b,b<v){v-=b;do{k[o++]=d[_++]}while(--b);_=o-y,C=k}}else if(h<b){if(_+=c+h-b,b-=h,b<v){v-=b;do{k[o++]=d[_++]}while(--b);if(_=0,h<v){b=h,v-=b;do{k[o++]=d[_++]}while(--b);_=o-y,C=k}}}else if(_+=h-b,b<v){v-=b;do{k[o++]=d[_++]}while(--b);_=o-y,C=k}for(;v>2;)k[o++]=C[_++],k[o++]=C[_++],k[o++]=C[_++],v-=3;v&&(k[o++]=C[_++],v>1&&(k[o++]=C[_++]))}else{_=o-y;do{k[o++]=k[_++],k[o++]=k[_++],k[o++]=k[_++],v-=3}while(v>2);v&&(k[o++]=k[_++],v>1&&(k[o++]=k[_++]))}break}if(64&b){e.msg="invalid distance code",E.mode=30;break e}F=m[(65535&F)+(f&(1<<b)-1)]}}break}}while(i<n&&o<a);v=u>>3,i-=v,u-=v<<3,f&=(1<<u)-1,e.next_in=i,e.next_out=o,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=o<a?a-o+257:257-(o-a),E.hold=f,E.bits=u},rb=15,ab=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sb=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),cb=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lb=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),hb=(e,t,i,n,o,r,a,s)=>{const c=s.bits;let l,h,d,f,u,p,m=0,g=0,w=0,F=0,b=0,v=0,y=0,_=0,C=0,x=0,k=null,E=0;const N=new Uint16Array(16),S=new Uint16Array(16);let I,z,D,A=null,M=0;for(m=0;m<=rb;m++)N[m]=0;for(g=0;g<n;g++)N[t[i+g]]++;for(b=c,F=rb;F>=1&&0===N[F];F--);if(b>F&&(b=F),0===F)return o[r++]=20971520,o[r++]=20971520,s.bits=1,0;for(w=1;w<F&&0===N[w];w++);for(b<w&&(b=w),_=1,m=1;m<=rb;m++)if(_<<=1,_-=N[m],_<0)return-1;if(_>0&&(0===e||1!==F))return-1;for(S[1]=0,m=1;m<rb;m++)S[m+1]=S[m]+N[m];for(g=0;g<n;g++)0!==t[i+g]&&(a[S[t[i+g]]++]=g);if(0===e?(k=A=a,p=19):1===e?(k=ab,E-=257,A=sb,M-=257,p=256):(k=cb,A=lb,p=-1),x=0,g=0,m=w,u=r,v=b,y=0,d=-1,C=1<<b,f=C-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){I=m-y,a[g]<p?(z=0,D=a[g]):a[g]>p?(z=A[M+a[g]],D=k[E+a[g]]):(z=96,D=0),l=1<<m-y,h=1<<v,w=h;do{h-=l,o[u+(x>>y)+h]=I<<24|z<<16|D}while(0!==h);for(l=1<<m-1;x&l;)l>>=1;if(0!==l?(x&=l-1,x+=l):x=0,g++,0==--N[m]){if(m===F)break;m=t[i+a[g]]}if(m>b&&(x&f)!==d){for(0===y&&(y=b),u+=w,v=m-y,_=1<<v;v+y<F&&(_-=N[v+y],!(_<=0));)v++,_<<=1;if(C+=1<<v,1===e&&C>852||2===e&&C>592)return 1;d=x&f,o[d]=b<<24|v<<16|u-r}}return 0!==x&&(o[u+x]=m-y<<24|64<<16),s.bits=b,0},{Z_FINISH:db,Z_BLOCK:fb,Z_TREES:ub,Z_OK:pb,Z_STREAM_END:mb,Z_NEED_DICT:gb,Z_STREAM_ERROR:wb,Z_DATA_ERROR:Fb,Z_MEM_ERROR:bb,Z_BUF_ERROR:vb,Z_DEFLATED:yb}=ZF,_b=12,Cb=30,xb=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function kb(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Eb,Nb,Sb=e=>{if(!e||!e.state)return wb;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,pb},Ib=e=>{if(!e||!e.state)return wb;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Sb(e)},zb=(e,t)=>{let i;if(!e||!e.state)return wb;const n=e.state;return t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?wb:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,Ib(e))},Db=(e,t)=>{if(!e)return wb;const i=new kb;e.state=i,i.window=null;const n=zb(e,t);return n!==pb&&(e.state=null),n},Ab=!0,Mb=e=>{if(Ab){Eb=new Int32Array(512),Nb=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(hb(1,e.lens,0,288,Eb,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;hb(2,e.lens,0,32,Nb,0,e.work,{bits:5}),Ab=!1}e.lencode=Eb,e.lenbits=9,e.distcode=Nb,e.distbits=5},Tb=(e,t,i,n)=>{let o;const r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(t.subarray(i-r.wsize,i),0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>n&&(o=n),r.window.set(t.subarray(i-n,i-n+o),r.wnext),(n-=o)?(r.window.set(t.subarray(i-n,i),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0},Rb=(e,t)=>{let i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b,v,y,_,C,x=0;const k=new Uint8Array(4);let E,N;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return wb;i=e.state,i.mode===_b&&(i.mode=13),a=e.next_out,o=e.output,c=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,h=i.bits,d=s,f=c,C=pb;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(2&i.wrap&&35615===l){i.check=0,k[0]=255&l,k[1]=l>>>8&255,i.check=GF(i.check,k,2,0),l=0,h=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",i.mode=Cb;break}if((15&l)!==yb){e.msg="unknown compression method",i.mode=Cb;break}if(l>>>=4,h-=4,_=8+(15&l),0===i.wbits)i.wbits=_;else if(_>i.wbits){e.msg="invalid window size",i.mode=Cb;break}i.dmax=1<<i.wbits,e.adler=i.check=1,i.mode=512&l?10:_b,l=0,h=0;break;case 2:for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(i.flags=l,(255&i.flags)!==yb){e.msg="unknown compression method",i.mode=Cb;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=Cb;break}i.head&&(i.head.text=l>>8&1),512&i.flags&&(k[0]=255&l,k[1]=l>>>8&255,i.check=GF(i.check,k,2,0)),l=0,h=0,i.mode=3;case 3:for(;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.head&&(i.head.time=l),512&i.flags&&(k[0]=255&l,k[1]=l>>>8&255,k[2]=l>>>16&255,k[3]=l>>>24&255,i.check=GF(i.check,k,4,0)),l=0,h=0,i.mode=4;case 4:for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.head&&(i.head.xflags=255&l,i.head.os=l>>8),512&i.flags&&(k[0]=255&l,k[1]=l>>>8&255,i.check=GF(i.check,k,2,0)),l=0,h=0,i.mode=5;case 5:if(1024&i.flags){for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.length=l,i.head&&(i.head.extra_len=l),512&i.flags&&(k[0]=255&l,k[1]=l>>>8&255,i.check=GF(i.check,k,2,0)),l=0,h=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(u=i.length,u>s&&(u=s),u&&(i.head&&(_=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(r,r+u),_)),512&i.flags&&(i.check=GF(i.check,n,u,r)),s-=u,r+=u,i.length-=u),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===s)break e;u=0;do{_=n[r+u++],i.head&&_&&i.length<65536&&(i.head.name+=String.fromCharCode(_))}while(_&&u<s);if(512&i.flags&&(i.check=GF(i.check,n,u,r)),s-=u,r+=u,_)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===s)break e;u=0;do{_=n[r+u++],i.head&&_&&i.length<65536&&(i.head.comment+=String.fromCharCode(_))}while(_&&u<s);if(512&i.flags&&(i.check=GF(i.check,n,u,r)),s-=u,r+=u,_)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;h<16;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(l!==(65535&i.check)){e.msg="header crc mismatch",i.mode=Cb;break}l=0,h=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=_b;break;case 10:for(;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}e.adler=i.check=xb(l),l=0,h=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=h,gb;e.adler=i.check=1,i.mode=_b;case _b:if(t===fb||t===ub)break e;case 13:if(i.last){l>>>=7&h,h-=7&h,i.mode=27;break}for(;h<3;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}switch(i.last=1&l,l>>>=1,h-=1,3&l){case 0:i.mode=14;break;case 1:if(Mb(i),i.mode=20,t===ub){l>>>=2,h-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=Cb}l>>>=2,h-=2;break;case 14:for(l>>>=7&h,h-=7&h;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Cb;break}if(i.length=65535&l,l=0,h=0,i.mode=15,t===ub)break e;case 15:i.mode=16;case 16:if(u=i.length,u){if(u>s&&(u=s),u>c&&(u=c),0===u)break e;o.set(n.subarray(r,r+u),a),s-=u,r+=u,c-=u,a+=u,i.length-=u;break}i.mode=_b;break;case 17:for(;h<14;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(i.nlen=257+(31&l),l>>>=5,h-=5,i.ndist=1+(31&l),l>>>=5,h-=5,i.ncode=4+(15&l),l>>>=4,h-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Cb;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;h<3;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.lens[S[i.have++]]=7&l,l>>>=3,h-=3}for(;i.have<19;)i.lens[S[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,E={bits:i.lenbits},C=hb(0,i.lens,0,19,i.lencode,0,i.work,E),i.lenbits=E.bits,C){e.msg="invalid code lengths set",i.mode=Cb;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;x=i.lencode[l&(1<<i.lenbits)-1],g=x>>>24,w=x>>>16&255,F=65535&x,!(g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(F<16)l>>>=g,h-=g,i.lens[i.have++]=F;else{if(16===F){for(N=g+2;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(l>>>=g,h-=g,0===i.have){e.msg="invalid bit length repeat",i.mode=Cb;break}_=i.lens[i.have-1],u=3+(3&l),l>>>=2,h-=2}else if(17===F){for(N=g+3;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=g,h-=g,_=0,u=3+(7&l),l>>>=3,h-=3}else{for(N=g+7;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=g,h-=g,_=0,u=11+(127&l),l>>>=7,h-=7}if(i.have+u>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Cb;break}for(;u--;)i.lens[i.have++]=_}}if(i.mode===Cb)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=Cb;break}if(i.lenbits=9,E={bits:i.lenbits},C=hb(1,i.lens,0,i.nlen,i.lencode,0,i.work,E),i.lenbits=E.bits,C){e.msg="invalid literal/lengths set",i.mode=Cb;break}if(i.distbits=6,i.distcode=i.distdyn,E={bits:i.distbits},C=hb(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,E),i.distbits=E.bits,C){e.msg="invalid distances set",i.mode=Cb;break}if(i.mode=20,t===ub)break e;case 20:i.mode=21;case 21:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=h,ob(e,f),a=e.next_out,o=e.output,c=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,h=i.bits,i.mode===_b&&(i.back=-1);break}for(i.back=0;x=i.lencode[l&(1<<i.lenbits)-1],g=x>>>24,w=x>>>16&255,F=65535&x,!(g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(w&&!(240&w)){for(b=g,v=w,y=F;x=i.lencode[y+((l&(1<<b+v)-1)>>b)],g=x>>>24,w=x>>>16&255,F=65535&x,!(b+g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=b,h-=b,i.back+=b}if(l>>>=g,h-=g,i.back+=g,i.length=F,0===w){i.mode=26;break}if(32&w){i.back=-1,i.mode=_b;break}if(64&w){e.msg="invalid literal/length code",i.mode=Cb;break}i.extra=15&w,i.mode=22;case 22:if(i.extra){for(N=i.extra;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.length+=l&(1<<i.extra)-1,l>>>=i.extra,h-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;x=i.distcode[l&(1<<i.distbits)-1],g=x>>>24,w=x>>>16&255,F=65535&x,!(g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(!(240&w)){for(b=g,v=w,y=F;x=i.distcode[y+((l&(1<<b+v)-1)>>b)],g=x>>>24,w=x>>>16&255,F=65535&x,!(b+g<=h);){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}l>>>=b,h-=b,i.back+=b}if(l>>>=g,h-=g,i.back+=g,64&w){e.msg="invalid distance code",i.mode=Cb;break}i.offset=F,i.extra=15&w,i.mode=24;case 24:if(i.extra){for(N=i.extra;h<N;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}i.offset+=l&(1<<i.extra)-1,l>>>=i.extra,h-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Cb;break}i.mode=25;case 25:if(0===c)break e;if(u=f-c,i.offset>u){if(u=i.offset-u,u>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Cb;break}u>i.wnext?(u-=i.wnext,p=i.wsize-u):p=i.wnext-u,u>i.length&&(u=i.length),m=i.window}else m=o,p=a-i.offset,u=i.length;u>c&&(u=c),c-=u,i.length-=u;do{o[a++]=m[p++]}while(--u);0===i.length&&(i.mode=21);break;case 26:if(0===c)break e;o[a++]=i.length,c--,i.mode=21;break;case 27:if(i.wrap){for(;h<32;){if(0===s)break e;s--,l|=n[r++]<<h,h+=8}if(f-=c,e.total_out+=f,i.total+=f,f&&(e.adler=i.check=i.flags?GF(i.check,o,f,a-f):jF(i.check,o,f,a-f)),f=c,(i.flags?l:xb(l))!==i.check){e.msg="incorrect data check",i.mode=Cb;break}l=0,h=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;h<32;){if(0===s)break e;s--,l+=n[r++]<<h,h+=8}if(l!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=Cb;break}l=0,h=0}i.mode=29;case 29:C=mb;break e;case Cb:C=Fb;break e;case 31:return bb;default:return wb}return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=h,(i.wsize||f!==e.avail_out&&i.mode<Cb&&(i.mode<27||t!==db))&&Tb(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,i.total+=f,i.wrap&&f&&(e.adler=i.check=i.flags?GF(i.check,o,f,e.next_out-f):jF(i.check,o,f,e.next_out-f)),e.data_type=i.bits+(i.last?64:0)+(i.mode===_b?128:0)+(20===i.mode||15===i.mode?256:0),(0===d&&0===f||t===db)&&C===pb&&(C=vb),C},Lb={inflateReset:Ib,inflateReset2:zb,inflateResetKeep:Sb,inflateInit:e=>Db(e,15),inflateInit2:Db,inflate:Rb,inflateEnd:e=>{if(!e||!e.state)return wb;let t=e.state;return t.window&&(t.window=null),e.state=null,pb},inflateGetHeader:(e,t)=>{if(!e||!e.state)return wb;const i=e.state;return 2&i.wrap?(i.head=t,t.done=!1,pb):wb},inflateSetDictionary:(e,t)=>{const i=t.length;let n,o,r;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?wb:11===n.mode&&(o=1,o=jF(o,t,i,0),o!==n.check)?Fb:(r=Tb(e,t,i,i),r?(n.mode=31,bb):(n.havedict=1,pb))):wb},inflateInfo:"pako inflate (from Nodeca project)"};var Bb=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Hb=Object.prototype.toString,{Z_NO_FLUSH:Ob,Z_FINISH:Pb,Z_OK:qb,Z_STREAM_END:Ub,Z_NEED_DICT:Vb,Z_STREAM_ERROR:jb,Z_DATA_ERROR:Wb,Z_MEM_ERROR:Gb}=ZF;function $b(e){this.options=XF({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nb,this.strm.avail_out=0;let i=Lb.inflateInit2(this.strm,t.windowBits);if(i!==qb)throw new Error($F[i]);if(this.header=new Bb,Lb.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=eb(t.dictionary):"[object ArrayBuffer]"===Hb.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=Lb.inflateSetDictionary(this.strm,t.dictionary),i!==qb)))throw new Error($F[i])}function Zb(e,t){const i=new $b(t);if(i.push(e),i.err)throw i.msg||$F[i.err];return i.result}$b.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let r,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Pb:Ob,"[object ArrayBuffer]"===Hb.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),r=Lb.inflate(i,a),r===Vb&&o&&(r=Lb.inflateSetDictionary(i,o),r===qb?r=Lb.inflate(i,a):r===Wb&&(r=Vb));i.avail_in>0&&r===Ub&&i.state.wrap>0&&0!==e[i.next_in];)Lb.inflateReset(i),r=Lb.inflate(i,a);switch(r){case jb:case Wb:case Vb:case Gb:return this.onEnd(r),this.ended=!0,!1}if(s=i.avail_out,i.next_out&&(0===i.avail_out||r===Ub))if("string"===this.options.to){let e=ib(i.output,i.next_out),t=i.next_out-e,o=tb(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(o)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==qb||0!==s){if(r===Ub)return r=Lb.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},$b.prototype.onData=function(e){this.chunks.push(e)},$b.prototype.onEnd=function(e){e===qb&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=YF(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Kb=function(e,t){return(t=t||{}).raw=!0,Zb(e,t)},Xb={Inflate:$b,inflate:Zb,inflateRaw:Kb,ungzip:Zb,constants:ZF},{Inflate:Yb,inflate:Qb,inflateRaw:Jb,ungzip:ev}=Xb,tv=Qb,iv=ev;var nv=new Map([[1,function(e,t){let i=new Uint8Array(e);return tv(i).buffer}],[2,function(e,t){let i=e.byteLength,n=new Uint8Array(i),o=Math.floor(i/t),r=new DataView(e);for(var a=0;a<t;a++)for(var s=0;s<o;s++)n[a+s*t]=r.getUint8(a*o+s);return n.buffer}],[3,function(e,t){return function(e){for(var t=e.byteLength%2!=0,i=e.byteLength-4,n=new DataView(e),o=0,r=0,a=0;a<i-1;a+=2){r=(r+(o=(o+n.getUint16(a,!0))%65535))%65535}if(t){r=(r+(o=(o+n.getUint8(i-1))%65535))%65535}var[s,c]=kF.unpack_from(">HH",e,i);if(c%=65535,o!=(s%=65535)||r!=c)throw'ValueError("fletcher32 checksum invalid")'}(e),e.slice(0,-4)}]]),ov=class{constructor(e,t){this.fh=e,this.offset=t,this.depth=null}async init(){this.all_nodes=new Map,await this._read_root_node(),await this._read_children()}async _read_children(){let e=this.depth;for(;e>0;){for(var t of this.all_nodes.get(e))for(var i of t.get("addresses"))this._add_node(await this._read_node(i,e-1));e--}}async _read_root_node(){let e=await this._read_node(this.offset,null);this._add_node(e),this.depth=e.get("node_level")}_add_node(e){let t=e.get("node_level");this.all_nodes.has(t)?this.all_nodes.get(t).push(e):this.all_nodes.set(t,[e])}async _read_node(e,t){let i=await this._read_node_header(e,t);return i.set("keys",[]),i.set("addresses",[]),i}async _read_node_header(e){throw"NotImplementedError: must define _read_node_header in implementation class"}},rv=class extends ov{constructor(){super(...arguments),wF(this,"B_LINK_NODE",new Map([["signature","4s"],["node_type","B"],["node_level","B"],["entries_used","H"],["left_sibling","Q"],["right_sibling","Q"]]))}async _read_node_header(e,t){let i=await FF(this.B_LINK_NODE,this.fh,e);if(null!=t&&i.get("node_level")!=t)throw"node level does not match";return i}},av=class extends rv{constructor(e,t){super(e,t),wF(this,"NODE_TYPE",0),this.ready=this.init()}async _read_node(e,t){let i=await this._read_node_header(e,t);e+=yF(this.B_LINK_NODE);let n=[],o=[],r=i.get("entries_used");for(var a=0;a<r;a++){let t=(await kF.unpack_from_async("<Q",this.fh,e))[0];e+=8;let i=(await kF.unpack_from_async("<Q",this.fh,e))[0];e+=8,n.push(t),o.push(i)}return n.push((await kF.unpack_from_async("<Q",this.fh,e))[0]),i.set("keys",n),i.set("addresses",o),i}symbol_table_addresses(){var e=[],t=this.all_nodes.get(0);for(var i of t)e=e.concat(i.get("addresses"));return e}},sv=class extends rv{constructor(e,t,i){super(e,t),wF(this,"NODE_TYPE",1),this.dims=i,this.ready=this.init()}async _read_node(e,t){let i=await this._read_node_header(e,t);e+=yF(this.B_LINK_NODE);var n=[],o=[];let r=i.get("entries_used");for(var a=0;a<r;a++){let[t,i]=await kF.unpack_from_async("<II",this.fh,e);e+=8;let r="<"+this.dims.toFixed()+"Q",a=kF.calcsize(r),s=await kF.unpack_from_async(r,this.fh,e);e+=a;let c=(await kF.unpack_from_async("<Q",this.fh,e))[0];e+=8,n.push(new Map([["chunk_size",t],["filter_mask",i],["chunk_offset",s]])),o.push(c)}return i.set("keys",n),i.set("addresses",o),i}async construct_data_from_chunks(e,t,i,n){var o,r,a;if(i instanceof Array){let e=i[0];if("REFERENCE"==e){if(8!=i[1])throw"NotImplementedError('Unsupported Reference type')";i="<u8",o="getUint64",r=!1,a=8}else{if("VLEN_STRING"!=e&&"VLEN_SEQUENCE"!=e)throw"NotImplementedError('datatype not implemented')";o="getVLENStruct",r=!1,a=16}}else[o,r,a]=xF(i);var s=t.reduce((function(e,t){return e*t}),1),c=e.reduce((function(e,t){return e*t}),1);let l=t.length;var h=1;e.slice().map((function(e){let t=h;return h*=e,t}));h=1;var d=t.slice().reverse().map((function(e){let t=h;return h*=e,t})).reverse(),f=new Array(s);let u=c*a;for(var p of this.all_nodes.get(0)){let i=p.get("keys"),s=p.get("addresses"),h=i.length;for(var m=0;m<h;m++){let h=i[m],p=s[m];var g;if(null==n)g=await this.fh.slice(p,p+u);else{g=await this.fh.slice(p,p+h.get("chunk_size"));let e=h.get("filter_mask");g=this._filter_chunk(g,e,n,a)}for(var w=h.get("chunk_offset").slice(),F=w.slice(),b=F.map((function(){return 0})),v=new EF(g),y=0;y<c;y++){for(var _=l-1;_>=0&&b[_]>=e[_];_--)b[_]=0,F[_]=w[_],_>0&&(b[_-1]+=1,F[_-1]+=1);if(F.slice(0,-1).every((function(e,i){return e<t[i]}))){let e=y*a,t=v[o](e,!r,a),i=F.slice(0,-1).reduce((function(e,t,i){return t*d[i]+e}),0);f[i]=t}b[l-1]+=1,F[l-1]+=1}}}return f}_filter_chunk(e,t,i,n){let o=i.length,r=e.slice();for(var a=o-1;a>=0;a--){if(t&1<<a)continue;let e=i[a],o=e.get("filter_id"),s=e.get("client_data");if(!nv.has(o))throw'NotImplementedError("Filter with id:'+o.toFixed()+' not supported")';r=nv.get(o)(r,n,s)}return r}},cv=class extends ov{constructor(e,t){super(e,t),wF(this,"B_TREE_HEADER",new Map([["signature","4s"],["version","B"],["node_type","B"],["node_size","I"],["record_size","H"],["depth","H"],["split_percent","B"],["merge_percent","B"],["root_address","Q"],["root_nrecords","H"],["total_nrecords","Q"]])),wF(this,"B_LINK_NODE",new Map([["signature","4s"],["version","B"],["node_type","B"]])),this.ready=this.init()}async _read_root_node(){let e=await this._read_tree_header(this.offset);this.address_formats=this._calculate_address_formats(e),this.header=e,this.depth=e.get("depth");let t=[e.get("root_address"),e.get("root_nrecords"),e.get("total_nrecords")],i=await this._read_node(t,this.depth);this._add_node(i)}async _read_tree_header(e){return await FF(this.B_TREE_HEADER,this.fh,this.offset)}_calculate_address_formats(e){let t=e.get("node_size"),i=e.get("record_size"),n=0,o=0,r=new Map,a=e.get("depth");for(var s=0;s<=a;s++){let e,c,l,h="",d="",f="";if(0==s?(e=0,c=0,l=0):1==s?(e=8,h="<Q",c=this._required_bytes(n),d=this._int_format(c),l=0):(e=8,h="<Q",c=this._required_bytes(n),d=this._int_format(c),l=this._required_bytes(o),f=this._int_format(l)),r.set(s,[e,c,l,h,d,f]),s<a){let r=e+c+l;n=this._nrecords_max(t,i,r),o>0?o*=n:o=n}}return r}_nrecords_max(e,t,i){return Math.floor((e-10-i)/(t+i))}_required_bytes(e){return Math.ceil(NF(e)/8)}_int_format(e){return["<B","<H","<I","<Q"][e-1]}async _read_node(e,t){let[i,n,o]=e,r=this._read_node_header(i,t);i+=yF(this.B_LINK_NODE);let a=this.header.get("record_size"),s=[];for(let e=0;e<n;e++){let e=await this._parse_record(this.fh,i,a);i+=a,s.push(e)}let c=[],l=this.address_formats.get(t);if(0!=t){let[e,t,o,r,a,s]=l;for(let l=0;l<=n;l++){let n=(await kF.unpack_from_async(r,this.fh,i))[0];i+=e;let l=(await kF.unpack_from_async(a,this.fh,i))[0];i+=t;let h=l;o>0&&(h=(await kF.unpack_from_async(s,this.fh,i))[0],i+=o),c.push([n,l,h])}}return r.set("keys",s),r.set("addresses",c),r}async _read_node_header(e,t){let i=await FF(this.B_LINK_NODE,this.fh,e);return i.set("node_level",t),i}*iter_records(){for(let e of this.all_nodes.values())for(let t of e)for(let e of t.get("keys"))yield e}_parse_record(e){throw"NotImplementedError"}},lv=class extends cv{constructor(){super(...arguments),wF(this,"NODE_TYPE",5)}async _parse_record(e,t,i){let n=(await kF.unpack_from_async("<I",e,t))[0];t+=4;const o=await e.slice(t,t+7);return new Map([["namehash",n],["heapid",o]])}},hv=class extends cv{constructor(){super(...arguments),wF(this,"NODE_TYPE",6)}async _parse_record(e,t,i){let n=(await kF.unpack_from_async("<Q",e,t))[0];t+=8;const o=await e.slice(t,t+7);return new Map([["creationorder",n],["heapid",o]])}},dv=class{constructor(e,t){this.ready=this.init(e,t)}async init(e,t){let i=await kF.unpack_from_async("<B",e,t+8);var n;if(0==i)n=await FF(Fv,e,t),this._end_of_sblock=t+bv;else{if(2!=i&&3!=i)throw"unsupported superblock version: "+i.toFixed();n=await FF(vv,e,t),this._end_of_sblock=t+yv}if(n.get("format_signature")!=gv)throw"Incorrect file signature: "+n.get("format_signature");if(8!=n.get("offset_size")||8!=n.get("length_size"))throw"File uses non-64-bit addressing";this.version=n.get("superblock_version"),this._contents=n,this._root_symbol_table=null,this._fh=e}async get_offset_to_dataobjects(){if(0==this.version){var e=new uv(this._fh,this._end_of_sblock,!0);return await e.ready,this._root_symbol_table=e,e.group_offset}if(2==this.version||3==this.version)return this._contents.get("root_group_address");throw"Not implemented version = "+this.version.toFixed()}},fv=class{constructor(e,t){this.ready=this.init(e,t)}async init(e,t){let i=await FF(Ev,e,t);vF("HEAP"==i.get("signature")),vF(0==i.get("version"));let n=i.get("address_of_data_segment"),o=await e.slice(n,n+i.get("data_segment_size"));i.set("heap_data",o),this._contents=i,this.data=o}get_object_name(e){let t=new Uint8Array(this.data).indexOf(0,e)-e;return kF.unpack_from("<"+t.toFixed()+"s",this.data,e)[0]}},uv=class{constructor(e,t,i=!1){this.ready=this.init(e,t,i)}async init(e,t,i){var n;if(i)n=new Map([["symbols",1]]);else{if("SNOD"!=(n=await FF(xv,e,t)).get("signature"))throw"incorrect node type";t+=kv}for(var o=[],r=n.get("symbols"),a=0;a<r;a++)o.push(await FF(_v,e,t)),t+=Cv;return i&&(this.group_offset=o[0].get("object_header_address")),this.entries=o,this._contents=n,this}assign_name(e){this.entries.forEach((function(t){let i=t.get("link_name_offset"),n=e.get_object_name(i);t.set("link_name",n)}))}get_links(e){var t={};return this.entries.forEach((function(i){let n=i.get("cache_type"),o=i.get("link_name");if(0==n||1==n)t[o]=i.get("object_header_address");else if(2==n){let n=i.get("scratch"),a=new ArrayBuffer(4),s=new Uint8Array(a);for(var r=0;r<4;r++)s[r]=n.charCodeAt(r);let c=kF.unpack_from("<I",a,0)[0];t[o]=e.get_object_name(c)}})),t}},pv=class{constructor(e,t){this.ready=this.init(e,t)}async init(e,t){let i=await FF(Nv,e,t);t+=Sv;let n=i.get("collection_size")-Sv,o=await e.slice(t,t+n);this.heap_data=o,this._header=i,this._objects=null}get objects(){if(null==this._objects){this._objects=new Map;for(var e=0;e<=this.heap_data.byteLength-zv;){let t=bF(Iv,this.heap_data,e);if(0==t.get("object_index"))break;e+=zv;let i=this.heap_data.slice(e,e+t.get("object_size"));this._objects.set(t.get("object_index"),i),e+=_F(t.get("object_size"))}}return this._objects}},mv=class{constructor(e,t){this.fh=e,this.ready=this.init(t)}async init(e){let t=await FF(Dv,this.fh,e);if(e+=yF(Dv),vF("FRHP"==t.get("signature")),vF(0==t.get("version")),t.get("filter_info_size")>0)throw"Filter info size not supported on FractalHeap";if(t.get("btree_address_huge_objects")!=wv)throw"Huge objects not implemented in FractalHeap";t.set("btree_address_huge_objects",null),t.get("root_block_address")==wv&&t.set("root_block_address",null);let i=t.get("log2_maximum_heap_size"),n=this._min_size_nbits(i),o=new Map([["signature","4s"],["version","B"],["heap_header_adddress","Q"],["block_offset",`${n}B`]]);this.indirect_block_header=new Map(o),this.indirect_block_header_size=yF(o),2&~t.get("flags")||o.set("checksum","I"),this.direct_block_header=o,this.direct_block_header_size=yF(o);let r=t.get("maximum_direct_block_size");this._managed_object_offset_size=this._min_size_nbits(i);let a=Math.min(r,t.get("max_managed_object_size"));this._managed_object_length_size=this._min_size_integer(a);let s=t.get("starting_block_size"),c=t.get("table_width");if(!(s>0))throw"Starting block size == 0 not implemented";let l=Number(Math.floor(Math.log2(r)));vF(1n<<BigInt(l)==r);let h=Number(Math.floor(Math.log2(s)));vF(1n<<BigInt(h)==s),this._max_direct_nrows=l-h+2;let d=Math.floor(Math.log2(c));vF(1<<d==c),this._indirect_nrows_sub=d+h-1,this.header=t,this.nobjects=t.get("managed_object_count")+t.get("huge_object_count")+t.get("tiny_object_count");let f=[],u=t.get("root_block_address"),p=0;if(null!=u&&(p=t.get("indirect_current_rows_count")),p>0)for await(let e of this._iter_indirect_block(this.fh,u,p))f.push(e);else{let e=await this._read_direct_block(this.fh,u,s);f.push(e)}let m=f.reduce(((e,t)=>e+t.byteLength),0),g=new Uint8Array(m),w=0;f.forEach((e=>{g.set(new Uint8Array(e),w),w+=e.byteLength})),this.managed=g.buffer}async _read_direct_block(e,t,i){let n=await e.slice(t,t+i);return vF("FHDB"==bF(this.direct_block_header,n).get("signature")),n}get_data(e){let t=kF.unpack_from("<B",e,0)[0],i=t>>4&3,n=1;if(0==i){vF(0==t>>6);let i=this._managed_object_offset_size,o=SF(i,e,n);n+=i,i=this._managed_object_length_size;let r=SF(i,e,n);return this.managed.slice(o,o+r)}throw 1==i?"tiny objectID not supported in FractalHeap":2==i?"huge objectID not supported in FractalHeap":"unknown objectID type in FractalHeap"}_min_size_integer(e){return this._min_size_nbits(NF(e))}_min_size_nbits(e){return Math.ceil(e/8)}async*_iter_indirect_block(e,t,i){let n=await FF(this.indirect_block_header,e,t);t+=this.indirect_block_header_size,vF("FHIB"==n.get("signature"));let o=n.get("block_offset").reduce(((e,t,i)=>e+(t<<8*i)),0);n.set("block_offset",o);let[r,a]=this._indirect_info(i),s=[];for(let i=0;i<r;i++){let n=(await kF.unpack_from_async("<Q",e,t))[0];if(t+=8,n==wv)break;let o=this._calc_block_size(i);s.push([n,o])}let c=[];for(let i=r;i<r+a;i++){let n=(await kF.unpack_from_async("<Q",e,t))[0];if(t+=8,n==wv)break;let o=this._calc_block_size(i),r=this._iblock_nrows_from_block_size(o);c.push([n,r])}for(let[t,i]of s){let n=await this._read_direct_block(e,t,i);yield n}for(let[t,i]of c)for await(let n of this._iter_indirect_block(e,t,i))yield n}_calc_block_size(e){let t=Math.floor(e/this.header.get("table_width"));return 2**Math.max(t-1,0)*this.header.get("starting_block_size")}_iblock_nrows_from_block_size(e){let t=Math.floor(Math.log2(e));return vF(2**t==e),t-this._indirect_nrows_sub}_indirect_info(e){let t,i,n=this.header.get("table_width"),o=e*n,r=this._max_direct_nrows*n;return e<=r?(t=o,i=0):(t=r,i=o-r),[t,i]}_int_format(e){return["B","H","I","Q"][e-1]}},gv=kF.unpack_from("8s",new Uint8Array([137,72,68,70,13,10,26,10]).buffer)[0],wv=kF.unpack_from("<Q",new Uint8Array([255,255,255,255,255,255,255,255]).buffer)[0],Fv=new Map([["format_signature","8s"],["superblock_version","B"],["free_storage_version","B"],["root_group_version","B"],["reserved_0","B"],["shared_header_version","B"],["offset_size","B"],["length_size","B"],["reserved_1","B"],["group_leaf_node_k","H"],["group_internal_node_k","H"],["file_consistency_flags","L"],["base_address_lower","Q"],["free_space_address","Q"],["end_of_file_address","Q"],["driver_information_address","Q"]]),bv=yF(Fv),vv=new Map([["format_signature","8s"],["superblock_version","B"],["offset_size","B"],["length_size","B"],["file_consistency_flags","B"],["base_address","Q"],["superblock_extension_address","Q"],["end_of_file_address","Q"],["root_group_address","Q"],["superblock_checksum","I"]]),yv=yF(vv),_v=new Map([["link_name_offset","Q"],["object_header_address","Q"],["cache_type","I"],["reserved","I"],["scratch","16s"]]),Cv=yF(_v),xv=new Map([["signature","4s"],["version","B"],["reserved_0","B"],["symbols","H"]]),kv=yF(xv),Ev=new Map([["signature","4s"],["version","B"],["reserved","3s"],["data_segment_size","Q"],["offset_to_free_list","Q"],["address_of_data_segment","Q"]]),Nv=new Map([["signature","4s"],["version","B"],["reserved","3s"],["collection_size","Q"]]),Sv=yF(Nv),Iv=new Map([["object_index","H"],["reference_count","H"],["reserved","I"],["object_size","Q"]]),zv=yF(Iv),Dv=new Map([["signature","4s"],["version","B"],["object_index_size","H"],["filter_info_size","H"],["flags","B"],["max_managed_object_size","I"],["next_huge_object_index","Q"],["btree_address_huge_objects","Q"],["managed_freespace_size","Q"],["freespace_manager_address","Q"],["managed_space_size","Q"],["managed_alloc_size","Q"],["next_directblock_iterator_address","Q"],["managed_object_count","Q"],["huge_objects_total_size","Q"],["huge_object_count","Q"],["tiny_objects_total_size","Q"],["tiny_object_count","Q"],["table_width","H"],["starting_block_size","Q"],["maximum_direct_block_size","Q"],["log2_maximum_heap_size","H"],["indirect_starting_rows_count","H"],["root_block_address","Q"],["indirect_current_rows_count","H"]]),Av=class{constructor(e,t){this.ready=this.init(e,t)}async init(e,t){let i=(await kF.unpack_from_async("<B",e,t))[0];if(1==i)var[n,o,r]=await this._parse_v1_objects(e,t);else{if(i!="O".charCodeAt(0))throw"InvalidHDF5File('unknown Data Object Header')";var[n,o,r]=await this._parse_v2_objects(e,t)}this.fh=e,this.msgs=n,this.msg_data=o,this.offset=t,this._global_heaps={},this._header=r,this._filter_pipeline=null,this._chunk_params_set=!1,this._chunks=null,this._chunk_dims=null,this._chunk_address=null}get dtype(){let e=this.find_msg_type(ay)[0].get("offset_to_message");return new IF(this.fh,e).dtype}get chunks(){return this._get_chunk_params().then((()=>this._chunks))}get shape(){let e=this.find_msg_type(oy)[0].get("offset_to_message");return async function(e,t){let i=(await kF.unpack_from_async("<B",e,t))[0];var n;if(1==i)vF(1==(n=await FF(qv,e,t)).get("version")),t+=Uv;else{if(2!=i)throw"InvalidHDF5File('unknown dataspace message version')";vF(2==(n=await FF(Vv,e,t)).get("version")),t+=jv}let o=n.get("dimensionality"),r=await kF.unpack_from_async("<"+(2*o).toFixed()+"I",e,t);return r.filter((function(e,t){return t%2==0}))}(this.fh,e)}async get_filter_pipeline(){if(null!=this._filter_pipeline)return this._filter_pipeline;let e=this.find_msg_type(hy);if(!e.length)return this._filter_pipeline=null,this._filter_pipeline;var t=e[0].get("offset_to_message");let[i,n]=await kF.unpack_from_async("<BB",this.fh,t);t+=kF.calcsize("<BB");var o=[];if(1==i){await kF.unpack_from_async("<HI",this.fh,t),t+=kF.calcsize("<HI");for(var r=0;r<n;r++){let e=await FF(iy,this.fh,t);t+=ny;let i=_F(e.get("name_length"),8),n="<"+i.toFixed()+"s",r=(await kF.unpack_from_async(n,this.fh,t))[0];e.set("filter_name",r),t+=i,n="<"+e.get("client_data_values").toFixed()+"I";let a=await kF.unpack_from_async(n,this.fh,t);e.set("client_data",a),t+=4*e.get("client_data_values"),e.get("client_data_values")%2&&(t+=4),o.push(e)}}else{if(2!=i)throw`version ${i} is not supported`;for(let e=0;e<n;e++){let e=new Map,i=this.fh,n=(await kF.unpack_from_async("<H",i,t))[0];t+=2,e.set("filter_id",n);let r=0;n>255&&(r=(await kF.unpack_from_async("<H",i,t))[0],t+=2);let a=(await kF.unpack_from_async("<H",i,t))[0];t+=2;let s=(1&a)>0;e.set("optional",s);let c,l=(await kF.unpack_from_async("<H",i,t))[0];t+=2,r>0&&(c=(await kF.unpack_from_async(`${r}s`,i,t))[0],t+=r),e.set("name",c);let h=await kF.unpack_from_async(`<${l}i`,i,t);t+=4*l,e.set("client_data_values",h),o.push(e)}}return this._filter_pipeline=o,this._filter_pipeline}find_msg_type(e){return this.msgs.filter((function(t){return t.get("type")==e}))}async get_attributes(){let e={},t=this.find_msg_type(dy);for(let i of t){let t=i.get("offset_to_message"),[n,o]=await this.unpack_attribute(t);e[n]=o}return e}async get_fillvalue(){var e,t=this.find_msg_type(sy)[0].get("offset_to_message");let i=(await kF.unpack_from_async("<B",this.fh,t))[0];var n,o,r;if(1==i||2==i)n=await FF(Qv,this.fh,t),t+=Jv,e=n.get("fillvalue_defined");else{if(3!=i)throw'InvalidHDF5File("Unknown fillvalue msg version: "'+String(i);n=await FF(ey,this.fh,t),t+=ty,e=32&n.get("flags")}if(e?(o=(await kF.unpack_from_async("<I",this.fh,t))[0],t+=4):o=0,o){let[e,i,n]=xF(await this.dtype);r=new EF(await this.fh.slice(t,t+n))[e](t,!i,n)}else r=0;return r}async unpack_attribute(e){let t=(await kF.unpack_from_async("<B",this.fh,e))[0];var i,n;if(1==t)vF(1==(i=await FF(Rv,this.fh,e)).get("version")),e+=Lv,n=8;else{if(3!=t)throw"unsupported attribute message version: "+t;vF(3==(i=await FF(Bv,this.fh,e)).get("version")),e+=Hv,n=1}let o=i.get("name_size"),r=(await kF.unpack_from_async("<"+o.toFixed()+"s",this.fh,e))[0];var a;r=r.replace(/\x00$/,""),e+=_F(o,n);try{a=await new IF(this.fh,e).dtype}catch(e){return console.warn("Attribute "+r+" type not implemented, set to null."),[r,null]}e+=_F(i.get("datatype_size"),n);let s=await this.determine_data_shape(this.fh,e),c=s.reduce((function(e,t){return e*t}),1);if(e+=_F(i.get("dataspace_size"),n),5===a.datatype_class)l=await this.fh.slice(e,e+a.size);else{var l=await this._attr_value(a,this.fh,c,e);0==s.length&&(l=l[0])}return[r,l]}async determine_data_shape(e,t){let i=(await kF.unpack_from_async("<B",e,t))[0];var n;if(1==i)vF(1==(n=await FF(qv,e,t)).get("version")),t+=Uv;else{if(2!=i)throw"unknown dataspace message version";vF(2==(n=await FF(Vv,e,t)).get("version")),t+=jv}let o=n.get("dimensionality");return await kF.unpack_from_async("<"+o.toFixed()+"Q",e,t)}async _attr_value(e,t,i,n){var o=new Array(i);if(e instanceof Array){let l=e[0];for(var r=0;r<i;r++)if("VLEN_STRING"==l){let i=e[2];var[a,s]=await this._vlen_size_and_data(t,n);const c=new TextDecoder(0==i?"ascii":"utf-8");o[r]=c.decode(s),n+=16}else if("REFERENCE"==l){var c=await kF.unpack_from_async("<Q",t,n);o[r]=c,n+=8}else{if("VLEN_SEQUENCE"!=l)throw"NotImplementedError";{let i=e[1];var[a,s]=this._vlen_size_and_data(t,n);o[r]=this._attr_value(i,s,a,0),n+=16}}}else{let[a,s,c]=xF(e);const l=await t.slice(n,n+i*c);let h=new EF(l,0),d=0;for(r=0;r<i;r++)o[r]=h[a](d,!s,c),d+=c}return o}async _vlen_size_and_data(e,t){let i=(await kF.unpack_from_async("<I",e,t))[0],n=await FF(Tv,e,t+4),o=n.get("collection_address");var r;return vF(n.get("collection_address")<Number.MAX_SAFE_INTEGER),o in this._global_heaps||(r=new pv(this.fh,o),await r.ready,this._global_heaps[o]=r),[i,(r=this._global_heaps[o]).objects.get(n.get("object_index"))]}async _parse_v1_objects(e,t){let i=await FF(Ov,e,t);vF(1==i.get("version"));let n=i.get("total_header_messages");for(var o=i.get("object_header_size"),r=t+yF(Ov),a=await e.slice(r,r+o),s=[[r,o]],c=0,l=0,h=new Array(n),d=0;d<n;d++){l>=o&&([r,o]=s[++c],l=0);let t=await FF(Wv,e,r+l),i=r+l+Gv;if(t.set("offset_to_message",i),t.get("type")==fy){var[f,u]=await kF.unpack_from_async("<QQ",e,i);s.push([f,u])}l+=Gv+t.get("size"),h[d]=t}return[h,a,i]}async _parse_v2_objects(e,t){var[i,n,o]=await this._parse_v2_header(e,t);t=o;for(var r=[],a=i.get("size_of_chunk_0"),s=e.slice(t,t+=a),c=[[o,a]],l=0,h=0;;){if(h>=a-Zv){let e=c[++l];if(null==e)break;[o,a]=e,h=0}let t=await FF($v,e,o+h),i=o+h+Zv+n;if(t.set("offset_to_message",i),t.get("type")==fy){var[d,f]=await kF.unpack_from_async("<QQ",e,i);c.push([d+4,f-4])}h+=Zv+t.get("size")+n,r.push(t)}return[r,s,i]}async _parse_v2_header(e,t){let i=await FF(Pv,e,t);var n;if(t+=yF(Pv),vF(2==i.get("version")),n=4&i.get("flags")?2:0,vF(!(16&i.get("flags"))),32&i.get("flags")){let n=await kF.unpack_from_async("<4I",e,t);t+=16,i.set("access_time",n[0]),i.set("modification_time",n[1]),i.set("change_time",n[2]),i.set("birth_time",n[3])}let o=["<B","<H","<I","<Q"][3&i.get("flags")];return i.set("size_of_chunk_0",(await kF.unpack_from_async(o,e,t))[0]),[i,n,t+=kF.calcsize(o)]}async find_link(e){if(this._links){for(link of this._links)if(e===link[0])return link}else{const t=[];for await(const i of this.iter_links()){if(e===i[0])return i;t.push(i)}this._links=t}}async get_links(){const e=[];for await(const t of this.iter_links())e.push(t);return Object.fromEntries(e)}async*iter_links(){for(let e of this.msgs)e.get("type")==uy?yield*this._iter_links_from_symbol_tables(e):e.get("type")==cy?yield this._get_link_from_link_msg(e):e.get("type")==ry&&(yield*this._iter_link_from_link_info_msg(e))}async*_iter_links_from_symbol_tables(e){vF(16==e.get("size"));let t=await FF(Kv,this.fh,e.get("offset_to_message"));yield*this._iter_links_btree_v1(t.get("btree_address"),t.get("heap_address"))}async*_iter_links_btree_v1(e,t){let i=new av(this.fh,e);await i.ready;let n=new fv(this.fh,t);await n.ready;for(let e of i.symbol_table_addresses()){let t=new uv(this.fh,e);await t.ready,t.assign_name(n),yield*Object.entries(t.get_links(n))}}async _get_link_from_link_msg(e){let t=e.get("offset_to_message");return await this._decode_link_msg(this.fh,t)[1]}async _decode_link_msg(e,t){let[i,n]=await kF.unpack_from_async("<BB",e,t);t+=2,vF(1==i);let o,r,a=2**(3&n),s=(16&n)>0,c=(4&n)>0;(8&n)>0?(o=(await kF.unpack_from_async("<B",e,t))[0],t+=1):o=0,vF([0,1].includes(o)),c&&(r=(await kF.unpack_from_async("<Q",e,t))[0],t+=8);let l=0;s&&(l=(await kF.unpack_from_async("<B",e,t))[0],t+=1);let h=0==l?"ascii":"utf-8",d=["<B","<H","<I","<Q"][3&n],f=(await kF.unpack_from_async(d,e,t))[0];t+=a;let u,p=new TextDecoder(h).decode(await e.slice(t,t+f));if(t+=f,0==o)u=(await kF.unpack_from_async("<Q",e,t))[0];else if(1==o){let i=(await kF.unpack_from_async("<H",e,t))[0];t+=2,u=new TextDecoder(h).decode(await e.slice(t,t+i))}return[r,[p,u]]}async*_iter_link_from_link_info_msg(e){let t=e.get("offset_to_message"),i=await this._decode_link_info_msg(this.fh,t),n=i.get("heap_address"),o=i.get("name_btree_address"),r=i.get("order_btree_address");null!=o&&(yield*this._iter_links_btree_v2(o,r,n))}async*_iter_links_btree_v2(e,t,i){let n,o=new mv(this.fh,i);await o.ready;const r=null!=t;r?(n=new hv(this.fh,t),await n.ready):(n=new lv(this.fh,e),await n.ready);let a=new Map;for(let e of n.iter_records()){let t=o.get_data(e.get("heapid")),[i,n]=await this._decode_link_msg(t,0);const s=r?i:n[0];a.set(s,n)}let s=Array.from(a.keys()).sort();for(let e of s)yield a.get(e)}async _decode_link_info_msg(e,t){let[i,n]=await kF.unpack_from_async("<BB",e,t);vF(0==i),t+=2,(1&n)>0&&(t+=8);let o=(2&n)>0?Yv:Xv,r=await FF(o,e,t),a=new Map;for(let[e,t]of r.entries())a.set(e,t==Mv?null:t);return a}get is_dataset(){return this.find_msg_type(oy).length>0}async get_data(){let e=this.find_msg_type(ly)[0].get("offset_to_message");var[t,i,n,o]=await this._get_data_message_properties(e);if(0==n)throw"Compact storage of DataObject not implemented";return 1==n?this._get_contiguous_data(o):2==n?this._get_chunked_data(e):void 0}async _get_data_message_properties(e){let t,i,n,[o,r,a]=await kF.unpack_from_async("<BBB",this.fh,e);return 1==o||2==o?(t=r,i=a,n=e,n+=kF.calcsize("<BBB"),n+=kF.calcsize("<BI"),vF(1==i||2==i)):3!=o&&4!=o||(i=r,n=e,n+=kF.calcsize("<BB")),vF(o>=1&&o<=4),[o,t,i,n]}async _get_contiguous_data(e){let[t]=await kF.unpack_from_async("<Q",this.fh,e);const i=await this.shape,n=await this.dtype;if(t==Mv){let e=i.reduce((function(e,t){return e*t}),1);return new Array(e)}var o=i.reduce((function(e,t){return e*t}),1);if(n instanceof Array){let e=n[0];if("REFERENCE"==e){if(8!=n[1])throw"NotImplementedError('Unsupported Reference type')";return await this.fh.slice(t,t+o)}if("VLEN_STRING"==e){let e=n[2];const i=new TextDecoder(0==e?"ascii":"utf-8");var r=[];for(a=0;a<o;a++){const[e,n]=await this._vlen_size_and_data(this.fh,t);r[a]=i.decode(n),t+=16}return r}throw"NotImplementedError('datatype not implemented')"}if(/[<>=!@\|]?(i|u|f|S)(\d*)/.test(n)){let[e,i,r]=xF(n),s=new Array(o);const c=await this.fh.slice(t,t+r*o);let l=new EF(c);for(var a=0;a<o;a++)s[a]=l[e](a*r,!i,r);return s}if(5===n.datatype_class)return this.fh.slice(t,t+n.size);throw"not Implemented - no proper dtype defined"}async _get_chunked_data(e){if(await this._get_chunk_params(),this._chunk_address==Mv)return[];var t=new sv(this.fh,this._chunk_address,this._chunk_dims);await t.ready;const i=await this.dtype,n=await this.shape,o=await this.chunks,r=await this.get_filter_pipeline();let a=await t.construct_data_from_chunks(o,n,i,r);if(i instanceof Array&&/^VLEN/.test(i[0])){let e=i[0];for(var s=0;s<a.length;s++){let[t,n,o]=a[s];var c;n in this._global_heaps?c=this._global_heaps[n]:(c=new pv(this.fh,n),await c.ready,this._global_heaps[n]=c);let r=c.objects.get(o);if("VLEN_STRING"==e){let e=i[2];const t=new TextDecoder(0==e?"ascii":"utf-8");a[s]=t.decode(r)}}}return a}async _get_chunk_params(){if(!this._chunk_params_set){this._chunk_params_set=!0;var e=this.find_msg_type(ly)[0].get("offset_to_message"),[t,i,n,o]=await this._get_data_message_properties(e);if(2==n){var r;if(1==t||2==t){var a=(await kF.unpack_from_async("<Q",this.fh,o))[0];r=o+kF.calcsize("<Q")}else if(3==t){var[i,a]=await kF.unpack_from_async("<BQ",this.fh,o);r=o+kF.calcsize("<BQ")}vF(t>=1&&t<=3);var s="<"+(i-1).toFixed()+"I",c=await kF.unpack_from_async(s,this.fh,r);this._chunks=c,this._chunk_dims=i,this._chunk_address=a}}}};var Mv=kF.unpack_from("<Q",new Uint8Array([255,255,255,255,255,255,255,255]).buffer),Tv=new Map([["collection_address","Q"],["object_index","I"]]);yF(Tv);var Rv=new Map([["version","B"],["reserved","B"],["name_size","H"],["datatype_size","H"],["dataspace_size","H"]]),Lv=yF(Rv),Bv=new Map([["version","B"],["flags","B"],["name_size","H"],["datatype_size","H"],["dataspace_size","H"],["character_set_encoding","B"]]),Hv=yF(Bv),Ov=new Map([["version","B"],["reserved","B"],["total_header_messages","H"],["object_reference_count","I"],["object_header_size","I"],["padding","I"]]),Pv=new Map([["signature","4s"],["version","B"],["flags","B"]]),qv=new Map([["version","B"],["dimensionality","B"],["flags","B"],["reserved_0","B"],["reserved_1","I"]]),Uv=yF(qv),Vv=new Map([["version","B"],["dimensionality","B"],["flags","B"],["type","B"]]),jv=yF(Vv),Wv=new Map([["type","H"],["size","H"],["flags","B"],["reserved","3s"]]),Gv=yF(Wv),$v=new Map([["type","B"],["size","H"],["flags","B"]]),Zv=yF($v),Kv=new Map([["btree_address","Q"],["heap_address","Q"]]),Xv=new Map([["heap_address","Q"],["name_btree_address","Q"]]),Yv=new Map([["heap_address","Q"],["name_btree_address","Q"],["order_btree_address","Q"]]),Qv=new Map([["version","B"],["space_allocation_time","B"],["fillvalue_write_time","B"],["fillvalue_defined","B"]]),Jv=yF(Qv),ey=new Map([["version","B"],["flags","B"]]),ty=yF(ey),iy=new Map([["filter_id","H"],["name_length","H"],["flags","H"],["client_data_values","H"]]),ny=yF(iy),oy=1,ry=2,ay=3,sy=5,cy=6,ly=8,hy=11,dy=12,fy=16,uy=17,py=class{constructor(e,t){null==t?(this.parent=this,this.file=this):(this.parent=t,this.file=t.file),this.name=e}async init(e){const t=this.file.index;t&&this.name in t?this._links=t[this.name]:this._links=await e.get_links(),this._dataobjects=e,this._attrs=null,this._keys=null}get keys(){return null==this._keys&&(this._keys=Object.keys(this._links)),this._keys.slice()}get values(){return this.keys.map((e=>this.get(e)))}length(){return this.keys.length}_dereference(e){if(!e)throw"cannot deference null reference";let t=this.file._get_object_by_address(e);if(null==t)throw"reference not found in file";return t}async get(e){if("number"==typeof e)return this._dereference(e);var t=wy(e);if("/"==t)return this.file;if("."==t)return this;if(/^\//.test(t))return this.file.get(t.slice(1));if(""!=function(e){let t="/",i=e.lastIndexOf(t)+1,n=e.slice(0,i),o=new RegExp("^"+t+"+$"),r=new RegExp(t+"$");n&&!o.test(n)&&(n=n.replace(r,""));return n}(t))var[i,n]=t.split(/\/(.*)/);else var i=t,n=".";if(!(i in this._links))throw i+" not found in group";var o=wy(this.name+"/"+i);let r=this._links[i];if("string"==typeof r)try{return this.get(r)}catch(e){return null}var a=new Av(this.file._fh,r);if(await a.ready,a.is_dataset){if("."!=n)throw o+" is a dataset, not a group";return new gy(o,a,this)}var s=new py(o,this);return await s.init(a),s.get(n)}visit(e){return this.visititems(((t,i)=>e(t)))}visititems(e){var t=this.name.length;/\/$/.test(this.name)||(t+=1);for(var i=this.values.slice();i;){let n=i.shift();1==i.length&&console.log(n);let o=e(n.name.slice(t),n);if(null!=o)return o;n instanceof py&&(i=i.concat(n.values))}return null}get attrs(){return null==this._attrs&&(this._attrs=this._dataobjects.get_attributes()),this._attrs}},my=class extends py{constructor(e,t,i){super("/",null),this.ready=this.init(e,t,i)}async init(e,t,i){var n=new dv(e,0);await n.ready;var o=await n.get_offset_to_dataobjects(),r=new Av(e,o);if(await r.ready,this.parent=this,this.file=this,this.name="/",this._dataobjects=r,this._attrs=null,this._keys=null,this._fh=e,this.filename=t||"",this.mode="r",this.userblock_size=0,i&&i.index)this.index=i.index;else{let t;if(i&&i.indexOffset)t=i.indexOffset;else{const e=await this.attrs;if(e.hasOwnProperty("_index_offset"))t=e._index_offset;else{const e=this.indexName||"_index",i=await r.find_link(e);i&&(t=i[1])}}if(t)try{const i=new Av(e,t);await i.ready;const n=await i.get_data(),o=iv(n),r=(new TextDecoder).decode(o);this.index=JSON.parse(r)}catch(e){console.error(`Error loading index by offset ${e}`)}}this.index&&this.name in this.index?this._links=this.index[this.name]:this._links=await r.get_links()}_get_object_by_address(e){return this._dataobjects.offset==e?this:this.visititems((e=>{e._dataobjects.offset}))}},gy=class extends Array{constructor(e,t,i){super(),this.parent=i,this.file=i.file,this.name=e,this._dataobjects=t,this._attrs=null,this._astype=null}get value(){var e=this._dataobjects.get_data();return null==this._astype?this.getValue(e):e.astype(this._astype)}get shape(){return this._dataobjects.shape}get attrs(){return this._dataobjects.get_attributes()}get dtype(){return this._dataobjects.dtype}get fillvalue(){return this._dataobjects.get_fillvalue()}async to_array(){return function(e,t){const i=e.length,n=t.reduce(((e,t)=>e*t),1);i!==n&&console.warn(`shape product: ${n} does not match length of flattened array: ${i}`);let o=e;const r=t.slice(1).reverse();for(let e of r){const t=[],{length:i}=o;let n=0;for(;n<i;)t.push(o.slice(n,n+=e));o=t}return o}
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */(await this.value,await this.shape)}async getValue(e){const t=await this.dtype;return("string"==typeof t||t instanceof String)&&t.startsWith("S")?(await e).map((e=>{let t=e.indexOf("\0");return t>=0?e.substring(0,t):e})):e}};function wy(e){return e.replace(/\/(\/)+/g,"/")}async function Fy(e){var t;e.url&&("function"==typeof(t=e.url).slice&&"function"==typeof t.arrayBuffer)&&(e.file=e.url,e.url=void 0);const i=void 0!==e.url;let n=e.reader?e.reader:function(e){if(e.url)return new fF(e);if(e.path)return new NodeLocalFile(e);if(e.file)return new mF(e.file);throw Error("One of 'url', 'path (node only)', or 'file (browser only)' must be specified")}(e);const o=e.fetchSize||2e3,r=e.maxSize||2e5;i&&(n=new uF({file:n,fetchSize:o,maxSize:r}));const a=new by(n),s=await async function(e){let t;if(e.indexReader)t=e.indexReader;else{if(e.index)return e.index;e.indexURL?t=new fF({url:e.indexURL}):e.indexPath?t=new NodeLocalFile({path:e.indexPath}):e.indexFile&&(t=new mF({file:e.indexFile}))}if(t){const e=await t.read(),i=(new TextDecoder).decode(e);return JSON.parse(i)}return}(e),c=e.indexOffset,l=function(e){if(e.url)return vy(e.url);if(e.path)return vy(e.path);if(e.file)return e.file.name}(e),h=new my(a,l,{index:s,indexOffset:c});return await h.ready,h}class by{constructor(e){this.fileReader=e}async slice(e,t){return this.fileReader.read(e,t-e)}}function vy(e){const t=e.lastIndexOf("/");return t>0?e.substring(t+1):e}class yy{constructor(e,t=1e5){this.h5_file=e,this.bin_size=t,this.h5_obj=void 0}async fetch(){return this.h5_obj||(this.h5_obj=await Fy({url:this.h5_file,fetchSize:1e6,maxSize:2e8})),this.h5_obj}async get_keys(){return(await this.fetch()).keys}async get_rd_signal(e=this.bin_size){let t=await this.fetch(),i=t.keys,n=new _y(i),o=n.get_rd_bins(),r=n.get_snp_bins();this.available_bins=[...new Set(o,r)],this.available_bins.includes(e)||(e=this.available_bins.at(-1));const a=await t.get("rd_chromosomes");await a.dtype;let s=await a.value,c=await this.rd_stat(t,i,e);var l=[],h=[],d=[],f=[],u=[],p=[];for(let n of s){var m=`his_rd_p_${n}_${e}`;let o=await this.get_chr_signal(t,i,n,e,m,c);l=l.concat(o);var g=`his_rd_p_${n}_${e}_GC`;let r=await this.get_chr_signal(t,i,n,e,g,c);h=h.concat(r);let a=`his_rd_p_${n}_${e}_partition_GC_merge`,s=await this.get_chr_signal(t,i,n,e,a,c);d=d.concat(s);let w=await this.rd_call_combined(t,i,n,e,c);f=f.concat(w);let F=`snp_likelihood_${n}_${e}_mask`,b=await this.get_baf_signals(t,i,n,e,F);u=u.concat(b[0]),p=p.concat(b[1])}this.callers=[],0!=f.length&&this.callers.push("ReadDepth"),0!=f.length&&this.callers.push("2D");var w={},F={RD_Raw:l,RD_Raw_gc_coor:h,ReadDepth:d,"2D":f,BAF1:u,BAF2:p};return w[e]=F,w}decode_segments(e){let t=[],i=[];for(let n of e)4294967295==n?(t.push(i),i=[]):i.push(n);return t}async rd_call_combined(e,t,i,n,o){let r,a=[],s=`his_rd_p_${i}_${n}_partition_GC_mosaic_segments_2d`;if(t.includes(s)){const t=await e.get(s);let i=await t.value;r=this.decode_segments(i)}let c=`his_rd_p_${i}_${n}_partition_GC_mosaic_call_2d`;if(t.includes(c)){const t=await e.get(c);let s=await t.to_array();r.forEach(((e,t)=>{e.forEach(((e,r)=>{a.push({chr:i,start:e*n,end:(e+1)*n,value:s[0][t]/o[4]*2})}))}))}return a}async rd_stat(e,t,i){let n,o=`rd_stat_${i}_auto`;if(t.includes(o)){const t=await e.get(o);n=await t.value}return n}async get_chr_signal(e,t,i,n,o,r){let a=[];if(t.includes(o)){const t=await e.get(o);(await t.value).forEach(((e,t)=>{a.push({chr:i,start:t*n,end:(t+1)*n,value:e/r[4]*2})}))}return a}async get_baf_signals(e,t,i,n,o){let r=[],a=[];if(t.includes(o)){let t=await e.get(o);(await t.to_array()).forEach(((e,t)=>{let o=Math.max(...e);const s=e.indexOf(o);let c=Math.max(s/200,1-s/200);r.push({chr:i,start:t*n,end:(t+1)*n,value:-2*c}),.5!=c&&a.push({chr:i,start:t*n,end:(t+1)*n,value:-2*(1-c)})}))}return[r,a]}async get_baf_signals_v2(e,t,i,n,o){let r=[],a=[];if(t.includes(o)){let t=await e.get(o);(await t.to_array()).forEach(((e,t)=>{isNaN(e)||(r.push({chr:i,start:t*n,end:(t+1)*n,value:-2*(.5-e)}),.5!=e&&a.push({chr:i,start:t*n,end:(t+1)*n,value:-2*(.5+e)}))}))}return console.log(i,r,a),[r,a]}}class _y{constructor(e){this.signals=e}get_rd_bins(){let e=[];this.signals.forEach((t=>{let i=t.match(/^his_rd_p_(.*)_(\d+)$/);i&&e.push({chr:i[1],bin_size:i[2]})}));return[...new Set(e.map((e=>Number(e.bin_size))))]}get_snp_bins(){let e=[];this.signals.forEach((t=>{let i=t.match(/^snp_likelihood_(.*)_(\d+)_mask$/);i&&e.push({chr:i[1],bin_size:i[2]})}));return[...new Set(e.map((e=>Number(e.bin_size))))]}}function Cy(e){let t=function(e){if(e.length<4)return e;let t,i,n,o,r,a;return t=e.slice().sort(((e,t)=>e-t)),t.length/4%1==0?(i=.5*(t[t.length/4]+t[t.length/4+1]),n=.5*(t[t.length*(3/4)]+t[t.length*(3/4)+1])):(i=t[Math.floor(t.length/4+1)],n=t[Math.ceil(t.length*(3/4)+1)]),o=n-i,r=n+1.5*o,a=i-1.5*o,t.filter((e=>e>=a&&e<=r))}(e);const i=t.length,n=t.reduce(((e,t)=>e+t))/i,o=Math.sqrt(t.map((e=>Math.pow(e-n,2))).reduce(((e,t)=>e+t))/i);return[n,o]}var xy={range_function:function(e,t,i){return Array(Math.ceil((t-e)/i)).fill(e).map(((e,t)=>e+t*i))},getDistParams:Cy,linspace:function(e,t,i){if(void 0===i&&(i=Math.max(Math.round(t-e)+1,1)),i<2)return 1===i?[e]:[];var n=Array(i);for(let o=--i;o>=0;o--)n[o]=(o*t+(i-o)*e)/i;return n},GetFit:class{constructor(e){this.allBins=e}getValues(){return Object.values(this.allBins).reduce(((e,t)=>e.concat(t.filter((e=>e.binScore>0)).map((e=>e.binScore)))),[])}getMean(e){return e.reduce((function(e,t){return e+t}))/e.length}fit_data(){return Cy(this.getValues())}histogram(e,t){const i=t[1]-t[0],n=[];e.forEach(((e,o)=>{t.forEach(((t,o)=>{if(n[t]||(n[t]={count:0}),t<=e&&e<t+i)return n[t].count++,!1}))}));const o=[];return n.forEach(((e,t)=>{o.push(e.count)})),o}}};function ky(e,t){return isNaN(e)||isNaN(t)||t<=0?NaN:0===e?.5:.5+.5*(Ey(.5*t,.5,1)-Ey(.5*t,.5,t/(t+e*e)))*Math.sign(e)}function Ey(e,t,i){if(0==i)return 0;if(1==i)return 1;{let n=zy(e+t)-zy(e)-zy(t)+e*Math.log(i)+t*Math.log(1-i);return i<(e+1)/(e+t+2)?Math.exp(n)*Ny(e,t,i)/e:1-Math.exp(n)*Ny(t,e,1-i)/t}}function Ny(e,t,i,n=1e3){let o=1,r=1,a=1,s=e+t,c=e+1,l=e-1,h=1-s*i/c;for(let d=0;d<=n;d++){let n=parseFloat(d+1),f=n+n,u=n*(t-n)*i/((l+f)*(e+f)),p=o+u*r,m=h+u*a;u=-(e+n)*(s+n)*i/((c+f)*(e+f));let g=m+u*h,w=o;if(r=p/g,a=m/g,o=(p+u*o)/g,h=1,Math.abs(o-w)<3e-7*Math.abs(o))return o}}function Sy(e){if(0==e||1==e)return 1;return e*Sy(e-1)}function Iy(e){let t;var i=[75122.633153,80916.6278952,36308.2951477,8687.24529705,1168.92649479,83.8676043424,2.50662827511],n=0,o=1;if(0==e)t=1e99;else if(e%1==0)t=Sy(e-1);else{for(let t=0;t<i.length;t++)n+=i[t]*Math.pow(e,t),o*=e+t;t=n*Math.pow(e+5.5,e+.5)*Math.exp(-(e+5.5))/o}return t}function zy(e){return Math.log(Iy(e))}var Dy={TdistributionCDF:ky,gamma:Iy,t_test_1_sample:function(e,t,i,n){0==i&&(i=1);var o=(e-t)/i*Math.sqrt(n);return 1-ky(Math.abs(o),n-1)},t_test_2_samples:function(e,t,i,n,o,r){0==t&&(t=1),0==o&&(o=1);var a=(e-n)/Math.sqrt(t**2/i+o**2/r),s=(t**2/i+o**2/r)**2*(i-1)*(r-1)/(t**4*(r-1)/i**2+o**4*(i-1)/r**2);return 1-ky(Math.abs(a),parseInt(s+.5))}};function Ay(e){return e.reduce((function(e,t){return e>t?e:t}))}function My(e,t,i,n){return t*Math.exp(-1*(e-i)**2/(2*n**2))/Math.sqrt(2*Math.PI)/n}function Ty(e,t,i,n){return Math.exp(-1*(e-i)**2/(t**2+n**2))}function Ry(e,t){let i;try{i=e.reduce(((e,i,n)=>e+Math.min(i,t[n])))}catch{return console.log("Failed to find likelihood overlap: ",e,t),0}return i}function Ly(e,t,i,n){return 0==t&&0==n?{nl:.5*(e+i),ne:0}:{nl:(e*n*n+i*t*t)/(t*t+n*n),ne:Math.sqrt(t*t*n*n/(t*t+n*n))}}function By(e,t){let i=parseInt(t*(e.length-1)),n=t*(e.length-1)-i;return i<e.length-1?e[i]*(1-n)+e[i+1]*n:e[i]}function Hy(e){const t=e.length,i=Math.max(...e);let n=e.indexOf(i);n>Math.floor(t/2)&&(n=t-1-n);const o=(t/2-n)/(t+1),r=Math.floor((t/2+n)/2),a=t-1-r;let s=e.slice(r,a+1).reduce(((e,t)=>e+t),0)/e.reduce(((e,t)=>e+t),0);return n===Math.floor(t/2)&&(s=1),{mean:o,p:s}}var Oy=class{constructor(e,t){this.wigFeatures=e,this.binSize=t}get_fit(){var e=new xy.GetFit(this.wigFeatures),[t,i]=e.fit_data();return{globalMean:t,globalStd:i}}async call_2d(e=null,t=null,i="both",n=.1,o=0,r=10,a=0){let s=this.get_fit();this.globalMean=s.globalMean,this.globalStd=s.globalStd;let c=null==e?.05*this.binSize/3e9:e,l=null==t?parseInt(this.binSize/1e4):t,h=[],d=[],f=[],u=[],p=[],m=[];for(const[e,t]of Object.entries(this.wigFeatures)){let e=[],i=[],r=[];t.forEach(((t,n)=>{t.hets_count>4&&t.dp_count>l&&(e.push([n]),i.push(t.binScore),r.push(t.likelihood_score),delete t.likelihood_score)}));let a=[];for(let e=1;e<i.length;e++)a.push(Math.abs(i[e]-i[e-1]));let s=[0];for(let e=1;e<a.length;e++)s.push(Math.min(a[e-1],a[e]));s.push(0);let m=i.map(((e,t)=>Math.sqrt(Math.sqrt(e)**2+this.globalStd**2+Math.pow(s[t]/2,2)))),g=[];for(let t=0;t<e.length-1;t++){let n=0;try{n=Ry(r[t],r[t+1])}catch{console.log("Overlap failed: ",t,r[t],e[t+1],r[t+1])}let o=Ty(i[t],m[t],i[t+1],m[t+1]);g.push(o*n)}for(;g.length>0;){g=g.filter((e=>"number"==typeof e));let t=Ay(g);if(isNaN(t)&&console.log("NaN value",g),t<c)break;let n,o,a=g.indexOf(t),s=Ly(i[a],m[a],i[a+1],m[a+1]);try{n=r[a].map(((e,t)=>e*r[a+1][t])),o=n.reduce(((e,t)=>e+t))}catch{console.log(r),console.log("max_overlap:",t,a,g.length),console.log("likelihood: ",a,r[a],r[a+1]),console.log("nlh: ",o)}if(i[a]=s.nl,m[a]=s.ne,r[a]=n.map((function(e){return e/o})),e[a].push(...e[a+1]),i.splice(a+1,1),m.splice(a+1,1),e.splice(a+1,1),r.splice(a+1,1),g.splice(a,1),a<g.length){let e=Ty(i[a],m[a],i[a+1],m[a+1])*Ry(r[a],r[a+1]);g[a]=e}if(a>0){let e=Ty(i[a-1],m[a-1],i[a],m[a])*Ry(r[a-1],r[a]);g[a-1]=e}}let w=-1;for(;;){g=[];for(let t=0;t<i.length;t++)for(let o=t;o<i.length;o++)e[o][0]-e[t].at(-1)<n*(e[t].length+e[o].length)&&g.push(Ty(i[t],m[t],i[o],m[o])*Ry(r[t],r[o]));if(0==g.length)break;let t=Ay(g);if(t<c)break;let o=0,a=1;for(;o<e.length-1;){let s=Ty(i[o],m[o],i[a],m[a])*Ry(r[o],r[a]);if(e[a][0]-e[o].at(-1)<n*(e[o].length+e[a].length)&&s==t){let t=Ly(i[o],m[o],i[o+1],m[o+1]);i[o]=t.nl,m[o]=t.ne;let n=r[o].map(((e,t)=>e*r[o+1][t])),s=n.reduce(((e,t)=>e+t));r[o]=n.map((function(e){return e/s})),e[o].push(...e[o+1]),e[o]=e[o].sort(((e,t)=>e-t)),i.splice(a,1),m.splice(a,1),e.splice(a,1),r.splice(a,1),a>=e.length&&(o+=1,a=o+1)}else a+=1,a>=e.length&&(o+=1,a=o+1)}if(w==e.length)break;w=e.length}e.forEach(((e,n)=>{let a=Hy(r[n]);e.length>1&&(e.forEach(((e,r)=>{d.push(t[e]),a.mean<=o&&h.push(t[e]),t[e].segment_score=i[n]})),f.push(i[n]),u.push(m[n]),p.push(r[n]))}))}let g=parseInt(1e3*(1-a));0==g&&(g=1);let w=xy.linspace(a,1,g),F={},b={};for(let e=10;e>-1;e--)for(let t=0;t<e/2+1;t++){let n,o,r=e-t,a=w.map(((t,i)=>1-t+t*e/2)),s=e/2;e>0?(n=.5-t/(t+r),o=w.map(((e,i)=>.5-(1-e+e*t)/(2-2*e+(t+r)*e)))):(n=0,o=w.map(((e,t)=>0*e)));for(let i=0;i<f.length;i++){let c=My(s*this.globalMean,1,f[i],u[i])*By(p[i],.5+n);i in b?b[i].push([e,t,r,c,1]):b[i]=[e,t,r,c,1];let l=0,h=0,d=0;a.forEach(((e,t)=>{if(!isNaN(o[t])){let n=My(e*this.globalMean,1,f[i],u[i])*By(p[i],.5+o[t]);l+=n,n>h&&(h=n,d=w[t])}})),i in F?F[i].push([e,t,r,l/w.length,d]):F[i]=[e,t,r,l/w.length,d]}for(let e=0;e<f.length;e++)if("germline"==i)F[e].sort(((e,t)=>e[3]-t[3]));else if(F[e].sort(((e,t)=>e[3]-t[3])),"both"==i&&(b[e].sort(((e,t)=>e[3]-t[3])),b[e][0][3]>F[e][0][3])){let t=F[e].filter((t=>t[0]!=b[e][0][0]&&t[1]<=b[e][0][1]));F[e]=[b[e][0]].push(...t)}for(let e=0;e<f.length;e++)F[e][0][0],F[e][0][0],f[e],this.globalMean,Dy.t_test_1_sample(this.globalMean,f[e],u[e],m[e])}return{binScore:this.formatDataStructure(this.wigFeatures,"binScore",this.globalMean),segment_score:this.formatDataStructure(this.wigFeatures,"segment_score",this.globalMean)}}formatDataStructure(e,t,i=1){const n=[];for(const[o,r]of Object.entries(e))r.forEach((e=>{var o={...e};1!=i&&(o.value=e[t]/i*2),n.push(o)}));return n}formatDataStructure_BAF(e,t=2){const i=[],n=[];for(const[t,o]of Object.entries(this.wigFeatures))o.forEach((t=>{var o={...t},r={...t};let a=t[e];.5!=a&&(r.value=-2*(1-a),n.push(r)),o.value=-2*a,i.push(o)}));return[i,n]}};function Py(e){for(var t=1,i=1,n=1*e,o=1;o<50;o++)t*=o,n+=(i*=-1)*Math.pow(e,2*o+1)/(t*(2*o+1));return 2*n/Math.sqrt(3.14159265358979)}function qy(e,t,i,n,o){var r=new jy(i.slice(n,o));return 0==r.std&&(r.std=t>0?t*r.mean/e:1),Wy(e,r.mean,r.std,o-n)/(o-n)}function Uy(e,t,i,n,o){var r=new jy(i.slice(n,o));if(r.mean<e){var a=(r.max-r.mean)/(t*Math.sqrt(2));return Math.pow(.5*(1+Py(a)),o-n)}a=(r.min-r.mean)/(t*Math.sqrt(2));return Math.pow(.5*(1-Py(a)),o-n)}function Vy(e,t,i,n,o,r,a=1e3){for(var s=qy(e,t,i,n,o),c=0,l=!1;s>r&!l&c<a;){l=!0,c+=1;var[h,d,f,u]=[1e10,1e10,1e10,1e10];if(n>0&&(h=qy(e,t,i,n-1,o)),o-n>2)var d=qy(e,t,i,n+1,o),f=qy(e,t,i,n,o-1);if(o<i.length)var u=qy(e,t,i,n,o+1);Math.min[u]<s&&(l=!1,h==Math.min[u]&&(n-=1,s=h),elif(d==Math.min[u]),n+=1,s=d,elif(f==Math.min[u]),o-=1,s=f,elif(u==Math.min[u]),o+=1,s=u)}return s<=r?o:0}class jy{constructor(e){this.data=e,this.mean=e.reduce(((e,t)=>e+t))/e.length,this.std=Math.sqrt(e.reduce(((e,t)=>(t-this.mean)**2))/e.length)}}function Wy(e,t,i,n){0==i&&(i=1);var o=(e-t)/i*Math.sqrt(n);return 1-Dy.TdistributionCDF(Math.abs(o),n-1)}function Gy(e,t,i,n,o,r){0==t&&(t=1),0==o&&(o=1);var a=(e-n)/Math.sqrt(t**2/i+o**2/r),s=(t**2/i+o**2/r)**2*(i-1)*(r-1)/(t**4*(r-1)/i**2+o**4*(i-1)/r**2);return 1-Dy.TdistributionCDF(Math.abs(a),parseInt(s+.5))}var $y=class{constructor(e,t,i){this.rd=e,this.mean=t,this.std=i,this.bin_bands=[2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128]}get_rd_signal_bandwidth(e){var t=[];return e.forEach(((e,i)=>{var n=0;n=e>this.mean/4?this.mean/(this.std**2*e):4/this.std**2,t.push(n)})),t}meanShiftCaller(e=3){var t={};return Object.entries(this.rd).forEach((([i,n])=>{var o=new Array(n.length).fill(!1),r=new Array(n.length);for(let e=0;e<n.length;e++)o[e]||(r[e]=n[e]);this.bin_bands.forEach(((t,i)=>{var a=o.map(((e,t)=>!e)),s=[];Object.entries(n).forEach((([e,t])=>{s.push(t.binScore)}));var c=[0],l=0;for(let e=0;e<o.length;e++)o[e]?l>0&&(c.push(c[c.length-1]+l-1),l=0):l+=1;c.shift();for(let i=0;i<e;i++){var h=this.get_rd_signal_bandwidth(s),d=new Array(s.length).fill(0);for(let e=0;e<s.length;e++)for(let i=e-3*t;i<=e+3*t+1;i++)if(!(i<0||i>=s.length||Math.abs(e-i)>=s.length)){var f=(i-e)*Math.exp(-.5*(i-e)**2/t**2)*Math.exp(-.5*(s[e]-s[i])**2*h[e]);d[e]+=f}for(var u=new Array,p=0;p<d.length-1;p++)d[p]<0&d[p+1]>=0&&u.push(p);u.push(d.length-1),u=u.concat(c).sort(((e,t)=>e-t)),u=Array.from(new Set(u));var m=0;for(p=0;p<u.length;p++){var g=s.slice(m,u[p]+1),w=g.reduce(((e,t)=>e+t))/g.length;s.fill(w,m,u[p]+1),m=u[p]+1}}p=0;for(var F=0;p<r.length;p++)a[p]&&(r[p]=s[F],F++);for(u=new Array,p=0;p<r.length-1;p++){Math.abs(r[p+1]-r[p])>.01&&u.push(p+1)}u.unshift(0),u.push(r.length),o=new Array(this.rd.length).fill(!1);for(p=1;p<u.length;p++){var b=[u[p-1],u[p]],v=[u[p-1],u[p-1]];if(!(p>1))continue;v[0]=u[p-2];var y=[u[p],u[p]];if(!(p<u.length-1))continue;y[1]=u[p+1];var _=b[1]-b[0],C=v[1]-v[0],x=y[1]-y[0];if(_<=1)continue;var k=new jy(r.slice(b[0],b[1]));if(x<=15||C<=15||_<=15){var E=1.8*Math.sqrt(r[v[0]]/this.mean)*this.std;if(Math.abs(r[v[0]]-r[b[0]])<E)continue;if(E=1.8*Math.sqrt(r[y[0]]/this.mean)*this.std,Math.abs(r[y[0]]-r[b[0]])<E)continue}else{var N=r.slice(v[0],v[1]),S=new jy(N),I=r.slice(y[0],y[1]),z=new jy(I);if(Gy(k.mean,k.std,k.data.length,S.mean,S.std,S.data.length)>.01/genome_size*bin_size*(_+C))continue;if(Gy(k.mean,k.std,k.data.length,z.mean,z.std,z.data.length)>.01/genome_size*bin_size*(_+x))continue}if(Wy(this.mean,k.mean,k.std,k.data.length)>.05)continue;let e=s.slice(b[0],b[1]);var D=new jy(e);o.fill(!0,b[0],b[1]),r.fill(D.mean,b[0],b[1])}})),t[i]=r})),t}call_mean_shift(e=3){for(var t=new Array(this.rd.length).fill(!1),i=new Array(this.rd.length),n=0;n<this.rd.length;n++)t[n]||(i[n]=this.rd[n]);return this.bin_bands.forEach(((n,o)=>{var r=t.map(((e,t)=>!e)),a=[];r.forEach(((e,t)=>{e&&a.push(this.rd[t])}));for(var s=[0],c=0,l=0;l<t.length;l++)t[l]?c>0&&(s.push(s[s.length-1]+c-1),c=0):c+=1;s.shift();for(var h=0;h<e;h++){var d=this.get_rd_signal_bandwidth(a),f=new Array(a.length).fill(0);for(l=0;l<a.length;l++)for(var u=l-3*n;u<=l+3*n+1;u++)if(!(u<0||u>=a.length||Math.abs(l-u)>=a.length)){var p=(u-l)*Math.exp(-.5*(u-l)**2/n**2)*Math.exp(-.5*(a[l]-a[u])**2*d[l]);f[l]+=p}var m=new Array;for(l=0;l<f.length-1;l++)f[l]<0&f[l+1]>=0&&m.push(l);m.push(f.length-1),m=m.concat(s).sort(((e,t)=>e-t)),m=Array.from(new Set(m));var g=0;for(l=0;l<m.length;l++){var w=a.slice(g,m[l]+1),F=w.reduce(((e,t)=>e+t))/w.length;a.fill(F,g,m[l]+1),g=m[l]+1}}for(l=0,u=0;l<i.length;l++)r[l]&&(i[l]=a[u],u++);for(m=new Array,l=0;l<i.length-1;l++){Math.abs(i[l+1]-i[l])>.01&&m.push(l+1)}m.unshift(0),m.push(i.length),t=new Array(this.rd.length).fill(!1);for(l=1;l<m.length;l++){var b=[m[l-1],m[l]],v=[m[l-1],m[l-1]];if(l>1){v[0]=m[l-2];var y=[m[l],m[l]];if(l<m.length-1){y[1]=m[l+1];var _=b[1]-b[0],C=v[1]-v[0],x=y[1]-y[0];if(!(_<=1)){var k=new jy(i.slice(b[0],b[1]));if(x<=15||C<=15||_<=15){var E=1.8*Math.sqrt(i[v[0]]/this.mean)*this.std;if(Math.abs(i[v[0]]-i[b[0]])<E)continue;if(E=1.8*Math.sqrt(i[y[0]]/this.mean)*this.std,Math.abs(i[y[0]]-i[b[0]])<E)continue}else{var N=i.slice(v[0],v[1]),S=new jy(N),I=i.slice(y[0],y[1]),z=new jy(I);if(Gy(k.mean,k.std,k.data.length,S.mean,S.std,S.data.length)>3.483106931382794e-9*(_+C))continue;if(Gy(k.mean,k.std,k.data.length,z.mean,z.std,z.data.length)>3.483106931382794e-9*(_+x))continue}if(!(Wy(this.mean,k.mean,k.std,k.data.length)>.05)){var D=new jy(this.rd.slice(b[0],b[1]));t.fill(!0,b[0],b[1]),i.fill(D.mean,b[0],b[1])}}}}}})),i}cnv_calling(e=1e5){var t=(t=.25)*this.mean,i=this.mean-t,n=this.mean+t,o=2971e6,r=this.meanShiftCaller(),a={},s=[];return Object.entries(r).forEach((([c,l])=>{for(var h=!1;!h;){h=!0;var d=new Array(1).fill(0);for(let e=0;e<l.length-1;e++){Math.abs(l[e+1]-l[e])>.01&&d.push(e+1)}d.push(l.length);for(let e=0;e<d.length-2;e++){var f=Math.abs(l[d[e]]-l[d[e+1]]);if(f<t){var u=f+1,p=f+1;if(e>0&&(u=Math.abs(l[d[e]]-l[d[e-1]])),e<d.length-3&&(p=Math.abs(r[d[e+1]]-l[d[e+2]])),f<u&&f<p){h=!1;var m=new jy(l.slice(d[e],d[e+2]));l.fill(m.mean,d[e],d[e+2]),d.splice(e+1,e+1)}}}}var g=[];Object.entries(this.rd[c]).forEach((([e,t])=>{g.push(t.binScore)}));for(var w,F=new Array(l.length).fill(""),b=0,v=.05*e/o;b<l.length;){for(var y=b,_=b;b<l.length&l[b]<i;)b+=1;if((x=b)>_+1){var C=Vy(this.mean,this.std,g,_,x,v);if(C){var x=C;F.fill("D",_,x)}}for(_=b;b<l.length&l[b]>n;)b+=1;(x=b)>_+1&&(C=Vy(this.mean,this.std,g,_,x,v))&&(x=C,F.fill("A",_,x)),b==y&&(b+=1)}for(b=0;b<l.length;){for(;b<l.length&""!=F[b];)b+=1;for(_=b;b<l.length&l[b]<i;)b+=1;(x=b)>_+1&&(Uy(this.mean,this.std,g,_,x)<1682935038707506e-26&&F.fill(["d"]*(x-_),_,x),b-=1),b+=1}(b=0)<l.length&&(w=F[b]),_=0;for(var k=[...g];b<l.length;){for(;F[b]==w&&!((b+=1)>=F.length););if(b>_){var E=new jy(k.slice(_,b));k.fill(E.mean,_,b)}b<l.length&&(w=F[b]),_=b}for(a[c]=k,b=0;b<l.length;){if(""==(w=F[b])){b+=1;continue}for(_=b;b<l.length&w==F[b];)b+=1;let t,i=new jy(k.slice(_,b)).mean/this.mean;t="D"==w?"deletion":"duplication";let n={chr:c,start:e*_+1,end:e*b,size:e*(b-_+1),value:2*i,event_type:t};s.push(n)}})),[a,s]}};class Zy{constructor(e,t){this.allVariants=e,this.rowBinSize=1e4,this.binSize=t,this.binFactor=t/this.rowBinSize}async computeDepthFeatures(){const e=Object.keys(this.allVariants),t=[];for(let i of e){const e=this.allVariants[i];if(0===e.length)continue;const n=e[0];let o=0,r=0,a=n.start=n.start%this.binSize,s=a+this.binSize,c=0;for(let n of e){const e=n.start+1;c=Math.max(Math.floor((n.start-1)/this.binSize),0),e>s&&(r>0&&t.push({chr:i,start:a,end:s,value:o,bin:c,count:r}),o=0,a=n.start-n.start%this.binSize,s=a+this.binSize);const l=n.calls[9].info.DP;l&&(o+=Number.parseInt(l),r++)}r>0&&t.push({chr:i,start:a,end:s,value:o,bin:c,count:r})}return t}async computeReadDepth(){const e=Object.keys(this.allVariants);var t={};for(let n of e){const e=this.allVariants[n];var i;if(0!==e.length)for(let o of e){i=Math.max(Math.floor(o.start/this.rowBinSize),0),t[n]||(t[n]=[]),t[n][i]||(t[n][i]={chr:n,start:i*this.rowBinSize,end:(i+1)*this.rowBinSize,value:0,sum_score:0,count:0});const e=o.calls[9].info.DP;e&&(t[n][i].sum_score+=Number.parseInt(e),t[n][i].count++)}}var n={};for(let i of e){n[i]||(n[i]=[]);for(let e=0;e<t[i].length/this.binFactor;e++){const a=e;n[i][e]||(n[i][e]={chr:i,binScore:0,start:a*this.binSize,end:(a+1)*this.binSize});for(var o=10*e;o<10*e+10;o++)if(t[i][o]){var r=100*parseInt(t[i][o].sum_score/t[i][o].count);n[i][e].binScore+=r}}}return this.readDepthMeanshift(n)}readDepthMeanshift(e){var t=new xy.GetFit(e),[i,n]=t.fit_data(),o=new $y(e,i,n),r=o.meanShiftCaller(),a=o.cnv_calling();return Object.entries(e).forEach((([e,t])=>{t.forEach(((t,i)=>{t.partition_level=parseInt(r[e][i]),t.partition_call=parseInt(a[0][e][i])}))})),[this.formatDataStructure(e,"binScore",i),this.formatDataStructure(e,"partition_level",i),this.formatDataStructure(e,"partition_call",i),a[1]]}formatDataStructure(e,t,i=1){const n=[];for(const[o,r]of Object.entries(e))r.forEach((e=>{var o={...e};1!=i&&(o.value=e[t]/i*2),n.push(o)}));return n}async computeBAF_v2(){const e=Object.keys(this.allVariants),t={},i=[],n=[];for(let a of e){const e=this.allVariants[a];if(0===e.length)continue;var o;for(let s of e){if(o=Math.max(Math.floor(s.start/this.binSize),0),t[a]||(t[a]=[]),!t[a][o]){if(o>0){let e=o-1;if(t[a][e]){const o=this.get_max_min_score(t[a][e]);if(.5!=o.value){let e=Object.assign({},o);e.value=-2*(1-o.value),n.push(e)}o.value=-2*o.value,t[a][e]=o,i.push(t[a][e])}}t[a][o]={chr:a,start:o*this.binSize,end:(o+1)*this.binSize,value:0,count:0,likelihood_score:[],min_score:0}}const e=s.calls[9];let c=e.genotype,l=e.info.AD.split(","),h=l[0],d=l[1];if(0==c[0]&&1==c[1]||1==c[0]&&0==c[1]){if(0==t[a][o].likelihood_score.length)t[a][o].likelihood_score=xy.linspace(0,1,100).map(((e,t)=>Ky(h,d,e)));else{var r=0;t[a][o].likelihood_score=xy.linspace(0,1,100).map(((e,i)=>{var n=t[a][o].likelihood_score[i]*Ky(h,d,e);return r+=n,n})),t[a][o].likelihood_score=xy.linspace(0,1,100).map(((e,i)=>t[a][o].likelihood_score[i]/r))}t[a][o].count++}}const s=this.get_max_min_score(t[a][o]);if(.5!=s.value){let e=Object.assign({},s);e.value=-2*(1-s.value),n.push(e)}s.value=-2*s.value,t[a][o]=s,i.push(t[a][o])}return[i,n]}format_BAF_likelihood(e){const t=[];for(const[i,n]of Object.entries(e))n.forEach((e=>{var i={...e};.5!=e.value&&(i.value=1-e.value,t.push(i))}));return t}get_max_min_score(e){if(e.likelihood_score.length>0){const t=Math.max(...e.likelihood_score),i=e.likelihood_score.indexOf(t);e.value=Math.max(i/100,1-i/100),e.min_score=Math.min(i/100,1-i/100)}else e.score=0;return e}async getAllbins(){const e=await this.computeDepthFeatures();return new xy.GetFit(e).fit_data(),e}async read_rd_baf(e="ReadDepth"){const t=Object.keys(this.allVariants);var i={};for(let e of t){const t=this.allVariants[e];var n;if(0!==t.length)for(let o of t){n=Math.max(Math.floor(o.start/this.rowBinSize),0),i[e]||(i[e]=[]),i[e][n]||(i[e][n]={chr:e,start:n*this.rowBinSize,end:(n+1)*this.rowBinSize,dp_sum_score:0,dp_count:0,hets_count:0,hets:[]});const t=o.calls[9],r=t.info.DP;r&&(i[e][n].dp_sum_score+=Number.parseInt(r),i[e][n].dp_count++);let a=t.info.AD.split(","),s=t.genotype;if(0==s[0]&&1==s[1]||1==s[0]&&0==s[1]){i[e][n].hets_count++;let t=parseInt(a[0]),o=parseInt(a[1]);i[e][n].hets.push({ref:t,alt:o})}}}var o,r=this.adjust_bin_size(i);if("ReadDepth"==e){o=this.readDepthMeanshift(r);var a=this.formatDataStructure_BAF(r,"max_likelihood")}else if("2D"==e){let e=new Oy(r,this.binSize),t=await e.call_2d();o=[t.binScore,[],t.segment_score];a=e.formatDataStructure_BAF("max_likelihood")}return[o,a]}formatDataStructure_BAF(e,t,i=2){const n=[],o=[];for(const[i,r]of Object.entries(e))r.forEach((e=>{delete e.likelihood_score;var i={...e},r={...e};let a=e[t];.5!=a&&(r.value=-2*(1-a),o.push(r)),i.value=-2*a,n.push(i)}));return[n,o]}adjust_bin_size(e){const t=Object.keys(this.allVariants);var i={};for(let r of t){i[r]||(i[r]=[]);for(let t=0;t<e[r].length/this.binFactor;t++){const a=t;i[r][t]||(i[r][t]={chr:r,start:a*this.binSize,end:(a+1)*this.binSize,dp_count:0,hets_count:0,binScore:0,likelihood_score:[]});for(var n=10*t;n<10*t+10;n++)if(e[r][n]){var o=100*parseInt(e[r][n].dp_sum_score/e[r][n].dp_count);i[r][t].binScore+=o,i[r][t].dp_count+=e[r][n].dp_count,i[r][t].hets_count+=e[r][n].hets_count,0!=e[r][n].hets.length&&e[r][n].hets.forEach(((e,n)=>{if(0==i[r][t].likelihood_score.length)i[r][t].likelihood_score=xy.linspace(0,1,100).map(((t,i)=>Ky(e.ref,e.alt,t)));else{var o=0;i[r][t].likelihood_score=xy.linspace(0,1,100).map(((n,a)=>{var s=i[r][t].likelihood_score[a]*Ky(e.ref,e.alt,n);return o+=s,s})),i[r][t].likelihood_score=xy.linspace(0,1,100).map(((e,n)=>i[r][t].likelihood_score[n]/o))}}))}const s=this.get_max_min_score(i[r][t]);i[r][t].max_likelihood=s.value}}return i}}function Ky(e,t,i,n=!0){return i**e*(1-i)**t+i**t*(1-i)**e}class Xy extends Tu{constructor(e,t){super(e,t),this.featureType="numeric",this.paintAxis=pg,e.max||(this.defaultScale=!0,this.autoscale=!1),this.height=void 0!==e.height?e.height:250}async init(e){this.type="cnvpytor",this.graphType=e.graphType||"points",this.bin_size=e.bin_size||1e5,this.signal_name=e.signal_name||"rd_snp",this.cnv_caller=e.cnv_caller||"2D",this.colors=e.colors||["gray","black","green","blue"],super.init(e)}get supportsWholeGenome(){return!0}get_signals(){let e=[];return"rd_snp"==this.signal_name?e=["RD_Raw","RD_Raw_gc_coor",this.cnv_caller,"BAF1","BAF2"]:"rd"==this.signal_name?e=["RD_Raw","RD_Raw_gc_coor",this.cnv_caller]:"snp"==this.signal_name?e=["BAF1","BAF2"]:"cnh"==this.signal_name&&(e=[this.cnv_caller]),e}get_signal_colors(){return[{singal_name:"RD_Raw",color:this.colors[0]},{singal_name:"RD_Raw_gc_coor",color:this.colors[1]},{singal_name:"ReadDepth",color:this.colors[2]},{singal_name:"2D",color:this.colors[2]},{singal_name:"BAF1",color:this.colors[3]},{singal_name:"BAF2",color:this.colors[3]}]}async postInit(){if("vcf"==this.config.format){this.featureSource=pm(this.config,this.browser.genome),this.header=await this.getHeader();var e=this.featureSource.reader.features.reduce((function(e,t){return e[t.chr]=e[t.chr]||[],e[t.chr].push(t),e}),Object.create(null));const t=new Zy(e,this.bin_size);let i,n,o;this.wigFeatures_obj={},this.wigFeatures_obj[this.bin_size]={},"2D"==this.config.cnv_caller?(o=await t.read_rd_baf("2D"),i=o[0],n=o[1],this.wigFeatures_obj[this.bin_size]["2D"]=i[2],this.available_callers=["2D"]):(o=await t.read_rd_baf(),i=o[0],n=o[1],this.wigFeatures_obj[this.bin_size].ReadDepth=i[2],this.available_callers=["ReadDepth"]),this.wigFeatures_obj[this.bin_size].RD_Raw=i[0],this.wigFeatures_obj[this.bin_size].RD_Raw_gc_coor=i[1],this.wigFeatures_obj[this.bin_size].BAF1=n[0],this.wigFeatures_obj[this.bin_size].BAF2=n[1],this.available_bins=[this.bin_size],this.set_available_callers()}else this.cnvpytor_obj=new yy(this.config.url,this.bin_size),this.wigFeatures_obj=await this.cnvpytor_obj.get_rd_signal(this.bin_size),this.available_bins=this.cnvpytor_obj.available_bins,this.available_callers=this.cnvpytor_obj.callers,this.set_available_callers();this.tracks=[];const t=[];this.signals=this.get_signals(),this.signal_colors=this.get_signal_colors();for(let e in this.wigFeatures_obj)for(const[i,n]of Object.entries(this.wigFeatures_obj[e]))if(this.signals.includes(i)){let e={type:"wig",isMergedTrack:!0};e.features=n,e.name=i,e.color=this.signal_colors.filter((e=>e.singal_name===i)).map((e=>e.color));const o=await this.browser.createTrack(e);o?(o.autoscale=!1,this.tracks.push(o)):console.warn("Could not create track "+e),"function"==typeof o.postInit&&t.push(o.postInit())}this.flipAxis=!!this.config.flipAxis&&this.config.flipAxis,this.logScale=!!this.config.logScale&&this.config.logScale,this.autoscale=this.config.autoscale,this.autoscale||(this.dataRange={min:this.config.min||0,max:this.config.max});for(let e of this.tracks)e.autoscale=!1,e.dataRange=this.dataRange;return Promise.all(t)}set_available_callers(){this.available_callers.includes(this.cnv_caller)||(this.available_callers.length>0?this.cnv_caller=this.available_callers[0]:this.cnv_caller=null)}async getHeader(){if(!this.header){if("function"==typeof this.featureSource.getHeader){const e=await this.featureSource.getHeader();e&&(this.callSets=e.callSets||[]),this.header=e}this.sampleNames=this.callSets?this.callSets.map((e=>e.name)):[]}return this.header}get height(){return this._height}set height(e){if(this._height=e,this.tracks)for(let t of this.tracks)t.height=e,t.config.height=e}menuItemList(){let e=[];void 0!==this.flipAxis&&e.push({label:"Flip y-axis",click:()=>{this.flipAxis=!this.flipAxis,this.trackView.repaintViews()}}),e=e.concat(Va.numericDataMenuItems(this.trackView)),e.push("<hr/>"),e.push("Bin Sizes");for(let t of this.available_bins){const i=Ua(t,t===this.bin_size);e.push({object:wr(i),click:async()=>{this.bin_size=t,await this.recreate_tracks(t),this.clearCachedFeatures(),this.trackView.updateViews(),this.trackView.repaintViews()}})}e.push("<hr/>"),e.push("Signal Type");let t={rd_snp:"RD and BAF Likelihood",rd:"RD Signal",snp:"BAF Likelihood"};for(let i in t){const n=Ua(t[i],i===this.signal_name);e.push({object:wr(n),click:async()=>{this.signal_name=i,await this.recreate_tracks(this.bin_size),this.clearCachedFeatures(),this.trackView.updateViews(),this.trackView.repaintViews()}})}e.push("<hr/>"),e.push("CNV caller");for(let t of this.available_callers){const i=Ua(t,t===this.cnv_caller);e.push({object:wr(i),click:async()=>{this.cnv_caller=t,await this.recreate_tracks(this.bin_size),this.clearCachedFeatures(),this.trackView.updateViews(),this.trackView.repaintViews()}})}return e}async recreate_tracks(e){this.tracks=[];const t=[];e in this.wigFeatures_obj||(this.wigFeatures_obj={...this.wigFeatures_obj,...await this.cnvpytor_obj.get_rd_signal(e)}),this.signals=this.get_signals(),this.signal_colors=this.get_signal_colors();for(const[i,n]of Object.entries(this.wigFeatures_obj[e]))if(this.signals.includes(i)){let e={type:"wig",isMergedTrack:!0};e.features=n,e.name=i,e.color=this.signal_colors.filter((e=>e.singal_name===i)).map((e=>e.color));const o=await this.browser.createTrack(e);o?(o.autoscale=!1,this.tracks.push(o)):console.warn("Could not create track "+e),"function"==typeof o.postInit&&t.push(o.postInit())}this.flipAxis=!!this.config.flipAxis&&this.config.flipAxis,this.logScale=!!this.config.logScale&&this.config.logScale,this.autoscale=this.config.autoscale,this.autoscale||(this.dataRange={min:this.config.min||0,max:this.config.max});for(let e of this.tracks)e.autoscale=!1,e.dataRange=this.dataRange;return Promise.all(t)}async getFeatures(e,t,i,n){if(this.tracks){const o=this.tracks.map((o=>o.getFeatures(e,t,i,n)));return Promise.all(o)}}getScaleFactor(e,t,i,n){return n?i/(Math.log10(t+1)-(e<=0?0:Math.log10(e+1))):i/(t-e)}computeYPixelValue(e,t){return(this.flipAxis?e-this.dataRange.min:this.dataRange.max-e)*t}computeYPixelValueInLogScale(e,t){let i=this.dataRange.max,n=this.dataRange.min;return i<=0?0:(n<=-1&&(n=0),n=n<=0?0:Math.log10(n+1),i=Math.log10(i+1),e=Math.log10(e+1),(this.flipAxis?e-n:i-e)*t)}draw(e){const t=e.features;if(!t)return;if(this.defaultScale&&("rd_snp"==this.signal_name?this.dataRange={min:this.config.min||this.dataRange.min||-2,max:this.config.max||this.dataRange.max||6}:"rd"==this.signal_name?this.dataRange={min:this.config.min||this.dataRange.min||0,max:this.config.max||this.dataRange.max||6}:"snp"==this.signal_name&&(this.dataRange={min:this.config.min||this.dataRange.min||-2,max:this.config.max||this.dataRange.max||0})),this.autoscale&&(this.dataRange=function(e,t){let i=0,n=-Number.MAX_VALUE;for(let e of t)for(let t of e)void 0===t.value||Number.isNaN(t.value)||(i=Math.min(i,t.value),n=Math.max(n,t.value));return{min:i,max:n}}(e.referenceFrame.chr,t)),this.tracks)for(let i=0,n=this.tracks.length;i<n;i++){const n=Object.assign({},e);n.features=t[i],this.tracks[i].dataRange=this.dataRange,this.tracks[i].flipAxis=this.flipAxis,this.tracks[i].logScale=this.logScale,this.graphType&&(this.tracks[i].graphType=this.graphType),this.tracks[i].draw(n)}const i=this.getScaleFactor(this.dataRange.min,this.dataRange.max,e.pixelHeight,this.logScale),n=e=>this.logScale?this.computeYPixelValueInLogScale(e,i):this.computeYPixelValue(e,i);if(this.config.hasOwnProperty("guideLines"))for(let t of this.config.guideLines)if(t.hasOwnProperty("color")&&t.hasOwnProperty("y")&&t.hasOwnProperty("dotted")){let i=n(t.y),o={strokeStyle:t.color,strokeWidth:1};t.dotted?kd.dashedLine(e.context,0,i,e.pixelWidth,i,5,o):kd.strokeLine(e.context,0,i,e.pixelWidth,i,o)}}popupData(e,t){const i=t||e.viewport.cachedFeatures;if(i&&i.length===this.tracks.length){const t=[];for(let n=0;n<this.tracks.length;n++){n>0&&t.push("<hr/>"),t.push(`<div style=background-color:rgb(245,245,245);border-bottom-style:dashed;border-bottom-width:1px;padding-bottom:5px;padding-top:10px;font-weight:bold;font-size:larger >${this.tracks[n].name}</div>`);const o=this.tracks[n].popupData(e,i[n]);t.push(...o)}return t}}}const Yy=new Map([["ideogram",(e,t)=>new sF(e,t)],["sequence",(e,t)=>new vf(e,t)],["feature",(e,t)=>new ow(e,t)],["seg",(e,t)=>new Bw(e,t)],["mut",(e,t)=>new Bw(e,t)],["maf",(e,t)=>new Bw(e,t)],["wig",(e,t)=>new Mw(e,t)],["merged",(e,t)=>new Ow(e,t)],["alignment",(e,t)=>new fw(e,t)],["interaction",(e,t)=>new qw(e,t)],["interact",(e,t)=>new qw(e,t)],["variant",(e,t)=>new Xw(e,t)],["eqtl",(e,t)=>new Qw(e,t)],["gwas",(e,t)=>new tF(e,t)],["arc",(e,t)=>new oF(e,t)],["gcnv",(e,t)=>new iF(e,t)],["junction",(e,t)=>new dF(e,t)],["blat",(e,t)=>new lw(e,t)],["cnvpytor",(e,t)=>new Xy(e,t)]]),Qy=function(e,t){Yy.set(e,t)};var Jy=Qy,e_=function(e,t,i){let n;switch(e){case"annotation":case"genes":case"fusionjuncspan":case"snp":n="feature";break;case"seg":case"maf":case"mut":n="seg";break;case"junctions":case"splicejunctions":n="junction";break;default:n=e}return Yy.has(n)?Yy.get(n)(t,i):void 0};class t_{constructor(e,t){const i=(new DOMParser).parseFromString(e,"text/xml");this.processRootNode(i,t);const n=i.getElementsByTagName("Resource"),o=i.getElementsByTagName("Track"),r=o&&o.length>0,a=[];this.tracks=a;const s=new Map;Array.from(n).forEach((function(e,t){var i={url:e.getAttribute("path"),indexURL:e.getAttribute("index"),order:t};s.set(i.url,i),r||a.push(i)})),r&&Array.from(o).forEach((function(e){const t=e.getElementsByTagName("Track");if(t&&t.length>0){const i={type:"merged",tracks:[]};i_(e,i),a.push(i),Array.from(t).forEach((function(e){e.processed=!0;const t=e.getAttribute("id"),n=s.get(t);n&&(i.tracks.push(n),i_(e,n),n.autoscale=!1,i.height=n.height)}))}else if(!e.processed){const t=e.getAttribute("id"),i=s.get(t);i&&(a.push(i),i_(e,i))}}))}processRootNode(e,t){const i=e.getElementsByTagName("Session");!i||i.length;const n=i.item(0),o=n.getAttribute("genome"),r=n.getAttribute("locus"),a=n.getAttribute("ucscID");t&&t.hasOwnProperty(o)?this.genome=o:(this.reference={fastaURL:o},a&&(this.reference.id=a)),r&&(this.locus=r)}}function i_(e,t){t.name=e.getAttribute("name");const i=e.getAttribute("color");i&&(t.color="rgb("+i+")");const n=e.getAttribute("altColor");i&&(t.altColor="rgb("+n+")");const o=e.getAttribute("height");o&&(t.height=parseInt(o));const r=e.getAttribute("autoScale");r&&(t.autoscale="true"===r);const a=e.getAttribute("autoscaleGroup");a&&(t.autoscaleGroup=a);const s=e.getAttribute("windowFunction");s&&(t.windowFunction=s);const c=e.getAttribute("visibilityWindow")||e.getAttribute("featureVisibilityWindow");c&&(t.visibilityWindow=c);const l=e.getAttribute("indexed");l&&(t.indexed="true"===l);const h=e.getAttribute("normalize");h&&(t.normalize="true"===h);const d=e.getElementsByTagName("DataRange");if(d.length>0){const e=d.item(0);t.min=Number(e.getAttribute("minimum")),t.max=Number(e.getAttribute("maximum")),t.logScale="LOG"===e.getAttribute("type")}}const n_=Ka;class o_{constructor(){this.attributes={},this.plinkLoaded=!1}async loadPlinkFile(e,t){t||(t={});var i=zd(t);const n=await ad.loadString(e,i);var o=n_(n);for(let e of o){var r=e.split(" ");this.attributes[r[1]]={familyId:r[0],fatherId:r[2],motherId:r[3],sex:r[4],phenotype:r[5]}}return this.plinkLoaded=!0,this}getAttributes(e){return this.attributes[e]}getAttributeNames(){return this.hasAttributes()?Object.keys(this.attributes[Object.keys(this.attributes)[0]]):[]}hasAttributes(){return Object.keys(this.attributes).length>0}}class r_{constructor(e,t){this.geneColors={},this.gene=null,this.snp=null,this.genesCount=0,e&&(this.gene=e.toUpperCase(),this.geneColors[this.gene]=a_[this.genesCount++]),t&&(this.snp=t.toUpperCase())}addGene(e){this.geneColors[e.toUpperCase()]||(this.geneColors[e.toUpperCase()]=a_[this.genesCount++])}colorForGene(e){return this.geneColors[e.toUpperCase()]}}var a_=[];a_.push("rgb(228,26,28)"),a_.push("rgb(55,126,184)"),a_.push("rgb(77,175,74)"),a_.push("rgb(166,86,40)"),a_.push("rgb(152,78,163)"),a_.push("rgb(255,127,0)"),a_.push("rgb(247,129,191)"),a_.push("rgb(153,153,153)"),a_.push("rgb(255,255,51)"),a_.push("rgb(102, 194, 165"),a_.push("rgb(252, 141, 98"),a_.push("rgb(141, 160, 203"),a_.push("rgb(231, 138, 195"),a_.push("rgb(166, 216, 84"),a_.push("rgb(255, 217, 47"),a_.push("rgb(229, 196, 148"),a_.push("rgb(179, 179, 179"),a_.push("rgb( 141, 211, 199"),a_.push("rgb(255, 255, 179"),a_.push("rgb(190, 186, 218"),a_.push("rgb(251, 128, 114"),a_.push("rgb(128, 177, 211"),a_.push("rgb(253, 180, 98"),a_.push("rgb(179, 222, 105"),a_.push("rgb(252, 205, 229"),a_.push("rgb(217, 217, 217"),a_.push("rgb(188, 128, 189"),a_.push("rgb(204, 235, 197"),a_.push("rgb(255, 237, 111");class s_{constructor(e,t,i,n,o){this.genome=e,this.chr=t,this.start=i,this.end=n,this.bpPerPixel=o,this.id=xr.guid()}extend(e){const t=Math.min(e.start,this.start),i=Math.max(e.end,this.end),n=(i-t)/(this.end-this.start);this.start=t,this.end=i,this.bpPerPixel*=n}calculateEnd(e){return this.start+this.bpPerPixel*e}calculateBPP(e,t){return(e-this.start)/t}set(e){this.chr=e.chr,this.start=e.start,this.bpPerPixel=e.bpPerPixel}toPixels(e){return e/this.bpPerPixel}toBP(e){return this.bpPerPixel*e}shiftPixels(e,t,i){const n=this.start,o=e*this.bpPerPixel;return this.start+=o,i&&this.clampStart(t),this.end=this.start+t*this.bpPerPixel,n!==this.start}clampStart(e){const t=this.genome.getChromosome(this.chr).bpStart||0;if(this.start=Math.max(t,this.start),e){const{bpLength:t}=this.genome.getChromosome(this.chr),i=t-e*this.bpPerPixel;this.start>i&&(this.start=i)}}async zoomWithScaleFactor(e,t,i,n){const o=void 0===n?this.start+this.toBP(i/2):n,{start:r,bpPerPixel:a}=this.start,{bpLength:s}=this.getChromosome(),c=t<1?e.minimumBases()/i:s/i;this.bpPerPixel=t<1?Math.max(this.bpPerPixel*t,c):Math.min(this.bpPerPixel*t,c);const l=this.bpPerPixel*i;this.start=o-.5*l,this.clampStart(i),this.end=this.start+l;(r!==this.start||a!==this.bpPerPixel)&&await e.updateViews(!0)}getChromosome(){return this.genome.getChromosome(this.chr)}getMultiLocusLabelBPLengthOnly(e){const t="&nbsp",i=Math.floor(this.start)+1,n=Math.round(this.start+this.bpPerPixel*e);return`${t}${this.chr}${t}${Td(n-i)}${t}`}getMultiLocusLabelLocusOnly(e){const t="&nbsp",{chr:i,start:n,end:o}=this.getPresentationLocusComponents(e);return`${t}${i}:${n}-${o}${t}`}getMultiLocusLabel(e){const t="&nbsp",{chr:i,start:n,end:o}=this.getPresentationLocusComponents(e),r=Math.floor(this.start)+1;return`${t}${i}:${n}-${o}${t}${t}(${Td(Math.round(this.start+this.bpPerPixel*e)-r)})${t}`}getPresentationLocusComponents(e){if("all"===this.chr)return{chr:this.chr};{const t=Za(Math.floor(this.start)+1),i=Za(Math.round(this.start+this.bpPerPixel*e));return{chr:this.chr,start:t,end:i}}}getLocusString(){if("all"===this.chr)return"all";{const e=Za(Math.floor(this.start)+1),t=Za(Math.round(this.end));return`${this.chr}:${e}-${t}`}}description(e){console.log(` ${e||""} referenceFrame - ${this.chr} bpp ${this.bpPerPixel.toFixed(3)} start ${Za(Math.round(this.start))} end ${Za(Math.round(this.end))} `)}}const c_={timeout:5e3,type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0,chromosomeField:"chromosome",startField:"start",endField:"end",geneField:"gene",snpField:"snp"};async function l_(e,t){if(void 0===t||""===t.trim())return;(t&&"all"===t.trim().toLowerCase()||"*"===t)&&(t="all");const i=t.split(" ");let n=e.searchConfig||c_,o=[];const r=async i=>{let o=function(e,t){const i=t.split("\t");if(i.length>=3)try{const t=e.genome.getChromosomeName(i[0]),n=parseInt(i[1].replace(/,/g,""),10)-1,o=parseInt(i[2].replace(/,/g,""),10);if(!isNaN(n)&&!isNaN(o))return{chr:t,start:n,end:o}}catch(e){}const n=t.split(":"),o=n[0];if("all"===o&&e.genome.getChromosome(o))return{chr:o,start:0,end:e.genome.getChromosome(o).bpLength};if(void 0===e.genome.getChromosome(o))return;{const t={chr:e.genome.getChromosomeName(o),start:0,end:e.genome.getChromosome(o).bpLength};if(n.length>1){let i,o=n[1].split("-");if(o.length>2){if(!n[1].startsWith("-"))return;{const e=n[1].indexOf("-",1);if(e>0){o=[n[1].substring(0,e),n[1].substring(e+1)]}}}if(i=o[0].replace(/,/g,""),isNaN(i))return;if(t.start=parseInt(i,10)-1,t.end=t.start+1,1===o.length&&(t.start-=20,t.end+=20),2===o.length){if(i=o[1].replace(/,/g,""),isNaN(i))return;if(t.end=parseInt(i,10),t.start<0&&!e.isSoftclipped()){const e=-t.start;t.start+=e,t.end+=e}}}return t}}(e,i);if(!o){const n=e.genome.featureDB.get(i.toUpperCase());n&&(o={chr:n.chr,start:n.start,end:n.end,gene:n.name,locusSearchString:t})}if(!o&&e.config&&!1!==e.config.search)try{o=await async function(e,t,i){let n=i.url.replace("$FEATURE$",t.toUpperCase());n.indexOf("$GENOME$")>-1&&(n=n.replace("$GENOME$",e.genome.id?e.genome.id:"hg19"));const o=i.timeout?{timeout:i.timeout}:void 0,r=await ad.loadString(n,o),a=function(e,t,i){let n;n="plain"===i.type?function(e,t){const i=[],n=[];return Ka(t).forEach((function(e){""===e||i.push(e)})),i.forEach((function(t){var i,o,r,a,s=t.split("\t");s.length>=3&&(r=(o=s[1].split(":"))[1].split("-"),i=s[2].trim(),a={gene:s[0],chromosome:e.genome.getChromosomeName(o[0].trim()),start:parseInt(r[0].replace(/,/g,"")),end:parseInt(r[1].replace(/,/g,"")),type:"gtex"===i?"snp":"gene"},n.push(a))})),n}(e,t):JSON.parse(t);i.resultsField&&(n=n[i.resultsField]);if(n&&0!==n.length){const t=i.chromosomeField||"chromosome",o=i.startField||"start",r=i.endField||"end",a=i.coords||1;let s;s=Array.isArray(n)?n[0]:n,s.hasOwnProperty(t)&&s.hasOwnProperty(o)||console.error("Search service results must include chromosome and start fields: "+s);const c=s[t],l=e.genome.getChromosome(c);if(!l)return;const h=l.name;let d=s[o]-a,f=s[r];void 0===f&&(f=d+1);const u={chr:h,start:d,end:f},p=s.type?s.type:"gene";return i.geneField&&"gene"===p&&(u.gene=s[i.geneField]),i.snpField&&"snp"===p&&(u.snp=s[i.snpField]),u}return}(e,r,i);a&&(a.locusSearchString=t);return a}(e,i,n)}catch(e){throw console.error(e),Error("Search service currently unavailable.")}return o};for(let e of i){const t=await r(e);t&&(t.locusSearchString=e,o.push(t))}if(0===o.length){const e=await r(t);e&&(e.locusSearchString=t,o.push(e))}return 0===o.length?void 0:o}class h_{constructor(e){this.browser=e}navbarDidResize(e){this.updateNavbar(this.createResponsiveClassSchedule(e))}updateNavbar(e){this.browser.$toggle_button_container.removeClass(),this.browser.$toggle_button_container.addClass(e.$toggle_button_container),wr(this.browser.zoomWidget.zoomContainer).removeClass(),wr(this.browser.zoomWidget.zoomContainer).addClass(e.zoomContainer)}createResponsiveClassSchedule(e){let t={};const i=this.browser.isMultiLocusWholeGenomeView()||this.browser.referenceFrameList&&Rf.isWholeGenomeView(this.browser.referenceFrameList[0].chr);return i?this.browser.windowSizePanel.hide():this.browser.windowSizePanel.show(),e>990?(t.$toggle_button_container="igv-navbar-toggle-button-container",t.zoomContainer="igv-zoom-widget"):e>860?(t.$toggle_button_container="igv-navbar-toggle-button-container",t.zoomContainer="igv-zoom-widget-900"):e>540?(t.$toggle_button_container="igv-navbar-toggle-button-container-750",t.zoomContainer="igv-zoom-widget-900"):(t.$toggle_button_container="igv-navbar-toggle-button-container-750",t.zoomContainer="igv-zoom-widget-900",this.browser.windowSizePanel.hide()),i&&(t.zoomContainer="igv-zoom-widget-hidden"),t}}const d_=function(e,t){this.container=xr.div({class:"igv-chromosome-select-widget-container"}),t.appendChild(this.container),this.select=document.createElement("select"),this.select.setAttribute("name","chromosome-select-widget"),this.container.appendChild(this.select),this.select.addEventListener("change",(()=>{this.select.blur(),""!==this.select.value&&e.search(this.select.value)})),this.showAllChromosomes=!1!==e.config.showAllChromosomes};d_.prototype.show=function(){this.container.style.display="flex"},d_.prototype.hide=function(){this.container.style.display="none"},d_.prototype.update=function(e){const t=this.showAllChromosomes?e.chromosomeNames.slice():e.wgChromosomeNames.slice();e.showWholeGenomeView()&&(t.unshift("all"),t.unshift("")),this.select.innerHTML="";for(let e of t){const t=document.createElement("option");t.setAttribute("value",e),t.innerText=e,this.select.appendChild(t)}};class f_{constructor(e,t){this.container=xr.div({class:"igv-windowsize-panel-container"}),e.appendChild(this.container),t.on("locuschange",(e=>{this.updatePanel(e)})),this.browser=t}show(){this.container.style.display="block"}hide(){this.container.style.display="none"}updatePanel(e){const t=this.browser.calculateViewportWidth(this.browser.referenceFrameList.length);this.container.innerText=1===e.length?Td(Math.round(t*e[0].bpPerPixel)):""}}class u_{constructor(e,t){this.browser=t,this.columnContainer=e,this.horizontalGuide=xr.div({class:"igv-cursor-guide-horizontal"}),e.appendChild(this.horizontalGuide),this.verticalGuide=xr.div({class:"igv-cursor-guide-vertical"}),e.appendChild(this.verticalGuide),this.addMouseHandler(t),this.setVisibility(t.config.showCursorGuide)}addMouseHandler(e){this.boundMouseMoveHandler=function(t){const{x:i,y:n}=xr.translateMouseCoordinates(t,this.columnContainer);this.horizontalGuide.style.top=`${n}px`;const o=function(e,t){for(;e.parentElement;){if(e.parentElement.classList.contains(t))return e.parentElement;e=e.parentElement}return}(document.elementFromPoint(t.clientX,t.clientY),"igv-viewport");if(o&&e.getRulerTrackView()){this.verticalGuide.style.left=`${i}px`;const n=e.root.querySelectorAll(".igv-column");let r;const a=o.parentElement;for(let e=0;e<n.length;e++)void 0===r&&a===n[e]&&(r=e);const s=e.getRulerTrackView().viewports[r].mouseMove(t);if(s){const{start:e,bp:t,end:i}=s,n=(t-e)/(i-e);this.customMouseHandler&&this.customMouseHandler({start:e,bp:t,end:i,interpolant:n})}}}.bind(this),this.columnContainer.addEventListener("mousemove",this.boundMouseMoveHandler)}removeMouseHandler(){this.columnContainer.removeEventListener("mousemove",this.boundMouseMoveHandler)}setVisibility(e){!0===e?this.show():this.hide()}show(){this.verticalGuide.style.display="block",this.horizontalGuide.style.display="block"}hide(){if(this.verticalGuide.style.display="none",this.horizontalGuide.style.display="none",this.browser.getRulerTrackView())for(let e of this.browser.getRulerTrackView().viewports)e.$tooltip.hide()}}class p_{constructor(e,t){this.browser=e,this.button=xr.div({class:"igv-navbar-button"}),t.appendChild(this.button),this.button.textContent="cursor guide",this.button.addEventListener("click",(()=>{e.cursorGuideVisible=!e.cursorGuideVisible,e.setCursorGuideVisibility(e.cursorGuideVisible),this.setButtonState(e.cursorGuideVisible)})),this.setButtonState(e.cursorGuideVisible),e.config.showCursorTrackingGuideButton?this.show():this.hide()}setButtonState(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}show(){this.button.style.display="block",this.setButtonState(this.browser.cursorGuideVisible)}hide(){this.button.style.display="none"}}class m_{constructor(e,t){this.browser=e,this.button=xr.div({class:"igv-navbar-button"}),t.appendChild(this.button),this.button.textContent="center line",this.button.addEventListener("click",(()=>{e.isCenterLineVisible=!e.isCenterLineVisible,e.setCenterLineVisibility(e.isCenterLineVisible),this.setButtonState(e.isCenterLineVisible)})),this.setButtonState(e.isCenterLineVisible),e.config.showCenterGuideButton?this.show():this.hide()}setButtonState(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}show(){this.isVisible=!0,this.button.style.display="block",this.setButtonState(this.browser.isCenterLineVisible)}hide(){this.isVisible=!1,this.button.style.display="none"}}class g_{constructor(e,t){this.button=xr.div({class:"igv-navbar-button"}),e.appendChild(this.button),this.button.textContent="track labels",this.button.addEventListener("click",(()=>{t.trackLabelsVisible=!t.trackLabelsVisible,this.setState(t.trackLabelsVisible),t.setTrackLabelVisibility(t.trackLabelsVisible)})),this.browser=t,this.setVisibility(t.config.showTrackLabelButton),this.setState(t.trackLabelsVisible)}setVisibility(e){!0===e?this.show():this.hide()}setState(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}show(){this.button.style.display="block",this.setState(this.browser.trackLabelsVisible)}hide(){this.button.style.display="none"}}class w_{constructor(e,t){this.button=xr.div({class:"igv-navbar-button"}),e.appendChild(this.button),this.button.innerText="Sample Names",this.setState(t.showSampleNames),this.setVisibility(t.showSampleNameButton),this.button.addEventListener("click",(()=>{t.showSampleNames=!t.showSampleNames,this.setState(t.showSampleNames);for(let{sampleNameViewport:e}of t.trackViews)!1===t.showSampleNames?e.hide():e.show();t.layoutChange()}))}setVisibility(e){!0===e?this.show():this.hide()}setState(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}hide(){this.button.style.display="none"}show(){this.button.style.display="block"}}let F_=23,b_=0;const v_=function(e,t){this.browser=e,this.zoomContainer=xr.div({class:"igv-zoom-widget"}),t.appendChild(this.zoomContainer),this.zoomOutButton=xr.div(),this.zoomContainer.appendChild(this.zoomOutButton),this.zoomOutButton.appendChild(xa.createIcon("minus-circle")),this.zoomOutButton.addEventListener("click",(()=>{e.zoomOut()}));const i=xr.div();this.zoomContainer.appendChild(i),this.slider=document.createElement("input"),this.slider.type="range",this.slider.min="0",this.slider.max=`${F_}`,i.appendChild(this.slider),this.slider.addEventListener("change",(t=>{t.preventDefault(),t.stopPropagation();const i=e.referenceFrameList[0],{bpLength:n}=i.genome.getChromosome(i.chr),{end:o,start:r}=i,a=o-r,s=n/Math.pow(2,t.target.valueAsNumber);e.zoomWithScaleFactor(s/a)})),this.zoomInButton=xr.div(),this.zoomContainer.appendChild(this.zoomInButton),this.zoomInButton.appendChild(xa.createIcon("plus-circle")),this.zoomInButton.addEventListener("click",(()=>{e.zoomIn()})),e.on("locuschange",(e=>{this.browser.isMultiLocusMode()?this.disable():(this.enable(),this.update(e))}))};v_.prototype.update=function(e){const t=e[0],{bpLength:i}=t.genome.getChromosome(t.chr),{start:n,end:o}=t;F_=Math.ceil(Math.log2(i/this.browser.minimumBases())),this.slider.max=`${F_}`;const r=i/(o-n);b_=Math.log2(r),this.slider.value=`${Math.round(b_)}`},v_.prototype.enable=function(){this.slider.disabled=!1},v_.prototype.disable=function(){this.slider.disabled=!0},v_.prototype.hide=function(){this.zoomContainer.style.display="none"},v_.prototype.show=function(){this.zoomContainer.style.display="block"},v_.prototype.hideSlider=function(){this.slider.style.display="none"},v_.prototype.showSlider=function(){this.slider.style.display="block"};const y_=function(e,t){const i=xr.div({class:"igv-navbar-button"});e.append(i),i.textContent="Save SVG",i.addEventListener("click",(()=>t.saveSVGtoFile({})))},__=(e,t)=>{const i=0===e?t.nextElementSibling:t.previousElementSibling;t.remove(),i.remove()},C_=e=>{const t=xr.div({class:"igv-column-shim"});Hd(t,e);const i=xr.div({class:"igv-column"});return Hd(i,t),i},x_=(e,t)=>{for(let i=0;i<t;i++){const n=xr.div({class:"igv-column"});if(Bd(n,e),t>1&&i>0){Bd(xr.div({class:"igv-column-shim"}),n)}}};class k_{constructor(e,t,i){this.browser=e,this.referenceFrame=t,this.column=i,this.container=xr.div({class:"igv-center-line"}),i.appendChild(this.container),e.isCenterLineVisible?this.show():this.hide()}repaint(){if(this.referenceFrame){if(1/this.referenceFrame.bpPerPixel>1){const e=Math.floor(this.referenceFrame.toPixels(1));this.container.style.width=`${e}px`,this.container.classList.remove("igv-center-line-thin"),this.container.classList.add("igv-center-line-wide")}else this.container.style.width="1px",this.container.classList.remove("igv-center-line-wide"),this.container.classList.add("igv-center-line-thin")}}show(){this.isVisible=!0,this.container.style.display="block",this.repaint()}hide(){this.isVisible=!1,this.container.style.display="none"}resize(){this.repaint()}}const E_=Za;class N_{constructor(e){this.browser=e,this.height=40,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=.01*Number.MIN_SAFE_INTEGER,this.removable=!1,this.type="ruler"}async getFeatures(e,t,i){return[]}computePixelHeight(e){return this.height}draw({context:e,referenceFrame:t,pixelWidth:i,pixelHeight:n,bpPerPixel:o,bpStart:r}){Rf.isWholeGenomeView(t.chr)?this.drawWholeGenome({context:e,pixelWidth:i,pixelHeight:n,bpPerPixel:o}):this.doDraw({context:e,referenceFrame:t,pixelWidth:i,pixelHeight:n,bpStart:r})}drawWholeGenome({context:e,pixelWidth:t,pixelHeight:i,bpPerPixel:n}){e.save(),kd.fillRect(e,0,0,t,i,{fillStyle:"white"});for(let t of this.browser.genome.wgChromosomeNames){let o=this.browser.genome.getCumulativeOffset(t),r=this.browser.genome.getChromosome(t).bpLength,a=Math.round(o/n),s=Math.round(r/n);this.renderChromosomeRect(e,a,0,s,i,t)}e.restore()}doDraw({context:e,referenceFrame:t,pixelWidth:i,pixelHeight:n,bpStart:o}){e.clearRect(0,0,i,n);const r=function(e,t){if(e<10)return new S_(1,"bp",1);const i=Math.floor(Math.log10(e));let n="bp",o=1;i>9?(n="gb",o=1e9):i>6?(n="mb",o=1e6):i>3&&(n="kb",o=1e3);const r=Math.pow(10,i-1),a=e/r,s=75,c=Math.pow(10,i-1),l=Math.pow(10,i)/2;return new S_(a<s&&!0!==t?c:l,n,o)}(Math.floor(t.toBP(i)),e.isSVG);let a=Math.floor(o/r.majorTick)-1;const{tickDelta:s,labelLength:c}=function(e,t,i,n,o){const r=l(t,c(1+n,o),i)-l(t,c(n,o),i),a=`${Za(Math.floor(c(n,o)/o.unitMultiplier))} ${o.majorUnit}`,s=Math.floor(e.measureText(a).width);return{tickDelta:r,labelLength:s};function c(e,t){return Math.floor(e*t.majorTick)}function l(e,t,i){return Math.round(e.toPixels(t-1-i+.5))}}(e,t,o,a,r);let l,h;this.browser.referenceFrameList.indexOf(t);let d=s;const f=.25*c;do{h=Math.floor(a*r.majorTick);const i=`${Za(Math.floor(h/r.unitMultiplier))} ${r.majorUnit}`;l=Math.round(t.toPixels(h-1-o+.5));const n=Math.round(l-e.measureText(i).width/2);n>0&&f+c<=d&&(kd.fillText(e,i,n,this.height-8),d=0),l>0&&kd.strokeLine(e,l,this.height-6,l,this.height-2),h=Math.floor((1+a)*r.majorTick);let u=l+(Math.round(t.toPixels(h-1-o+.5))-l)/2;u>0&&kd.strokeLine(e,u,this.height-6,u,this.height-2),++a,d+=s}while(l<i);kd.strokeLine(e,0,this.height-2,i,this.height-2)}renderChromosomeRect(e,t,i,n,o,r){e.textAlign="center",e.textBaseline="middle",e.font="12px sans-serif",kd.strokeLine(e,t+n,i,t+n,i+o,{strokeStyle:qh.greyScale(191)});const a=r.startsWith("chr")?r.substring(3):r;n>e.measureText(a).width&&kd.fillText(e,a,t+n/2,i+o/2,{fillStyle:qh.greyScale(68)})}get supportsWholeGenome(){return!0}dispose(){}}class S_{constructor(e,t,i){this.majorTick=e,this.minorTick=e/10,this.majorUnit=t,this.unitMultiplier=i}description(e){console.log((e||"")+" tick "+E_(this.majorTick)+" label width "+E_(this.labelWidthBP)+" multiplier "+this.unitMultiplier)}}const I_=function(e,t){this.button=xr.div({class:"igv-navbar-button"}),e.appendChild(this.button),this.button.textContent="circular view",this.button.addEventListener("click",(()=>{t.circularViewVisible=!t.circularViewVisible})),this.browser=t,this.setVisibility(t.config.showCircularViewButton),this.setState(t.circularViewVisible)};I_.prototype.setVisibility=function(e){!0===e?this.show():this.hide()},I_.prototype.setState=function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")},I_.prototype.show=function(){this.button.style.display="block",this.setState(this.browser.circularViewVisible)},I_.prototype.hide=function(){this.button.style.display="none"};const z_=function(e,t,i){const n=xr.div({class:"igv-navbar-button"});e.append(n),n.textContent=i.label,n.addEventListener("click",(()=>i.callback(t)))};class D_{constructor(e,t,i,n,o){this.browser=e,this.roiMenu=t,this.roiTable=i,this.top=n,this.roiSets=o||[],this.boundLocusChangeHandler=A_.bind(this),e.on("locuschange",this.boundLocusChangeHandler)}async initialize(){this.roiSets.length>0&&(this.browser.showROITableButton=!0,this.browser.roiTableControl.setVisibility(this.browser.showROITableButton));const e=this.roiSets.map((e=>this.renderROISet({browser:this.browser,pixelTop:this.top,roiSet:e})));e.length>0&&await Promise.all(e);const t=await this.getTableRecords();this.roiTable.renderTable(t)}async loadROI(e,t){const i=Array.isArray(e)?e:[e];for(let e of i)this.roiSets.push(new wm(e,t));await this.initialize()}clearROIs(){this.roiTable.clearTable();const e=this.browser.columnContainer.querySelectorAll(".igv-roi-region");for(let t of e)t.remove();for(let e of this.roiSets)e.dispose();this.roiSets=[]}async getTableRecords(){const e=[];for(let t of this.roiSets){const i=t.isUserDefined?"":t.name||"",n=await t.getAllFeatures();for(let t of Object.keys(n))for(let o of n[t])e.push({setName:i,feature:o})}return e}presentTable(){this.roiTable.present()}async repaintTable(){const e=await this.getTableRecords();this.roiTable.renderTable(e)}dismissTable(){this.roiTable.dismiss()}async updateUserDefinedROISet(e){let t=await this.getUserDefinedROISet();void 0===t&&(t=this.initializeUserDefinedROISet()),t.addFeature(e),!1===this.browser.showROITableButton&&this.setROITableButtonVisibility(!0),await this.renderROISet({browser:this.browser,pixelTop:this.top,roiSet:t});const i=await this.getTableRecords();this.roiTable.renderTable(i)}setROITableButtonVisibility(e){this.browser.showROITableButton=e,this.browser.roiTableControl.setVisibility(this.browser.showROITableButton)}async renderAllROISets(){for(let e of this.roiSets)await this.renderROISet({browser:this.browser,pixelTop:this.top,roiSet:e})}async renderROISet({browser:e,pixelTop:t,roiSet:i}){const n=e.columnContainer.querySelectorAll(".igv-column");for(let o=0;o<n.length;o++){let{chr:r,start:a,end:s,bpPerPixel:c}=e.referenceFrameList[o];const l=n[o].querySelectorAll(".igv-roi-region");for(let e of l){const t=e.dataset.region,{chr:i,start:n,end:o}=R_(t);(i!==r||o<a||n>s)&&e.remove()}const h=await i.getFeatures(r,a,s);if(h)for(let l of h){const h=M_(r,l.start,l.end),{x:d,width:f}=Fm(Math.max(a,l.start),Math.min(s,l.end),a,c),u=n[o].querySelector(T_(h));if(u)u.style.left=`${d}px`,u.style.width=`${f}px`;else{const r=this.createRegionElement(e.columnContainer,t,d,f,i,h,l.name);n[o].appendChild(r)}}}}createRegionElement(e,t,i,n,o,r,a){const s=xr.div({class:"igv-roi-region"});s.style.top=`${t}px`,s.style.left=`${i}px`,s.style.width=`${n}px`,s.style.backgroundColor=o.color,s.dataset.region=r;const c=xr.div();return s.appendChild(c),c.style.backgroundColor=o.headerColor,!0===o.isUserDefined?c.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation();const{x:i,y:n}=xr.translateMouseCoordinates(t,e);this.roiMenu.present(i,n,this,e,s)})):a?c.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.popover&&this.popover.dispose(),this.popover=new Oa(e,o.name),this.popover.presentContentWithEvent(t,a)})):c.style.pointerEvents="none",s}renderSVGContext(e,{deltaX:t,deltaY:i}){for(const n of document.querySelectorAll(".igv-roi-region")){const{x:o,y:r,width:a,height:s}=n.getBoundingClientRect();e.fillStyle=n.style.backgroundColor,e.fillRect(o+t,r+i,a,s);const c=n.querySelector("div"),{x:l,y:h,width:d,height:f}=c.getBoundingClientRect();e.fillStyle=c.style.backgroundColor,e.fillRect(l+t,h+i,d,f)}}async getUserDefinedROISet(){return this.roiSets.find((e=>!0===e.isUserDefined))}initializeUserDefinedROISet(){const e=new wm({isUserDefined:!0,features:[]},this.browser.genome);return this.roiSets.push(e),e}async deleteUserDefinedRegionWithKey(e,t){t.querySelectorAll(T_(e)).forEach((e=>e.remove()));const i=await this.findUserDefinedRegionWithKey(e),n=await this.getUserDefinedROISet();n&&n.removeFeature(i);0===(await this.getTableRecords()).length&&(this.browser.roiTableControl.buttonHandler(!1),this.setROITableButtonVisibility(!1))}async findUserDefinedRegionWithKey(e){const{chr:t,start:i,end:n}=R_(e),o=await this.getUserDefinedROISet();if(o){const e=await o.getFeatures(t,i,n);for(let o of e)if(o.chr===t&&o.start>=i&&o.end<=n)return o}}toJSON(){return this.roiSets.map((e=>e.toJSON()))}dispose(){this.browser.off("locuschange",this.boundLocusChangeHandler);const e=this.browser.columnContainer.querySelectorAll(".igv-roi-region");for(let t of e)t.remove();this.roiMenu&&this.roiMenu.dispose(),this.roiTable&&this.roiTable.dispose();for(let e of this.roiSets)e.dispose();for(let e of Object.keys(this))this[e]=void 0}}function A_(){this.renderAllROISets()}function M_(e,t,i){return`${e}-${t}-${i}`}function T_(e){return`[data-region="${e}"]`}function R_(e){let[t,i,n]=e.split("-");return i=parseInt(i),n=parseInt(n),{chr:t,start:i,end:n,locus:`${t}:${i}-${n}`,bedRecord:`${t}\t${i}\t${n}`}}class L_ extends rw{constructor(e){super(Object.assign({width:"512px"},e))}tableRowDOM(e){const t=xr.div({class:"igv-roi-table-row"}),{setName:i,feature:n}=e;t.dataset.region=M_(n.chr,n.start,n.end);let o=[n.chr,Za(n.start),Za(n.end),n.name||"",i];4===this.columnFormat.length&&(o=o.slice(0,4));for(let e=0;e<o.length;e++){const i=xr.div();t.appendChild(i),i.style.width=this.columnFormat[e].width,i.innerText=o[e]}return this.tableRowDOMHelper(t),t}renderTable(e){if(Array.from(this.tableRowContainer.querySelectorAll(".igv-roi-table-row")).forEach((e=>e.remove())),e.length>0){const t=e.sort(((e,t)=>e.feature.chr.localeCompare(t.feature.chr)||e.feature.start-t.feature.start||e.feature.end-t.feature.end));for(let e of t){const t=this.tableRowDOM(e);this.tableRowContainer.appendChild(t)}}}dispose(){document.removeEventListener("click",this.boundGotoButtonHandler),this.browser.roiTableControl.buttonHandler(!1),super.dispose()}static getColumnFormatConfiguration(e){return!0===e?[{label:"Chr",width:"20%"},{label:"Start",width:"15%"},{label:"End",width:"15%"},{label:"Description",width:"30%"},{label:"ROI Set",width:"20%"}]:[{label:"Chr",width:"25%"},{label:"Start",width:"20%"},{label:"End",width:"20%"},{label:"Description",width:"35%"}]}static gotoButtonHandler(e){e.stopPropagation();const t=this.tableDOM.querySelectorAll(".igv-roi-table-row-selected"),i=[];for(let e of t){const{locus:t}=R_(e.dataset.region);i.push(t)}for(let e of this.tableDOM.querySelectorAll(".igv-roi-table-row"))e.classList.remove("igv-roi-table-row-selected");this.setTableRowSelectionState(!1),i.length>0&&this.browser.search(i.join(" "))}}class B_{constructor(e,t){this.browser=e,this.container=xr.div({class:"igv-roi-menu-next-gen"}),t.appendChild(this.container);const i=xr.div();this.container.appendChild(i),Ea.attachDialogCloseHandlerWithParent(i,(()=>this.container.style.display="none")),this.body=xr.div(),this.container.appendChild(this.body),this.container.style.display="none"}async present(e,t,i,n,o){H_(this.body);const r=await this.browser.roiManager.findUserDefinedRegionWithKey(o.dataset.region),a=xr.div();this.body.appendChild(a);const s="Description",c=r.name||s;a.innerText=c,a.setAttribute("title",c),s===c?a.classList.add("igv-roi-placeholder"):a.classList.remove("igv-roi-placeholder");const l=xr.div();this.body.appendChild(l),l.innerText="Set Description",l.addEventListener("click",(e=>{e.stopPropagation(),this.container.style.display="none";const t={label:"Description",value:r.name||"",callback:()=>{const e=this.browser.inputDialog.value||"";r.name=e.trim(),this.container.style.display="none",this.browser.roiManager.repaintTable()}};this.browser.inputDialog.present(t,e)}));const h=xr.div();this.body.appendChild(h),h.innerText="Delete Region",h.addEventListener("click",(e=>{e.stopPropagation(),this.container.style.display="none",this.browser.roiManager.deleteUserDefinedRegionWithKey(o.dataset.region,this.browser.columnContainer)})),this.container.style.left=`${e}px`,this.container.style.top=`${t}px`,this.container.style.display="flex"}async __present(e,t,i,n,o){H_(this.container);const r=await this.browser.roiManager.findUserDefinedRegionWithKey(o.dataset.region);let a;a=xr.div({class:"igv-roi-menu-row-edit-description"}),this.container.appendChild(a),a.addEventListener("click",(e=>{e.stopPropagation()}));const s="description-input",c=document.createElement("label");a.appendChild(c),c.setAttribute("for",s),c.innerText="Description:";const l=document.createElement("input");a.appendChild(l),l.setAttribute("type","text"),l.setAttribute("name",s),l.setAttribute("placeholder",""),l.value=r.name||"",l.addEventListener("change",(async e=>{e.stopPropagation();(await this.browser.roiManager.findUserDefinedRegionWithKey(o.dataset.region)).name=l.value,l.blur(),this.container.style.display="none",await this.browser.roiManager.repaintTable()})),a=xr.div({class:"igv-roi-menu-row"}),a.innerText="Delete region",this.container.appendChild(a),a.addEventListener("click",(e=>{e.stopPropagation(),this.container.style.display="none",this.browser.roiManager.deleteUserDefinedRegionWithKey(o.dataset.region,this.browser.columnContainer)})),this.container.style.left=`${e}px`,this.container.style.top=`${t}px`,this.container.style.display="flex",n.addEventListener("click",(e=>{e.stopPropagation(),this.container.style.display="none"}))}dispose(){this.container.innerHTML=""}}function H_(e){for(;e.firstChild;)e.removeChild(e.firstChild)}class O_{constructor(e,t){this.name=e.name,this.featureSource=e.featureSource||pm(e,t),this.color=e.color||mm}async getFeatures(e,t,i){return this.featureSource.getFeatures({chr:e,start:t,end:i})}draw(e){const{context:t,bpPerPixel:i,bpStart:n,pixelTop:o,pixelHeight:r,pixelWidth:a,features:s}=e;if(!s)return;const c=n+a*i+1;for(let{start:e,end:a}of s){if(a<n)continue;if(e>c)break;const{x:s,width:l}=Fm(e,a,n,i);kd.fillRect(t,s,o,l,r,{fillStyle:this.color})}}}class P_{constructor(e,t){this.browser=t,this.button=xr.div({class:"igv-navbar-button"}),e.appendChild(this.button),this.button.textContent="ROI Table",this.button.addEventListener("click",(()=>{this.buttonHandler(!t.roiTableVisible)})),this.browser=t,this.setVisibility(t.showROITableButton),this.setState(t.roiTableVisible)}buttonHandler(e){this.browser.roiTableVisible=e,this.setState(this.browser.roiTableVisible),this.browser.setROITableVisibility(this.browser.roiTableVisible)}setVisibility(e){!0===e?this.show():this.hide()}setState(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}show(){this.button.style.display="block",this.setState(this.browser.roiTableVisible)}hide(){this.button.style.display="none"}}class q_{constructor(e,t){this.config=e,this.guid=xr.guid(),this.namespace=".browser_"+this.guid,this.parent=t,this.root=xr.div({class:"igv-container"}),t.appendChild(this.root),this.alert=new Nd(this.root),this.columnContainer=xr.div({class:"igv-column-container"}),this.root.appendChild(this.columnContainer),this.menuPopup=new Nw(this.columnContainer),this.initialize(e),this.trackViews=[],this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:e.doubleClickDelay||500},this.eventHandlers={},this.addMouseHandlers(),this.setControls(e)}initialize(e){e.gtex&&(Zg.gtexLoaded=!0),this.flanking=e.flanking,this.crossDomainProxy=e.crossDomainProxy,this.formats=e.formats,this.trackDefaults=e.trackDefaults,this.nucleotideColors=e.nucleotideColors||uf;for(let e of Object.keys(this.nucleotideColors))this.nucleotideColors[e.toLowerCase()]=this.nucleotideColors[e];this.trackLabelsVisible=e.showTrackLabels,this.roiTableVisible=e.showROITable,this.showROITableButton=e.showROITableButton,this.isCenterLineVisible=e.showCenterGuide,this.cursorGuideVisible=e.showCursorGuide,this.showSampleNames=e.showSampleNames,this.showSampleNameButton=e.showSampleNameButton,this.sampleNameViewportWidth=e.sampleNameViewportWidth||200,e.search&&(this.searchConfig={type:"json",url:e.search.url,coords:void 0===e.search.coords?1:e.search.coords,chromosomeField:e.search.chromosomeField||"chromosome",startField:e.search.startField||"start",endField:e.search.endField||"end",geneField:e.search.geneField||"gene",snpField:e.search.snpField||"snp",resultsField:e.search.resultsField})}setControls(e){const t=this.createStandardControls(e);t.insertBefore(wr(this.columnContainer)),this.$navigation=t,!1===e.showControls&&t.hide()}createStandardControls(e){this.navbarManager=new h_(this);const t=wr("<div>",{class:"igv-navbar"});this.$navigation=t;const i=wr("<div>",{class:"igv-navbar-left-container"});t.append(i);const n=wr("<div>",{class:"igv-logo"});i.append(n);const o=wr('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>');o.css("width","34px"),o.css("height","32px"),n.append(o),this.$current_genome=wr("<div>",{class:"igv-current-genome"}),i.append(this.$current_genome),this.$current_genome.text("");const r=wr("<div>",{class:"igv-navbar-genomic-location"});i.append(r),this.chromosomeSelectWidget=new d_(this,r.get(0)),void 0===e.showChromosomeWidget&&(e.showChromosomeWidget=!0),!0===e.showChromosomeWidget?this.chromosomeSelectWidget.show():this.chromosomeSelectWidget.hide();const a=wr("<div>",{class:"igv-locus-size-group"});r.append(a);const s=wr("<div>",{class:"igv-search-container"});a.append(s),this.$searchInput=wr("<input>",{class:"igv-search-input",type:"text",placeholder:"Locus Search"}),s.append(this.$searchInput),this.$searchInput.change((()=>this.doSearch(this.$searchInput.val())));const c=xr.div({class:"igv-search-icon-container"});s.append(wr(c)),c.appendChild(xa.createIcon("search")),c.addEventListener("click",(()=>this.doSearch(this.$searchInput.val()))),this.windowSizePanel=new f_(a.get(0),this);const l=wr("<div>",{class:"igv-navbar-right-container"});t.append(l);const h=wr('<div class="igv-navbar-toggle-button-container">');if(l.append(h),this.$toggle_button_container=h,this.cursorGuide=new u_(this.columnContainer,this),this.cursorGuideButton=new p_(this,h.get(0)),this.centerLineButton=new m_(this,h.get(0)),this.setTrackLabelVisibility(e.showTrackLabels),this.trackLabelControl=new g_(h.get(0),this),this.roiTableControl=new P_(h.get(0),this),this.sampleNameControl=new w_(h.get(0),this),!0===e.showSVGButton&&(this.svgSaveControl=new y_(h.get(0),this)),e.customButtons)for(let t of e.customButtons)new z_(h.get(0),this,t);return this.zoomWidget=new v_(this,l.get(0)),!1===e.showNavigation&&this.$navigation.hide(),this.inputDialog=new Ma(this.root),this.inputDialog.container.id=`igv-input-dialog-${xr.guid()}`,this.dataRangeDialog=new Ga(this,wr(this.root)),this.dataRangeDialog.$container.get(0).id=`igv-data-range-dialog-${xr.guid()}`,this.genericColorPicker=new qa({parent:this.columnContainer,width:432}),this.genericColorPicker.container.id=`igv-track-color-picker-${xr.guid()}`,t}getSampleNameViewportWidth(){return!1===this.showSampleNames?0:this.sampleNameViewportWidth}isMultiLocusMode(){return this.referenceFrameList&&this.referenceFrameList.length>1}addTrackToFactory(e,t){Jy(e,t)}isMultiLocusWholeGenomeView(){if(void 0===this.referenceFrameList||1===this.referenceFrameList.length)return!1;for(let e of this.referenceFrameList)if("all"===e.chr.toLowerCase())return!0;return!1}currentLoci(){const e=e=>`${e.chr}:${e.start+1}-${e.end}`;return void 0===this.referenceFrameList||0===this.referenceFrameList.length?"":1===this.referenceFrameList.length?e(this.referenceFrameList[0]):this.referenceFrameList.map((t=>e(t)))}toSVG(){const{y:e,width:t,height:i}=this.columnContainer.getBoundingClientRect(),n=new Df({width:t,height:8e3,backdropColor:"white",multiLocusGap:0,viewbox:{x:0,y:0,width:t,height:8e3}}),o={deltaX:0,deltaY:-e};for(let e of this.trackViews)e.renderSVGContext(n,o);return this.roiManager.renderSVGContext(n,o),n.setHeight(i),n.getSerializedSvg(!0)}renderSVG(e){const t=this.toSVG();return e.empty(),e.append(t),t}saveSVGtoFile(e){let t=this.toSVG();e.$container&&(e.$container.empty(),e.$container.append(t));es(e.filename||"igvjs.svg",URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})))}async loadSession(e){let t;return this.roiSets=[],t=e.url||e.file?await async function(e){const t=e.url||e.file;if(e.url&&(e.url.startsWith("blob:")||e.url.startsWith("data:"))){const t=q_.uncompressSession(e.url);return JSON.parse(t)}{let i=e.filename;if(i||(i=e.url?await Md(e.url):e.file.name),i.endsWith(".xml")){const e=Rf.KNOWN_GENOMES,i=await ad.loadString(t);return new t_(i,e)}return i.endsWith(".json")?ad.loadJson(t):void 0}}(e):e,this.loadSessionObject(t)}async loadSessionObject(e){this.cleanHouseForSession(),this.showSampleNames=e.showSampleNames||!1,this.sampleNameControl.setState(!0===this.showSampleNames),e.sampleNameViewportWidth&&(this.sampleNameViewportWidth=e.sampleNameViewportWidth),Ld(this.columnContainer,"igv-axis-column"),Ld(this.columnContainer,"igv-sample-name-column"),Ld(this.columnContainer,"igv-scrollbar-column"),Ld(this.columnContainer,"igv-track-drag-column"),Ld(this.columnContainer,"igv-gear-menu-column");const t=e.reference||e.genome;if(!t)return void console.warn("No genome or reference object specified");const i=await Rf.expandReference(this.alert,t);await this.loadReference(i,e.locus),this.centerLineList=this.createCenterLineList(this.columnContainer);let n=0;if(!1!==e.showIdeogram){const e=new sF(this);e.id="ideogram";const t=new Dw(this,this.columnContainer,e),{$viewport:i}=t.viewports[0];n=function(e){e="string"==typeof e?document.querySelector(e):e;const t=window.getComputedStyle(e),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom),n=e.offsetHeight;return Math.ceil(i+n)}(i.get(0)),this.trackViews.push(t)}if(!1!==e.showRuler&&this.trackViews.push(new Dw(this,this.columnContainer,new N_(this))),e.gtexSelections)for(let t of this.referenceFrameList)for(let i of Object.keys(e.gtexSelections)){const n=e.gtexSelections[i].gene,o=e.gtexSelections[i].snp;t.selection=new r_(n,o)}this.roiManager&&this.roiManager.dispose();const o=new B_(this,this.columnContainer),r={browser:this,parent:this.columnContainer,headerTitle:"Regions of Interest",dismissHandler:()=>this.roiTableControl.buttonHandler(!1),gotoButtonHandler:L_.gotoButtonHandler};if(e.roi){const t=e.roi.map((e=>new wm(e,this.genome))),i=t.filter((({name:e})=>void 0!==e&&e.length>0));r.columnFormat=L_.getColumnFormatConfiguration(i.length>0);const a=new L_(r);this.roiManager=new D_(this,o,a,n,t)}else{r.columnFormat=L_.getColumnFormatConfiguration(!1);const e=new L_(r);this.roiManager=new D_(this,o,e,n,void 0)}await this.roiManager.initialize();const a=i.tracks||[],s=e.tracks?a.concat(e.tracks):a;0===s.filter((e=>"sequence"===e.type&&!e.url&&!e.fastaURL)).length&&s.push({type:"sequence",order:pf});let c=1;for(let e of s)void 0===e.order&&(e.order=c++);await this.loadTrackList(s);for(let e of this.trackViews.filter((e=>"ruler"===e.track.type||"ideogram"===e.track.type)))e.updateViews();this.updateUIWithReferenceFrameList()}createCenterLineList(e){const t=e.querySelectorAll(".igv-center-line");for(let e=0;e<t.length;e++)t[e].remove();const i=[],n=e.querySelectorAll(".igv-column");for(let e=0;e<n.length;e++)i.push(new k_(this,this.referenceFrameList[e],n[e]));return i}async loadReference(e,t){const i=await Rf.loadGenome(e),n=void 0===this.genome||this.genome.id!==i.id;this.genome=i,this.updateNavbarDOMWithGenome(i),n&&this.removeAllTracks();let o=function(e,t){return e?Array.isArray(e)?e.join(" "):e:t.getHomeChromosomeName()}(t,i);if(!await this.search(o,!0)){console.log("Initial locus not found: "+o),o=i.getHomeChromosomeName();if(!await this.search(o,!0))throw new Error("Cannot set initial locus")}n&&this.circularView&&this.circularView.setAssembly({name:this.genome.id,id:this.genome.id,chromosomes:jg(this.genome)})}cleanHouseForSession(){for(let e of this.trackViews)e.removeDOMFromColumnContainer();this.columnContainer.querySelectorAll(".igv-axis-column, .igv-column-shim, .igv-column, .igv-sample-name-column, .igv-scrollbar-column, .igv-track-drag-column, .igv-gear-menu-column").forEach((e=>e.remove())),this.trackViews=[],this.circularView&&this.circularView.clearChords()}updateNavbarDOMWithGenome(e){let t=e.id&&e.id.length<10?e.id:"";this.$current_genome.text(t),this.$current_genome.attr("title",e.id||""),this.chromosomeSelectWidget.update(e)}async loadGenome(e){const t=await Rf.expandReference(this.alert,e);await this.loadReference(t,void 0);const i=t.tracks||[];return 0===i.filter((e=>"sequence"===e.type)).length&&i.push({type:"sequence",order:pf}),await this.loadTrackList(i),await this.updateViews(),this.genome}updateUIWithReferenceFrameList(){const e=this.referenceFrameList;this.updateLocusSearchWidget();const t=this.isMultiLocusWholeGenomeView()||Rf.isWholeGenomeView(e[0].chr);this.navbarManager.navbarDidResize(this.$navigation.width(),t),W_(this.trackViews,this.trackLabelsVisible),this.setCenterLineAndCenterLineButtonVisibility(!Rf.isWholeGenomeView(e[0].chr))}setTrackLabelVisibility(e){W_(this.trackViews,e)}setROITableVisibility(e){!0===e?this.roiManager.presentTable():this.roiManager.dismissTable()}setCursorGuideVisibility(e){e?this.cursorGuide.show():this.cursorGuide.hide()}setCustomCursorGuideMouseHandler(e){this.cursorGuide.customMouseHandler=e}setCenterLineVisibility(e){for(let t of this.centerLineList)!0===e?(t.show(),t.repaint()):t.hide()}setCenterLineAndCenterLineButtonVisibility(e){for(let t of this.centerLineList){e&&t.isVisible?t.show():t.container.style.display="none"}e&&this.centerLineButton.isVisible?this.centerLineButton.show():this.centerLineButton.button.style.display="none"}async loadTrackList(e){const t=[];for(let i of e)t.push(this._loadTrack(i));const i=await Promise.all(t);return this.trackViews.filter((function(e){return e.track.autoscaleGroup})).length>0&&this.updateViews(),i}async loadTrack(e){const t=this._loadTrack(e);return e.autoscaleGroup&&(await t,this.updateViews()),t}async _loadTrack(e){$a(e)&&(e=JSON.parse(e));try{const t=await this.createTrack(e);if(void 0===t)return;void 0===t.order&&(t.order=this.trackViews.length);const i=new Dw(this,this.columnContainer,t);if(this.trackViews.push(i),W_(this.trackViews,this.trackLabelsVisible),this.reorderTracks(),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),"function"==typeof t.postInit)try{i.startSpinner(),await t.postInit()}finally{i.stopSpinner()}return t.autoscaleGroup||(e.sync?await i.updateViews():i.updateViews()),"function"==typeof t.hasSamples&&t.hasSamples()&&!1!==this.config.showSampleNameButton&&this.sampleNameControl.show(),t}catch(t){const i={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};console.error(t);let n=t.message||t.error||t.toString();i.hasOwnProperty(n)&&(n=i[n]),n+=": "+e.url,this.alert.present(new Error(n),void 0)}}async loadROI(e){await this.roiManager.loadROI(e,this.genome)}clearROIs(){this.roiManager.clearROIs()}async getUserDefinedROIs(){if(this.roiManager){const e=await this.roiManager.getUserDefinedROISet();if(void 0===e)return[];const t=await e.getAllFeatures(),i=[];for(let e of Object.values(t))i.push(...e);return i}return[]}getRulerTrackView(){const e=this.trackViews.filter((({track:e})=>"ruler"===e.id));return e.length>0?e[0]:void 0}async createTrack(e){let t=await async function(e){return"function"==typeof e?e():e}
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */(e.url||e.fastaURL);if($a(t)&&(t=t.trim()),t)if(e.format)e.format=e.format.toLowerCase();else if(e.fastaURL)e.format="fasta";else{let i=e.filename;i||(i=await Md(t));const n=Wd(i);"tsv"===n?e.format=await Zd(e):n?e.format=n:"htsget"===e.sourceType&&await Tp.inferFormat(e)}let i=e.type?e.type.toLowerCase():void 0;if(!i){if(i=$d(e),"bedtype"===i){const t=pm(e,this.genome);e._featureSource=t;const n=await t.trackType();i=n||"annotation"}e.type=i}if(this.trackDefaults&&i){const t=this.trackDefaults[i];if(t)for(let i in t)t.hasOwnProperty(i)&&void 0===e[i]&&(e[i]=t[i])}const n=e_(i,e,this);if(void 0!==n)return e.roi&&e.roi.length>0&&(n.roiSets=e.roi.map((e=>new O_(e,this.genome)))),n;this.alert.present(new Error(`Error creating track.  Could not determine track type for file: ${e.url||e}`),void 0)}reorderTracks(){this.trackViews.sort((function(e,t){const i=e=>"ideogram"===e.track.id?1:"ruler"===e.track.id?2:3,n=i(e),o=i(t);if(n===o){return(e.track.order||0)-(t.track.order||0)}return n-o}));for(let{axis:e,viewports:t,sampleNameViewport:i,outerScroll:n,dragHandle:o,gearContainer:r}of this.trackViews){e.remove();for(let{$viewport:e}of t)e.detach();i.viewport.remove(),n.remove(),o.remove(),r.remove()}const e=this.columnContainer.querySelectorAll(".igv-column");for(let{axis:t,viewports:i,sampleNameViewport:n,outerScroll:o,dragHandle:r,gearContainer:a}of this.trackViews){this.columnContainer.querySelector(".igv-axis-column").appendChild(t);for(let t=0;t<e.length;t++){const{$viewport:n}=i[t];e[t].appendChild(n.get(0))}this.columnContainer.querySelector(".igv-sample-name-column").appendChild(n.viewport),this.columnContainer.querySelector(".igv-scrollbar-column").appendChild(o),this.columnContainer.querySelector(".igv-track-drag-column").appendChild(r),this.columnContainer.querySelector(".igv-gear-menu-column").appendChild(a)}}getTrackOrder(){return this.trackViews.filter((e=>e.track&&e.track.name)).map((e=>e.track.name))}removeTrackByName(e){const t=this.trackViews.slice();for(let i of t)e===i.track.name&&this.removeTrack(i.track)}removeTrack(e){for(let t of this.trackViews)if(e===t.track){this._removeTrack(t.track);break}}_removeTrack(e){e.disposed||(this.trackViews.splice(this.trackViews.indexOf(e.trackView),1),this.fireEvent("trackremoved",[e]),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),e.trackView&&e.trackView.dispose())}removeAllTracks(){const e=[];for(let t of this.trackViews)"ruler"!==t.track.id&&"ideogram"!==t.track.id?(this.fireEvent("trackremoved",[t.track]),t.dispose()):e.push(t);this.trackViews=e}findTracks(e,t){let i="function"==typeof e?t=>e(t.track):i=>t===i.track[e];return this.trackViews.filter(i).map((e=>e.track))}setTrackHeight(e){this.trackHeight=e,this.trackViews.forEach((function(t){t.setTrackHeight(e)}))}async visibilityChange(){this.layoutChange()}async layoutChange(){if(this.referenceFrameList.find((e=>e.bpPerPixel<0))){const e=this.calculateViewportWidth(this.referenceFrameList.length);for(let t of this.referenceFrameList)t.bpPerPixel=(t.end-t.start)/e}if(this.referenceFrameList){const e=this.isMultiLocusWholeGenomeView()||Rf.isWholeGenomeView(this.referenceFrameList[0].chr);this.navbarManager.navbarDidResize(this.$navigation.width(),e)}U_.call(this),await this.updateViews()}async updateViews(){const e=this.trackViews;this.updateLocusSearchWidget();for(let e of this.centerLineList)e.repaint();if(this.dragObject)for(let t of e)await t.updateViews();else{const o={},r=[];for(let i of e){const e=i.track.autoscaleGroup;if(e){var t=o[e];t||(t=[],o[e]=t),t.push(i)}else r.push(i)}if(Object.entries(o).length>0){const e=Object.keys(o);for(let t of e){const e=o[t],r=[];for(let t of e)r.push(t.getInViewFeatures());const a=await Promise.all(r);var i,n=[];for(let e of a)n=n.concat(e);i=Dd(n);const s=[];for(let t of e)t.track.dataRange=i,t.track.autoscale=!1,s.push(t.updateViews());await Promise.all(s)}}await Promise.all(r.map((e=>e.updateViews())))}}repaintViews(){for(let e of this.trackViews)e.repaintViews()}updateLocusSearchWidget(){if(!this.referenceFrameList)return;const e=this.referenceFrameList,t=this.calculateViewportWidth(this.referenceFrameList.length);for(let i of e)i.end=i.start+i.bpPerPixel*t;this.chromosomeSelectWidget.select.value=1===e.length?this.referenceFrameList[0].chr:"";const i=this.referenceFrameList.map((e=>e.getLocusString())).join(" ");this.$searchInput.val(i),this.fireEvent("locuschange",[this.referenceFrameList])}calculateViewportWidth(e){let{width:t}=this.columnContainer.getBoundingClientRect();return t-=50+this.getSampleNameViewportWidth()+14+12+28,t-=5*(e-1),Math.floor(t/e)}getCenterLineXOffset(){let{width:e}=this.columnContainer.getBoundingClientRect();return e-=50+this.getSampleNameViewportWidth()+14+12+28,Math.floor(e/2+50)}minimumBases(){return this.config.minimumBases}zoomIn(){this.zoomWithScaleFactor(.5)}zoomOut(){this.zoomWithScaleFactor(2)}async zoomWithScaleFactor(e,t,i){if(!this.referenceFrameList)return;const n=this.calculateViewportWidth(this.referenceFrameList.length);let o=i?[i]:this.referenceFrameList;for(let i of o)i.zoomWithScaleFactor(this,e,n,t)}async addMultiLocusPanel(e,t,i,n){if(!this.referenceFrameList)return;const o=this.calculateViewportWidth(1+this.referenceFrameList.length),r=this.calculateViewportWidth(this.referenceFrameList.length)/this.calculateViewportWidth(1+this.referenceFrameList.length);for(let e of this.referenceFrameList)e.bpPerPixel*=r;const a=(i-t)/o,s=new s_(this.genome,e,t,i,a),c=n?this.referenceFrameList.indexOf(n):this.referenceFrameList.length-1,l=1+c,{$viewport:h}=this.trackViews[0].viewports[c],d=C_(h.get(0).parentElement);if(l===this.referenceFrameList.length){this.referenceFrameList.push(s);for(let e of this.trackViews){const t=Cw(e,d,s);e.viewports.push(t)}}else{this.referenceFrameList.splice(l,0,s);for(let e of this.trackViews){const t=Cw(e,d,s);e.viewports.splice(l,0,t)}}this.centerLineList=this.createCenterLineList(this.columnContainer),U_.call(this),await this.updateViews(!0)}async removeMultiLocusPanel(e){const t=this.referenceFrameList.indexOf(e),{$viewport:i}=this.trackViews[0].viewports[t];__(t,i.parent().get(0));for(let{viewports:e}of this.trackViews)e[t].dispose(),e.splice(t,1);if(this.referenceFrameList.splice(t,1),1===this.referenceFrameList.length&&this.getRulerTrackView())for(let e of this.getRulerTrackView().viewports)e.dismissLocusLabel();const n=this.calculateViewportWidth(1+this.referenceFrameList.length)/this.calculateViewportWidth(this.referenceFrameList.length);await this.rescaleForMultiLocus(n)}async gotoMultilocusPanel(e){const t=this.referenceFrameList.indexOf(e);this.columnContainer.querySelectorAll(".igv-column").forEach(((e,i)=>{i===t||e.remove()})),this.columnContainer.querySelectorAll(".igv-column-shim").forEach((e=>e.remove()));for(let e of this.trackViews){const i=e.viewports[t];e.viewports.filter(((e,i)=>i!==t)).forEach((e=>e.dispose())),e.viewports=[i]}const i=this.calculateViewportWidth(1);e.bpPerPixel=(e.end-e.start)/i,this.referenceFrameList=[e],this.trackViews.forEach((({viewports:e})=>e.forEach((e=>e.setWidth(i))))),this.centerLineList=this.createCenterLineList(this.columnContainer),this.updateUIWithReferenceFrameList(),await this.updateViews(!0)}async rescaleForMultiLocus(e){const t=this.calculateViewportWidth(this.referenceFrameList.length);for(let t of this.referenceFrameList)t.bpPerPixel*=e;for(let{viewports:e}of this.trackViews)for(let i of e)i.setWidth(t);this.centerLineList=this.createCenterLineList(this.columnContainer),this.updateUIWithReferenceFrameList(),await this.updateViews()}async goto(e,t,i){await this.search(e+":"+t+"-"+i)}async doSearch(e,t){const i=await this.search(e,t);return i||this.alert.present(new Error(`Unrecognized locus: <b> ${e} </b>`)),i}async search(e,t){const i=await l_(this,e);if(i&&i.length>0){this.referenceFrameList=function(e,t,i,n,o,r){return e.map((e=>{if(i&&e.gene&&(e.start=Math.max(0,e.start-i),e.end+=i),!r){const i=t.getChromosome(e.chr);Ad(i.bpLength,e,n)}const a=new s_(t,e.chr,e.start,e.end,(e.end-e.start)/o);return a.locusSearchString=e.locusSearchString,(e.gene||e.snp)&&(a.selection=new r_(e.gene,e.snp)),a}))}(i,this.genome,this.flanking,this.minimumBases(),this.calculateViewportWidth(i.length),this.isSoftclipped());for(let e of this.trackViews)e.removeDOMFromColumnContainer();this.columnContainer.querySelectorAll(".igv-column-shim, .igv-column").forEach((e=>e.remove())),x_(this.columnContainer.querySelector(".igv-sample-name-column"),this.referenceFrameList.length),this.centerLineList=this.createCenterLineList(this.columnContainer);for(let e of this.trackViews)e.addDOMToColumnContainer(this,this.columnContainer,this.referenceFrameList);return this.updateUIWithReferenceFrameList(),t||await this.updateViews(),!0}return!1}async loadSampleInformation(e){var t=e;Ja(e)&&(t=e.name),"fam"===t.substr(t.lastIndexOf(".")+1)&&(this.sampleInformation=await function(e,t){return(new o_).loadPlinkFile(e,t)}(e))}on(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)}un(e,t){this.off(e,t)}off(e,t){if(e)if(t){const i=this.eventHandlers[e];if(i&&0!==i.length){const n=i.indexOf(t);-1!==n&&this.eventHandlers[e].splice(n,1)}else console.warn("No handlers to remove for event: "+e)}else this.eventHandlers[e]=[];else this.eventHandlers={}}fireEvent(e,t,i){const n=this.eventHandlers[e];if(void 0===n||0===n.length)return;const o=i||window;return n.map((function(e){return e.apply(o,t)}))[0]}dispose(){this.removeMouseHandlers();for(let e of this.trackViews)e.dispose()}toJSON(){const e={version:"2.15.13"};if(void 0!==this.showSampleNames&&(e.showSampleNames=this.showSampleNames),200!==this.sampleNameViewportWidth&&(e.sampleNameViewportWidth=this.sampleNameViewportWidth),e.reference=this.genome.toJSON(),e.reference.fastaURL instanceof File)throw new Error(`Error. Sessions cannot include local file references ${e.reference.fastaURL.name}.`);if(e.reference.indexURL instanceof File)throw new Error(`Error. Sessions cannot include local file references ${e.reference.indexURL.name}.`);const t=[],i={};let n=!1,o=this.trackViews[0];for(let{referenceFrame:e}of o.viewports){const o=e.getLocusString();if(t.push(o),e.selection){const t={gene:e.selection.gene,snp:e.selection.snp};i[o]=t,n=!0}}e.locus=1===t.length?t[0]:t,n&&(e.gtexSelections=i),e.roi=this.roiManager.toJSON();const r=[],a=[];for(let{track:e}of this.trackViews)try{let t;t="function"==typeof e.getState?e.getState():e.config,t&&(t.browser&&delete t.browser,t.order=e.order,r.push(t))}catch(t){console.error(`Track: ${e.name}: ${t}`),a.push(`Track: ${e.name}: ${t}`)}if(a.length>0){let e=1,t="Errors encountered saving session: </br>";for(let i of a)t+=` (${e++}) ${i.toString()} <br/>`;throw Error(t)}return e.tracks=r,e}compressedSession(){return function(e){const t=new Uint8Array(e.length);for(var i=0;i<e.length;i++)t[i]=e.charCodeAt(i);const n=new xh(t),o=String.fromCharCode.apply(null,n);return btoa(o).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(this.toJSON()))}sessionURL(){const e=window.location.href.slice(),t=e.indexOf("?");return(t>0?e.substring(0,t):e)+"?sessionURL=blob:"+this.compressedSession()}mouseDownOnViewport(e,t){var i;i=xr.pageCoordinates(e),this.vpMouseDown={viewport:t,lastMouseX:i.x,mouseDownX:i.x,lastMouseY:i.y,mouseDownY:i.y,referenceFrame:t.referenceFrame}}cancelTrackPan(){const e=this.dragObject;this.dragObject=void 0,this.isScrolling=!1,this.vpMouseDown=void 0,e&&e.viewport.referenceFrame.start!==e.start&&(this.updateViews(),this.fireEvent("trackdragend"))}isTrackPanning(){return this.dragObject}isSoftclipped(){return void 0!==this.trackViews.find((e=>!0===e.track.showSoftClips))}startTrackDrag(e){this.dragTrack=e}updateTrackDrag(e){if(e&&this.dragTrack){const t=this.dragTrack,i=this.trackViews.indexOf(e),n=this.trackViews.indexOf(t),o=this.trackViews;o[i]=t,o[n]=e;const r=this.trackViews[i].track.order;this.trackViews[n].track.order=r;const a=o.length;let s=r;if(i<n)for(let e=i+1;e<a;e++){const t=o[e].track;if(!(t.order<=s))break;t.order=Math.min(Number.MAX_SAFE_INTEGER,s+1),s=t.order}else for(let e=i-1;e>0;e--){const t=o[e].track;if(!(t.order>=s))break;t.order=Math.max(-Number.MAX_SAFE_INTEGER,s-1),s=t.order}this.reorderTracks()}}endTrackDrag(){this.dragTrack?(this.dragTrack=void 0,this.fireEvent("trackorderchanged",[this.getTrackOrder()])):this.dragTrack=void 0}addMouseHandlers(){this.addWindowResizeHandler(),this.addRootMouseUpHandler(),this.addRootMouseLeaveHandler(),this.addColumnContainerEventHandlers()}removeMouseHandlers(){this.removeWindowResizeHandler(),this.removeRootMouseUpHandler(),this.removeRootMouseLeaveHandler(),this.removeColumnContainerEventHandlers()}addWindowResizeHandler(){this.boundWindowResizeHandler=U_.bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)}removeWindowResizeHandler(){window.removeEventListener("resize",this.boundWindowResizeHandler)}addRootMouseUpHandler(){this.boundRootMouseUpHandler=j_.bind(this),this.root.addEventListener("mouseup",this.boundRootMouseUpHandler)}removeRootMouseUpHandler(){this.root.removeEventListener("mouseup",this.boundRootMouseUpHandler)}addRootMouseLeaveHandler(){this.boundRootMouseLeaveHandler=j_.bind(this),this.root.addEventListener("mouseleave",this.boundRootMouseLeaveHandler)}removeRootMouseLeaveHandler(){this.root.removeEventListener("mouseleave",this.boundRootMouseLeaveHandler)}addColumnContainerEventHandlers(){this.boundColumnContainerMouseMoveHandler=V_.bind(this),this.boundColumnContainerTouchMoveHandler=V_.bind(this),this.boundColumnContainerMouseLeaveHandler=j_.bind(this),this.boundColumnContainerMouseUpHandler=j_.bind(this),this.boundColumnContainerTouchEndHandler=j_.bind(this),this.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.addEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.addEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.addEventListener("touchend",this.boundColumnContainerTouchEndHandler)}removeColumnContainerEventHandlers(){this.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.removeEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.removeEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.removeEventListener("touchend",this.boundColumnContainerTouchEndHandler)}static uncompressSession(e){let t;if(e.indexOf("/gzip;base64")>0){t=Rh(e);let i="";for(let e of t)i+=String.fromCharCode(e);return i}return function(e){e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");const t=atob(e),i=[];for(let e=0;e<t.length;e++)i.push(t.charCodeAt(e));const n=Eh(i);let o="";for(let e of n)o+=String.fromCharCode(e);return o}(e.substring(5))}createCircularView(e,t){var i;return t=!0===t,this.circularView=(i=this,new Bg(e,{onChordClick:(e,t,n)=>{const o=e.data,r=o.mate;function a(e){e.chr=i.genome.getChromosomeName(e.refName);let t=!1;for(let n of i.referenceFrameList){const i=mg.fromLocusString(n.getLocusString());if(i.contains(e)){t=!0;break}if(i.overlaps(e)){n.extend(e),t=!0;break}}if(!t){const t=2e3,n=(e.start+e.end)/2;i.addMultiLocusPanel(e.chr,n-t,n+t)}}a(o),a(r)}})),this.circularViewControl=new I_(this.$toggle_button_container.get(0),this),this.circularView.setAssembly({name:this.genome.id,id:this.genome.id,chromosomes:jg(this.genome)}),this.circularViewVisible=t,this.circularView}get circularViewVisible(){return void 0!==this.circularView&&this.circularView.visible}set circularViewVisible(e){this.circularView&&(this.circularView.visible=e,this.circularViewControl.setState(e))}}async function U_(){if(!this.referenceFrameList)return;const e=this.calculateViewportWidth(this.referenceFrameList.length);for(let t of this.referenceFrameList){const i=this.referenceFrameList.indexOf(t),{chr:n,genome:o}=t,{bpLength:r}=o.getChromosome(t.chr),a=t.toBP(e);Rf.isWholeGenomeView(n)||a>r?t.bpPerPixel=r/e:t.end=t.start+t.toBP(e);for(let{viewports:t}of this.trackViews)t[i].setWidth(e)}this.updateUIWithReferenceFrameList(),await this.updateViews(!0)}function V_(e){e.preventDefault();const{x:t,y:i}=xr.pageCoordinates(e);if(this.vpMouseDown){const{viewport:e,referenceFrame:n}=this.vpMouseDown,o=Math.abs(t-this.vpMouseDown.mouseDownX)>Math.abs(i-this.vpMouseDown.mouseDownY);if(!this.dragObject&&!this.isScrolling)if(o)this.vpMouseDown.mouseDownX&&Math.abs(t-this.vpMouseDown.mouseDownX)>this.constants.dragThreshold&&(this.dragObject={viewport:e,start:n.start});else if(this.vpMouseDown.mouseDownY&&Math.abs(i-this.vpMouseDown.mouseDownY)>this.constants.scrollThreshold){this.isScrolling=!0;const t=e.$viewport.height(),i=e.trackView.maxViewportContentHeight();this.vpMouseDown.r=t/i}if(this.dragObject){const i=!this.isSoftclipped();let o=this.vpMouseDown.lastMouseX-t;n.shiftPixels(o,e.$viewport.width(),i)&&this.updateViews(),this.fireEvent("trackdrag")}if(this.isScrolling){const t=this.vpMouseDown.r*(this.vpMouseDown.lastMouseY-i);e.trackView.moveScroller(t)}this.vpMouseDown.lastMouseX=t,this.vpMouseDown.lastMouseY=i}}function j_(e){this.cancelTrackPan(),this.endTrackDrag()}function W_(e,t){for(let{viewports:i}of e)for(let e of i)e.$trackLabel&&(0===i.indexOf(e)&&!0===t?e.$trackLabel.show():e.$trackLabel.hide())}let G_=[];const $_=ad.setApiKey;!function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML='.igv-navbar {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  color: #444;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  line-height: 32px;\n  padding-left: 8px;\n  padding-right: 8px;\n  margin-top: 2px;\n  margin-bottom: 6px;\n  height: 32px;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: #f3f3f3;\n}\n.igv-navbar .igv-navbar-left-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px;\n}\n.igv-navbar .igv-navbar-left-container .igv-logo {\n  width: 34px;\n  height: 32px;\n  margin-right: 8px;\n}\n.igv-navbar .igv-navbar-left-container .igv-current-genome {\n  height: 32px;\n  margin-left: 4px;\n  margin-right: 4px;\n  user-select: none;\n  line-height: 32px;\n  vertical-align: middle;\n  text-align: center;\n}\n.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%;\n}\n.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container {\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n  height: 100%;\n  width: 125px;\n  margin-right: 4px;\n}\n.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container select {\n  display: block;\n  cursor: pointer;\n  width: 100px;\n  height: 75%;\n  outline: none;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n}\n.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 8px;\n  height: 22px;\n}\n.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 210px;\n  height: 22px;\n  line-height: 22px;\n}\n.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container input.igv-search-input {\n  cursor: text;\n  width: 85%;\n  height: 22px;\n  line-height: 22px;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  text-align: left;\n  padding-left: 8px;\n  margin-right: 8px;\n  outline: none;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: white;\n}\n.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container .igv-search-icon-container {\n  cursor: pointer;\n  height: 16px;\n  width: 16px;\n}\n.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-windowsize-panel-container {\n  margin-left: 4px;\n  user-select: none;\n}\n.igv-navbar .igv-navbar-right-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px;\n}\n.igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%;\n}\n.igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container div {\n  margin-left: 0;\n  margin-right: 4px;\n}\n.igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container div:last-child {\n  margin-left: 0;\n  margin-right: 0;\n}\n.igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container-750 {\n  display: none;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget {\n  color: #737373;\n  font-size: 18px;\n  height: 32px;\n  line-height: 32px;\n  margin-left: 8px;\n  user-select: none;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget div {\n  cursor: pointer;\n  margin-left: unset;\n  margin-right: unset;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget div:first-child {\n  height: 24px;\n  width: 24px;\n  margin-left: unset;\n  margin-right: 8px;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget div:last-child {\n  height: 24px;\n  width: 24px;\n  margin-left: 8px;\n  margin-right: unset;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget div:nth-child(even) {\n  display: block;\n  height: fit-content;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget input {\n  display: block;\n  width: 125px;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget svg {\n  display: block;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 {\n  color: #737373;\n  font-size: 18px;\n  height: 32px;\n  line-height: 32px;\n  margin-left: 8px;\n  user-select: none;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div {\n  cursor: pointer;\n  margin-left: unset;\n  margin-right: unset;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:first-child {\n  height: 24px;\n  width: 24px;\n  margin-left: unset;\n  margin-right: 8px;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:last-child {\n  height: 24px;\n  width: 24px;\n  margin-left: 8px;\n  margin-right: unset;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:nth-child(even) {\n  width: 0;\n  height: 0;\n  display: none;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 input {\n  width: 0;\n  height: 0;\n  display: none;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 svg {\n  display: block;\n}\n.igv-navbar .igv-navbar-right-container .igv-zoom-widget-hidden {\n  display: none;\n}\n\n.igv-navbar-button {\n  display: block;\n  box-sizing: unset;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 18px;\n  text-transform: capitalize;\n  user-select: none;\n  line-height: 18px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 11px;\n  font-weight: 200;\n  color: #737373;\n  background-color: #f3f3f3;\n  border-color: #737373;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 6px;\n}\n\n.igv-navbar-button-clicked {\n  color: white;\n  background-color: #737373;\n}\n\n.igv-navbar-button:hover {\n  cursor: pointer;\n}\n\n.igv-zoom-in-notice-container {\n  z-index: 1024;\n  position: absolute;\n  top: 8px;\n  left: 50%;\n  transform: translate(-50%, 0%);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n}\n.igv-zoom-in-notice-container > div {\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-top: 2px;\n  padding-bottom: 2px;\n  width: 100%;\n  height: 100%;\n  font-family: "Open Sans", sans-serif;\n  font-size: 14px;\n  font-weight: 400;\n  color: #3f3f3f;\n}\n\n.igv-zoom-in-notice {\n  position: absolute;\n  top: 10px;\n  left: 50%;\n}\n.igv-zoom-in-notice div {\n  position: relative;\n  left: -50%;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #3f3f3f;\n  background-color: rgba(255, 255, 255, 0.51);\n  z-index: 64;\n}\n\n.igv-container-spinner {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373;\n}\n\n.igv-multi-locus-close-button {\n  position: absolute;\n  top: 2px;\n  right: 0;\n  padding-left: 2px;\n  padding-right: 2px;\n  width: 12px;\n  height: 12px;\n  color: #666666;\n  background-color: white;\n  z-index: 1000;\n}\n.igv-multi-locus-close-button > svg {\n  vertical-align: top;\n}\n\n.igv-multi-locus-close-button:hover {\n  cursor: pointer;\n  color: #434343;\n}\n\n.igv-multi-locus-ruler-label {\n  z-index: 64;\n  position: absolute;\n  top: 2px;\n  left: 0;\n  width: 100%;\n  height: 12px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n}\n.igv-multi-locus-ruler-label > div {\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  color: rgb(16, 16, 16);\n  background-color: white;\n}\n.igv-multi-locus-ruler-label > div {\n  cursor: pointer;\n}\n\n.igv-multi-locus-ruler-label-square-dot {\n  z-index: 64;\n  position: absolute;\n  left: 50%;\n  top: 5%;\n  transform: translate(-50%, 0%);\n  background-color: white;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-multi-locus-ruler-label-square-dot > div:first-child {\n  width: 14px;\n  height: 14px;\n}\n.igv-multi-locus-ruler-label-square-dot > div:last-child {\n  margin-left: 16px;\n  font-family: "Open Sans", sans-serif;\n  font-size: 14px;\n  font-weight: 400;\n  color: rgb(16, 16, 16);\n}\n\n.igv-ruler-sweeper {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 26px;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  z-index: 99999;\n  background-color: rgba(68, 134, 247, 0.25);\n}\n\n.igv-ruler-tooltip {\n  pointer-events: none;\n  z-index: 128;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 32px;\n  background-color: transparent;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-ruler-tooltip > div {\n  pointer-events: none;\n  width: 128px;\n  height: auto;\n  padding: 1px;\n  color: #373737;\n  font-size: 10px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  background-color: white;\n  border-style: solid;\n  border-width: thin;\n  border-color: #373737;\n}\n\n.igv-track-label {\n  position: absolute;\n  left: 8px;\n  top: 8px;\n  width: auto;\n  height: auto;\n  max-width: 50%;\n  padding-left: 4px;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  z-index: 128;\n  cursor: pointer;\n}\n\n.igv-track-label:hover,\n.igv-track-label:focus,\n.igv-track-label:active {\n  background-color: #e8e8e8;\n}\n\n.igv-track-label-popup-shim {\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-top: 4px;\n}\n\n.igv-center-line {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 8;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-left-style: dashed;\n  border-left-width: thin;\n  border-right-style: dashed;\n  border-right-width: thin;\n}\n\n.igv-center-line-wide {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(127, 127, 127, 0.51);\n}\n\n.igv-center-line-thin {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(0, 0, 0, 0);\n}\n\n.igv-cursor-guide-horizontal {\n  display: none;\n  pointer-events: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  height: 1px;\n  z-index: 1;\n  margin-left: 50px;\n  margin-right: 54px;\n  border-top-style: dotted;\n  border-top-width: thin;\n  border-top-color: rgba(127, 127, 127, 0.76);\n}\n\n.igv-cursor-guide-vertical {\n  pointer-events: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 1px;\n  z-index: 1;\n  border-left-style: dotted;\n  border-left-width: thin;\n  border-left-color: rgba(127, 127, 127, 0.76);\n  display: none;\n}\n\n.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-user-feedback div:first-child {\n  position: relative;\n  height: 24px;\n  width: 100%;\n  background-color: white;\n  border-bottom-color: #a2a2a2;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n}\n.igv-user-feedback div:first-child div {\n  position: absolute;\n  top: 2px;\n  width: 16px;\n  height: 16px;\n  background-color: transparent;\n}\n.igv-user-feedback div:first-child div:first-child {\n  left: 8px;\n}\n.igv-user-feedback div:first-child div:last-child {\n  cursor: pointer;\n  right: 8px;\n}\n.igv-user-feedback div:last-child {\n  width: 100%;\n  height: calc(100% - 24px);\n  border-width: 0;\n}\n.igv-user-feedback div:last-child div {\n  width: auto;\n  height: auto;\n  margin: 8px;\n}\n\n.igv-generic-dialog-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-generic-dialog-container .igv-generic-dialog-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n}\n.igv-generic-dialog-container .igv-generic-dialog-header div {\n  margin-right: 4px;\n  margin-bottom: 2px;\n  height: 12px;\n  width: 12px;\n  color: #7F7F7F;\n}\n.igv-generic-dialog-container .igv-generic-dialog-header div:hover {\n  cursor: pointer;\n  color: #444;\n}\n.igv-generic-dialog-container .igv-generic-dialog-one-liner {\n  color: #373737;\n  width: 95%;\n  height: 24px;\n  line-height: 24px;\n  text-align: left;\n  margin-top: 8px;\n  padding-left: 8px;\n  overflow-wrap: break-word;\n  background-color: white;\n}\n.igv-generic-dialog-container .igv-generic-dialog-label-input {\n  margin-top: 8px;\n  width: 95%;\n  height: 24px;\n  color: #373737;\n  line-height: 24px;\n  padding-left: 8px;\n  background-color: white;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-generic-dialog-container .igv-generic-dialog-label-input div {\n  width: 30%;\n  height: 100%;\n  font-size: 16px;\n  text-align: right;\n  padding-right: 8px;\n  background-color: white;\n}\n.igv-generic-dialog-container .igv-generic-dialog-label-input input {\n  display: block;\n  height: 100%;\n  width: 100%;\n  padding-left: 4px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  color: #373737;\n  text-align: left;\n  outline: none;\n  border-style: solid;\n  border-width: thin;\n  border-color: #7F7F7F;\n  background-color: white;\n}\n.igv-generic-dialog-container .igv-generic-dialog-label-input input {\n  width: 50%;\n  font-size: 16px;\n}\n.igv-generic-dialog-container .igv-generic-dialog-input {\n  margin-top: 8px;\n  width: calc(100% - 16px);\n  height: 24px;\n  color: #373737;\n  line-height: 24px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-generic-dialog-container .igv-generic-dialog-input input {\n  display: block;\n  height: 100%;\n  width: 100%;\n  padding-left: 4px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  color: #373737;\n  text-align: left;\n  outline: none;\n  border-style: solid;\n  border-width: thin;\n  border-color: #7F7F7F;\n  background-color: white;\n}\n.igv-generic-dialog-container .igv-generic-dialog-input input {\n  font-size: 16px;\n}\n.igv-generic-dialog-container .igv-generic-dialog-ok-cancel {\n  width: 100%;\n  height: 28px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {\n  margin-top: 32px;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: 14px;\n  font-weight: 400;\n  width: 75px;\n  height: 28px;\n  line-height: 28px;\n  text-align: center;\n  border-color: transparent;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 2px;\n}\n.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {\n  margin-left: 32px;\n  margin-right: 0;\n  background-color: #5ea4e0;\n}\n.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {\n  margin-left: 0;\n  margin-right: 32px;\n  background-color: #c4c4c4;\n}\n.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {\n  cursor: pointer;\n  background-color: #3b5c7f;\n}\n.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {\n  cursor: pointer;\n  background-color: #7f7f7f;\n}\n.igv-generic-dialog-container .igv-generic-dialog-ok {\n  width: 100%;\n  height: 36px;\n  margin-top: 32px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-generic-dialog-container .igv-generic-dialog-ok div {\n  width: 98px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  border-color: white;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 4px;\n  background-color: #2B81AF;\n}\n.igv-generic-dialog-container .igv-generic-dialog-ok div:hover {\n  cursor: pointer;\n  background-color: #25597f;\n}\n\n.igv-generic-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-generic-container div:first-child {\n  cursor: move;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  height: 24px;\n  width: 100%;\n  background-color: #dddddd;\n}\n.igv-generic-container div:first-child i {\n  display: block;\n  color: #5f5f5f;\n  cursor: pointer;\n  width: 14px;\n  height: 14px;\n  margin-right: 8px;\n  margin-bottom: 4px;\n}\n\n.igv-menu-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: max-content;\n  z-index: 4096;\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  text-align: left;\n}\n.igv-menu-popup > div:not(:first-child) {\n  width: 100%;\n}\n.igv-menu-popup > div:not(:first-child) > div {\n  background: white;\n}\n.igv-menu-popup > div:not(:first-child) > div.context-menu {\n  padding-left: 4px;\n  padding-right: 4px;\n}\n.igv-menu-popup > div:not(:first-child) > div:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-bottom-color: transparent;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n}\n.igv-menu-popup > div:not(:first-child) > div:hover {\n  background: #efefef;\n}\n\n.igv-menu-popup-shim {\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-bottom: 1px;\n  padding-top: 1px;\n}\n\n.igv-menu-popup-header {\n  position: relative;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n}\n.igv-menu-popup-header div {\n  margin-right: 4px;\n  height: 12px;\n  width: 12px;\n  color: #7F7F7F;\n}\n.igv-menu-popup-header div:hover {\n  cursor: pointer;\n  color: #444;\n}\n\n.igv-menu-popup-check-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 20px;\n  margin-right: 4px;\n  background-color: transparent;\n}\n.igv-menu-popup-check-container div {\n  padding-top: 2px;\n  padding-left: 8px;\n}\n.igv-menu-popup-check-container div:first-child {\n  position: relative;\n  width: 12px;\n  height: 12px;\n}\n.igv-menu-popup-check-container div:first-child svg {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n}\n\n.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-user-feedback div:first-child {\n  position: relative;\n  height: 24px;\n  width: 100%;\n  background-color: white;\n  border-bottom-color: #a2a2a2;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n}\n.igv-user-feedback div:first-child div {\n  position: absolute;\n  top: 2px;\n  width: 16px;\n  height: 16px;\n  background-color: transparent;\n}\n.igv-user-feedback div:first-child div:first-child {\n  left: 8px;\n}\n.igv-user-feedback div:first-child div:last-child {\n  cursor: pointer;\n  right: 8px;\n}\n.igv-user-feedback div:last-child {\n  width: 100%;\n  height: calc(100% - 24px);\n  border-width: 0;\n}\n.igv-user-feedback div:last-child div {\n  width: auto;\n  height: auto;\n  margin: 8px;\n}\n\n.igv-loading-spinner-container {\n  z-index: 1024;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 32px;\n  height: 32px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n}\n.igv-loading-spinner-container > div {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  border: 4px solid rgba(128, 128, 128, 0.5);\n  border-top-color: rgb(255, 255, 255);\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n}\n\n@keyframes spin {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes spin {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n.igv-roi-menu-next-gen {\n  position: absolute;\n  z-index: 512;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background-color: white;\n  width: 192px;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n.igv-roi-menu-next-gen > div:first-child {\n  height: 24px;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n}\n.igv-roi-menu-next-gen > div:first-child > div {\n  margin-right: 4px;\n  height: 12px;\n  width: 12px;\n  color: #7F7F7F;\n}\n.igv-roi-menu-next-gen > div:first-child > div:hover {\n  cursor: pointer;\n  color: #444;\n}\n.igv-roi-menu-next-gen > div:last-child {\n  background-color: white;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-bottom-color: transparent;\n  border-bottom-style: solid;\n  border-bottom-width: 0;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n  text-align: start;\n  vertical-align: middle;\n}\n.igv-roi-menu-next-gen > div:last-child > div {\n  height: 24px;\n  padding-left: 4px;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  border-bottom-color: #7f7f7f;\n}\n.igv-roi-menu-next-gen > div:last-child > div:not(:first-child):hover {\n  background-color: rgba(127, 127, 127, 0.1);\n}\n.igv-roi-menu-next-gen > div:last-child div:first-child {\n  font-style: italic;\n  text-align: center;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.igv-roi-menu-next-gen > div:last-child > div:last-child {\n  border-bottom-width: 0;\n  border-bottom-color: transparent;\n}\n\n.igv-roi-placeholder {\n  font-style: normal;\n  color: rgba(75, 75, 75, 0.6);\n}\n\n.igv-roi-table {\n  position: absolute;\n  z-index: 1024;\n  width: min-content;\n  max-width: 1600px;\n  border-color: #7f7f7f;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n  cursor: default;\n}\n.igv-roi-table > div {\n  height: 24px;\n  font-size: 14px;\n  text-align: start;\n  vertical-align: middle;\n  line-height: 24px;\n}\n.igv-roi-table > div:first-child {\n  border-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-top-width: 0;\n  border-bottom-color: #7f7f7f;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  cursor: move;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n}\n.igv-roi-table > div:first-child > div:first-child {\n  text-align: center;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  margin-left: 4px;\n  margin-right: 4px;\n  width: calc(100% - 4px - 12px);\n}\n.igv-roi-table > div:first-child > div:last-child {\n  margin-right: 4px;\n  margin-bottom: 2px;\n  height: 12px;\n  width: 12px;\n  color: #7f7f7f;\n}\n.igv-roi-table > div:first-child > div:last-child > svg {\n  display: block;\n}\n.igv-roi-table > div:first-child > div:last-child:hover {\n  cursor: pointer;\n  color: #444;\n}\n.igv-roi-table > .igv-roi-table-description {\n  padding: 4px;\n  margin-left: 4px;\n  word-break: break-all;\n  overflow-y: auto;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  background-color: transparent;\n}\n.igv-roi-table > .igv-roi-table-goto-explainer {\n  margin-top: 5px;\n  margin-left: 4px;\n  color: #7F7F7F;\n  font-style: italic;\n  height: 24px;\n  border-top: solid lightgray;\n  background-color: transparent;\n}\n.igv-roi-table > .igv-roi-table-column-titles {\n  height: 24px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: stretch;\n  align-items: stretch;\n  padding-right: 16px;\n  background-color: white;\n  border-top-color: #7f7f7f;\n  border-top-style: solid;\n  border-top-width: thin;\n  border-bottom-color: #7f7f7f;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n}\n.igv-roi-table > .igv-roi-table-column-titles > div {\n  font-size: 14px;\n  vertical-align: middle;\n  line-height: 24px;\n  text-align: left;\n  margin-left: 4px;\n  height: 24px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-right-color: #7f7f7f;\n  border-right-style: solid;\n  border-right-width: thin;\n}\n.igv-roi-table > .igv-roi-table-column-titles > div:last-child {\n  border-right: unset;\n}\n.igv-roi-table > .igv-roi-table-row-container {\n  overflow: auto;\n  resize: both;\n  max-width: 1600px;\n  height: 360px;\n  background-color: transparent;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n.igv-roi-table > .igv-roi-table-row-container > .igv-roi-table-row {\n  height: 24px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: stretch;\n  align-items: stretch;\n}\n.igv-roi-table > .igv-roi-table-row-container > .igv-roi-table-row > div {\n  font-size: 14px;\n  vertical-align: middle;\n  line-height: 24px;\n  text-align: left;\n  margin-left: 4px;\n  height: 24px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-right-color: transparent;\n  border-right-style: solid;\n  border-right-width: thin;\n}\n.igv-roi-table > .igv-roi-table-row-container > .igv-roi-table-row > div:last-child {\n  border-right: unset;\n}\n.igv-roi-table > .igv-roi-table-row-container > .igv-roi-table-row-hover {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.igv-roi-table > div:last-child {\n  height: 32px;\n  line-height: 32px;\n  border-top-color: #7f7f7f;\n  border-top-style: solid;\n  border-top-width: thin;\n  border-bottom-color: transparent;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-bottom-width: 0;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n\n.igv-roi-table-row-selected {\n  background-color: rgba(0, 0, 0, 0.125);\n}\n\n.igv-roi-table-button {\n  cursor: pointer;\n  height: 20px;\n  user-select: none;\n  line-height: 20px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 13px;\n  font-weight: 400;\n  color: black;\n  padding-left: 6px;\n  padding-right: 6px;\n  background-color: rgb(239, 239, 239);\n  border-color: black;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 3px;\n}\n\n.igv-roi-table-button:hover {\n  font-weight: 400;\n  background-color: rgba(0, 0, 0, 0.13);\n}\n\n.igv-roi-region {\n  z-index: 64;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n  overflow: visible;\n  margin-top: 44px;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n.igv-roi-region > div {\n  position: relative;\n  width: 100%;\n  height: 8px;\n  pointer-events: auto;\n}\n\n.igv-roi-menu {\n  position: absolute;\n  z-index: 1024;\n  width: 144px;\n  border-color: #7f7f7f;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n.igv-roi-menu > div:not(:last-child) {\n  border-bottom-color: rgba(128, 128, 128, 0.5);\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n}\n.igv-roi-menu > div:first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-top-color: transparent;\n  border-top-style: solid;\n  border-top-width: 0;\n}\n.igv-roi-menu > div:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-bottom-color: transparent;\n  border-bottom-style: solid;\n  border-bottom-width: 0;\n}\n\n.igv-roi-menu-row {\n  height: 24px;\n  padding-left: 8px;\n  font-size: small;\n  text-align: start;\n  vertical-align: middle;\n  line-height: 24px;\n  background-color: white;\n}\n\n.igv-roi-menu-row-edit-description {\n  width: -webkit-fill-available;\n  font-size: small;\n  text-align: start;\n  vertical-align: middle;\n  background-color: white;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-bottom: 4px;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: stretch;\n  align-items: stretch;\n}\n.igv-roi-menu-row-edit-description > label {\n  margin-left: 2px;\n  margin-bottom: 0;\n  display: block;\n  width: -webkit-fill-available;\n}\n.igv-roi-menu-row-edit-description > input {\n  display: block;\n  margin-left: 2px;\n  margin-right: 2px;\n  margin-bottom: 1px;\n  width: -webkit-fill-available;\n}\n\n.igv-container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding-top: 4px;\n  user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n}\n\n.igv-viewport {\n  position: relative;\n  margin-top: 5px;\n  line-height: 1;\n  overflow-x: hidden;\n  overflow-y: hidden;\n}\n\n.igv-viewport-content {\n  position: relative;\n  width: 100%;\n}\n.igv-viewport-content > canvas {\n  position: relative;\n  display: block;\n}\n\n.igv-column-container {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n  width: 100%;\n}\n\n.igv-column-shim {\n  width: 1px;\n  margin-left: 2px;\n  margin-right: 2px;\n  background-color: #545453;\n}\n\n.igv-column {\n  position: relative;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n}\n\n.igv-axis-column {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 50px;\n}\n.igv-axis-column > div {\n  margin-top: 5px;\n  width: 100%;\n}\n\n.igv-sample-name-column {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n}\n\n.igv-scrollbar-column {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 14px;\n}\n.igv-scrollbar-column > div {\n  position: relative;\n  margin-top: 5px;\n  width: 14px;\n}\n.igv-scrollbar-column > div > div {\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  left: 2px;\n  width: 8px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: #c4c4c4;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.igv-scrollbar-column > div > div:hover {\n  background-color: #c4c4c4;\n}\n\n.igv-track-drag-column {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 12px;\n  background-color: white;\n}\n.igv-track-drag-column > .igv-track-drag-handle {\n  z-index: 512;\n  position: relative;\n  cursor: pointer;\n  margin-top: 5px;\n  width: 100%;\n  border-style: solid;\n  border-width: 0;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n  background-color: #c4c4c4;\n}\n.igv-track-drag-column .igv-track-drag-handle-hover {\n  background-color: #787878;\n}\n.igv-track-drag-column > .igv-track-drag-shim {\n  position: relative;\n  margin-top: 5px;\n  width: 100%;\n  border-style: solid;\n  border-width: 0;\n}\n\n.igv-gear-menu-column {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 28px;\n}\n.igv-gear-menu-column > div {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 5px;\n  width: 100%;\n  background: white;\n}\n.igv-gear-menu-column > div > div {\n  position: relative;\n  margin-top: 4px;\n  width: 16px;\n  height: 16px;\n  color: #7F7F7F;\n}\n.igv-gear-menu-column > div > div:hover {\n  cursor: pointer;\n  color: #444;\n}\n\n/*# sourceMappingURL=dom.css.map */\n',document.head.append(e)}();const Z_=ad.oauth;var K_={TrackUtils:Xd,IGVGraphics:kd,MenuUtils:Va,DataRangeDialog:Ga,createTrack:async function(e,t){return await q_.prototype.createTrack.call(t,e)},createBrowser:async function(e,t){void 0===t&&(t={}),Rf.KNOWN_GENOMES||await Rf.initializeGenomes(t),function(e){void 0===e.minimumBases&&(e.minimumBases=40);void 0===e.showIdeogram&&(e.showIdeogram=!0);void 0===e.showCircularView&&(e.showCircularView=!1);void 0===e.showCircularViewButton&&(e.showCircularViewButton=!1);void 0===e.showTrackLabelButton&&(e.showTrackLabelButton=!0);void 0===e.showTrackLabels&&(e.showTrackLabels=!0);void 0===e.showROITableButton&&(e.showROITableButton=!1);void 0===e.showROITable&&(e.showROITable=!1);void 0===e.showCursorTrackingGuideButton&&(e.showCursorTrackingGuideButton=!0);void 0===e.showCursorGuide&&(e.showCursorGuide=e.showCursorTrackingGuide||!1);void 0===e.showCenterGuideButton&&(e.showCenterGuideButton=!0);void 0===e.showCenterGuide&&(e.showCenterGuide=!1);void 0===e.showSampleNames&&(e.showSampleNames=!1);void 0===e.showSVGButton&&(e.showSVGButton=!0);void 0===e.showControls&&(e.showControls=!0);void 0===e.showNavigation&&(e.showNavigation=!0);void 0===e.showRuler&&(e.showRuler=!0);void 0===e.flanking&&(e.flanking=1e3);void 0===e.pairsSupported&&(e.pairsSupported=!0);e.tracks||(e.tracks=[])}(t),t.queryParametersSupported&&function(e){var t,i,n,o,r,a,s,c,l;let h,d,f;if(s=window.location.href,r={},t=s.indexOf("?"),i=s.lastIndexOf("#"),t>=0)for(i<0&&(i=s.length),n=t+1;n<i;)(o=s.indexOf("&",n))<0&&(o=i),2===(a=s.substring(n,o).split("=",2)).length?(c=a[0],l=decodeURIComponent(a[1]),"file"===c?h=l.split(","):"index"===c?d=l.split(","):"name"===c?f=l.split(","):"genome"!==c||!l.startsWith("https://")&&!l.startsWith("http://")||l.endsWith(".json")?e[c]=l:e.reference={fastaURL:l,indexURL:l+".fai"},n=o+1):n++;if(h){e.tracks||(e.tracks=[]);for(let t=0;t<h.length;t++){if(h[t].endsWith(".xml")||h[t].endsWith(".json")){e.sessionURL=h[t];break}const i={url:h[t]};d&&d.length>t&&(i.indexURL=d[t]),f&&f.length>t&&(i.name=f[t]),e.tracks.push(i)}}}(t),t.apiKey&&ad.setApiKey(t.apiKey),t.oauthToken&&ad.setOauthToken(t.oauthToken),t.clientId&&!Qh()&&await async function(e){if(!google.accounts.oauth2.initTokenClient)throw new Error("Google accounts token client not loaded (https://accounts.google.com/gsi/client)");if(Qh())throw new Error("Google client is already initialized");const t={client_id:e.client_id||e.clientId,scope:e.scope||"https://www.googleapis.com/auth/userinfo.profile",state:e.state||"igv",error:e=>{throw new Error(e.type)},hint:e.hint,hosted_domain:e.hosted_domain},i=google.accounts.oauth2.initTokenClient(t);google.igv={tokenClient:i,apiKey:e.apiKey}}({clientId:t.clientId,apiKey:t.apiKey,scope:"https://www.googleapis.com/auth/userinfo.profile"});const i=new q_(t,e);return G_.push(i),t.sessionURL?await i.loadSession({url:t.sessionURL}):await i.loadSessionObject(t),i.navbarManager.navbarDidResize(i.$navigation.width()),i},removeBrowser:function(e){e.dispose(),e.root.remove(),G_=G_.filter((t=>t!==e))},removeAllBrowsers:function(){for(let e of G_)e.dispose(),e.root.remove();G_=[]},visibilityChange:async function(){for(let e of G_)await e.visibilityChange()},setGoogleOauthToken:function(e){return ad.setOauthToken(e)},setOauthToken:function(e,t){return ad.setOauthToken(e,t)},oauth:Z_,version:Mf,setApiKey:$_,registerFileFormats:Kd};function X_(e){return Y_("div",e)}function Y_(e,t){const i=document.createElement(e);return t&&(t.class&&i.classList.add(t.class),t.id&&(i.id=t.id),t.style&&tC(i,t.style)),i}function Q_(e){const t=getComputedStyle(e);"none"!==t.display&&(e._initialDisplay=t.display),e.style.display="none"}function J_(e){if("none"===getComputedStyle(e).display){const t=e._initialDisplay||"block";e.style.display=t}}function eC(e){if(e.type.startsWith("touch")){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}function tC(e,t){for(let i of Object.keys(t))e.style[i]=t[i]}var iC=Object.freeze({__proto__:null,applyStyle:tC,create:Y_,div:X_,empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},guid:function(){return("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)},hide:Q_,hideAll:function(e){document.querySelectorAll(e).forEach((e=>{Q_(e)}))},offset:function(e){if(!e.getClientRects().length)return{top:0,left:0};const t=e.getBoundingClientRect(),i=e.ownerDocument.defaultView;return{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}},pageCoordinates:eC,relativeDOMBBox:(e,t)=>{const{x:i,y:n,width:o,height:r}=e.getBoundingClientRect(),{x:a,y:s,width:c,height:l}=t.getBoundingClientRect();return{x:a-i,y:s-n,width:c,height:l}},show:J_,translateMouseCoordinates:function(e,t){const{clientX:i,clientY:n}=e;return((e,{clientX:t,clientY:i})=>{const{left:n,top:o,width:r,height:a}=e.getBoundingClientRect(),s=t-n,c=i-o;return{x:s,y:c,xNormalized:s/r,yNormalized:c/a,width:r,height:a}})(t,{clientX:i,clientY:n})}});class nC{constructor({value:e,label:t,onchange:i}){if(this.elem=X_({class:"igv-ui-generic-dialog-label-input"}),t){const e=X_();e.innerHTML=t,this.elem.appendChild(e)}this.textBox=Y_("input"),e&&(this.textBox.value=e),this.elem.appendChild(this.textBox),i&&this.textBox.addEventListener("change",(e=>i(this.textBox.value)))}get value(){return this.textBox.value}set value(e){this.textBox.value=e}}class oC{constructor(){this.elem=Y_("div",{class:"igv-ui-panel-column"})}add(e){if(e instanceof Node)this.elem.append(e);else if("object"==typeof e)this.elem.append(e.elem);else{const t=X_();t.innerHTML=e,this.elem.append(t)}}}function rC(e,t){return function(e,t){t=t||"currentColor";let i=aC[e];i||(console.error(`No icon named: ${e}`),i=aC.question);const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"viewBox","0 0 "+i[0]+" "+i[1]);const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttributeNS(null,"fill",t),o.setAttributeNS(null,"d",i[4]),n.appendChild(o),n}(e,t)}const aC={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};function sC(e,t){var i=document.createElement("div");e.appendChild(i),i.appendChild(rC("times")),i.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t()}))}var cC=Object.freeze({__proto__:null,attachDialogCloseHandlerWithParent:sC});let lC;function hC(e,t,i){t.addEventListener("mousedown",function(e){e.stopPropagation(),e.preventDefault();const t=dC.bind(this),n=fC.bind(this),o=getComputedStyle(this);lC={constraint:i,dragFunction:t,dragEndFunction:n,screenX:e.screenX,screenY:e.screenY,top:parseInt(o.top.replace("px","")),left:parseInt(o.left.replace("px",""))},document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),document.addEventListener("mouseleave",n),document.addEventListener("mouseexit",n)}.bind(e))}function dC(e){if(!lC)return void console.error("No drag data!");e.stopPropagation(),e.preventDefault();const t=e.screenX-lC.screenX,i=e.screenY-lC.screenY,n=lC.left+t,o=lC.constraint?Math.max(lC.constraint.minY,lC.top+i):lC.top+i;this.style.left=`${n}px`,this.style.top=`${o}px`}function fC(e){if(!lC)return void console.error("No drag data!");e.stopPropagation(),e.preventDefault();const t=lC.dragFunction,i=lC.dragEndFunction;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i),document.removeEventListener("mouseleave",i),document.removeEventListener("mouseexit",i),lC=void 0}class uC{constructor({label:e,content:t,okHandler:i,cancelHandler:n}){const o=()=>{Q_(this.elem),"function"==typeof n&&n(this)};this.elem=X_({class:"igv-ui-generic-dialog-container"});const r=X_({class:"igv-ui-generic-dialog-header"});if(this.elem.appendChild(r),sC(r,o),e){const t=X_({class:"igv-ui-dialog-one-liner"});this.elem.appendChild(t),t.innerHTML=e}t.elem.style.margin="8px",this.elem.appendChild(t.elem);const a=X_({class:"igv-ui-generic-dialog-ok-cancel"});this.elem.appendChild(a),this.ok=X_(),a.appendChild(this.ok),this.ok.textContent="OK",this.cancel=X_(),a.appendChild(this.cancel),this.cancel.textContent="Cancel",this.ok.addEventListener("click",(e=>{Q_(this.elem),"function"==typeof i&&i(this)})),this.cancel.addEventListener("click",o),hC(this.elem,r),this.elem.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation()}))}present(e,t){this.label.textContent=e.label,this.input.value=e.value,this.callback=e.callback;const i=eC(t);this.clampLocation(i.x,i.y),J_(this.elem)}clampLocation(e,t){let i=this.elem.getBoundingClientRect(),n=this.parent.getBoundingClientRect();const o=Math.min(Math.max(t,n.y),n.y+n.height-i.height),r=Math.min(Math.max(e,n.x),n.x+n.width-i.width);this.elem.style.left=r+"px",this.elem.style.top=o+"px"}}class pC{constructor(e,t){const i=new oC;let n;this.minbox=new nC({label:"Minimum",value:"0"}),i.add(this.minbox),this.maxbox=new nC({label:"Maximum",value:"0"}),i.add(this.maxbox),n=t?e=>{t(Number.parseFloat(this.minbox.value),Number.parseFloat(this.maxbox.value))}:e=>{console.log(`Minimum: ${this.minbox.value}`),console.log(`Maximum: ${this.maxbox.value}`)},this.dialog=new uC({content:i,okHandler:n}),this.dialog.elem.style.position="absolute",Q_(this.dialog.elem),e.appendChild(this.dialog.elem)}show({min:e,max:t}){void 0!==e&&(this.minbox.value=e.toString()),void 0!==t&&(this.maxbox.value=t.toString()),J_(this.dialog.elem)}}const mC={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};class gC{constructor(e,t){this.alertProps=Object.assign({shouldFocus:!0,preventScroll:!1},t),this.container=X_({class:"igv-ui-alert-dialog-container"}),e.appendChild(this.container),this.container.setAttribute("tabIndex","-1");const i=X_();this.container.appendChild(i),this.errorHeadline=X_(),i.appendChild(this.errorHeadline),this.errorHeadline.textContent="";let n=X_({class:"igv-ui-alert-dialog-body"});this.container.appendChild(n),this.body=X_({class:"igv-ui-alert-dialog-body-copy"}),n.appendChild(this.body);let o=X_();this.container.appendChild(o),this.ok=X_(),o.appendChild(this.ok),this.ok.textContent="OK";const r=()=>{"function"==typeof this.callback&&(this.callback("OK"),this.callback=void 0),this.body.innerHTML="",Q_(this.container)};this.ok.addEventListener("click",(e=>{e.stopPropagation(),r()})),this.container.addEventListener("keypress",(e=>{e.stopPropagation(),"Enter"===e.key&&r()})),hC(this.container,i),Q_(this.container)}present(e,t){this.errorHeadline.textContent=e.message?"ERROR":"";let i=e.message||e;mC.hasOwnProperty(i)&&(i=mC[i]),this.body.innerHTML=i,this.callback=t,J_(this.container),this.alertProps.shouldFocus&&this.container.focus({preventScroll:this.alertProps.preventScroll})}}let wC;const FC={init(e,t={}){wC=new gC(e,t)},presentAlert(e,t){wC||this.init(document.body),wC.present(e,t)}};class bC{constructor(e){this.parent=e,this.container=X_({class:"igv-ui-generic-dialog-container"}),e.appendChild(this.container);const t=X_({class:"igv-ui-generic-dialog-header"});this.container.appendChild(t),this.label=X_({class:"igv-ui-generic-dialog-one-liner"}),this.container.appendChild(this.label),this.label.text="Unlabeled",this.input_container=X_({class:"igv-ui-generic-dialog-input"}),this.container.appendChild(this.input_container),this.input=document.createElement("input"),this.input_container.appendChild(this.input);const i=X_({class:"igv-ui-generic-dialog-ok-cancel"});this.container.appendChild(i),this.ok=X_(),i.appendChild(this.ok),this.ok.textContent="OK",this.cancel=X_(),i.appendChild(this.cancel),this.cancel.textContent="Cancel",Q_(this.container),this.input.addEventListener("keyup",(e=>{13===e.keyCode&&("function"==typeof this.callback&&(this.callback(this.input.value),this.callback=void 0),this.input.value=void 0,Q_(this.container))})),this.ok.addEventListener("click",(()=>{"function"==typeof this.callback&&(this.callback(this.input.value),this.callback=void 0),this.input.value=void 0,Q_(this.container)}));const n=()=>{this.input.value="",Q_(this.container)};this.cancel.addEventListener("click",n),sC(t,n),hC(this.container,t)}present(e,t){this.label.textContent=e.label,this.input.value=e.value,this.callback=e.callback||e.click,J_(this.container),this.clampLocation(t.clientX,t.clientY)}clampLocation(e,t){const{width:i,height:n}=this.container.getBoundingClientRect(),o=window.innerHeight,r=window.innerWidth,a=Math.min(o-n,t),s=Math.min(r-i,e);this.container.style.left=`${s}px`,this.container.style.top=`${a}px`}}const vC={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"#ffffff",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"};class yC{constructor({parent:e,top:t,left:i,width:n,height:o,border:r,closeHandler:a}){let s=X_({class:"igv-ui-generic-container"});e.appendChild(s),Q_(s),this.container=s,void 0!==t&&(this.container.style.top=`${t}px`),void 0!==i&&(this.container.style.left=`${i}px`),void 0!==n&&(this.container.style.width=`${n}px`),void 0!==o&&(this.container.style.height=`${o}px`),r&&(this.container.style.border=r);const c=X_();this.container.appendChild(c),sC(c,(e=>{Q_(this.container),"function"==typeof a&&a(e)})),hC(this.container,c)}show(){J_(this.container)}hide(){Q_(this.container)}dispose(){this.container.parent&&this.container.parent.removeChild(this.container)}}class _C extends yC{constructor({parent:e,top:t,left:i,width:n,height:o,defaultColors:r,colorHandler:a}){super({parent:e,top:t,left:i,width:n,height:o,border:"1px solid gray"}),CC(this.container,a,r)}}const CC=(e,t,i)=>{const n=Object.values(vC);for(let i of n){const n=X_({class:"igv-ui-color-swatch"});e.appendChild(n),xC(n,i,t)}if(i)for(let n of i){const i=X_({class:"igv-ui-color-swatch"});e.appendChild(i),xC(i,n,t)}},xC=(e,t,i)=>{e.style.backgroundColor=t,e.addEventListener("mouseenter",(i=>e.style.borderColor=t)),e.addEventListener("mouseleave",(t=>e.style.borderColor="white")),e.addEventListener("click",(e=>{e.stopPropagation(),i(t)})),e.addEventListener("touchend",(e=>{e.stopPropagation(),i(t)}))};if("undefined"!=typeof document){function Wk(e){for(let t of document.styleSheets)if(t=t.href?t.href.replace(/^.*[\\\/]/,""):"",t===e)return!0;return!1}Wk("igv-ui.css")||function(){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("title","igv-ui.css"),e.innerHTML='.igv-ui-popover {\n  cursor: default;\n  position: absolute;\n  z-index: 2048;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: 1px;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  background-color: white;\n}\n.igv-ui-popover > div:first-child {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n}\n.igv-ui-popover > div:first-child > div:first-child {\n  margin-left: 4px;\n}\n.igv-ui-popover > div:first-child > div:last-child {\n  margin-right: 4px;\n  height: 12px;\n  width: 12px;\n  color: #7F7F7F;\n}\n.igv-ui-popover > div:first-child > div:last-child:hover {\n  cursor: pointer;\n  color: #444;\n}\n.igv-ui-popover > div:last-child {\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 400px;\n  max-width: 800px;\n  background-color: white;\n}\n.igv-ui-popover > div:last-child > div {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  margin-left: 4px;\n  margin-right: 4px;\n  min-width: 220px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.igv-ui-popover > div:last-child > div > span {\n  font-weight: bolder;\n}\n.igv-ui-popover > div:last-child hr {\n  width: 100%;\n}\n\n.igv-ui-alert-dialog-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  top: 50%;\n  left: 50%;\n  width: 400px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  outline: none;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n}\n.igv-ui-alert-dialog-container > div:first-child {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n}\n.igv-ui-alert-dialog-container > div:first-child div:first-child {\n  padding-left: 8px;\n}\n.igv-ui-alert-dialog-container .igv-ui-alert-dialog-body {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  color: #373737;\n  width: 100%;\n  height: calc(100% - 24px - 64px);\n  overflow-y: scroll;\n}\n.igv-ui-alert-dialog-container .igv-ui-alert-dialog-body .igv-ui-alert-dialog-body-copy {\n  margin: 16px;\n  width: auto;\n  height: auto;\n  overflow-wrap: break-word;\n  word-break: break-word;\n  background-color: white;\n  border: unset;\n}\n.igv-ui-alert-dialog-container > div:last-child {\n  width: 100%;\n  margin-bottom: 10px;\n  background-color: white;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n}\n.igv-ui-alert-dialog-container > div:last-child div {\n  margin: unset;\n  width: 40px;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  border-color: #2B81AF;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 4px;\n  background-color: #2B81AF;\n}\n.igv-ui-alert-dialog-container > div:last-child div:hover {\n  cursor: pointer;\n  border-color: #25597f;\n  background-color: #25597f;\n}\n\n.igv-ui-color-swatch {\n  position: relative;\n  box-sizing: content-box;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px;\n}\n\n.igv-ui-color-swatch:hover {\n  border-color: dimgray;\n}\n\n.igv-ui-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px;\n}\n.igv-ui-colorpicker-menu-close-button i.fa {\n  display: block;\n  margin-left: 4px;\n  margin-right: 4px;\n  color: #5f5f5f;\n}\n.igv-ui-colorpicker-menu-close-button i.fa:hover,\n.igv-ui-colorpicker-menu-close-button i.fa:focus,\n.igv-ui-colorpicker-menu-close-button i.fa:active {\n  cursor: pointer;\n  color: #0f0f0f;\n}\n\n.igv-ui-generic-dialog-container {\n  box-sizing: content-box;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div {\n  margin-right: 4px;\n  margin-bottom: 2px;\n  height: 12px;\n  width: 12px;\n  color: #7F7F7F;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div:hover {\n  cursor: pointer;\n  color: #444;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-one-liner {\n  color: #373737;\n  width: 95%;\n  height: 24px;\n  line-height: 24px;\n  text-align: left;\n  margin-top: 8px;\n  padding-left: 8px;\n  overflow-wrap: break-word;\n  background-color: white;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input {\n  margin-top: 8px;\n  width: 95%;\n  height: 24px;\n  color: #373737;\n  line-height: 24px;\n  padding-left: 8px;\n  background-color: white;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input div {\n  width: 30%;\n  height: 100%;\n  font-size: 16px;\n  text-align: right;\n  padding-right: 8px;\n  background-color: white;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n  display: block;\n  height: 100%;\n  width: 100%;\n  padding-left: 4px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  color: #373737;\n  text-align: left;\n  outline: none;\n  border-style: solid;\n  border-width: thin;\n  border-color: #7F7F7F;\n  background-color: white;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n  width: 50%;\n  font-size: 16px;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input {\n  margin-top: 8px;\n  width: calc(100% - 16px);\n  height: 24px;\n  color: #373737;\n  line-height: 24px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n  display: block;\n  height: 100%;\n  width: 100%;\n  padding-left: 4px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  color: #373737;\n  text-align: left;\n  outline: none;\n  border-style: solid;\n  border-width: thin;\n  border-color: #7F7F7F;\n  background-color: white;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n  font-size: 16px;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel {\n  width: 100%;\n  height: 28px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div {\n  margin-top: 32px;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: 14px;\n  font-weight: 400;\n  width: 75px;\n  height: 28px;\n  line-height: 28px;\n  text-align: center;\n  border-color: transparent;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 2px;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child {\n  margin-left: 32px;\n  margin-right: 0;\n  background-color: #5ea4e0;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child {\n  margin-left: 0;\n  margin-right: 32px;\n  background-color: #c4c4c4;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child:hover {\n  cursor: pointer;\n  background-color: #3b5c7f;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child:hover {\n  cursor: pointer;\n  background-color: #7f7f7f;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok {\n  width: 100%;\n  height: 36px;\n  margin-top: 32px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div {\n  width: 98px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  border-color: white;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 4px;\n  background-color: #2B81AF;\n}\n.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div:hover {\n  cursor: pointer;\n  background-color: #25597f;\n}\n\n.igv-ui-generic-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.igv-ui-generic-container > div:first-child {\n  cursor: move;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  height: 24px;\n  width: 100%;\n  background-color: #dddddd;\n}\n.igv-ui-generic-container > div:first-child > div {\n  display: block;\n  color: #5f5f5f;\n  cursor: pointer;\n  width: 14px;\n  height: 14px;\n  margin-right: 8px;\n  margin-bottom: 4px;\n}\n\n.igv-ui-dialog {\n  z-index: 2048;\n  position: fixed;\n  width: fit-content;\n  height: fit-content;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n}\n.igv-ui-dialog .igv-ui-dialog-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n}\n.igv-ui-dialog .igv-ui-dialog-header div {\n  margin-right: 4px;\n  margin-bottom: 2px;\n  height: 12px;\n  width: 12px;\n  color: #7F7F7F;\n}\n.igv-ui-dialog .igv-ui-dialog-header div:hover {\n  cursor: pointer;\n  color: #444;\n}\n.igv-ui-dialog .igv-ui-dialog-one-liner {\n  width: 95%;\n  height: 24px;\n  line-height: 24px;\n  text-align: left;\n  margin: 8px;\n  overflow-wrap: break-word;\n  background-color: white;\n  font-weight: bold;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel {\n  width: 100%;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div {\n  margin: 16px;\n  margin-top: 32px;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: 14px;\n  font-weight: 400;\n  width: 75px;\n  height: 28px;\n  line-height: 28px;\n  text-align: center;\n  border-color: transparent;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 2px;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child {\n  background-color: #5ea4e0;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child {\n  background-color: #c4c4c4;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child:hover {\n  cursor: pointer;\n  background-color: #3b5c7f;\n}\n.igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child:hover {\n  cursor: pointer;\n  background-color: #7f7f7f;\n}\n.igv-ui-dialog .igv-ui-dialog-ok {\n  width: 100%;\n  height: 36px;\n  margin-top: 32px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n.igv-ui-dialog .igv-ui-dialog-ok div {\n  width: 98px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  border-color: white;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 4px;\n  background-color: #2B81AF;\n}\n.igv-ui-dialog .igv-ui-dialog-ok div:hover {\n  cursor: pointer;\n  background-color: #25597f;\n}\n\n.igv-ui-panel, .igv-ui-panel-row, .igv-ui-panel-column {\n  z-index: 2048;\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n\n.igv-ui-panel-column {\n  display: flex;\n  flex-direction: column;\n}\n\n.igv-ui-panel-row {\n  display: flex;\n  flex-direction: row;\n}\n\n.igv-ui-textbox {\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n\n.igv-ui-table {\n  background-color: white;\n}\n\n.igv-ui-table thead {\n  position: sticky;\n  top: 0;\n}\n\n.igv-ui-table th {\n  text-align: left;\n}\n\n.igv-ui-table td {\n  padding-right: 20px;\n}\n\n.igv-ui-table tr:hover {\n  background-color: lightblue;\n}\n\n/*# sourceMappingURL=igv-ui.css.map */\n',document.head.append(e)}()}function kC(e){if(void 0===e)return;let t=(o(e)||e.google_url?e.name:e).toLowerCase(),i=t.indexOf("?");return i>0&&(t=t.substr(0,i)),t.endsWith(".gz")?t=t.substr(0,t.length-3):(t.endsWith(".txt")||t.endsWith(".tab")||t.endsWith(".bgz"))&&(t=t.substr(0,t.length-4)),i=t.lastIndexOf("."),i<0?t:t.substr(1+i)}const EC={};class NC{constructor(){this.subscribers={},this.stack=[]}subscribe(e,t){var i=this.subscribers[e];null==i&&(i=[],this.subscribers[e]=i),i.push(t)}post(e){const t=e.type;if(this._hold)this.stack.push(e);else{const i=this.subscribers[t];if(i)for(let t of i)"function"==typeof t.receiveEvent?t.receiveEvent(e):"function"==typeof t&&t(e)}}hold(){this._hold=!0}release(){this._hold=!1;for(let e of this.stack)this.post(e);this.stack=[]}}NC.globalBus=new NC;class SC{static DisplayModes={lower:1,upper:2,both:3};constructor(e,t){this.config=e,this.name=e.name,e.color&&function(e){var t=document.createElement("div");return t.style.borderColor=e,""!==t.style.borderColor}(e.color)&&(this.color=this.color=e.color),this.displayMode=e.displayMode,this.isVisible=void 0===e.isVisible||e.isVisible,this.repColor=t.length>0?t[0].color:"black",this.featureMap={},this.featureCount=0;for(let e of t){this.featureCount++;const t=IC(e.chr1,e.chr2);let i=this.featureMap[t];i||(i=[],this.featureMap[t]=i),i.push(e)}}static async loadTrack2D(e,t){const n=await en.loadString(e.url,function(e,t){const i={oauthToken:e.oauthToken,headers:e.headers,withCredentials:e.withCredentials,filename:e.filename};return Object.assign(i,t)}(e)),o=function(e,t,n){if(!e)return null;const o=i(e),r=[],a="\t",s=t?10:6;let c=0;for(let e of o){if(e=e.trim(),e.startsWith("#")||e.startsWith("track")||e.startsWith("browser")||0===e.length)continue;const t=e.split(a);if(t.length<6&&c<=5){5===c?console.error("..."):console.error("Could not parse line: "+e),c++;continue}const i={chr1:n?n.getChromosomeName(t[0]):t[0],x1:parseInt(t[1]),x2:parseInt(t[2]),chr2:n?n.getChromosomeName(t[3]):t[3],y1:parseInt(t[4]),y2:parseInt(t[5])};t.length>s&&(i.color="rgb("+t[s]+")"),Number.isNaN(i.x1)||r.push(i)}return r}(n,function(e){return"string"==typeof e.url?e.url.toLowerCase().indexOf(".bedpe")>0:"string"!=typeof e.name||e.name.toLowerCase().indexOf(".bedpe")>0}(e),t);return new SC(e,o)}getColor(){return this.color||this.repColor}getFeatures(e,t){const i=IC(e,t);return this.featureMap[i]}toJSON(){const e={url:this.config.url};return this.name&&(e.name=this.name),this.color&&(e.color=this.color),this.displayMode&&(e.displayMode=this.displayMode),this.isVisible||(e.isVisible=this.isVisible),e}}function IC(e,t){return e>t?t+"_"+e:e+"_"+t}class zC{constructor(e,t,i){this.browser=e,this.axis=i,this.axisElement=t.querySelector("div[id$='-axis']"),this.canvasElement=t.querySelector("canvas"),this.ctx=this.canvasElement.getContext("2d"),this.ctx.canvas.width=this.axisElement.offsetWidth,this.ctx.canvas.height=this.axisElement.offsetHeight,this.wholeGenomeContainerElement=t.querySelector("div[id$='-axis-whole-genome-container']"),this.setAxisTransform(i),e.eventBus.subscribe("MapLoad",this),e.eventBus.subscribe("UpdateContactMapMousePosition",this)}wholeGenomeLayout(e,t,i,n){const o=e=>{e.addEventListener("click",(()=>{this.browser.parseGotoInput(e.textContent),this.unhighlightWholeChromosome(),this.otherRuler.unhighlightWholeChromosome()})),e.addEventListener("mouseenter",(()=>{r.call(this,e,!0)})),e.addEventListener("mouseleave",(()=>{r.call(this,e,!1)}))},r=(e,t)=>{const i=e.dataset.label;Array.from(this.otherRuler.wholeGenomeContainerElement.children).forEach((n=>{n.dataset.label===i&&(t?(e.classList.add("hic-whole-genome-chromosome-highlight"),n.classList.add("hic-whole-genome-chromosome-highlight")):(e.classList.remove("hic-whole-genome-chromosome-highlight"),n.classList.remove("hic-whole-genome-chromosome-highlight")))}))};let a,s,c,l,h;t.innerHTML="",a=n.chromosomes.filter((e=>"all"!==e.name.toLowerCase())),c=a.reduce(((e,t)=>e+t.size),0),s="x"===i?e.offsetWidth:e.offsetHeight,l=0,this.bboxes=[],h=void 0;for(const e of a){const n=e.bpLength/c;if(n*s<1)l+=n;else{const r=document.createElement("div");r.className=`${this.axis}-axis-whole-genome-chromosome-container`,r.dataset.label=e.name,t.appendChild(r),h||(h=r);const a=Math.round(n*s);"x"===i?r.style.width=`${a}px`:r.style.height=`${a}px`;const c=document.createElement("div");r.appendChild(c);const l=document.createElement("div");c.appendChild(l),l.textContent=r.dataset.label,l.title=r.dataset.label,o(r)}}if(l=Math.floor(l*s),l>=1){const e=document.createElement("div");t.appendChild(e),e.className=`${this.axis}-axis-whole-genome-chromosome-container`,e.dataset.label="-",e.style.width=`${l}px`,o(e)}for(const e of t.children)this.bboxes.push(AC(i,e,h));this.hideWholeGenome()}hideWholeGenome(){this.wholeGenomeContainerElement.style.display="none",this.canvasElement.style.display="block"}showWholeGenome(){this.canvasElement.style.display="none",this.wholeGenomeContainerElement.style.display="flex"}setAxisTransform(e){this.canvasTransform="y"===e?TC:LC,this.labelTransform="y"===e?RC:BC}unhighlightWholeChromosome(){for(const e of this.wholeGenomeContainerElement.children)e.classList.remove("hic-whole-genome-chromosome-highlight")}receiveEvent(e){let t,i;"MapLoad"===e.type?(this.wholeGenomeLayout(this.axisElement,this.wholeGenomeContainerElement,this.axis,e.data),this.update()):"UpdateContactMapMousePosition"===e.type&&this.bboxes&&(this.unhighlightWholeChromosome(),t="x"===this.axis?e.data.x:e.data.y,i=function(e,t){let i;for(const n of e)if(t>=n.a&&t<=n.b){i=n.element;break}return i}(this.bboxes,t),i&&i.classList.add("hic-whole-genome-chromosome-highlight"))}locusChange(e){this.update()}updateWidthWithCalculation(e){this.axisElement.style.width=e;const t=this.axisElement.offsetWidth;this.canvasElement.width=t,this.canvasElement.setAttribute("width",t),this.wholeGenomeLayout(this.axisElement,this.wholeGenomeContainerElement,this.axis,this.browser.dataset),this.update()}updateHeight(e){this.canvasElement.height=e,this.canvasElement.setAttribute("height",e),this.wholeGenomeLayout(this.axisElement,this.wholeGenomeContainerElement,this.axis,this.browser.dataset),this.update()}update(){const e=this.browser,t={};if(e.dataset.isWholeGenome(e.state.chr1))return void this.showWholeGenome();this.hideWholeGenome(),LC(this.ctx),K_.IGVGraphics.fillRect(this.ctx,0,0,this.canvasElement.width,this.canvasElement.height,{fillStyle:Hi.rgbColor(255,255,255)}),this.canvasTransform(this.ctx);const i="x"===this.axis?this.canvasElement.width:this.canvasElement.height,n="x"===this.axis?this.canvasElement.height:this.canvasElement.width;K_.IGVGraphics.fillRect(this.ctx,0,0,i,n,{fillStyle:Hi.rgbColor(255,255,255)}),t.bpPerPixel=e.dataset.bpResolutions[e.state.zoom]/e.state.pixelSize;const o="x"===this.axis?e.state.x:e.state.y;t.bpStart=o*e.dataset.bpResolutions[e.state.zoom],t.rulerTickMarkReferencePixels=Math.max(this.canvasElement.width,this.canvasElement.height,this.otherRulerCanvas.width,this.otherRulerCanvas.height),t.rulerLengthPixels=i,t.rulerHeightPixels=n,t.height=Math.min(this.canvasElement.width,this.canvasElement.height),this.draw(t)}draw(e){const{rulerLengthPixels:t,rulerHeightPixels:i,rulerTickMarkReferencePixels:n,bpPerPixel:o,bpStart:r,chrName:a}=e,{chromosomes:s}=this.browser.dataset,{state:c}=this.browser,l="x"===this.axis?s[c.chr1]:s[c.chr2],{name:h,size:d}=l;if("all"!==a){K_.IGVGraphics.fillRect(this.ctx,0,0,t,i,{fillStyle:Hi.rgbColor(255,255,255)});const a={textAlign:"center",font:"9px PT Sans",fillStyle:"rgba(64, 64, 64, 1)",strokeStyle:"rgba(64, 64, 64, 1)"},s=function(e){if(e<10)return new MC(1,"",1);var t=Math.floor(o(e)),i="",n=1;t>9&&(i="gb",n=1e9);t>6?(i="mb",n=1e6):t>3&&(i="kb",n=1e3);return e/Math.pow(10,t-1)<25?new MC(Math.pow(10,t-1),i,n):new MC(Math.pow(10,t)/2,i,n);function o(e){var t=Math.log(10);return Math.log(e)/t}}(Math.floor(n*o)),c=s.majorTick;let l=Math.floor(r/c)-1,h=0,f=0;K_.IGVGraphics.setProperties(this.ctx,a),this.ctx.lineWidth=1;const u=1,p=8;for(;h<t;){const t=Math.floor(l*c);h=Math.round((t-1-r+.5)/o);const i=`${DC(t/s.unitMultiplier,0)} ${s.majorUnit}`,n=Math.abs(h-f);l%(this.ctx.measureText(i).width>n?n<32?4:2:1)==0&&Math.floor(h*o+r)<d&&(this.ctx.save(),this.labelTransform(this.ctx,h),K_.IGVGraphics.fillText(this.ctx,i,h,e.height-p/.75),this.ctx.restore()),Math.floor(h*o+r)<d&&K_.IGVGraphics.strokeLine(this.ctx,h,e.height-p,h,e.height-u),f=h,l++}K_.IGVGraphics.strokeLine(this.ctx,0,e.height-u,t,e.height-u)}}}const DC=(e,t=0)=>{const i=Math.min(Math.max(t,0),3),n=Math.abs(e).toFixed(i);let[o,r]=n.split(".");o=parseInt(o,10).toLocaleString(),i>0&&(r=r.padEnd(i,"0"));let a=i>0?`${o}.${r}`:o;return e<0&&(a=`(${a})`),a};function AC(e,t,i){const n=("x"===e?t.getBoundingClientRect().left:t.getBoundingClientRect().top)-("x"===e?i.getBoundingClientRect().left:i.getBoundingClientRect().top);return{element:t,a:n,b:n+("x"===e?t.offsetWidth:t.offsetHeight)}}function MC(e,t,i){this.majorTick=e,this.majorUnit=t,this.unitMultiplier=i}function TC(e){e.setTransform(0,1,1,0,0,0)}function RC(e,t){e.translate(t,0),e.scale(-1,1),e.translate(-t,0)}function LC(e){e.setTransform(1,0,0,1,0,0)}function BC(e){}const HC=(e,t)=>{const i=document.createElement("div");i.className="jb-igv-menu-popup-check-container";const n=document.createElement("div");i.appendChild(n);const o=OC("check",!0===t?"#444":"transparent");n.appendChild(o);const r=document.createElement("div");return r.textContent=e,i.appendChild(r),i};const OC=(e,t="currentColor")=>{const i=PC[e]??PC.question;PC[e]||console.error(`No icon named: ${e}`);const[n,o,,,r]=i,a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg");s.setAttribute("viewBox",`0 0 ${n} ${o}`),s.setAttribute("xmlns",a),s.setAttribute("aria-label",`${e} icon`),s.setAttribute("role","img");const c=document.createElementNS(a,"path");return c.setAttribute("fill",t),c.setAttribute("d",r),s.appendChild(c),s},PC={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]},qC={trackMenuItemList:e=>{const t=[];return t.push(function(e){const t=document.createElement("div");t.textContent="Set track name";const i=t=>{const i=t=>{let i;i=""===t||void 0===t?"":t.trim(),e.track.name=i},n=e.track.name||"";e.browser.inputDialog.present({label:"Track Name",value:n,callback:i},t)};return{element:t,click:i}}(e)),t.push("<hr/>"),t.push(function({trackPair:e,label:t,option:i}){const n=document.createElement("div");n.textContent=t;const o=()=>e.colorPicker.show();return{element:n,click:o}}({trackPair:e,label:"Set color",option:"color"})),t.push(function({trackPair:e,label:t}){const i=document.createElement("div");i.textContent=t;const n=()=>{e.track.color=void 0,e.repaintViews()};return{element:i,click:n}}({trackPair:e,label:"Unset color"})),!1!==e.track.removable&&(t.push("<hr/>"),t.push(function(e){const t=document.createElement("div");t.textContent="Remove track";const i=()=>e.browser.layoutController.removeTrackXYPair(e);return{element:t,click:i}}(e))),t},numericDataMenuItems:e=>{const t=[],i=document.createElement("div");i.textContent="Set data range";return t.push({element:i,click:()=>{const{min:t,max:i}=e.track.dataRange;e.dataRangeDialog.show({min:t||0,max:i})}}),void 0!==e.track.logScale&&t.push({element:HC("Log scale",e.track.logScale),click:()=>{e.track.logScale=!e.track.logScale,e.repaintViews()}}),t.push({element:HC("Autoscale",e.track.autoscale),click:()=>{e.track.autoscale=!e.track.autoscale,e.repaintViews()}}),t},nucleotideColorChartMenuItems:e=>{const t=[];t.push(document.createElement("hr"));const i=document.createElement("div");i.className="jb-igv-menu-popup-chart",i.innerHTML="\n        <div>A</div>\n        <div>C</div>\n        <div>T</div>\n        <div>G</div>\n    ";return t.push({element:i,click:e=>{e.preventDefault(),e.stopPropagation()}}),t}};class UC{constructor(e){this.popoverElement=document.createElement("div"),this.popoverElement.className="jb-igv-menu-popup",e.appendChild(this.popoverElement);const t=document.createElement("div");t.className="jb-igv-menu-popup-header",this.popoverElement.appendChild(t),cC.attachDialogCloseHandlerWithParent(t,(()=>{this.popoverElement.style.display="none"})),this.popoverContentElement=document.createElement("div"),this.popoverElement.appendChild(this.popoverContentElement),hC(this.popoverElement,t),t.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault()}))}presentMenuList(e,t,i){if(UC.hideAllMenuPopups(),i.length>0){this.popoverContentElement.innerHTML="";const n=function(e,t){let i=[];e.length>0&&(i=e.map(((e,i)=>{let n;if(e.name)n=document.createElement("div"),n.textContent=e.name;else if(e.element)n=e.element instanceof HTMLElement?e.element.cloneNode(!0):e.element;else if("string"==typeof e.label)n=document.createElement("div"),n.innerHTML=e.label;else if("string"==typeof e)if(e.startsWith("<")){const t=document.createElement("div");t.innerHTML=e,n=t.firstElementChild}else n=document.createElement("div"),n.textContent=e;if(0===i&&n&&n.classList.add("igv-track-menu-border-top"),e.click&&n){const i=i=>{i.preventDefault(),i.stopPropagation(),e.click(i),t.style.display="none"};n.addEventListener("click",i),n.addEventListener("touchend",i),n.addEventListener("mouseup",(e=>{e.preventDefault(),e.stopPropagation()}))}return{element:n,init:e.init||void 0}})));return i}(i,this.popoverElement);for(const e of n)e.init&&e.init(),0===n.indexOf(e)&&e.element.classList.remove("igv-track-menu-border-top"),e.element.classList.contains("igv-track-menu-border-top")||e.element.classList.contains("jb-igv-menu-popup-check-container")||"DIV"!==e.element.tagName||e.element.classList.add("jb-igv-menu-popup-shim"),this.popoverContentElement.appendChild(e.element);this.popoverElement.style.left=`${e}px`,this.popoverElement.style.top=`${t}px`,this.popoverElement.style.display="block"}}dispose(){this.popoverElement.innerHTML="",this.popoverContentElement.innerHTML="";for(let e of Object.keys(this))this[e]=void 0}static hideAllMenuPopups(){const e=document.querySelectorAll(".jb-igv-menu-popup");for(let t of e)t.style.display="none"}}class VC{constructor(e,t,i,n,o,r){this.chr=e,this.startBP=t,this.endBP=i,this.bpp=n,this.buffer=o,this.features=r}containsRange(e,t,i,n){return e===this.chr&&this.bpp===n&&this.startBP<=t&&this.endBP>=i}}class jC{constructor(e,t){this.browser=e,this.track=t,this.x=void 0,this.y=void 0}init(){this.colorPicker=new _C({parent:this.x.viewportElement,width:456,height:void 0,colorHandler:e=>this.setColor(e)}),this.colorPicker.hide(),this.dataRangeDialog=new pC(this.x.viewportElement,((e,t)=>this.setDataRange(e,t))),this.appendRightHandGutter(this.x.viewportElement);for(const e of this.x.trackReorderHandleElement.querySelectorAll(".fa"))e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const t=e.target.classList.contains("fa-arrow-up")?-1:1;let i=parseInt(this.x.viewportElement.style.order);if(0===i&&-1===t)return;if(this.browser.trackPairs.length-1===i&&1===t)return;const n=-1===t?i-1:i+1,o=this.browser.trackPairs.find((e=>n===parseInt(e.x.viewportElement.style.order)));o&&(o.x.viewportElement.style.order=`${i}`,o.y.viewportElement.style.order=`${i}`),this.x.viewportElement.style.order=`${n}`,this.y.viewportElement.style.order=`${n}`;const r=this.browser.trackPairs;[r[i],r[n]]=[r[n],r[i]],WC(this.browser.trackPairs)}));this.track.trackView=this,this.track.trackView.trackDiv=this.x.viewportElement}presentColorPicker(){const e=this.x.trackDiv.getBoundingClientRect();this.colorPicker.origin={x:e.x,y:0},this.colorPicker.containerElement.style.left=`${this.colorPicker.origin.x}px`,this.colorPicker.containerElement.style.top=`${this.colorPicker.origin.y}px`,this.colorPicker.containerElement.style.display="block"}setTrackLabelName(e){this.x.labelElement.textContent=e,this.x.labelElement.title=e}setColor(e){this.y.tile=void 0,this.x.tile=void 0,this.track.color=e,this.repaintViews()}dataRange(){return this.track.dataRange?this.track.dataRange:void 0}setDataRange(e,t){void 0!==e&&(this.track.dataRange.min=e,this.track.config.min=e),void 0!==t&&(this.track.dataRange.max=t,this.track.config.max=t),this.track.autoscale=!1,this.track.config.autoScale=!1,this.y.tile=void 0,this.x.tile=void 0,this.repaintViews()}appendRightHandGutter(e){const t=document.createElement("div");t.className="hic-igv-right-hand-gutter",e.appendChild(t),this.createTrackGearPopup(t)}createTrackGearPopup(e){const t=document.createElement("div");t.className="igv-trackgear-container",e.appendChild(t),t.appendChild(function(e,t){return OC(e,t)}("cog")),this.trackGearPopup=new UC(e),this.trackGearPopup.popoverElement.style.display="none",t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const{trackMenuItemList:t,numericDataMenuItems:i,nucleotideColorChartMenuItems:n}=qC,o=[...t(this)];"wig"===this.track.type&&o.push(...i(this)),"sequence"===this.track.type&&o.push(...n(this));const r=this.trackGearPopup.popoverElement.getBoundingClientRect().width;this.trackGearPopup.presentMenuList(-r,0,o)}))}async updateViews(){if(this.updating)this.pending=!0;else try{this.updating=!0;const e=this.browser.genomicState(this.x.axis);let t=await this.getTileX(e);t&&this.x.drawTile(t,e);const i=this.browser.genomicState(this.y.axis);let n=await this.getTileY(i);n&&this.y.drawTile(n,i)}finally{this.updating=!1,this.pending&&(this.pending=!1,this.updateViews())}}async repaintViews(){const e=this.browser.genomicState(this.x.axis);this.tileX&&(this.tileX=await this.createImageTile({axis:"x",...e},this.tileX.features),this.x.drawTile(this.tileX,e));const t=this.browser.genomicState(this.y.axis);this.tileY&&(this.tileY=await this.createImageTile({axis:"y",...t},this.tileY.features),this.y.drawTile(this.tileY,t))}async getTileX(e){const{chromosome:t,bpp:i}=e;return this.tileX&&this.tileX.containsRange(t.name,e.startBP,e.endBP,i)||(this.tileX=await this.createImageTile({axis:"x",...e})),this.tileX}async getTileY(e){const{chromosome:t,bpp:i}=e;return this.tileY&&this.tileY.containsRange(t.name,e.startBP,e.endBP,i)||(this.tileY=await this.createImageTile({axis:"y",...e})),this.tileY}async createImageTile(e,t){if(!(this.track.visibilityWindow>0&&e.bpp*Math.max(this.x.canvasElement.width,this.x.canvasElement.height)>this.track.visibilityWindow)){const i=3*this.x.canvasElement.width,n=Math.round(e.bpp*i),o=Math.max(0,Math.round(e.startBP-n/3)),r=o+n,a=t||await this.track.getFeatures(e.chromosome.name,o,r,e.bpp),s=document.createElement("canvas");s.width=i,s.height=this.x.canvasElement.height;const c=s.getContext("2d");if(a){const t={axis:e.axis,features:a,context:c,pixelWidth:i,bpStart:o,bpEnd:r,bpPerPixel:e.bpp,genomicState:e,pixelHeight:Math.min(s.width,s.height),viewportContainerX:(e.startBP-o)/e.bpp,viewportContainerWidth:i,viewportWidth:i,referenceFrame:{}};!this.track.autoscale&&this.track.dataRange||("function"==typeof this.track.doAutoscale?this.track.doAutoscale(a):this.track.dataRange=function(e=[]){let t=Number.MAX_VALUE,i=-Number.MAX_VALUE;if(e.length>0){for(const{value:n}of e)Number.isNaN(n)||(t=Math.min(t,n),i=Math.max(i,n));i>0&&(t=Math.min(0,t)),i<0&&(i=0)}else t=0,i=100;return{min:t,max:i}}(a)),this.track.draw(t)}else{const e=s.height-s.height/4;K_.IGVGraphics.fillRect(c,0,e,s.width,2,{fillStyle:"rgba(0,0,0,0.1)"})}return this.tile=new VC(e.chromosome.name,o,r,e.bpp,s,a),this.tile}}dispose(){this.x.dispose(),this.y.dispose()}}function WC(e){for(const t of e){const i=t.x.viewportElement,n=parseInt(i.style.order),o=i.querySelector(".fa-arrow-up"),r=i.querySelector(".fa-arrow-down");0===n?(o.style.color="rgba(0, 0, 0, 0)",r.style.color="#7F7F7F"):n===e.length-1?(o.style.color="#7F7F7F",r.style.color="rgba(0, 0, 0, 0)"):(o.style.color="#7F7F7F",r.style.color="#7F7F7F")}}class GC{constructor(e,t,i){this.browser=e,this.track=t,this.axis=i,this.id=`trackRender_${iC.guid()}`}init(e,t,i){if(this.viewportElement=document.createElement("div"),this.viewportElement.className="x"===this.axis?"x-track-canvas-container":"y-track-canvas-container",e.appendChild(this.viewportElement),"x"===this.axis?this.viewportElement.style.height=`${t}px`:this.viewportElement.style.width=`${t}px`,this.viewportElement.style.order=`${i}`,this.canvasElement=document.createElement("canvas"),this.viewportElement.appendChild(this.canvasElement),this.ctx=this.canvasElement.getContext("2d"),"x"===this.axis){this.trackReorderHandleElement=document.createElement("div"),this.trackReorderHandleElement.className="x-track-reorder-handle",this.viewportElement.appendChild(this.trackReorderHandleElement),this.trackReorderHandleElement.innerHTML='<i class="fa fa-arrow-up"></i><i class="fa fa-arrow-down"></i>',this.labelElement=document.createElement("div"),this.labelElement.className="x-track-label",this.viewportElement.appendChild(this.labelElement);const e=this.track.name||"";this.labelElement.textContent=e,this.labelElement.title=e,this.labelElement.style.display=this.browser.showTrackLabelAndGutter?"block":"none",this.viewportElement.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.browser.toggleTrackLabelAndGutterState();const t=this.browser.showTrackLabelAndGutter?"block":"none";document.querySelectorAll(".x-track-label, .hic-igv-right-hand-gutter").forEach((e=>{e.style.display=t}))}))}this.spinnerElement=document.createElement("div"),this.spinnerElement.className="x"===this.axis?"x-track-spinner":"y-track-spinner",this.viewportElement.appendChild(this.spinnerElement),this.stopSpinner()}dispose(){this.tile=void 0,this.viewportElement.remove()}syncCanvas(){this.canvasElement.width=this.viewportElement.offsetWidth,this.canvasElement.height=this.viewportElement.offsetHeight}drawTile(e,t){if(e){let i,n;"x"===this.axis?(i=this.canvasElement.width,n=this.canvasElement.height):(n=this.canvasElement.width,i=this.canvasElement.height,this.ctx.setTransform(0,1,1,0,0,0)),this.ctx.clearRect(0,0,i,n),this.offsetPixel=Math.round((e.startBP-t.startBP)/t.bpp),this.ctx.drawImage(e.buffer,this.offsetPixel,0)}}startSpinner(){this.browser.startSpinner()}stopSpinner(){this.browser.stopSpinner()}isLoading(){return void 0!==this.loading}}function $C(e,t,i){return{type:e,data:t||{},propogate:void 0===i||i}}function ZC(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstElementChild}function KC(e){const t=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(!t)throw new Error("Invalid RGB string format");return t.slice(1,4).map(Number)}const XC=20,YC=40;class QC{constructor(e,t){this.browser=e,function(e,t){const i=document.createElement("div");i.className="hic-navbar-container",t.appendChild(i),i.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),mk(e)}));const n=`<div id="${e.id}-contact-map-hic-nav-bar-map-container">\n            <div id="${e.id}-contact-map-hic-nav-bar-map-label"></div>\n             <div class="hic-nav-bar-button-container">\n                <i class="fa fa-bars fa-lg" title="Present menu"></i>\n                <i class="fa fa-minus-circle fa-lg" title="Delete browser panel" style="display: none;"></i>\n             </div>\n        </div>`;i.appendChild(ZC(n)),e.contactMapLabel=i.querySelector("div[id$='contact-map-hic-nav-bar-map-label']"),e.menuPresentDismiss=i.querySelector(".fa-bars"),e.menuPresentDismiss.addEventListener("click",(t=>e.toggleMenu())),e.browserPanelDeleteButton=i.querySelector(".fa-minus-circle"),e.browserPanelDeleteButton.addEventListener("click",(t=>function(e){e.unsyncSelf(),e.rootElement.remove(),pk=pk.filter((t=>t!==e)),pk.length<=1&&pk.forEach((e=>e.browserPanelDeleteButton.style.display="none"))}(e))),e.browserPanelDeleteButton.style.display="none";const o=`<div id="${e.id}-control-map-hic-nav-bar-map-container">\n            <div id="${e.id}-control-map-hic-nav-bar-map-label"></div>\n        </div>`;i.appendChild(ZC(o)),e.controlMapLabel=i.querySelector("div[id$='control-map-hic-nav-bar-map-label']");const r=`<div id="${e.id}-upper-hic-nav-bar-widget-container"></div>`;i.appendChild(ZC(r));const a=`<div id="${e.id}-lower-hic-nav-bar-widget-container"></div>`;i.appendChild(ZC(a))}(e,t),this.createAllContainers(e,t)}createAllContainers(e,t){const i=ZC(`\n        <div id="${e.id}-x-track-container">\n            <div id="${e.id}-track-shim"></div>\n            <div id="${e.id}-x-tracks">\n                <div id="${e.id}-y-track-guide" style="display: none;"></div>\n            </div>\n        </div>`);t.appendChild(i),this.xTrackContainer=t.querySelector("div[id$='x-track-container']"),this.trackShim=this.xTrackContainer.querySelector("div[id$='track-shim']"),this.xTracks=this.xTrackContainer.querySelector("div[id$='x-tracks']"),this.yTrackGuideElement=this.xTrackContainer.querySelector("div[id$='y-track-guide']"),this.contentContainer=ZC(`<div id="${e.id}-content-container"></div>`),t.appendChild(this.contentContainer);const n=ZC(`\n        <div id="${e.id}-x-axis-container">\n            <div id="${e.id}-x-axis">\n                <canvas></canvas>\n                <div id="${e.id}-x-axis-whole-genome-container"></div>\n            </div>\n        </div>`);this.contentContainer.appendChild(n);const o=this.contentContainer.querySelector("div[id$='x-axis-container']");this.xAxisRuler=new zC(e,o,"x");const r=ZC(`\n        <div id="${e.id}-y-tracks-y-axis-viewport-y-scrollbar">\n            <div id="${e.id}-y-tracks">\n                <div id="${e.id}-x-track-guide" style="display: none;"></div>\n            </div>\n            <div id="${e.id}-y-axis">\n                <canvas></canvas>\n                <div id="${e.id}-y-axis-whole-genome-container"></div>\n            </div>\n        </div>`);this.contentContainer.appendChild(r);const a=this.contentContainer.querySelector("div[id$='-y-tracks-y-axis-viewport-y-scrollbar']");this.yTracks=a.querySelector("div[id$='-y-tracks']"),this.xTrackGuideElement=this.yTracks.querySelector("div[id$='-x-track-guide']"),this.yAxisRuler=new zC(e,a,"y"),this.xAxisRuler.otherRulerCanvas=this.yAxisRuler.canvasElement,this.xAxisRuler.otherRuler=this.yAxisRuler,this.yAxisRuler.otherRulerCanvas=this.xAxisRuler.canvasElement,this.yAxisRuler.otherRuler=this.xAxisRuler;const s=ZC(`\n        <div id="${e.id}-viewport">\n            <canvas></canvas>\n            <i class="fa fa-spinner fa-spin" style="font-size: 48px; position: absolute; left: 40%; top: 40%; display: none;"></i>\n            <div id="${e.id}-sweep-zoom-container" style="display: none;"></div>\n            <div id="${e.id}-x-guide" style="display: none;"></div>\n            <div id="${e.id}-y-guide" style="display: none;"></div>\n        </div>`);a.appendChild(s);const c=ZC(`\n        <div id="${e.id}-y-axis-scrollbar-container">\n            <div id="${e.id}-y-axis-scrollbar">\n                <div class="scrollbar-label-rotation-in-place"></div>\n            </div>\n        </div>`);a.appendChild(c);const l=ZC(`\n        <div id="${e.id}-x-scrollbar-container">\n            <div id="${e.id}-x-axis-scrollbar-container">\n                <div id="${e.id}-x-axis-scrollbar">\n                    <div></div>\n                </div>\n            </div>\n        </div>`);this.contentContainer.appendChild(l)}getContactMatrixViewport(){const e=this.contentContainer.querySelector("div[id$='-y-tracks-y-axis-viewport-y-scrollbar']");return e?e.querySelector("div[id$='-viewport']"):null}getYAxisScrollbarContainer(){const e=this.contentContainer.querySelector("div[id$='-y-tracks-y-axis-viewport-y-scrollbar']");return e?e.querySelector("div[id$='-y-axis-scrollbar-container']"):null}getXAxisScrollbarContainer(){return this.contentContainer.querySelector("div[id$='-x-axis-scrollbar-container']")}updateLayoutWithTracks(e){this.resizeLayoutWithTrackXYPairCount(e.length+this.browser.trackPairs.length);for(const t of e){const e=new jC(this.browser,t);this.browser.trackPairs.unshift(e),e.x=new GC(this.browser,t,"x"),e.x.init(this.xTracks,36,this.browser.trackPairs.indexOf(e)),e.y=new GC(this.browser,t,"y"),e.y.init(this.yTracks,36,this.browser.trackPairs.indexOf(e)),e.init(),NC.globalBus.post($C("TrackXYPairLoad",e))}for(const e of this.browser.trackPairs){const t=`${this.browser.trackPairs.indexOf(e)}`;e.x.viewportElement.style.order=t,e.y.viewportElement.style.order=t}WC(this.browser.trackPairs)}removeAllTrackXYPairs(){if(0!==this.browser.trackPairs.length){for(let e of this.browser.trackPairs)e.dispose();this.browser.trackPairs=[],this.browser.updateLayout(),this.resizeLayoutWithTrackXYPairCount(0)}}removeTrackXYPair(e){if(this.browser.trackPairs.length>0){e.x.viewportElement.remove(),e.y.viewportElement.remove();const t=this.browser.trackPairs.indexOf(e);this.browser.trackPairs.splice(t,1),this.resizeLayoutWithTrackXYPairCount(this.browser.trackPairs.length),this.browser.updateLayout(),NC.globalBus.post($C("TrackXYPairRemoval",e))}}resizeLayoutWithTrackXYPairCount(e){const t=0===e?0:38*e;let i=[JC(),t].map((e=>`${e}px`));const n=`calc(100% - (${i.join(" + ")}))`;i=[t,YC,XC].map((e=>`${e}px`));const o=`calc(100% - (${i.join(" + ")}))`;this.xTrackContainer.style.height=`${t}px`,this.trackShim.style.width=`${t}px`,this.xTracks.style.width=o,this.contentContainer.style.height=n,this.xAxisRuler.updateWidthWithCalculation(o),this.yTracks.style.width=`${t}px`,this.yAxisRuler.updateHeight(this.yAxisRuler.axisElement.offsetHeight),this.browser.contactMatrixView.viewportElement.style.width=o,this.browser.contactMatrixView.scrollbarWidget.xAxisScrollbarContainerElement.style.width=o}}function JC(){return 160}function ex(e){return e.rootElement.querySelector(".hic-navbar-container")}function tx(e){return!!e&&("function"!=typeof e&&(e instanceof File||void 0!==e.name&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer))}var ix={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(e){e=e||{},this.files=[],this.comment=e.comment,this.password}};ix.Zip.CompressionMethod={STORE:0,DEFLATE:8},ix.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},ix.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},ix.Zip.FileHeaderSignature=[80,75,1,2],ix.Zip.LocalFileHeaderSignature=[80,75,3,4],ix.Zip.CentralDirectorySignature=[80,75,5,6],ix.Zip.prototype.addFile=function(e,t){var i;(t=t||{}).filename;var n=e.length,o=0;if(e instanceof Array&&(e=new Uint8Array(e)),"number"!=typeof t.compressionMethod&&(t.compressionMethod=ix.Zip.CompressionMethod.DEFLATE),t.compress)switch(t.compressionMethod){case ix.Zip.CompressionMethod.STORE:break;case ix.Zip.CompressionMethod.DEFLATE:o=ix.CRC32.calc(e),e=this.deflateWithOption(e,t),i=!0;break;default:throw new Error("unknown compression method:"+t.compressionMethod)}this.files.push({buffer:e,option:t,compressed:i,encrypted:!1,size:n,crc32:o})},ix.Zip.prototype.setPassword=function(e){this.password=e},ix.Zip.prototype.compress=function(){var e,t,i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b,v,y,_,C,x,k,E=this.files,N=0,S=0;for(_=0,C=E.length;_<C;++_){if(u=(e=E[_]).option.filename?e.option.filename.length:0,p=e.option.extraField?e.option.extraField.length:0,m=e.option.comment?e.option.comment.length:0,!e.compressed)switch(e.crc32=ix.CRC32.calc(e.buffer),e.option.compressionMethod){case ix.Zip.CompressionMethod.STORE:break;case ix.Zip.CompressionMethod.DEFLATE:e.buffer=this.deflateWithOption(e.buffer,e.option),e.compressed=!0;break;default:throw new Error("unknown compression method:"+e.option.compressionMethod)}if(void 0!==e.option.password||void 0!==this.password){for(y=this.createEncryptionKey(e.option.password||this.password),b=e.buffer,(v=new Uint8Array(b.length+12)).set(b,12),b=v,x=0;x<12;++x)b[x]=this.encode(y,11===_?255&e.crc32:256*Math.random()|0);for(k=b.length;x<k;++x)b[x]=this.encode(y,b[x]);e.buffer=b}N+=30+u+e.buffer.length,S+=46+u+m}for(r=22+(this.comment?this.comment.length:0),t=new Uint8Array(N+S+r),i=0,o=(n=N)+S,_=0,C=E.length;_<C;++_)u=(e=E[_]).option.filename?e.option.filename.length:0,p=0,m=e.option.comment?e.option.comment.length:0,a=i,t[i++]=ix.Zip.LocalFileHeaderSignature[0],t[i++]=ix.Zip.LocalFileHeaderSignature[1],t[i++]=ix.Zip.LocalFileHeaderSignature[2],t[i++]=ix.Zip.LocalFileHeaderSignature[3],t[n++]=ix.Zip.FileHeaderSignature[0],t[n++]=ix.Zip.FileHeaderSignature[1],t[n++]=ix.Zip.FileHeaderSignature[2],t[n++]=ix.Zip.FileHeaderSignature[3],t[n++]=20,t[n++]=e.option.os||ix.Zip.OperatingSystem.MSDOS,t[i++]=t[n++]=20,t[i++]=t[n++]=0,s=0,(e.option.password||this.password)&&(s|=ix.Zip.Flags.ENCRYPT),t[i++]=t[n++]=255&s,t[i++]=t[n++]=s>>8&255,c=e.option.compressionMethod,t[i++]=t[n++]=255&c,t[i++]=t[n++]=c>>8&255,l=e.option.date||new Date,t[i++]=t[n++]=(7&l.getMinutes())<<5|l.getSeconds()/2,t[i++]=t[n++]=l.getHours()<<3|l.getMinutes()>>3,t[i++]=t[n++]=(l.getMonth()+1&7)<<5|l.getDate(),t[i++]=t[n++]=(l.getFullYear()-1980&127)<<1|l.getMonth()+1>>3,h=e.crc32,t[i++]=t[n++]=255&h,t[i++]=t[n++]=h>>8&255,t[i++]=t[n++]=h>>16&255,t[i++]=t[n++]=h>>24&255,d=e.buffer.length,t[i++]=t[n++]=255&d,t[i++]=t[n++]=d>>8&255,t[i++]=t[n++]=d>>16&255,t[i++]=t[n++]=d>>24&255,f=e.size,t[i++]=t[n++]=255&f,t[i++]=t[n++]=f>>8&255,t[i++]=t[n++]=f>>16&255,t[i++]=t[n++]=f>>24&255,t[i++]=t[n++]=255&u,t[i++]=t[n++]=u>>8&255,t[i++]=t[n++]=255&p,t[i++]=t[n++]=p>>8&255,t[n++]=255&m,t[n++]=m>>8&255,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=255&a,t[n++]=a>>8&255,t[n++]=a>>16&255,t[n++]=a>>24&255,(g=e.option.filename)&&(t.set(g,i),t.set(g,n),i+=u,n+=u),(w=e.option.extraField)&&(t.set(w,i),t.set(w,n),i+=p,n+=p),(F=e.option.comment)&&(t.set(F,n),n+=m),t.set(e.buffer,i),i+=e.buffer.length;return t[o++]=ix.Zip.CentralDirectorySignature[0],t[o++]=ix.Zip.CentralDirectorySignature[1],t[o++]=ix.Zip.CentralDirectorySignature[2],t[o++]=ix.Zip.CentralDirectorySignature[3],t[o++]=0,t[o++]=0,t[o++]=0,t[o++]=0,t[o++]=255&C,t[o++]=C>>8&255,t[o++]=255&C,t[o++]=C>>8&255,t[o++]=255&S,t[o++]=S>>8&255,t[o++]=S>>16&255,t[o++]=S>>24&255,t[o++]=255&N,t[o++]=N>>8&255,t[o++]=N>>16&255,t[o++]=N>>24&255,m=this.comment?this.comment.length:0,t[o++]=255&m,t[o++]=m>>8&255,this.comment&&(t.set(this.comment,o),o+=m),t},ix.Zip.prototype.deflateWithOption=function(e,t){return new ix.RawDeflate(e,t.deflateOption).compress()},ix.Zip.prototype.getByte=function(e){var t=65535&e[2]|2;return t*(1^t)>>8&255},ix.Zip.prototype.encode=function(e,t){var i=this.getByte(e);return this.updateKeys(e,t),i^t},ix.Zip.prototype.updateKeys=function(e,t){e[0]=ix.CRC32.single(e[0],t),e[1]=1+(6681*(20173*(e[1]+(255&e[0]))>>>0)>>>0)>>>0,e[2]=ix.CRC32.single(e[2],e[1]>>>24)},ix.Zip.prototype.createEncryptionKey=function(e){var t,i,n=[305419896,591751049,878082192];for(n=new Uint32Array(n),t=0,i=e.length;t<i;++t)this.updateKeys(n,255&e[t]);return n},ix.Huffman.buildHuffmanTable=function(e){var t,i,n,o,r,a,s,c,l,h,d,f=e.length,u=0,p=Number.POSITIVE_INFINITY;for(c=0,l=f;c<l;++c)e[c]>u&&(u=e[c]),e[c]<p&&(p=e[c]);for(t=1<<u,i=new Uint32Array(t),n=1,o=0,r=2;n<=u;){for(c=0;c<f;++c)if(e[c]===n){for(a=0,s=o,h=0;h<n;++h)a=a<<1|1&s,s>>=1;for(d=n<<16|c,h=a;h<t;h+=r)i[h]=d;++o}++n,o<<=1,r<<=1}return[i,u,p]};var nx=ix.Huffman.buildHuffmanTable;ix.RawInflate=function(e,t){switch(this.buffer,this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output,this.op,this.bfinal=!1,this.bufferType=ix.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!t&&(t={})||(t.index&&(this.ip=t.index),t.bufferSize&&(this.bufferSize=t.bufferSize),t.bufferType&&(this.bufferType=t.bufferType),t.resize&&(this.resize=t.resize)),this.bufferType){case ix.RawInflate.BufferType.BLOCK:this.op=ix.RawInflate.MaxBackwardLength,this.output=new Uint8Array(ix.RawInflate.MaxBackwardLength+this.bufferSize+ix.RawInflate.MaxCopyLength);break;case ix.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new Uint8Array(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},ix.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},ix.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case ix.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case ix.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},ix.RawInflate.MaxBackwardLength=32768,ix.RawInflate.MaxCopyLength=258,ix.RawInflate.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ix.RawInflate.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),ix.RawInflate.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),ix.RawInflate.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),ix.RawInflate.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ix.RawInflate.FixedLiteralLengthTable=function(){var e,t,i=new Uint8Array(288);for(e=0,t=i.length;e<t;++e)i[e]=e<=143?8:e<=255?9:e<=279?7:8;return nx(i)}(),ix.RawInflate.FixedDistanceTable=function(){var e,t,i=new Uint8Array(30);for(e=0,t=i.length;e<t;++e)i[e]=5;return nx(i)}(),ix.RawInflate.prototype.parseBlock=function(){var e=this.readBits(3);switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}},ix.RawInflate.prototype.readBits=function(e){var t,i=this.bitsbuf,n=this.bitsbuflen,o=this.input,r=this.ip;if(r+(e-n+7>>3)>=o.length)throw new Error("input buffer is broken");for(;n<e;)i|=o[r++]<<n,n+=8;return t=i&(1<<e)-1,i>>>=e,n-=e,this.bitsbuf=i,this.bitsbuflen=n,this.ip=r,t},ix.RawInflate.prototype.readCodeByTable=function(e){for(var t,i,n=this.bitsbuf,o=this.bitsbuflen,r=this.input,a=this.ip,s=r.length,c=e[0],l=e[1];o<l&&!(a>=s);)n|=r[a++]<<o,o+=8;if((i=(t=c[n&(1<<l)-1])>>>16)>o)throw new Error("invalid code length: "+i);return this.bitsbuf=n>>i,this.bitsbuflen=o-i,this.ip=a,65535&t},ix.RawInflate.prototype.parseUncompressedBlock=function(){var e,t,i=this.input,n=this.ip,o=this.output,r=this.op,a=i.length,s=o.length;if(this.bitsbuf=0,this.bitsbuflen=0,n+1>=a)throw new Error("invalid uncompressed block header: LEN");if(e=i[n++]|i[n++]<<8,n+1>=a)throw new Error("invalid uncompressed block header: NLEN");if(e===~(i[n++]|i[n++]<<8))throw new Error("invalid uncompressed block header: length verify");if(n+e>i.length)throw new Error("input buffer is broken");switch(this.bufferType){case ix.RawInflate.BufferType.BLOCK:for(;r+e>o.length;)e-=t=s-r,o.set(i.subarray(n,n+t),r),r+=t,n+=t,this.op=r,o=this.expandBufferBlock(),r=this.op;break;case ix.RawInflate.BufferType.ADAPTIVE:for(;r+e>o.length;)o=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}o.set(i.subarray(n,n+e),r),r+=e,n+=e,this.ip=n,this.op=r,this.output=o},ix.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case ix.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(ix.RawInflate.FixedLiteralLengthTable,ix.RawInflate.FixedDistanceTable);break;case ix.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(ix.RawInflate.FixedLiteralLengthTable,ix.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},ix.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var e,t,i,n,o,r,a,s,c,l=this.readBits(5)+257,h=this.readBits(5)+1,d=this.readBits(4)+4,f=new Uint8Array(ix.RawInflate.Order.length);for(s=0;s<d;++s)f[ix.RawInflate.Order[s]]=this.readBits(3);for(e=nx(f),n=new Uint8Array(l+h),s=0,c=l+h;s<c;)switch(o=this.readCodeByTable(e)){case 16:for(a=3+this.readBits(2);a--;)n[s++]=r;break;case 17:for(a=3+this.readBits(3);a--;)n[s++]=0;r=0;break;case 18:for(a=11+this.readBits(7);a--;)n[s++]=0;r=0;break;default:n[s++]=o,r=o}switch(t=nx(n.subarray(0,l)),i=nx(n.subarray(l)),this.bufferType){case ix.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(t,i);break;case ix.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(t,i);break;default:throw new Error("invalid inflate mode")}},ix.RawInflate.prototype.decodeHuffmanBlock=function(e,t){var i=this.output,n=this.op;this.currentLitlenTable=e;for(var o,r,a,s,c=i.length-ix.RawInflate.MaxCopyLength,l=ix.RawInflate.LengthCodeTable,h=ix.RawInflate.LengthExtraTable,d=ix.RawInflate.DistCodeTable,f=ix.RawInflate.DistExtraTable;256!==(o=this.readCodeByTable(e));)if(o<256)n>=c&&(this.op=n,i=this.expandBufferBlock(),n=this.op),i[n++]=o;else for(s=l[r=o-257],h[r]>0&&(s+=this.readBits(h[r])),a=d[o=this.readCodeByTable(t)],f[o]>0&&(a+=this.readBits(f[o])),n>=c&&(this.op=n,i=this.expandBufferBlock(),n=this.op);s--;)i[n]=i[n++-a];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=n},ix.RawInflate.prototype.decodeHuffmanAdaptive=function(e,t){var i=this.output,n=this.op;this.currentLitlenTable=e;for(var o,r,a,s,c=i.length,l=ix.RawInflate.LengthCodeTable,h=ix.RawInflate.LengthExtraTable,d=ix.RawInflate.DistCodeTable,f=ix.RawInflate.DistExtraTable;256!==(o=this.readCodeByTable(e));)if(o<256)n>=c&&(c=(i=this.expandBufferAdaptive()).length),i[n++]=o;else for(s=l[r=o-257],h[r]>0&&(s+=this.readBits(h[r])),a=d[o=this.readCodeByTable(t)],f[o]>0&&(a+=this.readBits(f[o])),n+s>c&&(c=(i=this.expandBufferAdaptive()).length);s--;)i[n]=i[n++-a];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=n},ix.RawInflate.prototype.expandBufferBlock=function(e){var t=new Uint8Array(this.op-ix.RawInflate.MaxBackwardLength),i=this.op-ix.RawInflate.MaxBackwardLength,n=this.output;return t.set(n.subarray(ix.RawInflate.MaxBackwardLength,t.length)),this.blocks.push(t),this.totalpos+=t.length,n.set(n.subarray(i,i+ix.RawInflate.MaxBackwardLength)),this.op=ix.RawInflate.MaxBackwardLength,n},ix.RawInflate.prototype.expandBufferAdaptive=function(e){var t,i,n,o=this.input.length/this.ip+1|0,r=this.input,a=this.output;return e&&("number"==typeof e.fixRatio&&(o=e.fixRatio),"number"==typeof e.addRatio&&(o+=e.addRatio)),i=o<2?(n=(r.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<a.length?a.length+n:a.length<<1:a.length*o,(t=new Uint8Array(i)).set(a),this.output=t,this.output},ix.RawInflate.prototype.concatBufferBlock=function(){var e,t,i,n,o,r=0,a=this.totalpos+(this.op-ix.RawInflate.MaxBackwardLength),s=this.output,c=this.blocks,l=new Uint8Array(a);if(0===c.length)return this.output.subarray(ix.RawInflate.MaxBackwardLength,this.op);for(t=0,i=c.length;t<i;++t)for(n=0,o=(e=c[t]).length;n<o;++n)l[r++]=e[n];for(t=ix.RawInflate.MaxBackwardLength,i=this.op;t<i;++t)l[r++]=s[t];return this.blocks=[],this.buffer=l,this.buffer},ix.RawInflate.prototype.concatBufferDynamic=function(){var e,t=this.op;return this.resize?(e=new Uint8Array(t)).set(this.output.subarray(0,t)):e=this.output.subarray(0,t),this.buffer=e,this.buffer};var ox;nx=ix.Huffman.buildHuffmanTable;ix.RawInflateStream=function(e,t,i){this.blocks=[],this.bufferSize=i||ZLIB_STREAM_RAW_INFLATE_BUFFER_SIZE,this.totalpos=0,this.ip=void 0===t?0:t,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output=new Uint8Array(this.bufferSize),this.op=0,this.bfinal=!1,this.blockLength,this.resize=!1,this.litlenTable,this.distTable,this.sp=0,this.status=ix.RawInflateStream.Status.INITIALIZED,this.ip_,this.bitsbuflen_,this.bitsbuf_},ix.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},ix.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},ix.RawInflateStream.prototype.decompress=function(e,t){var i=!1;for(void 0!==e&&(this.input=e),void 0!==t&&(this.ip=t);!i;)switch(this.status){case ix.RawInflateStream.Status.INITIALIZED:case ix.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(i=!0);break;case ix.RawInflateStream.Status.BLOCK_HEADER_END:case ix.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case ix.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(i=!0);break;case ix.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(i=!0);break;case ix.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(i=!0)}break;case ix.RawInflateStream.Status.BLOCK_BODY_END:case ix.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case ix.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(i=!0);break;case ix.RawInflateStream.BlockType.FIXED:case ix.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(i=!0)}break;case ix.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?i=!0:this.status=ix.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},ix.RawInflateStream.MaxBackwardLength=32768,ix.RawInflateStream.MaxCopyLength=258,ix.RawInflateStream.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ix.RawInflateStream.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),ix.RawInflateStream.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),ix.RawInflateStream.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),ix.RawInflateStream.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ix.RawInflateStream.FixedLiteralLengthTable=function(){var e,t,i=new Uint8Array(288);for(e=0,t=i.length;e<t;++e)i[e]=e<=143?8:e<=255?9:e<=279?7:8;return nx(i)}(),ix.RawInflateStream.FixedDistanceTable=function(){var e,t,i=new Uint8Array(30);for(e=0,t=i.length;e<t;++e)i[e]=5;return nx(i)}(),ix.RawInflateStream.prototype.readBlockHeader=function(){var e;if(this.status=ix.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(e=this.readBits(3))<0)return this.restore_(),-1;switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.currentBlockType=ix.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=ix.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=ix.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+e)}this.status=ix.RawInflateStream.Status.BLOCK_HEADER_END},ix.RawInflateStream.prototype.readBits=function(e){for(var t,i=this.bitsbuf,n=this.bitsbuflen,o=this.input,r=this.ip;n<e;){if(o.length<=r)return-1;i|=(t=o[r++])<<n,n+=8}return t=i&(1<<e)-1,i>>>=e,n-=e,this.bitsbuf=i,this.bitsbuflen=n,this.ip=r,t},ix.RawInflateStream.prototype.readCodeByTable=function(e){for(var t,i,n=this.bitsbuf,o=this.bitsbuflen,r=this.input,a=this.ip,s=e[0],c=e[1];o<c;){if(r.length<=a)return-1;n|=r[a++]<<o,o+=8}if((i=(t=s[n&(1<<c)-1])>>>16)>o)throw new Error("invalid code length: "+i);return this.bitsbuf=n>>i,this.bitsbuflen=o-i,this.ip=a,65535&t},ix.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var e,t=this.input,i=this.ip;if(this.status=ix.RawInflateStream.Status.BLOCK_BODY_START,i+4>=t.length)return-1;if((e=t[i++]|t[i++]<<8)===~(t[i++]|t[i++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=i,this.blockLength=e,this.status=ix.RawInflateStream.Status.BLOCK_BODY_END},ix.RawInflateStream.prototype.parseUncompressedBlock=function(){var e=this.input,t=this.ip,i=this.output,n=this.op,o=this.blockLength;for(this.status=ix.RawInflateStream.Status.DECODE_BLOCK_START;o--;){if(n===i.length&&(i=this.expandBuffer({fixRatio:2})),t>=e.length)return this.ip=t,this.op=n,this.blockLength=o+1,-1;i[n++]=e[t++]}return o<0&&(this.status=ix.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=t,this.op=n,0},ix.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=ix.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=ix.RawInflateStream.FixedLiteralLengthTable,this.distTable=ix.RawInflateStream.FixedDistanceTable,this.status=ix.RawInflateStream.Status.BLOCK_BODY_END,0},ix.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},ix.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},ix.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var e,t,i,n,o=new Uint8Array(ix.RawInflateStream.Order.length);if(this.status=ix.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),e=this.readBits(5)+257,t=this.readBits(5)+1,i=this.readBits(4)+4,e<0||t<0||i<0)return this.restore_(),-1;try{(function(){var r,a,s,c,l,h,d=0;for(l=0;l<i;++l){if((r=this.readBits(3))<0)throw new Error("not enough input");o[ix.RawInflateStream.Order[l]]=r}for(n=nx(o),c=new Uint8Array(e+t),l=0,h=e+t;l<h;){if((a=this.readCodeByTable(n))<0)throw new Error("not enough input");switch(a){case 16:if((r=this.readBits(2))<0)throw new Error("not enough input");for(s=3+r;s--;)c[l++]=d;break;case 17:if((r=this.readBits(3))<0)throw new Error("not enough input");for(s=3+r;s--;)c[l++]=0;d=0;break;case 18:if((r=this.readBits(7))<0)throw new Error("not enough input");for(s=11+r;s--;)c[l++]=0;d=0;break;default:c[l++]=a,d=a}}this.litlenTable=nx(c.subarray(0,e)),this.distTable=nx(c.subarray(e))}).call(this)}catch(e){return this.restore_(),-1}return this.status=ix.RawInflateStream.Status.BLOCK_BODY_END,0},ix.RawInflateStream.prototype.decodeHuffman=function(){var e,t,i,n,o,r=this.output,a=this.op,s=this.litlenTable,c=this.distTable,l=r.length;for(this.status=ix.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(e=this.readCodeByTable(s))<0)return this.op=a,this.restore_(),-1;if(256===e)break;if(e<256)a===l&&(l=(r=this.expandBuffer()).length),r[a++]=e;else{if(t=e-257,n=ix.RawInflateStream.LengthCodeTable[t],ix.RawInflateStream.LengthExtraTable[t]>0){if((o=this.readBits(ix.RawInflateStream.LengthExtraTable[t]))<0)return this.op=a,this.restore_(),-1;n+=o}if((e=this.readCodeByTable(c))<0)return this.op=a,this.restore_(),-1;if(i=ix.RawInflateStream.DistCodeTable[e],ix.RawInflateStream.DistExtraTable[e]>0){if((o=this.readBits(ix.RawInflateStream.DistExtraTable[e]))<0)return this.op=a,this.restore_(),-1;i+=o}for(a+n>=l&&(l=(r=this.expandBuffer()).length);n--;)r[a]=r[a++-i];if(this.ip===this.input.length)return this.op=a,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=a,this.status=ix.RawInflateStream.Status.DECODE_BLOCK_END},ix.RawInflateStream.prototype.expandBuffer=function(e){var t,i,n,o=this.input.length/this.ip+1|0,r=this.input,a=this.output;return e&&("number"==typeof e.fixRatio&&(o=e.fixRatio),"number"==typeof e.addRatio&&(o+=e.addRatio)),i=o<2?(n=(r.length-this.ip)/this.litlenTable[2]/2*258|0)<a.length?a.length+n:a.length<<1:a.length*o,(t=new Uint8Array(i)).set(a),this.output=t,this.output},ix.RawInflateStream.prototype.concatBuffer=function(){var e,t,i=this.op;return e=this.resize?new Uint8Array(this.output.subarray(this.sp,i)):this.output.subarray(this.sp,i),this.sp=i,i>ix.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=ix.RawInflateStream.MaxBackwardLength,t=this.output,this.output=new Uint8Array(this.bufferSize+ix.RawInflateStream.MaxBackwardLength),this.output.set(t.subarray(i-ix.RawInflateStream.MaxBackwardLength,i))),e},ix.Inflate=function(e,t){var i,n;if(this.input=e,this.ip=0,this.rawinflate,this.verify,!t&&(t={})||(t.index&&(this.ip=t.index),t.verify&&(this.verify=t.verify)),i=e[this.ip++],n=e[this.ip++],(15&i)!==ix.CompressionMethod.DEFLATE)throw new Error("unsupported compression method");if(this.method=ix.CompressionMethod.DEFLATE,((i<<8)+n)%31!=0)throw new Error("invalid fcheck flag:"+((i<<8)+n)%31);if(32&n)throw new Error("fdict flag is not supported");this.rawinflate=new ix.RawInflate(e,{index:this.ip,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})},ix.Inflate.BufferType=ix.RawInflate.BufferType,ix.Inflate.prototype.decompress=function(){var e,t=this.input;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(t[this.ip++]<<24|t[this.ip++]<<16|t[this.ip++]<<8|t[this.ip++])>>>0!==ix.Adler32(e))throw new Error("invalid adler-32 checksum");return e},ix.InflateStream=function(e){this.input=void 0===e?new Uint8Array:e,this.ip=0,this.rawinflate=new ix.RawInflateStream(this.input,this.ip),this.method,this.output=this.rawinflate.output},ix.InflateStream.prototype.decompress=function(e){var t;if(void 0!==e){var i=new Uint8Array(this.input.length+e.length);i.set(this.input,0),i.set(e,this.input.length),this.input=i}return void 0===this.method&&this.readHeader()<0?new Uint8Array:(t=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=this.input.subarray(this.rawinflate.ip),this.ip=0),t)},ix.InflateStream.prototype.readHeader=function(){var e=this.ip,t=this.input,i=t[e++],n=t[e++];if(void 0===i||void 0===n)return-1;if((15&i)!==ix.CompressionMethod.DEFLATE)throw new Error("unsupported compression method");if(this.method=ix.CompressionMethod.DEFLATE,((i<<8)+n)%31!=0)throw new Error("invalid fcheck flag:"+((i<<8)+n)%31);if(32&n)throw new Error("fdict flag is not supported");this.ip=e},ix.Gunzip=function(e,t){this.input=e,this.ip=0,this.member=[],this.decompressed=!1},ix.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},ix.Gunzip.prototype.decompress=function(){for(var e=this.input.length;this.ip<e;)this.decodeMember();return this.decompressed=!0,this.concatMember()},ix.Gunzip.prototype.decodeMember=function(){var e,t,i,n,o,r,a,s,c,l=new ix.GunzipMember,h=this.input,d=this.ip;if(l.id1=h[d++],l.id2=h[d++],31!==l.id1||139!==l.id2)throw new Error("invalid file signature:"+l.id1+","+l.id2);if(l.cm=h[d++],8!==l.cm)throw new Error("unknown compression method: "+l.cm);if(l.flg=h[d++],s=h[d++]|h[d++]<<8|h[d++]<<16|h[d++]<<24,l.mtime=new Date(1e3*s),l.xfl=h[d++],l.os=h[d++],(l.flg&ix.Gzip.FlagsMask.FEXTRA)>0&&(l.xlen=h[d++]|h[d++]<<8,d=this.decodeSubField(d,l.xlen)),(l.flg&ix.Gzip.FlagsMask.FNAME)>0){for(a=[],r=0;(o=h[d++])>0;)a[r++]=String.fromCharCode(o);l.name=a.join("")}if((l.flg&ix.Gzip.FlagsMask.FCOMMENT)>0){for(a=[],r=0;(o=h[d++])>0;)a[r++]=String.fromCharCode(o);l.comment=a.join("")}if((l.flg&ix.Gzip.FlagsMask.FHCRC)>0&&(l.crc16=65535&ix.CRC32.calc(h,0,d),l.crc16!==(h[d++]|h[d++]<<8)))throw new Error("invalid header crc16");if(e=h[h.length-4]|h[h.length-3]<<8|h[h.length-2]<<16|h[h.length-1]<<24,h.length-d-4-4<512*e&&(n=e),t=new ix.RawInflate(h,{index:d,bufferSize:n}),l.data=i=t.decompress(),d=t.ip,l.crc32=c=(h[d++]|h[d++]<<8|h[d++]<<16|h[d++]<<24)>>>0,ix.CRC32.calc(i)!==c)throw new Error("invalid CRC-32 checksum: 0x"+ix.CRC32.calc(i).toString(16)+" / 0x"+c.toString(16));if(l.isize=e=(h[d++]|h[d++]<<8|h[d++]<<16|h[d++]<<24)>>>0,(4294967295&i.length)!==e)throw new Error("invalid input size: "+(4294967295&i.length)+" / "+e);this.member.push(l),this.ip=d},ix.Gunzip.prototype.decodeSubField=function(e,t){return e+t},ix.Gunzip.prototype.concatMember=function(){var e,t,i,n=this.member,o=0,r=0;for(e=0,t=n.length;e<t;++e)r+=n[e].data.length;for(i=new Uint8Array(r),e=0;e<t;++e)i.set(n[e].data,o),o+=n[e].data.length;return i},ix.GunzipMember=function(){this.id1,this.id2,this.cm,this.flg,this.mtime,this.xfl,this.os,this.crc16,this.xlen,this.crc32,this.isize,this.name,this.comment,this.data},ix.GunzipMember.prototype.getName=function(){return this.name},ix.GunzipMember.prototype.getData=function(){return this.data},ix.GunzipMember.prototype.getMtime=function(){return this.mtime},ix.Gzip=function(e,t){this.input=e,this.ip=0,this.output,this.op=0,this.flags={},this.filename,this.comment,this.deflateOptions,t&&(t.flags&&(this.flags=t.flags),"string"==typeof t.filename&&(this.filename=t.filename),"string"==typeof t.comment&&(this.comment=t.comment),t.deflateOptions&&(this.deflateOptions=t.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},ix.Gzip.DefaultBufferSize=32768,ix.Gzip.prototype.compress=function(){var e,t,i,n,o,r,a,s,c=new Uint8Array(ix.Gzip.DefaultBufferSize),l=0,h=this.input,d=this.ip,f=this.filename,u=this.comment;if(c[l++]=31,c[l++]=139,c[l++]=8,e=0,this.flags.fname&&(e|=ix.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(e|=ix.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(e|=ix.Gzip.FlagsMask.FHCRC),c[l++]=e,t=(Date.now?Date.now():+new Date)/1e3|0,c[l++]=255&t,c[l++]=t>>>8&255,c[l++]=t>>>16&255,c[l++]=t>>>24&255,c[l++]=0,c[l++]=ix.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(a=0,s=f.length;a<s;++a)(r=f.charCodeAt(a))>255&&(c[l++]=r>>>8&255),c[l++]=255&r;c[l++]=0}if(this.flags.comment){for(a=0,s=u.length;a<s;++a)(r=u.charCodeAt(a))>255&&(c[l++]=r>>>8&255),c[l++]=255&r;c[l++]=0}return this.flags.fhcrc&&(i=65535&ix.CRC32.calc(c,0,l),c[l++]=255&i,c[l++]=i>>>8&255),this.deflateOptions.outputBuffer=c,this.deflateOptions.outputIndex=l,c=(o=new ix.RawDeflate(h,this.deflateOptions)).compress(),(l=o.op)+8>c.buffer.byteLength?(this.output=new Uint8Array(l+8),this.output.set(new Uint8Array(c.buffer)),c=this.output):c=new Uint8Array(c.buffer),n=ix.CRC32.calc(h),c[l++]=255&n,c[l++]=n>>>8&255,c[l++]=n>>>16&255,c[l++]=n>>>24&255,s=h.length,c[l++]=255&s,c[l++]=s>>>8&255,c[l++]=s>>>16&255,c[l++]=s>>>24&255,this.ip=d,l<c.length&&(this.output=c=c.subarray(0,l)),c},ix.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},ix.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},ix.Heap=function(e){this.buffer=new Uint16Array(2*e),this.length=0},ix.Heap.prototype.getParent=function(e){return 2*((e-2)/4|0)},ix.Heap.prototype.getChild=function(e){return 2*e+2},ix.Heap.prototype.push=function(e,t){var i,n,o,r=this.buffer;for(i=this.length,r[this.length++]=t,r[this.length++]=e;i>0&&(n=this.getParent(i),r[i]>r[n]);)o=r[i],r[i]=r[n],r[n]=o,o=r[i+1],r[i+1]=r[n+1],r[n+1]=o,i=n;return this.length},ix.Heap.prototype.pop=function(){var e,t,i,n,o,r=this.buffer;for(t=r[0],e=r[1],this.length-=2,r[0]=r[this.length],r[1]=r[this.length+1],o=0;!((n=this.getChild(o))>=this.length)&&(n+2<this.length&&r[n+2]>r[n]&&(n+=2),r[n]>r[o]);)i=r[o],r[o]=r[n],r[n]=i,i=r[o+1],r[o+1]=r[n+1],r[n+1]=i,o=n;return{index:e,value:t,length:this.length}},ix.RawDeflate=function(e,t){this.compressionType=ix.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.freqsLitLen,this.freqsDist,this.input=e instanceof Array?new Uint8Array(e):e,this.output,this.op=0,t&&(t.lazy&&(this.lazy=t.lazy),"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t.outputBuffer&&(this.output=t.outputBuffer instanceof Array?new Uint8Array(t.outputBuffer):t.outputBuffer),"number"==typeof t.outputIndex&&(this.op=t.outputIndex)),this.output||(this.output=new Uint8Array(32768))},ix.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},ix.RawDeflate.Lz77MinLength=3,ix.RawDeflate.Lz77MaxLength=258,ix.RawDeflate.WindowSize=32768,ix.RawDeflate.MaxCodeLength=16,ix.RawDeflate.HUFMAX=286,ix.RawDeflate.FixedHuffmanTable=function(){var e,t=[];for(e=0;e<288;e++)switch(!0){case e<=143:t.push([e+48,8]);break;case e<=255:t.push([e-144+400,9]);break;case e<=279:t.push([e-256+0,7]);break;case e<=287:t.push([e-280+192,8]);break;default:throw"invalid literal: "+e}return t}(),ix.RawDeflate.prototype.compress=function(){var e,t,i,n=this.input;switch(this.compressionType){case ix.RawDeflate.CompressionType.NONE:for(t=0,i=n.length;t<i;)t+=(e=n.subarray(t,t+65535)).length,this.makeNocompressBlock(e,t===i);break;case ix.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(n,!0),this.op=this.output.length;break;case ix.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(n,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},ix.RawDeflate.prototype.makeNocompressBlock=function(e,t){var i,n,o,r,a=this.output,s=this.op;for(a=new Uint8Array(this.output.buffer);a.length<=s+e.length+5;)a=new Uint8Array(a.length<<1);return a.set(this.output),i=t?1:0,n=ix.RawDeflate.CompressionType.NONE,a[s++]=i|n<<1,r=65536+~(o=e.length)&65535,a[s++]=255&o,a[s++]=o>>>8&255,a[s++]=255&r,a[s++]=r>>>8&255,a.set(e,s),s+=e.length,a=a.subarray(0,s),this.op=s,this.output=a,a},ix.RawDeflate.prototype.makeFixedHuffmanBlock=function(e,t){var i,n,o,r=new ix.BitStream(new Uint8Array(this.output.buffer),this.op);return i=t?1:0,n=ix.RawDeflate.CompressionType.FIXED,r.writeBits(i,1,!0),r.writeBits(n,2,!0),o=this.lz77(e),this.fixedHuffman(o,r),r.finish()},ix.RawDeflate.prototype.makeDynamicHuffmanBlock=function(e,t){var i,n,o,r,a,s,c,l,h,d,f,u,p,m,g,w,F,b=new ix.BitStream(new Uint8Array(this.output.buffer),this.op),v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=new Array(19);for(i=t?1:0,n=ix.RawDeflate.CompressionType.DYNAMIC,b.writeBits(i,1,!0),b.writeBits(n,2,!0),o=this.lz77(e),c=this.getLengths_(this.freqsLitLen,15),l=this.getCodesFromLengths_(c),h=this.getLengths_(this.freqsDist,7),d=this.getCodesFromLengths_(h),r=286;r>257&&0===c[r-1];r--);for(a=30;a>1&&0===h[a-1];a--);for(f=this.getTreeSymbols_(r,c,a,h),u=this.getLengths_(f.freqs,7),w=0;w<19;w++)y[w]=u[v[w]];for(s=19;s>4&&0===y[s-1];s--);for(p=this.getCodesFromLengths_(u),b.writeBits(r-257,5,!0),b.writeBits(a-1,5,!0),b.writeBits(s-4,4,!0),w=0;w<s;w++)b.writeBits(y[w],3,!0);for(w=0,F=f.codes.length;w<F;w++)if(m=f.codes[w],b.writeBits(p[m],u[m],!0),m>=16){switch(w++,m){case 16:g=2;break;case 17:g=3;break;case 18:g=7;break;default:throw"invalid code: "+m}b.writeBits(f.codes[w],g,!0)}return this.dynamicHuffman(o,[l,c],[d,h],b),b.finish()},ix.RawDeflate.prototype.dynamicHuffman=function(e,t,i,n){var o,r,a,s,c,l,h,d;for(c=t[0],l=t[1],h=i[0],d=i[1],o=0,r=e.length;o<r;++o)if(a=e[o],n.writeBits(c[a],l[a],!0),a>256)n.writeBits(e[++o],e[++o],!0),s=e[++o],n.writeBits(h[s],d[s],!0),n.writeBits(e[++o],e[++o],!0);else if(256===a)break;return n},ix.RawDeflate.prototype.fixedHuffman=function(e,t){var i,n,o;for(i=0,n=e.length;i<n;i++)if(o=e[i],ix.BitStream.prototype.writeBits.apply(t,ix.RawDeflate.FixedHuffmanTable[o]),o>256)t.writeBits(e[++i],e[++i],!0),t.writeBits(e[++i],5),t.writeBits(e[++i],e[++i],!0);else if(256===o)break;return t},ix.RawDeflate.Lz77Match=function(e,t){this.length=e,this.backwardDistance=t},ix.RawDeflate.Lz77Match.LengthCodeTable=(ox=function(){var e,t,i=[];for(e=3;e<=258;e++)t=n(e),i[e]=t[2]<<24|t[1]<<16|t[0];function n(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case 258===e:return[285,e-258,0];default:throw"invalid length: "+e}}return i}(),new Uint32Array(ox)),ix.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(e){var t;switch(!0){case 1===e:t=[0,e-1,0];break;case 2===e:t=[1,e-2,0];break;case 3===e:t=[2,e-3,0];break;case 4===e:t=[3,e-4,0];break;case e<=6:t=[4,e-5,1];break;case e<=8:t=[5,e-7,1];break;case e<=12:t=[6,e-9,2];break;case e<=16:t=[7,e-13,2];break;case e<=24:t=[8,e-17,3];break;case e<=32:t=[9,e-25,3];break;case e<=48:t=[10,e-33,4];break;case e<=64:t=[11,e-49,4];break;case e<=96:t=[12,e-65,5];break;case e<=128:t=[13,e-97,5];break;case e<=192:t=[14,e-129,6];break;case e<=256:t=[15,e-193,6];break;case e<=384:t=[16,e-257,7];break;case e<=512:t=[17,e-385,7];break;case e<=768:t=[18,e-513,8];break;case e<=1024:t=[19,e-769,8];break;case e<=1536:t=[20,e-1025,9];break;case e<=2048:t=[21,e-1537,9];break;case e<=3072:t=[22,e-2049,10];break;case e<=4096:t=[23,e-3073,10];break;case e<=6144:t=[24,e-4097,11];break;case e<=8192:t=[25,e-6145,11];break;case e<=12288:t=[26,e-8193,12];break;case e<=16384:t=[27,e-12289,12];break;case e<=24576:t=[28,e-16385,13];break;case e<=32768:t=[29,e-24577,13];break;default:throw"invalid distance"}return t},ix.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var e,t=this.length,i=this.backwardDistance,n=[],o=0;return e=ix.RawDeflate.Lz77Match.LengthCodeTable[t],n[o++]=65535&e,n[o++]=e>>16&255,n[o++]=e>>24,e=this.getDistanceCode_(i),n[o++]=e[0],n[o++]=e[1],n[o++]=e[2],n},ix.RawDeflate.prototype.lz77=function(e){var t,i,n,o,r,a,s,c,l,h={},d=ix.RawDeflate.WindowSize,f=new Uint16Array(2*e.length),u=0,p=0,m=new Uint32Array(286),g=new Uint32Array(30),w=this.lazy;function F(e,t){var i,n,o=e.toLz77Array();for(i=0,n=o.length;i<n;++i)f[u++]=o[i];m[o[0]]++,g[o[3]]++,p=e.length+t-1,c=null}for(m[256]=1,t=0,i=e.length;t<i;++t){for(r=0,n=0,o=ix.RawDeflate.Lz77MinLength;n<o&&t+n!==i;++n)r=r<<8|e[t+n];if(void 0===h[r]&&(h[r]=[]),a=h[r],p-- >0)a.push(t);else{for(;a.length>0&&t-a[0]>d;)a.shift();if(t+ix.RawDeflate.Lz77MinLength>=i){for(c&&F(c,-1),n=0,o=i-t;n<o;++n)l=e[t+n],f[u++]=l,++m[l];break}a.length>0?(s=this.searchLongestMatch_(e,t,a),c?c.length<s.length?(l=e[t-1],f[u++]=l,++m[l],F(s,0)):F(c,-1):s.length<w?c=s:F(s,0)):c?F(c,-1):(l=e[t],f[u++]=l,++m[l]),a.push(t)}}return f[u++]=256,m[256]++,this.freqsLitLen=m,this.freqsDist=g,f.subarray(0,u)},ix.RawDeflate.prototype.searchLongestMatch_=function(e,t,i){var n,o,r,a,s,c,l=0,h=e.length;e:for(a=0,c=i.length;a<c;a++){if(n=i[c-a-1],r=ix.RawDeflate.Lz77MinLength,l>ix.RawDeflate.Lz77MinLength){for(s=l;s>ix.RawDeflate.Lz77MinLength;s--)if(e[n+s-1]!==e[t+s-1])continue e;r=l}for(;r<ix.RawDeflate.Lz77MaxLength&&t+r<h&&e[n+r]===e[t+r];)++r;if(r>l&&(o=n,l=r),r===ix.RawDeflate.Lz77MaxLength)break}return new ix.RawDeflate.Lz77Match(l,t-o)},ix.RawDeflate.prototype.getTreeSymbols_=function(e,t,i,n){var o,r,a,s,c,l,h=new Uint32Array(e+i),d=new Uint32Array(316),f=new Uint8Array(19);for(r=0,o=0;o<e;o++)h[r++]=t[o];for(o=0;o<i;o++)h[r++]=n[o];for(c=0,o=0,s=h.length;o<s;o+=r){for(r=1;o+r<s&&h[o+r]===h[o];++r);if(a=r,0===h[o])if(a<3)for(;a-- >0;)d[c++]=0,f[0]++;else for(;a>0;)(l=a<138?a:138)>a-3&&l<a&&(l=a-3),l<=10?(d[c++]=17,d[c++]=l-3,f[17]++):(d[c++]=18,d[c++]=l-11,f[18]++),a-=l;else if(d[c++]=h[o],f[h[o]]++,--a<3)for(;a-- >0;)d[c++]=h[o],f[h[o]]++;else for(;a>0;)(l=a<6?a:6)>a-3&&l<a&&(l=a-3),d[c++]=16,d[c++]=l-3,f[16]++,a-=l}return{codes:d.subarray(0,c),freqs:f}},ix.RawDeflate.prototype.getLengths_=function(e,t){var i,n,o,r,a,s=e.length,c=new ix.Heap(2*ix.RawDeflate.HUFMAX),l=new Uint8Array(s);for(r=0;r<s;++r)e[r]>0&&c.push(r,e[r]);if(i=new Array(c.length/2),n=new Uint32Array(c.length/2),1===i.length)return l[c.pop().index]=1,l;for(r=0,a=c.length/2;r<a;++r)i[r]=c.pop(),n[r]=i[r].value;for(o=this.reversePackageMerge_(n,n.length,t),r=0,a=i.length;r<a;++r)l[i[r].index]=o[r];return l},ix.RawDeflate.prototype.reversePackageMerge_=function(e,t,i){var n,o,r,a,s,c=new Uint16Array(i),l=new Uint8Array(i),h=new Uint8Array(t),d=new Array(i),f=new Array(i),u=new Array(i),p=(1<<i)-t,m=1<<i-1;function g(e){var i=f[e][u[e]];i===t?(g(e+1),g(e+1)):--h[i],++u[e]}for(c[i-1]=t,o=0;o<i;++o)p<m?l[o]=0:(l[o]=1,p-=m),p<<=1,c[i-2-o]=(c[i-1-o]/2|0)+t;for(c[0]=l[0],d[0]=new Array(c[0]),f[0]=new Array(c[0]),o=1;o<i;++o)c[o]>2*c[o-1]+l[o]&&(c[o]=2*c[o-1]+l[o]),d[o]=new Array(c[o]),f[o]=new Array(c[o]);for(n=0;n<t;++n)h[n]=i;for(r=0;r<c[i-1];++r)d[i-1][r]=e[r],f[i-1][r]=r;for(n=0;n<i;++n)u[n]=0;for(1===l[i-1]&&(--h[0],++u[i-1]),o=i-2;o>=0;--o){for(n=0,a=0,s=u[o+1],r=0;r<c[o];r++)(a=d[o+1][s]+d[o+1][s+1])>e[n]?(d[o][r]=a,f[o][r]=t,s+=2):(d[o][r]=e[n],f[o][r]=n,++n);u[o]=0,1===l[o]&&g(o)}return h},ix.RawDeflate.prototype.getCodesFromLengths_=function(e){var t,i,n,o,r=new Uint16Array(e.length),a=[],s=[],c=0;for(t=0,i=e.length;t<i;t++)a[e[t]]=1+(0|a[e[t]]);for(t=1,i=ix.RawDeflate.MaxCodeLength;t<=i;t++)s[t]=c,c+=0|a[t],c<<=1;for(t=0,i=e.length;t<i;t++)for(c=s[e[t]],s[e[t]]+=1,r[t]=0,n=0,o=e[t];n<o;n++)r[t]=r[t]<<1|1&c,c>>>=1;return r},ix.Unzip=function(e,t){t=t||{},this.input=e instanceof Array?new Uint8Array(e):e,this.ip=0,this.eocdrOffset,this.numberOfThisDisk,this.startDisk,this.totalEntriesThisDisk,this.totalEntries,this.centralDirectorySize,this.centralDirectoryOffset,this.commentLength,this.comment,this.fileHeaderList,this.filenameToIndex,this.verify=t.verify||!1,this.password=t.password},ix.Unzip.CompressionMethod=ix.Zip.CompressionMethod,ix.Unzip.FileHeaderSignature=ix.Zip.FileHeaderSignature,ix.Unzip.LocalFileHeaderSignature=ix.Zip.LocalFileHeaderSignature,ix.Unzip.CentralDirectorySignature=ix.Zip.CentralDirectorySignature,ix.Unzip.FileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.version,this.os,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.fileCommentLength,this.diskNumberStart,this.internalFileAttributes,this.externalFileAttributes,this.relativeOffset,this.filename,this.extraField,this.comment},ix.Unzip.FileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==ix.Unzip.FileHeaderSignature[0]||e[t++]!==ix.Unzip.FileHeaderSignature[1]||e[t++]!==ix.Unzip.FileHeaderSignature[2]||e[t++]!==ix.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=e[t++],this.os=e[t++],this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.fileCommentLength=e[t++]|e[t++]<<8,this.diskNumberStart=e[t++]|e[t++]<<8,this.internalFileAttributes=e[t++]|e[t++]<<8,this.externalFileAttributes=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,this.relativeOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.comment=e.subarray(t,t+this.fileCommentLength),this.length=t-this.offset},ix.Unzip.LocalFileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.filename,this.extraField},ix.Unzip.LocalFileHeader.Flags=ix.Zip.Flags,ix.Unzip.LocalFileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==ix.Unzip.LocalFileHeaderSignature[0]||e[t++]!==ix.Unzip.LocalFileHeaderSignature[1]||e[t++]!==ix.Unzip.LocalFileHeaderSignature[2]||e[t++]!==ix.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.length=t-this.offset},ix.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var e,t=this.input;for(e=t.length-12;e>0;--e)if(t[e]===ix.Unzip.CentralDirectorySignature[0]&&t[e+1]===ix.Unzip.CentralDirectorySignature[1]&&t[e+2]===ix.Unzip.CentralDirectorySignature[2]&&t[e+3]===ix.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=e);throw new Error("End of Central Directory Record not found")},ix.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var e,t=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),e=this.eocdrOffset,t[e++]!==ix.Unzip.CentralDirectorySignature[0]||t[e++]!==ix.Unzip.CentralDirectorySignature[1]||t[e++]!==ix.Unzip.CentralDirectorySignature[2]||t[e++]!==ix.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=t[e++]|t[e++]<<8,this.startDisk=t[e++]|t[e++]<<8,this.totalEntriesThisDisk=t[e++]|t[e++]<<8,this.totalEntries=t[e++]|t[e++]<<8,this.centralDirectorySize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.centralDirectoryOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.commentLength=t[e++]|t[e++]<<8,this.comment=t.subarray(e,e+this.commentLength)},ix.Unzip.prototype.parseFileHeader=function(){var e,t,i,n,o=[],r={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),e=this.centralDirectoryOffset,i=0,n=this.totalEntries;i<n;++i)(t=new ix.Unzip.FileHeader(this.input,e)).parse(),e+=t.length,o[i]=t,r[t.filename]=i;if(this.centralDirectorySize<e-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=o,this.filenameToIndex=r}},ix.Unzip.prototype.getFileData=function(e,t){t=t||{};var i,n,o,r,a,s,c,l,h=this.input,d=this.fileHeaderList;if(d||this.parseFileHeader(),void 0===d[e])throw new Error("wrong index");if(n=d[e].relativeOffset,(i=new ix.Unzip.LocalFileHeader(this.input,n)).parse(),n+=i.length,o=i.compressedSize,i.flags&ix.Unzip.LocalFileHeader.Flags.ENCRYPT){if(!t.password&&!this.password)throw new Error("please set password");for(s=this.createDecryptionKey(t.password||this.password),c=n,l=n+12;c<l;++c)this.decode(s,h[c]);for(c=n+=12,l=n+(o-=12);c<l;++c)h[c]=this.decode(s,h[c])}switch(i.compression){case ix.Unzip.CompressionMethod.STORE:r=this.input.subarray(n,n+o);break;case ix.Unzip.CompressionMethod.DEFLATE:r=new ix.RawInflate(this.input,{index:n,bufferSize:i.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(a=ix.CRC32.calc(r),i.crc32!==a))throw new Error("wrong crc: file=0x"+i.crc32.toString(16)+", data=0x"+a.toString(16));return r},ix.Unzip.prototype.getFilenames=function(){var e,t,i,n=[];for(this.fileHeaderList||this.parseFileHeader(),e=0,t=(i=this.fileHeaderList).length;e<t;++e)n[e]=i[e].filename;return n},ix.Unzip.prototype.decompress=function(e,t){var i;if(this.filenameToIndex||this.parseFileHeader(),void 0===(i=this.filenameToIndex[e]))throw new Error(e+" not found");return this.getFileData(i,t)},ix.Unzip.prototype.setPassword=function(e){this.password=e},ix.Unzip.prototype.decode=function(e,t){return t^=this.getByte(e),this.updateKeys(e,t),t},ix.Unzip.prototype.updateKeys=ix.Zip.prototype.updateKeys,ix.Unzip.prototype.createDecryptionKey=ix.Zip.prototype.createEncryptionKey,ix.Unzip.prototype.getByte=ix.Zip.prototype.getByte,ix.Util.stringToByteArray=function(e){var t,i,n=e.split("");for(t=0,i=n.length;t<i;t++)n[t]=(255&n[t].charCodeAt(0))>>>0;return n},ix.Adler32=function(e){return"string"==typeof e&&(e=ix.Util.stringToByteArray(e)),ix.Adler32.update(1,e)},ix.Adler32.update=function(e,t){for(var i,n=65535&e,o=e>>>16&65535,r=t.length,a=0;r>0;){r-=i=r>ix.Adler32.OptimizationParameter?ix.Adler32.OptimizationParameter:r;do{o+=n+=t[a++]}while(--i);n%=65521,o%=65521}return(o<<16|n)>>>0},ix.Adler32.OptimizationParameter=1024,ix.BitStream=function(e,t){if(this.index="number"==typeof t?t:0,this.bitindex=0,this.buffer=e instanceof Uint8Array?e:new Uint8Array(ix.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},ix.BitStream.DefaultBlockSize=32768,ix.BitStream.prototype.expandBuffer=function(){var e=this.buffer,t=e.length,i=new Uint8Array(t<<1);return i.set(e),this.buffer=i},ix.BitStream.prototype.writeBits=function(e,t,i){var n,o=this.buffer,r=this.index,a=this.bitindex,s=o[r];if(i&&t>1&&(e=t>8?function(e){return ix.BitStream.ReverseTable[255&e]<<24|ix.BitStream.ReverseTable[e>>>8&255]<<16|ix.BitStream.ReverseTable[e>>>16&255]<<8|ix.BitStream.ReverseTable[e>>>24&255]}(e)>>32-t:ix.BitStream.ReverseTable[e]>>8-t),t+a<8)s=s<<t|e,a+=t;else for(n=0;n<t;++n)s=s<<1|e>>t-n-1&1,8==++a&&(a=0,o[r++]=ix.BitStream.ReverseTable[s],s=0,r===o.length&&(o=this.expandBuffer()));o[r]=s,this.buffer=o,this.bitindex=a,this.index=r},ix.BitStream.prototype.finish=function(){var e=this.buffer,t=this.index;return this.bitindex>0&&(e[t]<<=8-this.bitindex,e[t]=ix.BitStream.ReverseTable[e[t]],t++),e.subarray(0,t)},ix.BitStream.ReverseTable=function(){var e,t=new Uint8Array(256);for(e=0;e<256;++e)t[e]=function(e){var t=e,i=7;for(e>>>=1;e;e>>>=1)t<<=1,t|=1&e,--i;return(t<<i&255)>>>0}(e);return t}(),ix.CRC32.calc=function(e,t,i){return ix.CRC32.update(e,0,t,i)},ix.CRC32.update=function(e,t,i,n){var o=ix.CRC32.Table,r="number"==typeof i?i:i=0,a="number"==typeof n?n:e.length;for(t^=4294967295,r=7&a;r--;++i)t=t>>>8^o[255&(t^e[i])];for(r=a>>3;r--;i+=8)t=(t=(t=(t=(t=(t=(t=(t=t>>>8^o[255&(t^e[i])])>>>8^o[255&(t^e[i+1])])>>>8^o[255&(t^e[i+2])])>>>8^o[255&(t^e[i+3])])>>>8^o[255&(t^e[i+4])])>>>8^o[255&(t^e[i+5])])>>>8^o[255&(t^e[i+6])])>>>8^o[255&(t^e[i+7])];return(4294967295^t)>>>0},ix.CRC32.single=function(e,t){return(ix.CRC32.Table[255&(e^t)]^e>>>8)>>>0},ix.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],ix.CRC32.Table=new Uint32Array(ix.CRC32.Table_),ix.Deflate=function(e,t){this.input=e,this.output=new Uint8Array(ix.Deflate.DefaultBufferSize),this.compressionType=ix.Deflate.CompressionType.DYNAMIC,this.rawDeflate;var i,n={};for(i in!t&&(t={})||"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t)n[i]=t[i];n.outputBuffer=this.output,this.rawDeflate=new ix.RawDeflate(this.input,n)},ix.Deflate.DefaultBufferSize=32768,ix.Deflate.CompressionType=ix.RawDeflate.CompressionType,ix.Deflate.compress=function(e,t){return new ix.Deflate(e,t).compress()},ix.Deflate.prototype.compress=function(){var e,t,i,n,o,r,a=0;if(r=this.output,(e=ix.CompressionMethod.DEFLATE)!==ix.CompressionMethod.DEFLATE)throw new Error("invalid compression method");if(t=Math.LOG2E*Math.log(ix.RawDeflate.WindowSize)-8<<4|e,r[a++]=t,e!==ix.CompressionMethod.DEFLATE)throw new Error("invalid compression method");switch(this.compressionType){case ix.Deflate.CompressionType.NONE:n=0;break;case ix.Deflate.CompressionType.FIXED:n=1;break;case ix.Deflate.CompressionType.DYNAMIC:n=2;break;default:throw new Error("unsupported compression type")}return i=n<<6,i|=31-(256*t+i)%31,r[a++]=i,o=ix.Adler32(this.input),this.rawDeflate.op=a,a=(r=this.rawDeflate.compress()).length,(r=new Uint8Array(r.buffer)).length<=a+4&&(this.output=new Uint8Array(r.length+4),this.output.set(r),r=this.output),(r=r.subarray(0,a+4))[a++]=o>>24&255,r[a++]=o>>16&255,r[a++]=o>>8&255,r[a++]=255&o,r};class rx{constructor(e){this.file=e}async read(e,t){const i=this.file;return void 0!==e?i.slice(e,e+t).arrayBuffer():i.arrayBuffer()}}"undefined"!=typeof process&&null!=process.versions&&process.versions.node;class ax{constructor(e){var t;this.config=e,this.url=(t=e.path||e.url).includes("//www.dropbox.com")?t.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):t.startsWith("ftp://ftp.ncbi.nlm.nih.gov")?t.replace("ftp://","https://"):t}async read(e,t){t=Math.ceil(t);const i=this.config.headers||{},n="bytes="+e+"-"+(e+t-1);i.Range=n;let o=this.url.slice();if(this.config.oauthToken){const e=async function(e){return"function"==typeof e?await Promise.resolve(e()):e}(this.config.oauthToken);i.Authorization=`Bearer ${e}`}this.config.apiKey&&(o=function(e,t,i){const n=e.includes("?")?"&":"?";return e+n+t+"="+i}(o,"key",this.config.apiKey));const r=await fetch(o,{method:"GET",headers:i,redirect:"follow",mode:"cors"}),a=r.status;if(a>=400){console.error(`${a}  ${this.config.url}`);const e=Error(r.statusText);throw e.code=a,e}return r.arrayBuffer()}}class sx{constructor(e,t){this.file=e,this.rateLimiter=t}async read(e,t){const i=this.file,n=this.rateLimiter;return new Promise((function(o,r){n.limiter((async function(i){try{const n=await i.read(e,t);o(n)}catch(e){r(e)}}))(i)}))}}class cx{constructor(e){this.file=e.file,this.size=e.size||64e3,this.position=0,this.bufferStart=0,this.bufferLength=0,this.buffer=void 0}async read(e,t){const i=e,n=e+t,o=this.bufferStart,r=this.bufferStart+this.bufferLength;if(t>this.size)return this.buffer=void 0,this.bufferStart=0,this.bufferLength=0,this.file.read(e,t);if(i>=o&&n<=r){const e=i-o,n=e+t;return this.buffer.slice(e,n)}if(i<o&&n>o){const n=o-i,r=await this.file.read(e,n),a=t-n;if(a>0){const e=this.buffer.slice(0,a);return lx(r,e)}return r}if(!(i<r&&n>r))return this.buffer=await this.file.read(e,this.size),this.bufferStart=e,this.bufferLength=this.buffer.byteLength,this.buffer.slice(0,t);{const e=r-i,n=this.bufferLength-e,o=this.buffer.slice(n,this.bufferLength),a=t-e;if(!(a>0))return o;try{this.buffer=await this.file.read(r,this.size),this.bufferStart=r,this.bufferLength=this.buffer.byteLength;const e=this.buffer.slice(0,a);return lx(o,e)}catch(e){if(e.code&&416===e.code)return o;throw e}}}}var lx=function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i.buffer};const hx=function(e,t){this.littleEndian=void 0===t||t,this.position=0,this.view=e,this.length=e.byteLength};function dx(e,t){this.block=e,this.offset=t}hx.prototype.available=function(){return this.length-this.position},hx.prototype.remLength=function(){return this.length-this.position},hx.prototype.hasNext=function(){return this.position<this.length-1},hx.prototype.getByte=function(){var e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e},hx.prototype.getShort=function(){var e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e},hx.prototype.getUShort=function(){var e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e},hx.prototype.getInt=function(){var e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e},hx.prototype.getUInt=function(){var e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e},hx.prototype.getLong=function(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);var t=0;if(this.littleEndian)for(var i=e.length-1;i>=0;i--)t=256*t+e[i];else for(i=0;i<e.length;i++)t=256*t+e[i];return this.position+=8,t},hx.prototype.getString=function(e){for(var t,i="";0!=(t=this.view.getUint8(this.position++))&&(i+=String.fromCharCode(t),!e||i.length!=e););return i},hx.prototype.getFixedLengthString=function(e){var t,i,n="";for(t=0;t<e;t++)(i=this.view.getUint8(this.position++))>0&&(n+=String.fromCharCode(i));return n},hx.prototype.getFixedLengthTrimmedString=function(e){var t,i,n="";for(t=0;t<e;t++)(i=this.view.getUint8(this.position++))>32&&(n+=String.fromCharCode(i));return n},hx.prototype.getFloat=function(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e},hx.prototype.getDouble=function(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e},hx.prototype.skip=function(e){return this.position+=e,this.position},hx.prototype.getVPointer=function(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),i=4294967296*(255&this.view.getUint8(e+6))+16777216*(255&this.view.getUint8(e+5))+65536*(255&this.view.getUint8(e+4))+256*(255&this.view.getUint8(e+3))+(255&this.view.getUint8(e+2));return this.position+=8,new dx(i,t)},dx.prototype.isLessThan=function(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset},dx.prototype.isGreaterThan=function(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset},dx.prototype.print=function(){return this.block+":"+this.offset};class fx{constructor(e,t){this.chr1=e,this.chr2=t}getKey(){return this.chr1.name+"_"+this.chr2.name+"_"+this.zoom.unit+"_"+this.zoom.binSize}getBlockNumbers(e,t,i){if(e.chr==this.chr2&&t.chr===this.chr1){const i=e;e=t,t=i}const n=this.chr1===this.chr2,o=this.zoom.binSize,r=this.blockBinCount,a=this.blockColumnCount;return i<9||!n?function(){const i=e.start/o,s=e.end/o,c=t.start/o,l=t.end/o,h=Math.floor(i/r),d=Math.floor((s-1)/r),f=Math.floor(c/r),u=Math.floor((l-1)/r),p=[];for(let e=f;e<=u;e++)for(let t=h;t<=d;t++){let i;i=n&&e<t?t*a+e:e*a+t,p.includes(i)||p.push(i)}return p}():function(){const i=e.start/o,n=e.end/o,s=t.start/o,c=t.end/o,l=Math.floor((i+s)/2/r),h=Math.floor((n+c)/2/r),d=Math.floor(Math.log2(1+Math.abs(i-c)/Math.sqrt(2)/r)),f=Math.floor(Math.log2(1+Math.abs(n-s)/Math.sqrt(2)/r)),u=(n-s)*(i-c)<0?0:Math.min(d,f),p=Math.max(d,f),m=[];for(let e=u;e<=p;e++)for(let t=l;t<=h;t++){const i=e*a+t;m.push(i)}return m}()}static parseMatrixZoomData(e,t,i){const n=new fx(e,t),o=i.getString(),r=i.getInt(),a=i.getFloat(),s=i.getFloat(),c=i.getFloat(),l=i.getFloat(),h=i.getInt();n.blockBinCount=i.getInt(),n.blockColumnCount=i.getInt();const d=i.getInt();n.zoom={index:r,unit:o,binSize:h},n.blockIndex=new ux(d,i);const f=a/(e.size/h)/(t.size/h);return n.averageCount=f,n.sumCounts=a,n.stdDev=c,n.occupiedCellCount=s,n.percent95=l,n}}class ux{constructor(e,t){for(this.blockIndex={};e-- >0;){const e=t.getInt(),i=t.getLong(),n=t.getInt();this.blockIndex[e]={filePosition:i,size:n}}}getBlockIndexEntry(e){return this.blockIndex[e]}}class px{constructor(e,t,i){this.chr1=e,this.chr2=t,this.bpZoomData=[],this.fragZoomData=[];for(let e of i)"BP"===e.zoom.unit?this.bpZoomData.push(e):this.fragZoomData.push(e)}findZoomForResolution(e,t){const i="FRAG"===t?this.fragZoomData:this.bpZoomData;for(let t=1;t<i.length;t++){if(i[t].zoom.binSize<e)return t-1}return i.length-1}getZoomData(e,t){const i="BP"===(t=t||"BP")?this.bpZoomData:this.fragZoomData;for(let t=0;t<i.length;t++){var n=i[t];if(e===n.zoom.binSize)return n}}getZoomDataByIndex(e,t){return("FRAG"===t?this.fragZoomData:this.bpZoomData)[e]}static getKey(e,t){if(e>t){const i=e;e=t,t=i}return`${e}_${t}`}static parseMatrix(e,t){const i=new hx(new DataView(e)),n=i.getInt(),o=i.getInt(),r=t[n],a=t[o];let s=i.getInt();const c=[];for(;s-- >0;){const e=fx.parseMatrixZoomData(r,a,i);c.push(e)}return new px(n,o,c)}}class mx{constructor(e,t,i){this.bin1=e,this.bin2=t,this.counts=i}getKey(){return this.bin1+"_"+this.bin2}}class gx{constructor(e=10){this.max=e,this.map=new Map}get(e){let t=this.map.get(e);return t&&(this.map.delete(e),this.map.set(e,t)),t}set(e,t){this.map.has(e)?this.map.delete(e):this.map.size===this.max&&this.map.delete(this.first()),this.map.set(e,t)}has(e){return this.map.has(e)}clear(){this.map.clear()}first(){return this.map.keys().next().value}}class wx{constructor(e,t,i,n){this.file=e,this.filePosition=t,this.nValues=i,this.dataType=n,this.cache=void 0}async getValues(e,t){if(!this.cache||e<this.cache.start||t>this.cache.end){const i=Math.max(0,e-1e3),n=Math.min(this.nValues,t+1e3),o=this.filePosition+i*this.dataType,r=n-i,a=r*this.dataType,s=await this.file.read(o,a);if(!s)return;const c=new hx(new DataView(s)),l=[];for(let e=0;e<r;e++)l[e]=8===this.dataType?c.getDouble():c.getFloat();this.cache={start:i,end:n,values:l}}const i=e-this.cache.start,n=i+(t-e);return this.cache.values.slice(i,n)}getKey(){return wx.getKey(this.type,this.chrIdx,this.unit,this.resolution)}static getNormalizationVectorKey(e,t,i,n){return e+"_"+t+"_"+i+"_"+n}}var Fx={"hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fcombined.hic":"54386046426,55860","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fprimary.hic":"33860030033,37504","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Freplicate.hic":"30849652794,55832","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fmaternal.hic":"1380542661,17185","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fpaternal.hic":"1389001777,17185","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2Fcombined.hic":"13433880319,35723","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC001.hic":"3409347253,35975","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC002.hic":"4529947083,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC003.hic":"6894962500,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC004.hic":"3395593338,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC005.hic":"5204128636,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC006.hic":"3278363811,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC007.hic":"3585547340,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC008.hic":"4134197273,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC009.hic":"2851728310,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC010.hic":"1754216102,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC011.hic":"1716829574,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC012.hic":"4367980375,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC013.hic":"2309654671,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC014.hic":"5324950266,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC015.hic":"3132333594,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC016.hic":"3159154704,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC017.hic":"3262554627,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC018.hic":"3014216364,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC019.hic":"5025753246,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC020.hic":"5861584507,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC021.hic":"3542263275,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC022.hic":"5061949378,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC023.hic":"4816423919,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC024.hic":"2683781104,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC025.hic":"6522701781,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC026.hic":"6748846520,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC027.hic":"5642693007,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC028.hic":"2098921691,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC029.hic":"3886454027,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fagar%2FHIC030.hic":"2288984204,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fagar%2FHIC031.hic":"2115342419,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fpellet%2FHIC032.hic":"2063314324,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fsupernatant%2FHIC033.hic":"1933908457,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC034.hic":"13555514595,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC035.hic":"6129650900,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC036.hic":"4307445019,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC037.hic":"9375139867,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2Fcombined.hic":"11664249584,33929","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fcombined_DpnII.hic":"7003537290,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC038.hic":"2099825544,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC039.hic":"2096900138,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC040.hic":"2593642141,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC041.hic":"2263919098,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC042.hic":"2684774693,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fcombined_noXlink.hic":"5574807456,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC043.hic":"2986114347,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC044.hic":"1916378621,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC045.hic":"746463126,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC046.hic":"2338476164,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC047.hic":"1167496250,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC048.hic":"2231690794,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC049.hic":"2782308678,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC050.hic":"3633531346,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC051.hic":"4063486444,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC052.hic":"929756278,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC053.hic":"2489657204,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC054.hic":"4036419444,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC055.hic":"4284185549,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC056.hic":"4410546240,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fdilution%2FHIC057.hic":"1491998259,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2Fcombined.hic":"7266425111,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC058.hic":"6532635593,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC059.hic":"400684530,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC060.hic":"645352187,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC061.hic":"736291871,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC062.hic":"762731037,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC063.hic":"682917431,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fdilution%2FHIC064.hic":"4550171307,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2Fcombined.hic":"11897184911,35789","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2FHIC065.hic":"5425943567,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2FHIC066.hic":"5942869818,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2FHIC067.hic":"5191049261,35647","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fdilution%2FHIC068.hic":"2713318801,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2Fcombined.hic":"12641555389,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC069.hic":"5630177461,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC070.hic":"5926611269,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC071.hic":"2486191351,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC072.hic":"2281343366,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC073.hic":"2173074239,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC074.hic":"2463700999,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2Fcombined.hic":"14661922519,35639","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC075.hic":"3685310515,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC076.hic":"5833658487,35891","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC077.hic":"2406346486,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC078.hic":"5241454987,35919","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC079.hic":"6297234263,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2Fcombined.hic":"9193858096,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2FHIC080.hic":"5171405536,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2FHIC081.hic":"3489767688,35891","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2FHIC082.hic":"4243339375,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fdilution%2FHIC083.hic":"1497495406,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2Fcombined.hic":"7923332224,35593","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC084.hic":"867699123,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC085.hic":"3669518514,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC086.hic":"5306474712,35595","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC087.hic":"1490963755,36397","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2Fcombined.hic":"8956382853,50248","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC088.hic":"1874185366,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC089.hic":"1301165236,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC090.hic":"1105246282,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC091.hic":"1338325770,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC092.hic":"1307918730,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC093.hic":"755136918,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC094.hic":"1606583694,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC095.hic":"2039711245,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC096.hic":"1909573053,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC097.hic":"1826710712,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC098.hic":"1998793575,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC099.hic":"1007740962,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC100.hic":"736464120,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC101.hic":"980505082,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC102.hic":"1116083646,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fdilution%2FHIC103.hic":"1096994310,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fdilution%2FHIC104.hic":"841063882,32102","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC105.hic":"107742864,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC106.hic":"134295912,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC107.hic":"110228014,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC108.hic":"102761401,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC109.hic":"100461491,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC110.hic":"88828472,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC111.hic":"81471064,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC112.hic":"92297035,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC113.hic":"65503916,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC114.hic":"49181188,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC115.hic":"46471102,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC116.hic":"64284432,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC117.hic":"60434076,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC118.hic":"45248563,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC119.hic":"60288782,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC120.hic":"136888414,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC121.hic":"125009003,33681","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC122.hic":"154011688,34127","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC123.hic":"177663372,35293","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC124.hic":"382186226,35245","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC125.hic":"158160717,35271","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC127.hic":"110261177,34659","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC128.hic":"246131875,35509","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC129.hic":"260160119,35667","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC130.hic":"117479562,34681","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC131.hic":"81508929,34673","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC132.hic":"105959102,34895","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC133.hic":"91504812,33451","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC134.hic":"52222546,33737","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC135.hic":"57763085,34159","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC136.hic":"50618489,33731","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC137.hic":"193163606,33363","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC138.hic":"229876152,33777","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC139.hic":"201783666,33571","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC140.hic":"281163862,34125","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC141.hic":"275969727,33935","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC142.hic":"275020431,34125","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC144.hic":"223834810,34177","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC145.hic":"296632653,33937","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC146.hic":"290945216,33961","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC147.hic":"234459964,34231","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC148.hic":"295457850,34039","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC149.hic":"113569632,35695","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC150.hic":"304381897,33963","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC151.hic":"289314545,33805","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC152.hic":"284320182,33803","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC153.hic":"401393947,34659","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC154.hic":"188065488,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC155.hic":"299157119,33967","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC156.hic":"279289244,33787","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC157.hic":"254852119,33917","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC158.hic":"195969660,33477","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC159.hic":"185720388,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC160.hic":"227709279,33599","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC161.hic":"157225076,33209","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC162.hic":"105703444,32033","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC163.hic":"122665658,32121","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC164.hic":"228048231,33761","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC165.hic":"114440819,32011","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC166.hic":"285147558,33891","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC167.hic":"363116754,33943","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC168.hic":"119592158,31937","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC169.hic":"236853872,33785","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC170.hic":"195187639,33395","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC171.hic":"208044058,33309","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC172.hic":"144645916,32877","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC173.hic":"119115941,32203","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC175.hic":"178030481,33525","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC176.hic":"117220136,32169","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC177.hic":"128586196,32659","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC178.hic":"191419141,33629","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC179.hic":"141556748,32959","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC180.hic":"199825102,33185","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC181.hic":"301022688,33783","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC182.hic":"185384453,33205","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC183.hic":"202189264,36367","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC184.hic":"37464475,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC185.hic":"161938278,36099","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC186.hic":"133853166,36179","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC188.hic":"128068030,36237","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC189.hic":"148053886,36177","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC190.hic":"198946958,35803","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC191.hic":"226584564,36063","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC192.hic":"194412797,36341","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC193.hic":"176408194,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC194.hic":"207215649,36055","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC195.hic":"175185530,36315","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC196.hic":"168969337,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC197.hic":"121231252,36339","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC198.hic":"92713752,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC199.hic":"105130500,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC200.hic":"114526350,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC201.hic":"122689717,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhap1%2Fin-situ%2Fcombined.hic":"9614983328,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fctbp_8_4_17%2Fall_intra_megabase_michrom.hic":"154205644,10960","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2Fdel-Xa-combined.hic":"8843305329,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FdelXa-chrX-diploid.hic":"11173520,1498","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FWT-combined.hic":"13365182403,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FWT-chrX-diploid.hic":"17343459,1498","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC002.hic":"4279298739,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC003.hic":"3027365532,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC004.hic":"2896130835,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC005.hic":"4717830071,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC006.hic":"5066210154,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC007.hic":"3069516128,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2Fdel-Xi-combined.hic":"14551096423,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FdelXi-chrX-diploid.hic":"17362477,1498","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC008.hic":"2572386655,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC009.hic":"2935931663,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC010.hic":"2019085070,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC011.hic":"6087610814,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC012.hic":"2809618194,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC013.hic":"2572386655,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2Fcombined.hic":"6950423609,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2Fpaternal.hic":"220592749,15691","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2Fmaternal.hic":"323233095,15691","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC014.hic":"3183235800,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC015.hic":"1739539801,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC016.hic":"1105912758,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC017.hic":"1060773319,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC018.hic":"1203679874,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC019.hic":"3321955269,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Frhesus%2FDarrowHuntley-2015%2FHIC020.hic":"7108980626,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fcola%2FDarrowHuntley-2015%2FHIC021.hic":"3906448676,34955","hicfiles.s3.amazonaws.com%2Fhiseq%2Fassembly%2Faedes%2Fcombined.hic":"390780490,2245","hicfiles.s3.amazonaws.com%2Fhiseq%2Fassembly%2Fhs2-hic.hic":"1960284186,33561","hicfiles.s3.amazonaws.com%2Fhiseq%2Fassembly%2FCpipJ3.hic":"766279097,4381","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fphanstiel%2Fupdated_O%2FSnyder_O.hic":"8046980555,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fphanstiel%2FA_inter.hic":"10986005145,18679","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2Fcombined.hic":"30439217680,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2Fcombined.hic":"33255540403,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F20min_withdraw_combined.hic":"11078436933,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F40min_withdraw_combined.hic":"11031830038,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F60min_withdraw_combined.hic":"10312725340,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F180min_withdraw_combined.hic":"10038610214,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC001.hic":"8004335785,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC002.hic":"8453215933,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC003.hic":"9118406189,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC004.hic":"5973342894,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC005.hic":"6846576837,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC006.hic":"6075148017,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC007.hic":"8192366992,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC008.hic":"6844159653,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC009.hic":"7282063059,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC010.hic":"10410578833,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC011.hic":"8192366992,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC012.hic":"7223422850,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC013.hic":"7435986997,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC014.hic":"9120113605,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2Fcombined.hic":"4170577904,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC015.hic":"1504084990,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC016.hic":"1686244500,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC017.hic":"1804802410,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC018.hic":"1533942067,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2Fcombined.hic":"4572390198,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC019.hic":"1543609666,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC020.hic":"1814133288,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC021.hic":"1942698243,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC022.hic":"1873587413,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Funtreated%2FRao-2017-HIC049.hic":"405127557,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Funtreated%2FRao-2017-HIC060.hic":"326681741,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Funtreated%2FRao-2017-HIC061.hic":"300908673,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_20min%2FRao-2017-HIC050.hic":"481758242,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_20min%2FRao-2017-HIC051.hic":"417577401,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_40min%2FRao-2017-HIC052.hic":"419353227,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_40min%2FRao-2017-HIC053.hic":"411554953,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_60min%2FRao-2017-HIC054.hic":"386655891,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_60min%2FRao-2017-HIC055.hic":"402170701,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_240min%2FRao-2017-HIC057.hic":"735906308,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC058.hic":"443789827,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC059.hic":"491422615,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC062.hic":"320261375,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC063.hic":"306590499,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_20min%2FRao-2017-HIC032S.hic":"367051742,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_20min%2FRao-2017-HIC033S.hic":"344555339,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_40min%2FRao-2017-HIC036S.hic":"349392947,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_40min%2FRao-2017-HIC037S.hic":"317714554,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_60min%2FRao-2017-HIC040S.hic":"266786397,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_60min%2FRao-2017-HIC041S.hic":"279445530,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_180min%2FRao-2017-HIC044S.hic":"898418269,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_180min%2FRao-2017-HIC045S.hic":"961006347,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_360min%2FRao-2017-HIC064.hic":"833576408,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_360min%2FRao-2017-HIC065.hic":"840881418,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1080min%2FRao-2017-HIC066.hic":"980958864,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1080min%2FRao-2017-HIC067.hic":"882023129,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1440min%2FRao-2017-HIC068.hic":"1110292630,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1440min%2FRao-2017-HIC069.hic":"1001747023,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FCP190_HiChIP.hic":"144107588,6976","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FH3K27ac_HiChIP_combined.hic":"43171370,5233","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FH3K27me3_HiChIP_combined.hic":"42906472,5233","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FPol2_ChIAPET.hic":"41992430,6976","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FPol2S2_HiChIP.hic":"145842743,6976","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FArabidopsis_Wang2015_Liu2016.hic":"1134391078,4984","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FElegans_Crane2015.hic":"387127568,8758","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FNcrassa_Galazka2016.hic":"26555511,27725","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FPfalciparum_trophozoite_Ay2014.hic":"15640893,13948","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Me-A.hic":"6897251,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Me-B.hic":"4959088,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Mp-A.hic":"5232286,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Mp-B.hic":"5105292,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Me-A.hic":"6900072,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Me-B.hic":"8653258,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Mp-A.hic":"7999058,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Mp-B.hic":"8774657,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fh1hesc.hic":"23671753603,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fh1hesc_rep1.hic":"23671754721,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fh1hesc_rep2.hic":"22269909910,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fhffc6_rep1.hic":"19016661622,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FGM06990_NcoI.hic":"480725203,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2F302NH.hic":"99948617,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FK562.hic":"470263605,36151","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FGM06990_HindIII.hic":"293706559,36289","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FGM06990_rep_HindIII.hic":"309673862,36087","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fcanis-lupus-rep1.hic":"1531151371,56905","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fcanis-lupus-rep2.hic":"2851437676,56905","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fmouse-rep1.hic":"582052544,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fmacaque-rep1.hic":"698509182,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fmacaque-rep2.hic":"461410393,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Frabbit-rep1.hic":"691045338,33561","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Frabbit-rep2.hic":"668888336,33561","hicfiles.s3.amazonaws.com%2Fexternal%2Fsexton%2Fcombined.hic":"50650087,4486","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Ftcc-hindiii.hic":"1071142023,16500","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Ftcc-mboi.hic":"1508851093,16448","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Fnon-tcc-hindiii.hic":"395179229,36093","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Ftcc-combined.hic":"1050423847,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fmm9-hindiii%2Fsplit-read-run.hic":"9599984876,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fhesc-hindiii.hic":"1952555632,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fimr90-hindiii.hic":"9691260435,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fmm9-cortex.hic":"3712072953,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fatm-i-scei-chr18.hic":"2083350075,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fatm-i-scei-chr2.hic":"3362049644,16360","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fatm-i-scei-chr7.hic":"1658399854,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fwt-i-scei-chr15.hic":"866691249,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fwt-i-scei-chr2.hic":"3304782795,16386","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-1.hic":"23673506,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-2.hic":"26873280,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-3.hic":"31066362,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-4.hic":"16807724,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-5.hic":"28665065,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-6.hic":"13124158,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-7.hic":"15118945,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-8.hic":"68316814,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-9.hic":"18965101,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-10.hic":"17020666,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Fcombined.hic":"6526601242,36427","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep1.hic":"1861562891,36401","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep2.hic":"3061013635,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep3.hic":"1564588211,35969","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep4.hic":"1255543175,36153","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep5.hic":"974683253,36179","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep6.hic":"1040805629,36053","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Fcombined.hic":"8424080116,36401","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep1.hic":"2697976702,36295","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep3.hic":"1718610467,36159","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep4.hic":"2029519405,36101","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep5.hic":"985310855,36069","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep6.hic":"1418750480,35967","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Fmhh-call-4-cell-line.hic":"538380253,35351","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Fprimary-b-all.hic":"773764191,35793","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Fnormal-b-cell-line.hic":"336271459,35005","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Frl-cell-line.hic":"484807998,35351","hicfiles.s3.amazonaws.com%2Fexternal%2Fhou%2Fkc167-biorep.hic":"135932435,8758","hicfiles.s3.amazonaws.com%2Fexternal%2Fhou%2Fkc167-techrep1.hic":"160355961,8758","hicfiles.s3.amazonaws.com%2Fexternal%2Fhou%2Fkc167-techrep2.hic":"188809887,8758","hicfiles.s3.amazonaws.com%2Fexternal%2Flin%2Fpre-prob-egs.hic":"2237792858,15483","hicfiles.s3.amazonaws.com%2Fexternal%2Flin%2Fprob-egs.hic":"5744720377,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Flin%2Fprob-fa.hic":"2174866215,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fhct116-rnapii-pilot.hic":"396366166,35999","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fhela-rnapii-pilot.hic":"882516759,35107","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fk562-rnapii-pilot.hic":"1131576189,35969","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fk562-rnapii-saturated.hic":"571583828,36291","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fmcf7-rnapii-saturated.hic":"1282547841,36035","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fnb4-rnapii-pilot.hic":"761614686,34861","hicfiles.s3.amazonaws.com%2Fexternal%2Fjung%2Fmouse_sperm.hic":"1730231642,29184","hicfiles.s3.amazonaws.com%2Fexternal%2Ftang%2Fgm12878.hic":"1953518212,20505","hicfiles.s3.amazonaws.com%2Fexternal%2Frutledge%2FSRR1791299.hic":"5723484,11956","hicfiles.s3.amazonaws.com%2Fexternal%2Frutledge%2FSRR1791297.hic":"16534743,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-hrv.hic":"5094525579,36289","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-hrv-rep1.hic":"2574358912,36373","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-hrv-rep2.hic":"3417099433,36243","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-tev.hic":"4785157552,36323","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-tev-rep1.hic":"2648268465,36321","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-tev-rep2.hic":"2994727980,36107","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctcf.hic":"5391791815,36063","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctcf-rep1.hic":"3325842095,36269","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctcf-rep2.hic":"3096215920,36167","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctrl.hic":"3830902383,36167","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctrl-rep1.hic":"1346712252,36079","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctrl_rep2.hic":"3098067367,36271","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-0h-hiseq.hic":"38174042,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-18h-hiseq.hic":"26506099,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-18h-hiseq-non-crosslinked_control.hic":"3545496,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-36h-hiseq.hic":"70754194,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3%2Fg1mid-r1.hic":"200863476,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3%2Fm-r1.hic":"249021190,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3%2Fm-r2.hic":"212341157,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fg1-0-25fa.hic":"583572265,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fg1-1fa.hic":"354502306,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fm-0-25fa.hic":"149308791,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fm-98percent.hic":"778175225,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fm-1fa.hic":"158091047,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhff1%2Fcchic-hff1-ns-r1.hic":"801670039,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhff1%2Fcchic-hff1-m-r1.hic":"875922086,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fk562%2Fm-r1.hic":"130959943,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fk562%2Fm-r2.hic":"237861106,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-WT.hic":"496104039,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-WT-adv-cre.hic":"438608517,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-floxed-rep1.hic":"446205712,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-floxed-rep2.hic":"386354767,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-deleted-rep1.hic":"621998722,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-deleted-rep2.hic":"583840829,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-floxed-rep1.hic":"801290988,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-floxed-rep2.hic":"819406658,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-deleted-rep1.hic":"792825269,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-deleted-rep2.hic":"746189884,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-WT.hic":"309353372,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-WT-OHT.hic":"274229679,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21KO-R1.hic":"1490362251,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21KO-R3.hic":"2403664421,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21WT-R1.hic":"1377124538,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21WT-R3.hic":"2646201369,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fmoissiard%2Fcrh6-mutant.hic":"105261071,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fmoissiard%2FWT.hic":"127506388,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fgrob%2FCol.hic":"153638500,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fgrob%2Fcrwn1.hic":"211213220,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fgrob%2Fcrwn4.hic":"134236837,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fxie%2Fprimary.hic":"92936173,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt-control6wt337.hic":"318737891,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt-control6wt67.hic":"348123956,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt337.hic":"251107279,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt67.hic":"351840994,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2FCol0.hic":"345969497,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fclf28-swn7.hic":"299585025,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fcmt3-11.hic":"253427706,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fddm1-2.hic":"303626924,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fmet1-3.hic":"347697973,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fsuvh4-suvh5-suvh6.hic":"263122019,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FDNase-HiC-WG-K562.hic":"892955840,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FDNaseHiC-WG-H1.hic":"696922695,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-lincRNA-K562-rep1.hic":"341917716,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargeredDNaseHiC-lincRNA-K562-rep2.hic":"214841185,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-lincRNA-H1-rep1.hic":"616326137,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-lincRNA-H1-rep2.hic":"579654013,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-pe-H1-rep1.hic":"519810544,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-pe-K562-rep1.hic":"199553123,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Frowley%2FKc167_DpnII.hic":"1319373594,6976","hicfiles.s3.amazonaws.com%2Fexternal%2Frowley%2FKc167_HinfI.hic":"1465493873,6976","hicfiles.s3.amazonaws.com%2Fexternal%2Frowley%2FKc167_DpnII_HinfI_combo.hic":"753062558,5814","hicfiles.s3.amazonaws.com%2Fexternal%2Fbarutcu%2FMCF-10A.hic":"2784956115,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fbarutcu%2FMCF-7.hic":"2700457411,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fbatullin%2Fsperm.hic":"501052169,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2FWT_hiC_rep1.hic":"1450697530,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2FWT_hiC_rep2.hic":"1189371558,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2Fcombined.hic":"2262007875,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2Finactive.hic":"4444564,751","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2Factive.hic":"3993495,751","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_rep1.hic":"1650838357,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_rep2.hic":"1258038606,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski.hic":"499827296,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_active.hic":"79175714,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_inactive.hic":"98947881,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_dnase.hic":"4298088401,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_in_situ_dnase.hic":"609321852,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain.hic":"1028196506,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_active.hic":"79175714,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_inactive.hic":"98947881,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fle%2FBglII_rep1.hic":"1283306,1463","hicfiles.s3.amazonaws.com%2Fexternal%2Fle%2FBglII_rep2.hic":"1263227,1463","hicfiles.s3.amazonaws.com%2Fexternal%2Fle%2FNcoI_rep1.hic":"4380906,1463","hicfiles.s3.amazonaws.com%2Fexternal%2Feagen%2FGSE89112_Kc167combined.hic":"1829549643,25624","hicfiles.s3.amazonaws.com%2Fexternal%2Feagen%2FGSE89112_Kc167combined_randomized.hic":"1859742654,25624","hicfiles.s3.amazonaws.com%2Fexternal%2Fmumbach%2FGSE80820_HiChIP_GM_cohesin.hic":"1231264781,17932","hicfiles.s3.amazonaws.com%2Fexternal%2Fmumbach%2FGSE80820_HiChIP_mES_cohesin_all.hic":"1152008628,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fmumbach%2FGSE80820_HiChIP_mES_Oct4.hic":"912828146,16438","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FSCC4KO.hic":"1767906138,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FDKO.hic":"1487228787,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FWaplKO_1.14.hic":"1189751862,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FWaplKO_3.3.hic":"1155057696,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FWT.hic":"1522401568,18679","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2Fmega_Liverpool%2Fmega.hic":"2612171975,4381","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2FHIC2836_Liverpool1%2FLiverpool1.hic":"191729195,2245","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2FHIC2861_Liverpool2%2FLiverpool2.hic":"1637096030,4381","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2FHIC2862_Liverpool3%2FLiverpool3.hic":"1160045602,4381","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2FHSPC.hic":"11857786247,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2FHSPC_CanyonDel.hic":"8139168836,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2Ftcell.hic":"9871547081,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2Fep.hic":"17479335373,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2FTh1_ensemble.hic":"1690592868,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fbonev%2FES_mapq30.hic":"32930498831,32386","hicfiles.s3.amazonaws.com%2Fexternal%2Fbonev%2FNPC_mapq30.hic":"55053730986,32386","hicfiles.s3.amazonaws.com%2Fexternal%2Fbonev%2FCN_mapq30.hic":"53138031154,32386","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-activated_B_cells_72_hours_WT.hic":"16492991184,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-resting_B_cells_WT.hic":"23057795398,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-activated_B_cells_24_hours_MYC_KO.hic":"21245554876,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-resting_B_cells_TSA.hic":"13933346059,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-activated_B_cells_24_hours_oligomycin.hic":"21902506832,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-mES_WT.hic":"9451969795,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_24_hours_WT.hic":"3600188564,16438","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_30_hours_WT.hic":"1309503359,16438","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_30_hours_HU_treated.hic":"1477252396,16438","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_24_hours_flavopiridol.hic":"15711773490,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FPGP1F_mega_090118%2FPGP1F_mega_090118_30.hic":"24786676166,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7145%2FHIC7145_30.hic":"4554644616,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7146%2FHIC7146_30.hic":"4174848944,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7147%2FHIC7147_30.hic":"5062229182,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7862%2FHIC7862_30.hic":"4520990620,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7863%2FHIC7863_30.hic":"4330354773,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7864%2FHIC7864_30.hic":"5880640268,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7865%2FHIC7865_30.hic":"4431632469,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7866%2FHIC7866_30.hic":"4686000222,36479","encode-public.s3.amazonaws.com%2F2018%2F10%2F19%2Fb122542b-306c-4631-bdc3-2e155e89af55%2FENCFF718AWL.hic":"39544267907,58932","encode-public.s3.amazonaws.com%2F2019%2F02%2F15%2F8e787cd8-e388-4bc2-a236-7a5e6f39e0c0%2FENCFF999YXX.hic":"9255069996,56883","encode-public.s3.amazonaws.com%2F2019%2F02%2F08%2Ffc1d9d5d-8fa0-4e29-9080-3da674d9490d%2FENCFF543USQ.hic":"5005263062,36479","s3.us-east-1.wasabisys.com%2Fhicfiles%2Finternal%2FLCL_mega_42B_500bp_30.hic":"106482584851,22829","www.encodeproject.org%2Ffiles%2FENCFF925QIF%2F%40%40download%2FENCFF925QIF.hic":"51712684396,54779","www.encodeproject.org%2Ffiles%2FENCFF259YUS%2F%40%40download%2FENCFF259YUS.hic":"24640030444,54779","www.encodeproject.org%2Ffiles%2FENCFF783KQI%2F%40%40download%2FENCFF783KQI.hic":"27209249856,54779","www.encodeproject.org%2Ffiles%2FENCFF318JAP%2F%40%40download%2FENCFF318JAP.hic":"28636979242,54779","www.encodeproject.org%2Ffiles%2FENCFF512PQA%2F%40%40download%2FENCFF512PQA.hic":"28124104361,54779","www.encodeproject.org%2Ffiles%2FENCFF591MHA%2F%40%40download%2FENCFF591MHA.hic":"37373387202,54779","www.encodeproject.org%2Ffiles%2FENCFF197OWW%2F%40%40download%2FENCFF197OWW.hic":"41826180893,54779","www.encodeproject.org%2Ffiles%2FENCFF317OIA%2F%40%40download%2FENCFF317OIA.hic":"34741636038,54779","www.encodeproject.org%2Ffiles%2FENCFF522YLZ%2F%40%40download%2FENCFF522YLZ.hic":"24064692329,54779","www.encodeproject.org%2Ffiles%2FENCFF420JTA%2F%40%40download%2FENCFF420JTA.hic":"21202405177,54779","www.encodeproject.org%2Ffiles%2FENCFF871ZDJ%2F%40%40download%2FENCFF871ZDJ.hic":"10124815680,18679","www.encodeproject.org%2Ffiles%2FENCFF349RZY%2F%40%40download%2FENCFF349RZY.hic":"4446702705,36479","www.encodeproject.org%2Ffiles%2FENCFF738YON%2F%40%40download%2FENCFF738YON.hic":"3338049584,35947","www.encodeproject.org%2Ffiles%2FENCFF406KJN%2F%40%40download%2FENCFF406KJN.hic":"4132875306,36479","www.encodeproject.org%2Ffiles%2FENCFF081NPN%2F%40%40download%2FENCFF081NPN.hic":"34495587443,54779","www.encodeproject.org%2Ffiles%2FENCFF946RZW%2F%40%40download%2FENCFF946RZW.hic":"34571955193,54779","www.encodeproject.org%2Ffiles%2FENCFF602CHT%2F%40%40download%2FENCFF602CHT.hic":"30674798032,54779","www.encodeproject.org%2Ffiles%2FENCFF150DKS%2F%40%40download%2FENCFF150DKS.hic":"12618769864,36479","www.encodeproject.org%2Ffiles%2FENCFF614IPZ%2F%40%40download%2FENCFF614IPZ.hic":"42450060331,54779","www.encodeproject.org%2Ffiles%2FENCFF571ZQR%2F%40%40download%2FENCFF571ZQR.hic":"15230068871,47429","www.encodeproject.org%2Ffiles%2FENCFF705MKK%2F%40%40download%2FENCFF705MKK.hic":"38686554702,54779","www.encodeproject.org%2Ffiles%2FENCFF658KTB%2F%40%40download%2FENCFF658KTB.hic":"13195884405,47429","www.encodeproject.org%2Ffiles%2FENCFF435JYN%2F%40%40download%2FENCFF435JYN.hic":"17192139674,54779","www.encodeproject.org%2Ffiles%2FENCFF016JKX%2F%40%40download%2FENCFF016JKX.hic":"37266736642,54779","www.encodeproject.org%2Ffiles%2FENCFF294GFP%2F%40%40download%2FENCFF294GFP.hic":"36389843399,54779","www.encodeproject.org%2Ffiles%2FENCFF700CYI%2F%40%40download%2FENCFF700CYI.hic":"60482012152,54779","www.encodeproject.org%2Ffiles%2FENCFF962EDB%2F%40%40download%2FENCFF962EDB.hic":"39394328182,54779","www.encodeproject.org%2Ffiles%2FENCFF467OGP%2F%40%40download%2FENCFF467OGP.hic":"35572788855,54779","www.encodeproject.org%2Ffiles%2FENCFF556RLR%2F%40%40download%2FENCFF556RLR.hic":"34826921187,54779","www.encodeproject.org%2Ffiles%2FENCFF309UNV%2F%40%40download%2FENCFF309UNV.hic":"48510618174,54779","www.encodeproject.org%2Ffiles%2FENCFF653HCO%2F%40%40download%2FENCFF653HCO.hic":"41079007620,54779","www.encodeproject.org%2Ffiles%2FENCFF120DSV%2F%40%40download%2FENCFF120DSV.hic":"12790195576,47429","www.encodeproject.org%2Ffiles%2FENCFF284OEA%2F%40%40download%2FENCFF284OEA.hic":"46007570339,54779","www.encodeproject.org%2Ffiles%2FENCFF035BLF%2F%40%40download%2FENCFF035BLF.hic":"63868871985,54779","www.encodeproject.org%2Ffiles%2FENCFF094KKX%2F%40%40download%2FENCFF094KKX.hic":"42151419971,54779","www.encodeproject.org%2Ffiles%2FENCFF965BPU%2F%40%40download%2FENCFF965BPU.hic":"42717376107,54779","www.encodeproject.org%2Ffiles%2FENCFF842DUO%2F%40%40download%2FENCFF842DUO.hic":"39553892515,54779","www.encodeproject.org%2Ffiles%2FENCFF417GBZ%2F%40%40download%2FENCFF417GBZ.hic":"45544785452,54779","www.encodeproject.org%2Ffiles%2FENCFF499BVX%2F%40%40download%2FENCFF499BVX.hic":"40900674170,54779","www.encodeproject.org%2Ffiles%2FENCFF136XCV%2F%40%40download%2FENCFF136XCV.hic":"47700392974,54779","www.encodeproject.org%2Ffiles%2FENCFF224HKR%2F%40%40download%2FENCFF224HKR.hic":"40426005932,54779","www.encodeproject.org%2Ffiles%2FENCFF711XSR%2F%40%40download%2FENCFF711XSR.hic":"41434581949,54779","www.encodeproject.org%2Ffiles%2FENCFF660JWA%2F%40%40download%2FENCFF660JWA.hic":"54201632697,54779","www.encodeproject.org%2Ffiles%2FENCFF081PMO%2F%40%40download%2FENCFF081PMO.hic":"53428285130,54779","www.encodeproject.org%2Ffiles%2FENCFF799QGA%2F%40%40download%2FENCFF799QGA.hic":"1228682189,36479","www.encodeproject.org%2Ffiles%2FENCFF473CAA%2F%40%40download%2FENCFF473CAA.hic":"1077514950,36479","www.encodeproject.org%2Ffiles%2FENCFF663FRL%2F%40%40download%2FENCFF663FRL.hic":"39843938245,54779","www.encodeproject.org%2Ffiles%2FENCFF341WOY%2F%40%40download%2FENCFF341WOY.hic":"34792598619,54779","www.encodeproject.org%2Ffiles%2FENCFF515ZBF%2F%40%40download%2FENCFF515ZBF.hic":"41779230923,54779","www.encodeproject.org%2Ffiles%2FENCFF545GBW%2F%40%40download%2FENCFF545GBW.hic":"38351980358,54779","www.encodeproject.org%2Ffiles%2FENCFF252ANV%2F%40%40download%2FENCFF252ANV.hic":"37668839771,54779","www.encodeproject.org%2Ffiles%2FENCFF912NDK%2F%40%40download%2FENCFF912NDK.hic":"21196851956,54779","www.encodeproject.org%2Ffiles%2FENCFF683PLM%2F%40%40download%2FENCFF683PLM.hic":"21849338763,54779","www.encodeproject.org%2Ffiles%2FENCFF355NFJ%2F%40%40download%2FENCFF355NFJ.hic":"47880627268,54779","www.encodeproject.org%2Ffiles%2FENCFF507WEW%2F%40%40download%2FENCFF507WEW.hic":"35777782924,54779","www.encodeproject.org%2Ffiles%2FENCFF241MSL%2F%40%40download%2FENCFF241MSL.hic":"22507408288,54779","www.encodeproject.org%2Ffiles%2FENCFF135MUT%2F%40%40download%2FENCFF135MUT.hic":"24168734040,54779","www.encodeproject.org%2Ffiles%2FENCFF459FRB%2F%40%40download%2FENCFF459FRB.hic":"37166770103,54779","www.encodeproject.org%2Ffiles%2FENCFF705YZH%2F%40%40download%2FENCFF705YZH.hic":"44679182442,54779","www.encodeproject.org%2Ffiles%2FENCFF395INO%2F%40%40download%2FENCFF395INO.hic":"56727346538,54779","www.encodeproject.org%2Ffiles%2FENCFF736ITL%2F%40%40download%2FENCFF736ITL.hic":"49036286185,54779","www.encodeproject.org%2Ffiles%2FENCFF546TZN%2F%40%40download%2FENCFF546TZN.hic":"33195126348,54779","www.encodeproject.org%2Ffiles%2FENCFF706SFK%2F%40%40download%2FENCFF706SFK.hic":"3271831702,36479","www.encodeproject.org%2Ffiles%2FENCFF922ERE%2F%40%40download%2FENCFF922ERE.hic":"12476647122,36479","www.encodeproject.org%2Ffiles%2FENCFF876OWE%2F%40%40download%2FENCFF876OWE.hic":"1538692704,47429","www.encodeproject.org%2Ffiles%2FENCFF227XJZ%2F%40%40download%2FENCFF227XJZ.hic":"1925617685,36479","www.encodeproject.org%2Ffiles%2FENCFF053BXY%2F%40%40download%2FENCFF053BXY.hic":"1032237652,36479","www.encodeproject.org%2Ffiles%2FENCFF014VMM%2F%40%40download%2FENCFF014VMM.hic":"1564021703,36479","www.encodeproject.org%2Ffiles%2FENCFF563XES%2F%40%40download%2FENCFF563XES.hic":"1489180508,36479","www.encodeproject.org%2Ffiles%2FENCFF482LGO%2F%40%40download%2FENCFF482LGO.hic":"1208778887,36479","www.encodeproject.org%2Ffiles%2FENCFF216QQM%2F%40%40download%2FENCFF216QQM.hic":"6293163571,47429","www.encodeproject.org%2Ffiles%2FENCFF256UOW%2F%40%40download%2FENCFF256UOW.hic":"6293163571,47429","www.encodeproject.org%2Ffiles%2FENCFF791UZC%2F%40%40download%2FENCFF791UZC.hic":"37029615181,54779","www.encodeproject.org%2Ffiles%2FENCFF911AHQ%2F%40%40download%2FENCFF911AHQ.hic":"34246649165,54779","www.encodeproject.org%2Ffiles%2FENCFF491AOR%2F%40%40download%2FENCFF491AOR.hic":"558663570,36479","www.encodeproject.org%2Ffiles%2FENCFF307PDL%2F%40%40download%2FENCFF307PDL.hic":"525321519,36479","www.encodeproject.org%2Ffiles%2FENCFF773ITV%2F%40%40download%2FENCFF773ITV.hic":"295464771,36479","www.encodeproject.org%2Ffiles%2FENCFF198SSL%2F%40%40download%2FENCFF198SSL.hic":"500142476,36479","www.encodeproject.org%2Ffiles%2FENCFF251UEF%2F%40%40download%2FENCFF251UEF.hic":"567443575,36479","www.encodeproject.org%2Ffiles%2FENCFF942LTN%2F%40%40download%2FENCFF942LTN.hic":"4430960222,36479","www.encodeproject.org%2Ffiles%2FENCFF543USQ%2F%40%40download%2FENCFF543USQ.hic":"5005263062,36479","www.encodeproject.org%2Ffiles%2FENCFF434XQU%2F%40%40download%2FENCFF434XQU.hic":"25506511674,54779","www.encodeproject.org%2Ffiles%2FENCFF318GOM%2F%40%40download%2FENCFF318GOM.hic":"44750824314,54779","www.encodeproject.org%2Ffiles%2FENCFF004TKY%2F%40%40download%2FENCFF004TKY.hic":"20705661833,54779","www.encodeproject.org%2Ffiles%2FENCFF493YNC%2F%40%40download%2FENCFF493YNC.hic":"53407154984,54779","www.encodeproject.org%2Ffiles%2FENCFF334XXU%2F%40%40download%2FENCFF334XXU.hic":"14341194962,47429","www.encodeproject.org%2Ffiles%2FENCFF569RJM%2F%40%40download%2FENCFF569RJM.hic":"1922066634,36479","www.encodeproject.org%2Ffiles%2FENCFF076LWH%2F%40%40download%2FENCFF076LWH.hic":"39406255845,54779","www.encodeproject.org%2Ffiles%2FENCFF977XWK%2F%40%40download%2FENCFF977XWK.hic":"20563512962,54779","www.encodeproject.org%2Ffiles%2FENCFF127TPS%2F%40%40download%2FENCFF127TPS.hic":"21032070512,54779","www.encodeproject.org%2Ffiles%2FENCFF480KLP%2F%40%40download%2FENCFF480KLP.hic":"33115569647,54779","www.encodeproject.org%2Ffiles%2FENCFF281ILS%2F%40%40download%2FENCFF281ILS.hic":"28236353584,54779","www.encodeproject.org%2Ffiles%2FENCFF129LMU%2F%40%40download%2FENCFF129LMU.hic":"35247096013,54779","www.encodeproject.org%2Ffiles%2FENCFF759YCW%2F%40%40download%2FENCFF759YCW.hic":"16058537743,32102","www.encodeproject.org%2Ffiles%2FENCFF045YOM%2F%40%40download%2FENCFF045YOM.hic":"19775445828,32102","www.encodeproject.org%2Ffiles%2FENCFF013TGD%2F%40%40download%2FENCFF013TGD.hic":"4208420532,36479","www.encodeproject.org%2Ffiles%2FENCFF929RPW%2F%40%40download%2FENCFF929RPW.hic":"1974260276,36479","www.encodeproject.org%2Ffiles%2FENCFF996XEO%2F%40%40download%2FENCFF996XEO.hic":"2072918865,36479","www.encodeproject.org%2Ffiles%2FENCFF097SKJ%2F%40%40download%2FENCFF097SKJ.hic":"1983524001,36479","www.encodeproject.org%2Ffiles%2FENCFF464KRA%2F%40%40download%2FENCFF464KRA.hic":"1957300131,36479","www.encodeproject.org%2Ffiles%2FENCFF406HHC%2F%40%40download%2FENCFF406HHC.hic":"3854527235,36479","www.encodeproject.org%2Ffiles%2FENCFF080DPJ%2F%40%40download%2FENCFF080DPJ.hic":"19953768024,47429","www.encodeproject.org%2Ffiles%2FENCFF621AIY%2F%40%40download%2FENCFF621AIY.hic":"26781700010,54779","www.encodeproject.org%2Ffiles%2FENCFF366ERB%2F%40%40download%2FENCFF366ERB.hic":"1049184239,36479","www.encodeproject.org%2Ffiles%2FENCFF997RGL%2F%40%40download%2FENCFF997RGL.hic":"2521167549,36479","www.encodeproject.org%2Ffiles%2FENCFF029MPB%2F%40%40download%2FENCFF029MPB.hic":"1854711185,36479","www.encodeproject.org%2Ffiles%2FENCFF043EEE%2F%40%40download%2FENCFF043EEE.hic":"2924133032,36479","www.encodeproject.org%2Ffiles%2FENCFF920CJR%2F%40%40download%2FENCFF920CJR.hic":"3011577886,36479","www.encodeproject.org%2Ffiles%2FENCFF928NJV%2F%40%40download%2FENCFF928NJV.hic":"2778936244,36479","www.encodeproject.org%2Ffiles%2FENCFF894GLR%2F%40%40download%2FENCFF894GLR.hic":"2831733099,36479","www.encodeproject.org%2Ffiles%2FENCFF303PCK%2F%40%40download%2FENCFF303PCK.hic":"688704435,36479","www.encodeproject.org%2Ffiles%2FENCFF999YXX%2F%40%40download%2FENCFF999YXX.hic":"9255069996,56883","www.encodeproject.org%2Ffiles%2FENCFF685BLG%2F%40%40download%2FENCFF685BLG.hic":"16797022992,47429","www.encodeproject.org%2Ffiles%2FENCFF188SSH%2F%40%40download%2FENCFF188SSH.hic":"16797023050,47429","www.encodeproject.org%2Ffiles%2FENCFF465ESX%2F%40%40download%2FENCFF465ESX.hic":"13489465953,32102","www.encodeproject.org%2Ffiles%2FENCFF493SFI%2F%40%40download%2FENCFF493SFI.hic":"30033046818,54779","www.encodeproject.org%2Ffiles%2FENCFF235LCO%2F%40%40download%2FENCFF235LCO.hic":"38572174589,54779","www.encodeproject.org%2Ffiles%2FENCFF625VNK%2F%40%40download%2FENCFF625VNK.hic":"45202258438,54779","www.encodeproject.org%2Ffiles%2FENCFF304HMS%2F%40%40download%2FENCFF304HMS.hic":"36994445315,54779","www.encodeproject.org%2Ffiles%2FENCFF605CEN%2F%40%40download%2FENCFF605CEN.hic":"40358346301,54779","www.encodeproject.org%2Ffiles%2FENCFF086ORS%2F%40%40download%2FENCFF086ORS.hic":"22650781304,54779","www.encodeproject.org%2Ffiles%2FENCFF237UKR%2F%40%40download%2FENCFF237UKR.hic":"41516707246,54779","www.encodeproject.org%2Ffiles%2FENCFF004YZQ%2F%40%40download%2FENCFF004YZQ.hic":"71900665326,54779","www.encodeproject.org%2Ffiles%2FENCFF104THR%2F%40%40download%2FENCFF104THR.hic":"15172410632,54779","www.encodeproject.org%2Ffiles%2FENCFF807IRK%2F%40%40download%2FENCFF807IRK.hic":"17346637451,54779","www.encodeproject.org%2Ffiles%2FENCFF193CQL%2F%40%40download%2FENCFF193CQL.hic":"55726903245,54779","www.encodeproject.org%2Ffiles%2FENCFF700DEX%2F%40%40download%2FENCFF700DEX.hic":"20231399798,54779","www.encodeproject.org%2Ffiles%2FENCFF234MDO%2F%40%40download%2FENCFF234MDO.hic":"24635312640,54779","www.encodeproject.org%2Ffiles%2FENCFF181ROW%2F%40%40download%2FENCFF181ROW.hic":"26883606497,54779","www.encodeproject.org%2Ffiles%2FENCFF896OFN%2F%40%40download%2FENCFF896OFN.hic":"36952196833,54779","www.encodeproject.org%2Ffiles%2FENCFF573OPJ%2F%40%40download%2FENCFF573OPJ.hic":"36685546919,54779","www.encodeproject.org%2Ffiles%2FENCFF028RXH%2F%40%40download%2FENCFF028RXH.hic":"31053919206,54779","www.encodeproject.org%2Ffiles%2FENCFF156GGD%2F%40%40download%2FENCFF156GGD.hic":"35284134289,54779","www.encodeproject.org%2Ffiles%2FENCFF496GEU%2F%40%40download%2FENCFF496GEU.hic":"44659660933,54779","www.encodeproject.org%2Ffiles%2FENCFF945TUH%2F%40%40download%2FENCFF945TUH.hic":"3898570191,35639","www.encodeproject.org%2Ffiles%2FENCFF698KFV%2F%40%40download%2FENCFF698KFV.hic":"4427896684,35751","www.encodeproject.org%2Ffiles%2FENCFF239BHZ%2F%40%40download%2FENCFF239BHZ.hic":"1718552021,36479","www.encodeproject.org%2Ffiles%2FENCFF277LAN%2F%40%40download%2FENCFF277LAN.hic":"4542391336,36479","www.encodeproject.org%2Ffiles%2FENCFF397CMD%2F%40%40download%2FENCFF397CMD.hic":"2832016430,36479","www.encodeproject.org%2Ffiles%2FENCFF778OYA%2F%40%40download%2FENCFF778OYA.hic":"14067187484,47429","www.encodeproject.org%2Ffiles%2FENCFF775VSU%2F%40%40download%2FENCFF775VSU.hic":"14067187484,47429","www.encodeproject.org%2Ffiles%2FENCFF812THZ%2F%40%40download%2FENCFF812THZ.hic":"9667720429,36479","www.encodeproject.org%2Ffiles%2FENCFF777KBU%2F%40%40download%2FENCFF777KBU.hic":"5058284320,36479","www.encodeproject.org%2Ffiles%2FENCFF688KOY%2F%40%40download%2FENCFF688KOY.hic":"4198695833,36479","www.encodeproject.org%2Ffiles%2FENCFF223UBX%2F%40%40download%2FENCFF223UBX.hic":"1206064037,36479","www.encodeproject.org%2Ffiles%2FENCFF273XBU%2F%40%40download%2FENCFF273XBU.hic":"44085607579,54779","www.encodeproject.org%2Ffiles%2FENCFF952JZV%2F%40%40download%2FENCFF952JZV.hic":"44728845246,54779","www.encodeproject.org%2Ffiles%2FENCFF643NDM%2F%40%40download%2FENCFF643NDM.hic":"35877886780,54779","www.encodeproject.org%2Ffiles%2FENCFF586MQY%2F%40%40download%2FENCFF586MQY.hic":"71158037547,54779","www.encodeproject.org%2Ffiles%2FENCFF251VFA%2F%40%40download%2FENCFF251VFA.hic":"40089479399,54779","www.encodeproject.org%2Ffiles%2FENCFF033WGK%2F%40%40download%2FENCFF033WGK.hic":"30802023728,54779","www.encodeproject.org%2Ffiles%2FENCFF649OHR%2F%40%40download%2FENCFF649OHR.hic":"28203184265,54779","www.encodeproject.org%2Ffiles%2FENCFF782WVZ%2F%40%40download%2FENCFF782WVZ.hic":"37248221674,54779","www.encodeproject.org%2Ffiles%2FENCFF579CAR%2F%40%40download%2FENCFF579CAR.hic":"39662025395,54779","www.encodeproject.org%2Ffiles%2FENCFF514XWQ%2F%40%40download%2FENCFF514XWQ.hic":"1319613701,36479","www.encodeproject.org%2Ffiles%2FENCFF666USK%2F%40%40download%2FENCFF666USK.hic":"15051670107,32102","www.encodeproject.org%2Ffiles%2FENCFF047SDP%2F%40%40download%2FENCFF047SDP.hic":"1357076705,16438","www.encodeproject.org%2Ffiles%2FENCFF584LEP%2F%40%40download%2FENCFF584LEP.hic":"9314176858,36479","www.encodeproject.org%2Ffiles%2FENCFF671SOE%2F%40%40download%2FENCFF671SOE.hic":"3273732256,16438","www.encodeproject.org%2Ffiles%2FENCFF702LAP%2F%40%40download%2FENCFF702LAP.hic":"1800427500,31682","www.encodeproject.org%2Ffiles%2FENCFF339PON%2F%40%40download%2FENCFF339PON.hic":"5394351199,31514","www.encodeproject.org%2Ffiles%2FENCFF741QPR%2F%40%40download%2FENCFF741QPR.hic":"4271510019,30139","www.encodeproject.org%2Ffiles%2FENCFF103ANX%2F%40%40download%2FENCFF103ANX.hic":"4439745804,30083","www.encodeproject.org%2Ffiles%2FENCFF395SBC%2F%40%40download%2FENCFF395SBC.hic":"1596732351,31850","www.encodeproject.org%2Ffiles%2FENCFF289WNN%2F%40%40download%2FENCFF289WNN.hic":"8632980535,32102","www.encodeproject.org%2Ffiles%2FENCFF381EAU%2F%40%40download%2FENCFF381EAU.hic":"1702476311,36479","www.encodeproject.org%2Ffiles%2FENCFF976FEY%2F%40%40download%2FENCFF976FEY.hic":"1448279040,36479","www.encodeproject.org%2Ffiles%2FENCFF485LVS%2F%40%40download%2FENCFF485LVS.hic":"1593610856,36479","www.encodeproject.org%2Ffiles%2FENCFF143VJV%2F%40%40download%2FENCFF143VJV.hic":"1422312076,36479","www.encodeproject.org%2Ffiles%2FENCFF588NHX%2F%40%40download%2FENCFF588NHX.hic":"3943637009,36479","www.encodeproject.org%2Ffiles%2FENCFF768UBD%2F%40%40download%2FENCFF768UBD.hic":"24786676166,36479","www.encodeproject.org%2Ffiles%2FENCFF965PEE%2F%40%40download%2FENCFF965PEE.hic":"29387092778,47429","www.encodeproject.org%2Ffiles%2FENCFF702IFC%2F%40%40download%2FENCFF702IFC.hic":"29387092778,47429","www.encodeproject.org%2Ffiles%2FENCFF288DNV%2F%40%40download%2FENCFF288DNV.hic":"10313429504,36479","www.encodeproject.org%2Ffiles%2FENCFF698HWZ%2F%40%40download%2FENCFF698HWZ.hic":"10962849269,47429","www.encodeproject.org%2Ffiles%2FENCFF355OWW%2F%40%40download%2FENCFF355OWW.hic":"3219571601,36479","www.encodeproject.org%2Ffiles%2FENCFF177TYX%2F%40%40download%2FENCFF177TYX.hic":"10325679706,36479","www.encodeproject.org%2Ffiles%2FENCFF542BHD%2F%40%40download%2FENCFF542BHD.hic":"11085397879,47429","www.encodeproject.org%2Ffiles%2FENCFF684IFW%2F%40%40download%2FENCFF684IFW.hic":"11085397879,47429","www.encodeproject.org%2Ffiles%2FENCFF592UHE%2F%40%40download%2FENCFF592UHE.hic":"21363948089,32102","www.encodeproject.org%2Ffiles%2FENCFF779XIS%2F%40%40download%2FENCFF779XIS.hic":"9517383271,36479","www.encodeproject.org%2Ffiles%2FENCFF518PSL%2F%40%40download%2FENCFF518PSL.hic":"7500581463,36479","www.encodeproject.org%2Ffiles%2FENCFF275GBB%2F%40%40download%2FENCFF275GBB.hic":"7889407162,36479","www.encodeproject.org%2Ffiles%2FENCFF634KXI%2F%40%40download%2FENCFF634KXI.hic":"6430702966,36479","www.encodeproject.org%2Ffiles%2FENCFF337QPM%2F%40%40download%2FENCFF337QPM.hic":"8529733887,36479","www.encodeproject.org%2Ffiles%2FENCFF162KMP%2F%40%40download%2FENCFF162KMP.hic":"5615896908,36479","www.encodeproject.org%2Ffiles%2FENCFF992VTE%2F%40%40download%2FENCFF992VTE.hic":"7328975027,36479","www.encodeproject.org%2Ffiles%2FENCFF464WXY%2F%40%40download%2FENCFF464WXY.hic":"5715339664,36479","www.encodeproject.org%2Ffiles%2FENCFF752EGH%2F%40%40download%2FENCFF752EGH.hic":"1733758743,36479","www.encodeproject.org%2Ffiles%2FENCFF474UJM%2F%40%40download%2FENCFF474UJM.hic":"222309548,18679","www.encodeproject.org%2Ffiles%2FENCFF531UPZ%2F%40%40download%2FENCFF531UPZ.hic":"1827756846,36479","www.encodeproject.org%2Ffiles%2FENCFF022VHA%2F%40%40download%2FENCFF022VHA.hic":"244983451,18679","www.encodeproject.org%2Ffiles%2FENCFF732NGR%2F%40%40download%2FENCFF732NGR.hic":"1679484567,36479","www.encodeproject.org%2Ffiles%2FENCFF513VSF%2F%40%40download%2FENCFF513VSF.hic":"28397932940,36479","www.encodeproject.org%2Ffiles%2FENCFF750AOC%2F%40%40download%2FENCFF750AOC.hic":"36471430712,47429","www.encodeproject.org%2Ffiles%2FENCFF219YOB%2F%40%40download%2FENCFF219YOB.hic":"2859767211,26979","www.encodeproject.org%2Ffiles%2FENCFF604YDD%2F%40%40download%2FENCFF604YDD.hic":"3549694085,26979","www.encodeproject.org%2Ffiles%2FENCFF746AMV%2F%40%40download%2FENCFF746AMV.hic":"2954867135,26979","www.encodeproject.org%2Ffiles%2FENCFF845ZEB%2F%40%40download%2FENCFF845ZEB.hic":"2763039282,26979","www.encodeproject.org%2Ffiles%2FENCFF570LWS%2F%40%40download%2FENCFF570LWS.hic":"2861588289,26979","www.encodeproject.org%2Ffiles%2FENCFF883YVR%2F%40%40download%2FENCFF883YVR.hic":"2433679887,26979","www.encodeproject.org%2Ffiles%2FENCFF056VLK%2F%40%40download%2FENCFF056VLK.hic":"2502986910,26979","www.encodeproject.org%2Ffiles%2FENCFF532DUQ%2F%40%40download%2FENCFF532DUQ.hic":"3172615899,26979","www.encodeproject.org%2Ffiles%2FENCFF723PYJ%2F%40%40download%2FENCFF723PYJ.hic":"10292839095,36479","www.encodeproject.org%2Ffiles%2FENCFF991SGJ%2F%40%40download%2FENCFF991SGJ.hic":"13072407683,32102","www.encodeproject.org%2Ffiles%2FENCFF885UZI%2F%40%40download%2FENCFF885UZI.hic":"1201881201,16438","www.encodeproject.org%2Ffiles%2FENCFF287KXA%2F%40%40download%2FENCFF287KXA.hic":"14705801988,32102","www.encodeproject.org%2Ffiles%2FENCFF335HYI%2F%40%40download%2FENCFF335HYI.hic":"20366756545,32102","www.encodeproject.org%2Ffiles%2FENCFF121YPY%2F%40%40download%2FENCFF121YPY.hic":"2760104016,26979","www.encodeproject.org%2Ffiles%2FENCFF675SJE%2F%40%40download%2FENCFF675SJE.hic":"3751779995,26979","www.encodeproject.org%2Ffiles%2FENCFF876LAW%2F%40%40download%2FENCFF876LAW.hic":"4032376256,26979","www.encodeproject.org%2Ffiles%2FENCFF740KVX%2F%40%40download%2FENCFF740KVX.hic":"3202490322,26979","www.encodeproject.org%2Ffiles%2FENCFF977OQV%2F%40%40download%2FENCFF977OQV.hic":"2919735477,26979","www.encodeproject.org%2Ffiles%2FENCFF525EFN%2F%40%40download%2FENCFF525EFN.hic":"2394748073,26979","www.encodeproject.org%2Ffiles%2FENCFF690QRC%2F%40%40download%2FENCFF690QRC.hic":"3183023394,26979","www.encodeproject.org%2Ffiles%2FENCFF452FWS%2F%40%40download%2FENCFF452FWS.hic":"2951805127,26979","www.encodeproject.org%2Ffiles%2FENCFF089KBG%2F%40%40download%2FENCFF089KBG.hic":"2531936700,26979","www.encodeproject.org%2Ffiles%2FENCFF939ARM%2F%40%40download%2FENCFF939ARM.hic":"3066385212,26979","www.encodeproject.org%2Ffiles%2FENCFF401ZAN%2F%40%40download%2FENCFF401ZAN.hic":"3008677144,26979","www.encodeproject.org%2Ffiles%2FENCFF378RZT%2F%40%40download%2FENCFF378RZT.hic":"2830232168,26979","www.encodeproject.org%2Ffiles%2FENCFF304AVD%2F%40%40download%2FENCFF304AVD.hic":"6164439305,50358","www.encodeproject.org%2Ffiles%2FENCFF453DBX%2F%40%40download%2FENCFF453DBX.hic":"6775246670,36479","www.encodeproject.org%2Ffiles%2FENCFF590VOM%2F%40%40download%2FENCFF590VOM.hic":"6443478922,36479","www.encodeproject.org%2Ffiles%2FENCFF246DOF%2F%40%40download%2FENCFF246DOF.hic":"6837914659,36479","www.encodeproject.org%2Ffiles%2FENCFF125FXX%2F%40%40download%2FENCFF125FXX.hic":"9736232550,36479","www.encodeproject.org%2Ffiles%2FENCFF241RAY%2F%40%40download%2FENCFF241RAY.hic":"7686758397,36479","www.encodeproject.org%2Ffiles%2FENCFF415XWQ%2F%40%40download%2FENCFF415XWQ.hic":"6973092068,36479","www.encodeproject.org%2Ffiles%2FENCFF374EBH%2F%40%40download%2FENCFF374EBH.hic":"8557459058,36479","www.encodeproject.org%2Ffiles%2FENCFF263YWR%2F%40%40download%2FENCFF263YWR.hic":"331586820,18679","www.encodeproject.org%2Ffiles%2FENCFF280CGS%2F%40%40download%2FENCFF280CGS.hic":"1743569614,36479","www.encodeproject.org%2Ffiles%2FENCFF553ZNS%2F%40%40download%2FENCFF553ZNS.hic":"1717253636,36479","www.encodeproject.org%2Ffiles%2FENCFF451VOI%2F%40%40download%2FENCFF451VOI.hic":"1626927468,36479","www.encodeproject.org%2Ffiles%2FENCFF420MQO%2F%40%40download%2FENCFF420MQO.hic":"31055961677,36479","www.encodeproject.org%2Ffiles%2FENCFF301BWY%2F%40%40download%2FENCFF301BWY.hic":"38902429246,47429","www.encodeproject.org%2Ffiles%2FENCFF606XNW%2F%40%40download%2FENCFF606XNW.hic":"1009699327,36479","www.encodeproject.org%2Ffiles%2FENCFF439ZOU%2F%40%40download%2FENCFF439ZOU.hic":"12381714313,36479","www.encodeproject.org%2Ffiles%2FENCFF499SYK%2F%40%40download%2FENCFF499SYK.hic":"13182654663,47429","www.encodeproject.org%2Ffiles%2FENCFF532LFI%2F%40%40download%2FENCFF532LFI.hic":"8286030286,36479","www.encodeproject.org%2Ffiles%2FENCFF020DPP%2F%40%40download%2FENCFF020DPP.hic":"23521952420,47429","www.encodeproject.org%2Ffiles%2FENCFF306VTV%2F%40%40download%2FENCFF306VTV.hic":"23521952480,47429","www.encodeproject.org%2Ffiles%2FENCFF399IHE%2F%40%40download%2FENCFF399IHE.hic":"10216571232,36479","www.encodeproject.org%2Ffiles%2FENCFF944AII%2F%40%40download%2FENCFF944AII.hic":"12567308552,47429","www.encodeproject.org%2Ffiles%2FENCFF230HVV%2F%40%40download%2FENCFF230HVV.hic":"8629849711,36479","www.encodeproject.org%2Ffiles%2FENCFF174LAF%2F%40%40download%2FENCFF174LAF.hic":"9446506633,47429","www.encodeproject.org%2Ffiles%2FENCFF898HRO%2F%40%40download%2FENCFF898HRO.hic":"9446506633,47429","www.encodeproject.org%2Ffiles%2FENCFF429MOR%2F%40%40download%2FENCFF429MOR.hic":"1455757398,36479","www.encodeproject.org%2Ffiles%2FENCFF061NXV%2F%40%40download%2FENCFF061NXV.hic":"1710915891,36479","www.encodeproject.org%2Ffiles%2FENCFF434PYS%2F%40%40download%2FENCFF434PYS.hic":"1832274903,36479","www.encodeproject.org%2Ffiles%2FENCFF704HHX%2F%40%40download%2FENCFF704HHX.hic":"1768142834,36479","www.encodeproject.org%2Ffiles%2FENCFF349DPM%2F%40%40download%2FENCFF349DPM.hic":"4316041260,36479","www.encodeproject.org%2Ffiles%2FENCFF718AWL%2F%40%40download%2FENCFF718AWL.hic":"39544267907,58932","www.encodeproject.org%2Ffiles%2FENCFF065LSP%2F%40%40download%2FENCFF065LSP.hic":"24929805283,55874","www.encodeproject.org%2Ffiles%2FENCFF632MFV%2F%40%40download%2FENCFF632MFV.hic":"22333105467,55798","www.encodeproject.org%2Ffiles%2FENCFF179HVU%2F%40%40download%2FENCFF179HVU.hic":"2659219603,36479","www.encodeproject.org%2Ffiles%2FENCFF791SPZ%2F%40%40download%2FENCFF791SPZ.hic":"2537491657,36479","www.encodeproject.org%2Ffiles%2FENCFF211ZWF%2F%40%40download%2FENCFF211ZWF.hic":"3512141227,36479","www.encodeproject.org%2Ffiles%2FENCFF614BNU%2F%40%40download%2FENCFF614BNU.hic":"5252155462,36479","www.encodeproject.org%2Ffiles%2FENCFF891DLM%2F%40%40download%2FENCFF891DLM.hic":"2549095612,36479","www.encodeproject.org%2Ffiles%2FENCFF056EXT%2F%40%40download%2FENCFF056EXT.hic":"2219014704,36479","www.encodeproject.org%2Ffiles%2FENCFF776DSS%2F%40%40download%2FENCFF776DSS.hic":"3920308353,36479","www.encodeproject.org%2Ffiles%2FENCFF814LQF%2F%40%40download%2FENCFF814LQF.hic":"1349480197,36479","www.encodeproject.org%2Ffiles%2FENCFF513ZNA%2F%40%40download%2FENCFF513ZNA.hic":"2638868195,36479","www.encodeproject.org%2Ffiles%2FENCFF692IOL%2F%40%40download%2FENCFF692IOL.hic":"3106768498,36479","www.encodeproject.org%2Ffiles%2FENCFF294WZY%2F%40%40download%2FENCFF294WZY.hic":"2211089761,36479","www.encodeproject.org%2Ffiles%2FENCFF339UWS%2F%40%40download%2FENCFF339UWS.hic":"2142759055,36479","www.encodeproject.org%2Ffiles%2FENCFF835FSK%2F%40%40download%2FENCFF835FSK.hic":"3919821739,36479","www.encodeproject.org%2Ffiles%2FENCFF328BMB%2F%40%40download%2FENCFF328BMB.hic":"2550686152,36479","www.encodeproject.org%2Ffiles%2FENCFF897RTY%2F%40%40download%2FENCFF897RTY.hic":"1323294397,36479","www.encodeproject.org%2Ffiles%2FENCFF306MWH%2F%40%40download%2FENCFF306MWH.hic":"1665386199,36479","www.encodeproject.org%2Ffiles%2FENCFF039YUJ%2F%40%40download%2FENCFF039YUJ.hic":"2335679939,36479","www.encodeproject.org%2Ffiles%2FENCFF468QIN%2F%40%40download%2FENCFF468QIN.hic":"3352516594,36479","www.encodeproject.org%2Ffiles%2FENCFF364WXU%2F%40%40download%2FENCFF364WXU.hic":"3959043175,36479","www.encodeproject.org%2Ffiles%2FENCFF373MSH%2F%40%40download%2FENCFF373MSH.hic":"4429550624,36479","www.encodeproject.org%2Ffiles%2FENCFF959EGQ%2F%40%40download%2FENCFF959EGQ.hic":"2475218228,36479","www.encodeproject.org%2Ffiles%2FENCFF624XMK%2F%40%40download%2FENCFF624XMK.hic":"3527855681,36479","www.encodeproject.org%2Ffiles%2FENCFF445OKS%2F%40%40download%2FENCFF445OKS.hic":"3369125589,36479","www.encodeproject.org%2Ffiles%2FENCFF239QDV%2F%40%40download%2FENCFF239QDV.hic":"1960069888,36479","www.encodeproject.org%2Ffiles%2FENCFF645AVM%2F%40%40download%2FENCFF645AVM.hic":"4969006589,36479","www.encodeproject.org%2Ffiles%2FENCFF494IPI%2F%40%40download%2FENCFF494IPI.hic":"1565483792,36479","www.encodeproject.org%2Ffiles%2FENCFF753IXE%2F%40%40download%2FENCFF753IXE.hic":"2892400648,36479","www.encodeproject.org%2Ffiles%2FENCFF731GXX%2F%40%40download%2FENCFF731GXX.hic":"5131381303,36479","www.encodeproject.org%2Ffiles%2FENCFF369CAQ%2F%40%40download%2FENCFF369CAQ.hic":"4236629448,36479","www.encodeproject.org%2Ffiles%2FENCFF053VBX%2F%40%40download%2FENCFF053VBX.hic":"54305946375,47429","www.encodeproject.org%2Ffiles%2FENCFF555ISR%2F%40%40download%2FENCFF555ISR.hic":"54305946434,47429","www.encodeproject.org%2Ffiles%2FENCFF964RSP%2F%40%40download%2FENCFF964RSP.hic":"12065485229,36479","www.encodeproject.org%2Ffiles%2FENCFF234MZQ%2F%40%40download%2FENCFF234MZQ.hic":"17507142760,47429","www.encodeproject.org%2Ffiles%2FENCFF994CEG%2F%40%40download%2FENCFF994CEG.hic":"17507142760,47429","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb068e787-bbdd-49e2-9f6d-7a0e9f065d6e%2F4DNFIHSUIRFY.hic":"2701182442,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3768b89a-e124-40eb-8acd-94a4fdd35807%2F4DNFIXTAS6EE.hic":"3283740601,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9c513602-5abb-4088-8415-c827c381ab0d%2F4DNFIC3JD6O2.hic":"4896075767,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fde954dad-1849-4c23-beb4-bf893b7d76c9%2F4DNFIGY85S4W.hic":"3364151996,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe1befa6e-8067-4296-8db2-67d2a2458985%2F4DNFI2LTNXME.hic":"3699291418,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbb3307fd-7162-477a-87c5-52f12d03befc%2F4DNFID162B9J.hic":"3576428773,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8597cdae-8319-42d9-9175-3f77aaee34e1%2F4DNFIQWS3632.hic":"4022561190,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F327f091d-6a63-47c4-9752-2dff303a13d9%2F4DNFI6GFHB6G.hic":"4239331168,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd70dc3b8-48a7-42c2-bd23-80bc44fc2266%2F4DNFIS5F6EBL.hic":"4404671861,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F77df7bf8-6a3d-407a-8968-4ca1e78d2269%2F4DNFIF2D3TL9.hic":"4793989394,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc8f7cc35-d2ef-4717-9009-c02154050fbf%2F4DNFI6EIFUZI.hic":"3370273763,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F98449d79-30d1-4e32-801d-07435819a42f%2F4DNFIRKGMZRQ.hic":"4669813207,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd4fe1844-2493-4722-8b98-34a93a4bb7d8%2F4DNFIQWD8ZYD.hic":"5379889057,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1ee40499-1de4-47ff-b540-d9a65943c6b8%2F4DNFIX7H3CE2.hic":"4857679239,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fac016170-23a7-4111-8773-353d6c150f34%2F4DNFIO21YDCV.hic":"4695989644,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1faea4e7-9a32-466e-a826-0bfdab6cd915%2F4DNFIUE5RAS6.hic":"4788044799,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcbd396ed-11bb-404f-aed9-ef10abc258e6%2F4DNFIFI6NIKJ.hic":"2069414927,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faf3f78db-ae92-4215-bcae-76d30c617e5d%2F4DNFIL5K3MA1.hic":"2585598247,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F66fc2893-224e-48b4-bdb0-25e022dedd03%2F4DNFIPV5KFMK.hic":"2060965679,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2b39781d-aadc-434f-abe3-562d61308fdd%2F4DNFIW8TIFI5.hic":"1694424195,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb6d28f7b-27d3-486f-b5ac-32567416560d%2F4DNFIA6NSSBJ.hic":"2219532611,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F08785616-722e-46bb-ade2-2fdd21324e11%2F4DNFIBKZK63V.hic":"2429136232,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F904b13d3-1203-42a4-812c-963e80c159b1%2F4DNFI3CFMRID.hic":"1233390166,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb0ed4afe-5ecf-451d-bb1f-444697e3f558%2F4DNFIYIAUEPW.hic":"1753567534,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4bb9a9b3-12a8-4d2f-8071-4722294c88ea%2F4DNFIC3HAU11.hic":"2271375254,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5abf9c36-c1d1-44dc-8197-74d860d896c0%2F4DNFIM2BMJ33.hic":"1770471113,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa68475db-7816-4cec-b2da-d4ce4a0c7a0e%2F4DNFIBY3UHJB.hic":"2095528423,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F07c40943-0d0b-4b3e-94a0-8583b0e00b47%2F4DNFIWZEN3FF.hic":"1558559508,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd8a39553-2718-4866-9b2a-45d8e9c5ac6f%2F4DNFIE5TEYK7.hic":"1323063102,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F294b61ef-5565-4f04-ade9-f921a6686cce%2F4DNFI7H4II2V.hic":"1436947982,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87a70ad7-7d34-4302-9c03-eb824bd4e633%2F4DNFIAS8LV1C.hic":"1263105698,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9db804c6-5a91-4cf5-8ae9-e054223afb77%2F4DNFIBXWIH8J.hic":"1587059951,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd1e55906-ec8f-444b-8ce1-2de22a431a76%2F4DNFIO2HBDAI.hic":"1666436393,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7a4b9b37-8e38-470c-8190-fd4d513c0bbb%2F4DNFIXWCLD4M.hic":"1513511880,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6c7615b2-5310-4bbf-a605-98761d3a3079%2F4DNFINASC4NQ.hic":"1420358914,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F20454014-49cd-4e2d-93da-f40ad52776d5%2F4DNFIZF1KI43.hic":"1377041630,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5df04e86-ee2a-45f2-b878-bf1648e2cca5%2F4DNFIQBHR9XC.hic":"1179502734,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9d1cc910-bb3f-4106-802a-73184c58d5ba%2F4DNFIQVMVRP6.hic":"1811976991,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe431986b-0732-460f-92ff-0abd1694d2d0%2F4DNFIJ7OAIFQ.hic":"1685503856,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F56d0c575-4962-4ea3-92c3-55bd0e17c096%2F4DNFIE8E4ANZ.hic":"1598369564,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdb1502fb-a989-4ef9-b800-7eaa7be172ae%2F4DNFIOUSETUP.hic":"1493294709,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Facc2f1c3-8c96-4d21-814a-3a8ba81e7741%2F4DNFIVJ3IIQL.hic":"1472376655,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F037fb4c3-8641-4953-a977-cc71f2137582%2F4DNFIHN2QSMX.hic":"1179632606,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F16d2c3c0-6d29-4815-b074-b142af90b615%2F4DNFIILDWK8M.hic":"2280059989,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31789849-e4db-45d8-9730-66a048c02d8a%2F4DNFI6XD6JAQ.hic":"2253961696,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fff04947e-e6e8-4d62-8374-ef2ee4104809%2F4DNFIALNLR78.hic":"1914687914,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F53e6c1e7-9410-4158-84e6-57c2e683b095%2F4DNFIBT4EAKN.hic":"2296378356,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0127900a-258f-4815-97d2-6fd2b043d853%2F4DNFIDJ2JZ7Q.hic":"2558945393,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F89f95693-3d28-44eb-9d45-14932f8e258c%2F4DNFI8JFOAJT.hic":"1726440253,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd803d818-b0d4-4796-8d61-a9f3943f3b10%2F4DNFIRZA6EV6.hic":"1805017504,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff9165fb1-0782-4757-a740-5b929e0252bb%2F4DNFIB7QTIMH.hic":"2541020707,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff8d916b2-b58e-4cdf-894c-ffcb3bf6ebd9%2F4DNFIJ5DQZVK.hic":"2445734043,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F14066a5b-e01a-43c2-a468-b18826174df3%2F4DNFISTWNV9C.hic":"2499319890,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd0692151-7f9a-4475-b059-f8802616dded%2F4DNFIBN9K4V9.hic":"1591570769,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70a7ef36-a514-4e45-918f-47c4e9e30ef4%2F4DNFIR8OU6QJ.hic":"1689882108,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F180306cd-8593-413a-ae83-24f19209c5d2%2F4DNFIDSWKFF5.hic":"1596696630,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6e7b9be7-f465-4434-8e9c-68d1e44a76af%2F4DNFIV239W4L.hic":"2345867406,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F55df948c-941d-4930-854c-6a07557a0c1d%2F4DNFIREVU1Z5.hic":"2254683002,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3f590cb7-df3a-498f-81c3-d5ed4179b8ad%2F4DNFIFHU75I5.hic":"2497670883,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8f064770-6008-4f74-bfca-268d4a22d745%2F4DNFIMROE6N4.hic":"9850583704,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa93d0588-76b7-4ccf-933c-4325876b0a53%2F4DNFI5SUHCGZ.hic":"10364705187,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2f5f0d6b-0b22-4936-93c9-0944d49c037b%2F4DNFII84FBKM.hic":"8836986129,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F12e90fc5-0b76-4e42-b346-58d267f9ad6e%2F4DNFI2J1ODWB.hic":"13410858286,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff2702a45-3e8b-4980-bcd5-6bb0e291614f%2F4DNFIJWBWE41.hic":"20515676755,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa0859349-5f06-4ad3-b56f-b1166b34a9eb%2F4DNFIIMZB6Y9.hic":"15350325963,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F12685c57-d54a-46fa-9efb-acf34ed77574%2F4DNFICJECID5.hic":"1525002266,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd101a58e-89aa-44fd-96c5-6bf1e2476272%2F4DNFIR6UW2QA.hic":"1264999913,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d8c73bf-1335-4af4-b124-e3622d48c5f6%2F4DNFIGOEKBUZ.hic":"1905947578,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcd2477cf-6ed0-4d7b-b4e9-88fb38b0df48%2F4DNFIMDNAEW4.hic":"996444147,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0f03953e-29da-4f2e-8c05-572d0edf4525%2F4DNFI5OSZ3JC.hic":"369361754,22829","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F29d95dbb-005a-4ae1-8b9c-0fec9ec0bbd0%2F4DNFI7KOUGFM.hic":"1227434049,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa441ab7b-afbe-437d-bf98-b6b916558642%2F4DNFIGKX4A32.hic":"883933242,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F941b2f94-2fff-4d3c-aceb-fee4a5ae41a9%2F4DNFI1ORHOTA.hic":"1140970677,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8720ede9-093f-4c00-912f-373283260a16%2F4DNFIWSVLZED.hic":"458091151,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe9e17155-2b62-4a68-afb2-31dfa674e169%2F4DNFI6H926RO.hic":"3552863515,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F22f22778-987a-4dc0-97bc-f26eae0156d9%2F4DNFIKTYSPOF.hic":"2939475400,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F40f40192-0acb-44cb-8778-8d21afe593fb%2F4DNFIZ4S52BV.hic":"3067438113,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd8767374-7018-4e11-9226-bf5612d39ebb%2F4DNFI3APMXHF.hic":"3258874744,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8c5140ec-a65a-4186-8c59-2927233eecaa%2F4DNFIQLIKDSD.hic":"2746398416,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8cdedda6-d7d8-4231-a85b-d56fcd962366%2F4DNFIKYXMF1E.hic":"14442148774,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa4d4497-7c6c-4dad-8040-be13ba07ea32%2F4DNFI9815EEJ.hic":"17960817603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe9b7b95f-190b-49fe-8047-ef4a8fc59746%2F4DNFIQ2687RT.hic":"15954277087,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F59863d3a-8d7c-49c7-9a41-7f2a58ad24d1%2F4DNFIYDBBSE3.hic":"16499534862,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3e80ca41-b3e0-4f4f-a05e-8f95fe96d938%2F4DNFIMOCN1YS.hic":"863725312,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F96f97a01-0020-4f09-93e8-fc8a9fd07218%2F4DNFI6558CM8.hic":"1597967345,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fce9e9334-ee0b-4549-a845-110470ba5986%2F4DNFIQZRKS7Y.hic":"907626411,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdaac8209-1015-48da-9e31-2e252dfd8fe0%2F4DNFIX4DLXSE.hic":"1369766288,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F268b7d52-9655-474c-9467-8ba31bb2195c%2F4DNFII3JV8I1.hic":"856656441,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9681f9b5-335a-4f56-afa1-15b58bbb41e8%2F4DNFI5IAH9H1.hic":"1495185175,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3e082eab-95aa-4677-88ed-9d7adcc1effb%2F4DNFIK5HY1GP.hic":"2135337789,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31af1ead-4520-4669-957e-424b4b197c33%2F4DNFIFA89L5B.hic":"1975593640,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcc2b78fd-52d4-4e0c-ac93-b84ee82daf7e%2F4DNFICXCFGEI.hic":"2628202920,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff54efece-280f-46ca-95e3-1f8a3cd18820%2F4DNFIK4CECUH.hic":"1901129375,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1181c0c4-afb7-4b6a-9fdc-d868fb2253fc%2F4DNFI1EYIGOC.hic":"1947135384,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1d3e2905-b9b9-4b91-bcb4-8d34746e78f6%2F4DNFI7TLEWUI.hic":"1185758726,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faba3d42f-39cd-4a85-9d3f-835aefb5c803%2F4DNFIVCJKHMN.hic":"687240974,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F27f54fcb-54fe-41a4-b25a-2f8944c89044%2F4DNFIN8F14CS.hic":"1304082029,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb75fedb5-88f4-4bc0-8e38-298df7847a7f%2F4DNFI5LCW273.hic":"12497258313,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2f22b2a0-3712-496e-92d2-63775ec0e421%2F4DNFIVSCH2CH.hic":"12594733778,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F07e47261-5863-44f5-9198-76e263081bea%2F4DNFIZ268JGC.hic":"1499059135,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F682b1ae1-3ac3-40e4-a330-c49f63946952%2F4DNFIJ1P4HBI.hic":"1190211725,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F197e7c89-ea73-41de-8cb2-8c0b1e3bb945%2F4DNFITEGKBIW.hic":"2061501971,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F191f6928-c9a8-44b2-8516-ee4d6005f24b%2F4DNFIE1P6RVH.hic":"1711447310,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F94435086-3701-4b28-a6d0-4a59b24d7615%2F4DNFICJ6I4DO.hic":"1557899940,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa9ac173-d233-41c7-8985-ca91949664e4%2F4DNFIKUG8MEW.hic":"1339072088,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fba6d8ab6-ee18-4ba2-8da9-d631888dd50a%2F4DNFICFZGFAV.hic":"1261083478,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87a3ab04-7094-4673-81e4-ac8c9add8eb5%2F4DNFIQXCZVVA.hic":"1084913802,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbc1ff488-82af-4579-9424-959184edb139%2F4DNFIB6PJFJ3.hic":"1114571343,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1f7026ee-987a-41e7-8a61-45510ee3f86b%2F4DNFIX97731O.hic":"1246860402,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6186787c-2e72-4925-9729-02121e2e4597%2F4DNFIYQYZOTO.hic":"1212210849,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3b98a946-0109-4efa-a13e-cc7a36772125%2F4DNFIPXU7V25.hic":"1696288217,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fea17d041-c6ed-43a1-8047-535f3d19ad44%2F4DNFIL39PR76.hic":"1719284710,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F72774afe-f166-42ac-9849-4070b0dadf6d%2F4DNFIYLJ3R3B.hic":"1106419640,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4a45e733-55f8-4a8e-be24-2ef34c976e25%2F4DNFIL51WBN6.hic":"1327651164,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F086c62b0-a26f-41ae-a5ff-88b8be2bd2aa%2F4DNFI6SFPUDA.hic":"1336964405,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4d9b79c7-af62-4070-84a9-b953903f2732%2F4DNFI2KM22QR.hic":"953067310,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3c9889d1-f49e-4639-8e15-2d99d6cd22e7%2F4DNFIVF8Q45U.hic":"984193565,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa080dd7b-b7bb-4eae-a275-572a8b45b2d0%2F4DNFI2RN3WFP.hic":"1046525527,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb81860ca-c227-4b68-a298-1907fd32300a%2F4DNFI4TJTL7A.hic":"1160373401,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F74ab47dc-7b52-421c-845e-6feb33457adf%2F4DNFIYJ4TWB8.hic":"1268416204,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc6582128-a930-4bcc-941e-5c0733bdd4d5%2F4DNFIM6RGKPV.hic":"863347067,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F11a75514-4450-4295-9eda-18e3678a575a%2F4DNFIL2VWWL5.hic":"860731581,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5eb52a8c-bf14-4225-bf34-14a0aa47c369%2F4DNFIX6ZXCA8.hic":"893462267,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F66aaa4c0-1f62-4040-8ecc-4e95da23cd18%2F4DNFIEVR81FS.hic":"879736207,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F821c6e7f-96f7-47de-b7d9-4970562b3c8e%2F4DNFIAUI6BBI.hic":"996313881,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9252c362-31ab-413d-a47a-cc97bdbf243a%2F4DNFIAFEE9G2.hic":"1103265750,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc1a0bf52-2e65-4deb-871f-ede736babd41%2F4DNFIPZBEXCP.hic":"1081257762,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F729f5ce3-d7e0-466d-b781-d18049e63bfa%2F4DNFIWPKRZGU.hic":"973779283,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F80b769ee-a717-4825-9db0-dca86f913173%2F4DNFIMD9QNDX.hic":"1158688208,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F266290c0-2767-4158-85ab-7274368905b9%2F4DNFIATA1HD5.hic":"1073361089,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc46f18a8-eb24-4d35-b112-36db72bde2f5%2F4DNFIH9U4I7I.hic":"1111124316,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fec91a79e-7de7-49f7-9b3d-d28313aeddc8%2F4DNFIZ95S6TR.hic":"1242494051,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9e9390b9-da20-43bb-a8f4-9830f354ddf9%2F4DNFI5ERM9J7.hic":"1271051397,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fee8ea82e-b9e4-41ad-bced-5f4fbdaa4fec%2F4DNFI15FPSQL.hic":"1216714120,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbed7eb86-8990-42f2-b3ee-5992d6361f7c%2F4DNFIJ3DZPGM.hic":"1035089437,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdaa8a324-3bf8-424c-8a86-b8ad325cc20d%2F4DNFINW9P6XF.hic":"1215712740,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70631758-6bf8-47a0-92b6-132574886faa%2F4DNFITS16HW8.hic":"1105283847,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe473304b-7bc8-49b8-bba1-ecb9f06914ee%2F4DNFIS3DIH4V.hic":"1036056660,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F10f9224a-111c-402a-ac25-e221ad0af9ef%2F4DNFIY3KDHP6.hic":"1071761024,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F17519b96-2bdd-4294-98f0-1535f1aef28e%2F4DNFIO8HVKOL.hic":"953793750,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffb18f896-4730-4909-86a3-867fc8e76cd6%2F4DNFIMF6CFOM.hic":"708717889,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcfee4d87-0873-40b0-b79f-35dcc8669c1c%2F4DNFIZZ77KD2.hic":"732668723,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb8b5d909-8a1b-41bb-bcdd-d108a0bde762%2F4DNFIOLO226X.hic":"951271932,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9ce81f6e-b9cf-4ec9-8bd3-517539e4b662%2F4DNFIJMS2ODT.hic":"932509067,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F506aa952-5d41-49ff-b658-916bcf88a395%2F4DNFI49F3LJ4.hic":"1208494817,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe4dc392d-ca36-4bdf-a27d-173cae34f520%2F4DNFI65MQOIJ.hic":"854630155,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F149ef8d7-e0b4-4e4f-b7e5-7226e2603746%2F4DNFIM4KEPRD.hic":"882790622,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa436f0a8-4f9a-4524-90ac-795c5b8491cf%2F4DNFIIXBIZFC.hic":"848244425,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbc8a05dc-7449-4b01-8330-a55db37ca8e6%2F4DNFIWDOOBVE.hic":"1116239020,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faef8b881-28fe-4694-9a95-1d31940e6726%2F4DNFIDT9EB5M.hic":"888289053,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff66f3162-a53d-46f2-8800-3752935d5400%2F4DNFIX2VUNV8.hic":"1226661451,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F36c782e6-2c48-4298-aa43-bd6624da003d%2F4DNFIEQHTV1R.hic":"804665819,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff15d571e-605d-4bcc-a359-0350b57a6815%2F4DNFIFW7GA64.hic":"901568712,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc2aa2e8b-ac7f-4acb-b4b5-ac5f845840fe%2F4DNFIXGXD67I.hic":"970995551,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F71b6fd7d-b249-4d65-a597-b80b95845399%2F4DNFIA7GB1NB.hic":"956785837,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6cbb1418-34db-427f-9273-5174eac81529%2F4DNFIVOJGWNP.hic":"890415052,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc69c2ee7-b6c3-4a62-8d4f-913491c9dab8%2F4DNFIW22BNB5.hic":"1075499540,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa268f28f-c6d9-4324-8989-75d2d317af1b%2F4DNFIIFBC8WN.hic":"1045459440,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6c7361d4-60a6-440b-b5be-072cada98663%2F4DNFI9ZBEBJH.hic":"759395398,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcceaad1a-e01e-4430-8bd6-24ffa6891802%2F4DNFID4SLU53.hic":"921288444,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9eee5854-b33e-4d5a-9ba8-ceffd47e7488%2F4DNFIODI1NUJ.hic":"733159777,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5e1089b0-42e8-441c-99bb-4be99bcec28b%2F4DNFIJL26LFN.hic":"723567970,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F298a429e-ea29-49d3-bfed-fa851e1e7c4c%2F4DNFI5KTF553.hic":"2213661745,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F965d29f0-e4a3-477c-8ae4-faf4a654e69a%2F4DNFIYSPGFGV.hic":"2274989349,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd88acbc1-37b9-4266-9f97-d8fed576d0f3%2F4DNFILOR6D2D.hic":"2595459358,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7b6ddbce-0ed1-4272-b8ae-32793e4ea4e4%2F4DNFI1WMMPJQ.hic":"2262433890,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fedc0c8c4-97d8-4372-9a4f-5e0cdf09d7d0%2F4DNFI47P5978.hic":"2146314403,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0edcc389-43a4-44d7-b946-fe3496f93d56%2F4DNFI7XGW6IH.hic":"2302805723,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0a802926-e235-4c80-b521-83a1774dfb46%2F4DNFIK1EJG8I.hic":"2374943035,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3c36aedb-6a58-4aa2-9b11-bb440ec174f1%2F4DNFIDQ3THN9.hic":"2341188249,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F846123cd-8828-4e51-8b8a-27deaf293858%2F4DNFI3WPNFWT.hic":"775145629,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd06e3ad-0e37-48a3-8367-c7d5912cab03%2F4DNFI9DCUOQ1.hic":"870487824,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc2eaf9bf-9584-4cec-8685-bd74038a6c01%2F4DNFIU8AF5ZY.hic":"1276224366,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F219497b5-3f35-473b-9d4e-e1cf21c69561%2F4DNFIHW8NTQX.hic":"28864787856,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4be13558-114a-4f2d-abca-7598e2ff4757%2F4DNFI4OUMWZ8.hic":"17061013588,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F49aed637-87a1-4d4d-ae68-e5da82aec05b%2F4DNFIEYQ5ZIR.hic":"13555272651,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa2f48779-4eff-44a6-8a9d-96435aca1ddc%2F4DNFIDZT7PR8.hic":"13425047093,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb6ec6b71-27b8-4891-b10a-ab06a5270468%2F4DNFIEJEFCAM.hic":"15394960208,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F68b9a7b5-8413-44fc-8c2d-59a67b1c4166%2F4DNFIJ8JKKWJ.hic":"17012681779,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F294d45a4-8b5e-456f-a9cb-1cbbbad3a7d2%2F4DNFINEQY95T.hic":"13966775978,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd7f3a48-b822-41e2-bd9c-f52b3aff7b6a%2F4DNFII6AN691.hic":"12367300362,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7da44594-0dc8-4e74-8e10-a957aeaea51a%2F4DNFIDBIEXI7.hic":"2015474981,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F085a0453-3784-4eba-80b2-3556e53e2f52%2F4DNFIDKJFK2S.hic":"1983111659,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc370c78c-0a99-4c3f-a29b-2dfafc6a3e86%2F4DNFIPAF4PYT.hic":"3041434294,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F907ce45f-baa5-416d-92de-e86db4bacff1%2F4DNFIWIYYNQ5.hic":"7082321112,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff13afc6b-cf69-4c9d-881f-eed4dd3c28ee%2F4DNFIHMCILEN.hic":"1739157603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7575d891-0e3d-4a77-896a-3e1b3a8d330b%2F4DNFIJBJ6QVH.hic":"5213499748,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff0daa830-60d5-4c7c-a2e1-a4ee70b3fee7%2F4DNFIH2A7IKF.hic":"4099503507,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff4970a25-91d8-49a7-9a4a-fe0f12cb2b0f%2F4DNFIOL8KGQ2.hic":"2256042055,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F879f1850-d175-4a86-8a97-12658482e3d1%2F4DNFIWILLD6C.hic":"5476286356,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F787f538e-d619-4c8f-985b-78753fb7e57c%2F4DNFIZBXXJAF.hic":"5946467856,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb8ee785f-1016-4989-9e64-78352621d32f%2F4DNFI8PZOJHN.hic":"8307204961,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d8997fa-528c-4531-b25b-a412de6bd472%2F4DNFIGXAMSJY.hic":"6577588285,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87aede55-7610-4283-af0e-c6840429a31e%2F4DNFIWNNO89O.hic":"2871061417,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F93b8e020-b337-4685-81dc-40cc8a12b5e9%2F4DNFIXU2KPNQ.hic":"3401717686,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffb5cf1bd-59d6-46fe-857d-b86d9756029d%2F4DNFIHBGD6N6.hic":"840028421,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2d1bc088-d838-49b8-85fc-fea78a7353c4%2F4DNFI7J8NI4A.hic":"675705256,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21a27b63-fd67-401b-9aa2-2798e6588d21%2F4DNFISFM9VFK.hic":"800145922,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F656c0a9d-7058-4c4b-a3ce-701d929561c1%2F4DNFIJU5XBK7.hic":"966593603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2efacfbd-9c81-4e62-8df7-847d1ab774d5%2F4DNFIPKY8ED1.hic":"3401629450,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa50b6a26-56b5-43f2-b525-fa219fd716f1%2F4DNFIQRTP7NM.hic":"5358852759,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff5dc7a59-b998-4490-8a76-afbf3b258a49%2F4DNFIBCIA62Q.hic":"5779049277,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F62b2b237-cb02-45f7-89d9-616cf9ffb678%2F4DNFIV56OFE3.hic":"5818844506,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8ac79b4f-cfbf-4b2a-9fc2-898ed6c3e5e1%2F4DNFILIM6FDL.hic":"19637469163,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1cff8afa-5a13-4ad4-bcad-91fc3ced759c%2F4DNFIP71EWXC.hic":"17934647326,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F000789fe-9a22-4280-a71c-7ad228fd4cac%2F4DNFIM7ZVQOQ.hic":"700134697,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8d78457f-0c2b-4358-b08c-4d4ef4d9f59d%2F4DNFIS6EYHCX.hic":"628314484,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8ca3b4a0-2478-49c9-b4a2-a28430417a32%2F4DNFIKKCMS1Q.hic":"584050634,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff5041473-18ec-439d-92b1-8ad98c9b25c0%2F4DNFIBIV8OUN.hic":"522632731,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcf474ec6-abd4-431e-a21c-252fcf5ee6b3%2F4DNFIAUMRM2S.hic":"313395531,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2bb1c73e-fb0f-41c4-8620-a938cc8d24a0%2F4DNFI9ZUXG61.hic":"332217525,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F26dfa41e-7e4f-457a-a3ac-72daf8059f3c%2F4DNFIDBFENL7.hic":"359604894,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8ed2e68b-189e-4988-bb6d-94e63240a231%2F4DNFI7XAZNNQ.hic":"5312422266,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6f2b1ce0-5205-4680-981e-d91b694dc3e4%2F4DNFISNGDB53.hic":"2008546759,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F73c8147f-bc7d-4d33-8a10-a9e7b413ecc6%2F4DNFI1CIGHYC.hic":"2221847625,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F526ae3e3-32cc-4670-970f-1faa9cfafd4d%2F4DNFIQD2DP2F.hic":"5295591503,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6e803530-47f8-4c56-bb19-fbdcd578d2f0%2F4DNFINHT8P7C.hic":"3159499486,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffe705f38-903f-47b7-9b38-f80ebd18a479%2F4DNFIGF8EM7M.hic":"3490552542,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa197328-d6da-4299-a0fd-409ac9892668%2F4DNFIUPG2ZBJ.hic":"5382003751,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffe5d52c4-2be7-4812-bca0-cd4bb3025e6b%2F4DNFIH3OTR14.hic":"3224693110,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21935f61-daa8-4df2-aa69-fcd27953b405%2F4DNFIUATRW3Z.hic":"3835865655,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F72147527-e3e8-4967-bc45-8251249d76c9%2F4DNFI6V7ZQAE.hic":"4382708138,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F589f0919-f54d-49ff-a482-e2f453ef7f34%2F4DNFICKMT1CY.hic":"4479068191,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F861946ca-bad8-4a87-96e1-b2eb20b9ef10%2F4DNFIF9BDCNI.hic":"3698151402,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff76346ac-97ec-4893-8984-2b75ce1cdc51%2F4DNFIG5O1OQS.hic":"5704288175,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe8b43826-f049-4c3f-b83a-e75fa7aacc85%2F4DNFIHS2SVBQ.hic":"990025510,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F46316260-f555-4dd4-9e40-8ae06ca52822%2F4DNFIU95B69H.hic":"1275878544,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff62ef491-a3ae-4f66-ab33-c5673c9e0b65%2F4DNFIYRROFCR.hic":"1522530503,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1cd617e1-fad4-4fdc-8b4e-cb277650123c%2F4DNFIF7JN3IU.hic":"1463443128,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdb20fe2a-0078-4d4a-8a52-d76043d06f40%2F4DNFIB2RYULQ.hic":"1269529700,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d386fcf-1d22-47de-a0d6-0c3a641ca174%2F4DNFIMVDK3SI.hic":"1185489599,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F00e470bd-c533-41b1-923a-4b471824da12%2F4DNFIRLOTXSC.hic":"978217499,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb8774fb3-d0c5-43cc-a6c9-eb0ca39841fb%2F4DNFIZAPX6J8.hic":"1100356082,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fab3b826e-614c-448b-860f-a3ebef68a82f%2F4DNFIQD5VCSD.hic":"1322319877,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F66c78d2b-993a-4937-95ed-9e2d302ceb3e%2F4DNFIIF6VAGN.hic":"868885799,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5d106fe1-2d80-466e-87aa-46b38ba142c5%2F4DNFI86IEZXH.hic":"751443267,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc99490b6-faf9-413f-9c38-3f53018089d6%2F4DNFIP881SR2.hic":"754427927,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F39c7e387-e710-4b1d-b757-357dec03f6ad%2F4DNFI42NNCW8.hic":"1166392978,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4742a211-43b1-4325-af6f-82490aeb766b%2F4DNFIEV4PKP6.hic":"1102227476,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Feaa73842-1c86-4ad9-8a9e-c189c0b4c01d%2F4DNFIF1DUQHE.hic":"1206699207,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd25f24df-0298-4079-bb6f-1c8e1e32392b%2F4DNFIGW55EAY.hic":"1033358104,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc57a7ab5-2778-4fe2-9d64-9a4e95135f12%2F4DNFISZRU6I4.hic":"1539570262,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd89f494a-27ca-46b6-89be-7583f3f6d18c%2F4DNFIBKKDTAP.hic":"350372180,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F06725280-cb24-4f22-a267-18b434bfa79e%2F4DNFIJSRQW24.hic":"314361467,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8fe5c3c5-006f-425b-ac6d-ea475e29be78%2F4DNFI3REN89E.hic":"299665258,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc8b6ac5c-13b4-427e-9158-cec0b890b6d8%2F4DNFIF5XLHKM.hic":"235668364,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F01ff33fc-fc23-48aa-a6c6-b720d6fe0768%2F4DNFIB6Q538N.hic":"316494853,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F552978c8-abbc-424a-9187-3e34cf802a97%2F4DNFI3ST3F7Y.hic":"296298411,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F72e66520-5170-4f2e-844a-fbfd0e23b480%2F4DNFIQT4M6UI.hic":"307691265,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb3eb3953-ffe8-4d5a-970c-a16f3b7b9ec3%2F4DNFIFNCC7M2.hic":"364160436,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F37d413fb-afab-41ff-99aa-1678830f7dde%2F4DNFITM9MDJL.hic":"252412426,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faf5db92c-aaf1-4086-a0d2-79b28648f172%2F4DNFI3NTD7B3.hic":"227586640,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff6892f7b-1f8a-4d7d-9605-c67932cd5654%2F4DNFIBED48O1.hic":"328344868,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd64afb07-5ab1-4c4f-8438-2fee37afa86a%2F4DNFISATK9PF.hic":"379669025,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fad11bb63-8692-461c-b698-89c601451321%2F4DNFISRP84FE.hic":"298491537,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F63710ec5-35d2-47dd-bf9a-08d3daa83d67%2F4DNFI2LY7B73.hic":"303150299,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76077d9e-ca75-4301-ab79-88aa49bda495%2F4DNFIXEB4UZO.hic":"711757090,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F34dd4c0e-3487-4fb4-b95f-c4bb66e0fa31%2F4DNFIQWWATGK.hic":"221304476,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F48a8cf86-3248-4a8e-8e85-472ec219d49c%2F4DNFI44JLUSL.hic":"284772724,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fee399fbf-2a9e-46e2-8364-457713bff508%2F4DNFIM7Q2FQQ.hic":"330729464,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F124d191a-c5c7-49b6-b84b-0d1bad8bef2b%2F4DNFIZK7W8GZ.hic":"293166018,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe351f7cc-7a2c-4515-ae0b-3bb2f91c986a%2F4DNFIMIMLMD3.hic":"240094740,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffd1ae249-57b1-41d6-81a6-16b21dcd8f12%2F4DNFI7QUSU5J.hic":"681762505,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F46c92c5c-9ad8-4d49-beba-f35c5cd99208%2F4DNFINXUOI5H.hic":"375594313,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd7350d40-4e9e-4131-9151-bb539d39b431%2F4DNFIIJR2296.hic":"331322302,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbfacf37b-1665-45f3-a046-e29e1544e9b0%2F4DNFIJMZUTXR.hic":"361313244,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F234e18fb-9990-43bf-9a48-f72722cfa232%2F4DNFIZQPT9EL.hic":"540421873,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4b35ab09-2e79-4876-b2bc-d3a8faa26257%2F4DNFIZIXSZ9J.hic":"545066813,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2ae5118e-807a-46e0-8e92-143d4b282b3d%2F4DNFIDD9IF9T.hic":"237409149,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb34d7f6f-73f7-4b6b-80c7-c8af0f991549%2F4DNFIVC8OQPG.hic":"355121712,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9ab169fd-cbdd-4f60-8553-a4c6912ad89e%2F4DNFITUPI4HA.hic":"313085022,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4e53712b-d0d9-40c5-afe1-ffa0fad71e59%2F4DNFI5IZNXIO.hic":"341863906,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7a91477f-45eb-4a16-affb-fc131f9326b8%2F4DNFII16KXA7.hic":"248904495,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F153729de-0eca-43cc-9b61-61aa8d775b38%2F4DNFIAAH19VM.hic":"668047244,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F879fd78a-7165-43d9-a0de-ca158b53df30%2F4DNFIVKIY3KV.hic":"247571318,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F67f901a4-040b-4b04-9fff-94a1780423cd%2F4DNFIVVCWL6C.hic":"198355985,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd5b30c5a-654a-463c-9474-39bdc3ce4500%2F4DNFIJRF2273.hic":"343971277,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7070280a-8f03-40d0-9fef-e9d9f4d3dae7%2F4DNFI6FCC9ZA.hic":"312013061,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F47049719-9407-4d76-9048-26231045f642%2F4DNFI1CPQ4O3.hic":"352923267,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F862c2b5f-44c2-4bd7-9264-b3ca032d3d8d%2F4DNFISXFEDE9.hic":"271745977,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Feffbe052-39ff-4217-9871-44199ed90818%2F4DNFIF9L6QEQ.hic":"668409334,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa7791854-1b35-4258-90fb-603c55f24642%2F4DNFIPKASX1Q.hic":"312727920,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F79cccad6-a78e-4de9-9fe7-08f7e8df663d%2F4DNFIWXZ4JQZ.hic":"151808553,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7e86e0cc-d6f1-4ce0-aba4-c36c6ebb3c4c%2F4DNFIEMQ1O8V.hic":"700533280,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4a1b58d3-9ae6-43e4-91cf-49f1fcbbab33%2F4DNFIYWONU7A.hic":"729050356,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F67bff264-0b0c-4c5c-9d4d-ff5abef2bbe4%2F4DNFISNIE5FH.hic":"7987657997,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3a6a943f-2cc0-4433-a27d-c89f3fdd3309%2F4DNFIV8MLWJB.hic":"6646216171,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9e235711-ba90-404d-b4ac-b15990ea8e33%2F4DNFIXSTDPHL.hic":"3146468238,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0c89f4bc-e9fc-4ecf-b868-26108dbb7bb2%2F4DNFIQJNOH8U.hic":"2919703928,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1856ff9e-de7a-4fa1-ae0b-3e04b837b5e1%2F4DNFI57XB4A8.hic":"13417594377,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F099bb5b9-6315-4650-8f78-d603f5a046b3%2F4DNFIQ7UKVZV.hic":"9016468637,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faf3c7a30-0fc4-410d-8d41-247da3eb105d%2F4DNFIWJY8GHD.hic":"7921314766,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fda99f429-20ab-4d91-bbfe-f8bdea8ed7b1%2F4DNFIN8NKRNF.hic":"4247121358,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0ca0f4e3-30ca-4332-b735-e32dce08e1a4%2F4DNFIZYGEHNZ.hic":"4910404663,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F243f48b0-6b59-4f37-ad39-a12e0986f530%2F4DNFIRPYGAV8.hic":"4220073636,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F49f1a890-d458-42a6-9c78-99c38b6c7a8f%2F4DNFI6MZTDM1.hic":"375035361,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76bd4768-9343-44ba-a99d-5500e184e39d%2F4DNFIG3BCGPL.hic":"2422923206,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9d1ed866-eaf6-4906-aa8c-9e39616dde38%2F4DNFIS9YPJ3L.hic":"1593271574,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1e7a5636-bdb6-45fb-85d8-87a7e908de43%2F4DNFIOWGA9AX.hic":"1632314387,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5ecc552a-0a6b-49a9-9aa5-9f3fd9b535fd%2F4DNFINKEDSBF.hic":"1458761024,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6c03f1d2-bb25-4c94-b5f5-d5cdd01c14b6%2F4DNFIVIXVUK7.hic":"1504818271,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1a4616ff-6d04-4a6a-9773-b80e81da2471%2F4DNFIANHFY16.hic":"1850724180,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd2231870-a78d-4c8b-9cfd-084f2468acb1%2F4DNFIJ67ZFBI.hic":"1473864703,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F859c2dd3-df8a-42b7-86ea-bf6524f75e80%2F4DNFIG3YQQ4V.hic":"1539822829,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8bad667e-6003-4828-9a20-07585fa9c811%2F4DNFIOLKEOME.hic":"3036353747,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F92ea551b-5779-4d31-a0f5-621e4bd0eb21%2F4DNFIVLN8WJE.hic":"2710426318,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F61ee79fa-0617-4083-b121-f92ef3a8905c%2F4DNFI2111XQA.hic":"2589549183,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F83ebb98d-e5db-403d-aa23-875293156c0e%2F4DNFI88HXX7D.hic":"2462367030,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6d63671a-8f1d-4159-82c0-931b43464772%2F4DNFIUBM6QK8.hic":"2486020469,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcccb9014-ce15-4032-81ac-222b3d621cb4%2F4DNFIVILEERC.hic":"2052537210,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21a07867-4007-4ca5-b066-25d3168208dc%2F4DNFIF7Q43N4.hic":"2091773428,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff738de0f-358b-44bf-97dd-644c8d9b1b1c%2F4DNFID56VJGW.hic":"878913568,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fda97c1d4-bb92-4a77-92a7-f7960f88b9dc%2F4DNFIYUR29KO.hic":"983915575,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F54ea363a-99e7-4f55-861e-1644acab7939%2F4DNFIUDPGHO8.hic":"905253594,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdcd66a07-55ee-48d9-a157-419cf4ee3eef%2F4DNFISWC2N8T.hic":"1233576358,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F40363837-7466-4a1d-b20d-a66d1670b700%2F4DNFICMPHDMI.hic":"516590777,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0b3fa4e6-caeb-40b4-8942-e9c0b03dfe4f%2F4DNFIKMKN736.hic":"634310295,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb6a34050-d52b-4880-91cf-d3fe4b0ce982%2F4DNFIN5NLS49.hic":"650451131,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8e63a47b-9fd4-4772-8b0c-10ee589ffb16%2F4DNFI4P8UBRL.hic":"705655033,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7d92b666-30cc-4838-9d46-c1f11cee3d3c%2F4DNFISNC3LAI.hic":"176146197,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F17f7dc63-a1bc-4970-b389-87d9ee93b753%2F4DNFIVBWPFD7.hic":"749678512,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff8897333-4791-4a83-9444-a653e24aee13%2F4DNFITMQRXB7.hic":"254477361,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8712bf31-33d0-4562-ab0b-a1e9cf4fd30c%2F4DNFIUYD3HBY.hic":"995625724,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbfaf6383-9cc6-4b5c-9b20-d3bf2e8c3495%2F4DNFIRRSC7P9.hic":"1149985362,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb0b70598-5d17-4e0a-8831-6cbe697e69e2%2F4DNFIWKR8FP6.hic":"1151628407,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fccc094a8-23ce-4fd8-9c4a-41f07c045c8f%2F4DNFIQ74RSUY.hic":"931695969,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8eda16f3-af5e-4f1f-b46d-c74df44b76aa%2F4DNFI9IIO5PW.hic":"1077740364,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff283637b-cf2c-4412-ba00-0e3d7e279fad%2F4DNFI8WGJG19.hic":"812086456,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7ad8438f-d3d9-42d8-88bf-42845a0dc2d0%2F4DNFIQ5CCESJ.hic":"652559720,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70e3bdcc-caf4-4822-b9c5-85234873db7a%2F4DNFIWTZHB4H.hic":"760694196,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F56ed767d-cd8a-4d38-8047-ed1e8bc8cd19%2F4DNFIENYQCDP.hic":"1159428005,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa912fff9-5f90-42b1-a3a6-cbb9eb2cf861%2F4DNFIFATZWPD.hic":"1033325746,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21338ea5-fdee-4ad8-b61c-608fc6cec4bc%2F4DNFI7YRXKEO.hic":"388142539,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff0f88647-5631-437b-b48a-4603915e3714%2F4DNFIUY3J7EW.hic":"407344788,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F16926af8-ac3b-4f32-97d5-6c0dc6f1596a%2F4DNFIRKUYKP4.hic":"893352368,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F93e39aec-6cde-4c5b-bcdf-283faa3163a2%2F4DNFIAQDBJZP.hic":"489922022,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0dc0b1ba-5509-4464-9814-dfe103ff09a0%2F4DNFIC1CLPK7.hic":"565748333,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb50964c7-b025-49d9-b1ed-289bedb59678%2F4DNFI3A3VYWU.hic":"4597459343,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff4390cea-b330-4022-88c1-9ff8c0a786f7%2F4DNFI6JJQKFJ.hic":"3678393678,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70c0f730-5da1-4863-9b7a-6cdd31066cff%2F4DNFIK61ILGM.hic":"3324300994,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F14b14ac4-ab59-4754-9c43-eacd9d0638e2%2F4DNFIYD8LO9Z.hic":"3227227120,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7386f953-8da9-47b0-acb2-931cba810544%2F4DNFIOTPSS3L.hic":"253942497,7557","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff6b5d8bd-27dc-4415-a320-53405a16db85%2F4DNFI525PKU5.hic":"305089653,7557","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1f922dbc-637b-4c43-b816-f604f0e79ad1%2F4DNFI8Y9SRP2.hic":"1438589609,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6a36d686-716c-4ba8-a9c3-fa8311791d3c%2F4DNFIP25GZGA.hic":"1419100109,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0e535542-2cf2-46e4-ba10-7a0b946a7fb2%2F4DNFITPO1WTY.hic":"3885296184,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0c17d228-5052-4c83-880e-af05118e6929%2F4DNFIG4X5Z5F.hic":"2159245890,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc3977c00-525b-4556-9a27-061707f8cb76%2F4DNFIXLYR32S.hic":"587852728,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3f856506-cbc5-4211-a29d-48a7530c622e%2F4DNFIWI3V5LI.hic":"2318237793,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F38f77979-5eb7-4b6f-9a60-c2451185db98%2F4DNFI2DGL7LH.hic":"2068150664,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe0992a75-7727-405e-95ac-aa97141b51c1%2F4DNFI1VSO8JP.hic":"1807949651,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe925f1aa-2e7b-44e7-bfa8-2084a613ab13%2F4DNFIV5O2ZYO.hic":"2242134377,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F803a6d3c-3972-4939-8ff2-d195c5192090%2F4DNFIEWEWQ8D.hic":"2981341325,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F25104375-a588-46e6-a382-663cee6c332f%2F4DNFICSTCJQZ.hic":"14592996888,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F927aa8a5-24a5-43b7-807a-1e99ac321459%2F4DNFICEGAHRC.hic":"15431307603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8c380474-12cd-41f4-b86f-2a29faf12eec%2F4DNFIY3XPKPO.hic":"2550999291,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F77da562e-d0ec-45a8-8764-14fa16d995a1%2F4DNFIK9PS9GM.hic":"3401011629,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F11b26222-d480-40a7-8d53-3ad8500396cb%2F4DNFIF4Y74JR.hic":"2127593378,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F93df02c6-1047-43f6-afae-d3598b61eeea%2F4DNFIBBKG9KD.hic":"5724446278,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6cd4378a-8f51-4e65-99eb-15f5c80abf8d%2F4DNFIT4I5C6Z.hic":"5419655766,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F067881e5-563d-40de-a9e3-caccad887fbc%2F4DNFI2U38HCE.hic":"14749043471,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcb3da9ad-7afe-4d0c-9c2d-261181e7a95c%2F4DNFIETP228R.hic":"9401474797,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F185b7bcc-7bb7-41b7-9ebe-92d4fe159431%2F4DNFIXKC48TK.hic":"11624295594,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F18459b84-dd43-4af6-a05f-bcb773096322%2F4DNFIFPGOWJ6.hic":"2843730862,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffde1e48c-4a0d-4bb1-b84a-e0e45f9a0aa3%2F4DNFIIRMBE8Y.hic":"5820677927,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbabed539-1f0f-4e87-8815-fde596e6024c%2F4DNFIVUGNDD7.hic":"5170782436,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7d00531a-e616-469b-af52-5b028270e2ce%2F4DNFIFLJLIS5.hic":"18917549985,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7a9dad53-b8af-4cb6-9ce3-5c38e4a855c7%2F4DNFIOX3BGNE.hic":"5482775936,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F82fd7b7e-5f47-48d5-bf0d-daaa48a4674d%2F4DNFISPUVQHA.hic":"2177864938,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4c6680f3-9cf6-452f-9dc5-ecebf376775d%2F4DNFI8649RQJ.hic":"3288850368,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2395f001-19d9-4000-9f00-dae3dea708d6%2F4DNFIE8T8JZ8.hic":"1383191843,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F24464fa8-bf96-483c-8e9a-c2f626ad6e19%2F4DNFIBM714BP.hic":"1765204569,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F918fc048-fa27-41d2-a63a-d50c511fbb9a%2F4DNFI6CWNUFL.hic":"2431120602,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7ff5a0d1-8e54-4cf0-9fe7-339f147c78da%2F4DNFIZ4F74QR.hic":"3211825957,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F355f0412-cb17-452a-b15c-aba16c5a742c%2F4DNFIOUVOX3R.hic":"5547401083,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3cac91c5-160a-4b91-a91e-edc309318dd5%2F4DNFIVTDXW6X.hic":"4797344498,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe9ac9ec5-6221-4f39-951a-1c5054fc9f1c%2F4DNFICA8Y9TN.hic":"4277557869,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F46f62222-b50a-428b-938b-5444951600eb%2F4DNFIDWM3HN5.hic":"4374808431,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F50e4f2a1-9cb6-4192-8199-64d354bfdf96%2F4DNFIBK5TB3N.hic":"3757387253,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe4cdd5a8-1a45-4c6a-906b-a9603260d4c8%2F4DNFI3JYF9VS.hic":"5260534916,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc8164e99-5778-427d-be26-f0e1b62400f0%2F4DNFIP1GNKUO.hic":"7589365689,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0d72e78a-fc87-4716-8b8e-6dc5650ff2ef%2F4DNFIQYQWPF5.hic":"22022259901,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fac58fc15-48c2-4eec-a689-23b677b4b6e7%2F4DNFIW6H9U3S.hic":"6810897169,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31811e40-e3ca-4456-8ba6-2ee66d6c7104%2F4DNFI7J8BQ4P.hic":"7188744676,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F62d81a52-d2cb-4bbd-8510-0fe120e786e0%2F4DNFIA3AKFSU.hic":"1763730692,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fae0b7513-d1a0-4f27-a9d3-348837f42cb6%2F4DNFID68JQY9.hic":"2422880133,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fae6a1a7e-1d2d-4fd2-a89f-1799abac8a9c%2F4DNFIL1FQDXE.hic":"1543814834,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F80d343c9-bd60-468a-803d-c3e351a958bc%2F4DNFITSIPCSK.hic":"2344682115,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff2d61195-a3a6-4d50-b928-546ca67546cb%2F4DNFIJ88LYHR.hic":"3362742962,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31052aba-773a-4500-961b-e0a518245b0c%2F4DNFIJIPWD63.hic":"2529548812,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc93d0710-3fbf-40cc-b0eb-878e2aa659e4%2F4DNFIZUP2BBI.hic":"491996147,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8660baeb-5be1-4ba5-93e4-66499e9a4587%2F4DNFIEBC4AF3.hic":"2993048734,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff6d08fbc-b836-4776-82ad-8b1b277ae837%2F4DNFI5VO3E1W.hic":"1949322679,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3af004a2-a6fa-46dc-8be8-898b847a77be%2F4DNFIFDGVWLU.hic":"2456400803,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd613b4b-2422-492c-8d8f-8afba9c8a182%2F4DNFITVGFNYZ.hic":"1411204423,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc340694f-14f3-4638-b09b-98220c20039a%2F4DNFIOW9TTC1.hic":"2611370588,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3effa71b-6aa3-4265-87ba-f8d709d778d7%2F4DNFIOAA3ZEQ.hic":"3123195980,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fde75cf8b-9ce1-44fc-8b7b-ca0adea6bae9%2F4DNFIA5ID1S6.hic":"3496246968,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F714f775d-a5a4-4314-83f8-016b9d73200b%2F4DNFIZYU7V81.hic":"4245592042,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5ca518af-6e1e-4777-b67b-0fe7f039ce58%2F4DNFIRV6PVUX.hic":"3981520466,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc29b57d5-c263-4372-b396-ab4f55682f5d%2F4DNFIMEANFBY.hic":"3999623376,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4196d3ef-161a-4c18-a57e-005165c6b32a%2F4DNFIGLGQXLC.hic":"4105683321,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe10828b5-9519-4ceb-81e7-7228bfd890de%2F4DNFILS2HLXC.hic":"3804942111,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Feaac88c7-9bdc-4b1e-aa9f-e675520dfffa%2F4DNFIQS8853L.hic":"5287726781,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faab371b1-bc8d-4e83-998e-5bb977c443ca%2F4DNFIVBYCYGS.hic":"4657988157,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdb116add-af8c-4a3b-b106-9f704ba0a175%2F4DNFIE4WWHMF.hic":"5116727268,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F033366e2-05a2-4381-9d48-90122892a9e0%2F4DNFIKDUUC3C.hic":"45638237,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7284a446-442d-4a46-aae5-84987e75a7af%2F4DNFIJ5HIRA2.hic":"62201052,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F876649a3-6dd3-463a-8b17-5752a98a89c5%2F4DNFIXDFC7EM.hic":"69878143,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3cb4ce4d-d474-459f-8b8a-2159d8df8068%2F4DNFIO35EOVR.hic":"70153114,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5c5612fa-18c2-47fb-8074-693b1054e254%2F4DNFI57QGL6U.hic":"54605055,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70c1472d-cf3a-41d7-8682-cd03b7cc978d%2F4DNFI2AGEBE5.hic":"67930121,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2bf4cce8-6e03-422b-a190-e51d4a07d501%2F4DNFI1E6NJQJ.hic":"4893181511,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0eb3aa56-8a23-435d-a07b-8bb545e8d708%2F4DNFI2DNFM1A.hic":"60466977,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1201682a-a223-482d-913d-3c3972b8eb65%2F4DNFIIRIHBR2.hic":"48961678,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6aee7913-6356-43cf-affa-f2b60dd478f6%2F4DNFIKXNMT46.hic":"39095246,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F357139a3-c9a5-4343-b0a4-b41c45fd03fd%2F4DNFIRV7IRJP.hic":"70916718,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76be3061-6259-42be-a917-19dcba41517b%2F4DNFIFX1XYKZ.hic":"229197441,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff60c348a-a62c-43c3-ac85-f6c28b5f823f%2F4DNFI64CJUZ5.hic":"112428610,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd0b0a14-9703-49af-bb36-2359f96d4d0e%2F4DNFIBPL2HL1.hic":"73972428,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F79ac278d-83f7-4c1f-91b2-05c8018c1426%2F4DNFIBRSIPE4.hic":"415430378,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0c3b8141-8e67-4211-80dd-3bae88f9e537%2F4DNFIDLDVY14.hic":"112747303,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2ae703d2-d85c-4ac4-9ce1-14d653927675%2F4DNFI4R1II4P.hic":"210565448,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76e641af-90be-49f8-b126-12c20f856159%2F4DNFINMLRY95.hic":"1590865292,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3b416382-ae5d-469f-9e9a-85a3e2ce9793%2F4DNFI8KBXYNL.hic":"4626496956,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa27589a6-86b2-43a2-8218-1f2232d551e6%2F4DNFI53R5IKA.hic":"1536016455,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdd3999f5-b36e-4154-a6b9-446656959a3a%2F4DNFIAWVDQ8C.hic":"2210273411,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc377953b-0e61-426b-a905-abab2d5a3002%2F4DNFI9VXTBE2.hic":"3384365692,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2dbe0377-1db2-4aae-af2b-d87dff728035%2F4DNFIT96Z365.hic":"7692311974,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdcfcb009-f006-4ab8-a4c7-af72be58c12c%2F4DNFITUOMFUQ.hic":"6592120312,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F67f9073d-b2c5-474e-b3d5-7d72cde555cd%2F4DNFIHLQKDN8.hic":"2647703964,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76968cc8-fb9f-485b-85b2-c9289067194b%2F4DNFIL9M97T2.hic":"6186798917,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87d9330b-8d2c-4e9d-85bb-02e572de7a68%2F4DNFIDWGZLHX.hic":"4379708168,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffc01b381-3665-4225-88ee-2e5e9ecb7324%2F4DNFIMEG1QIC.hic":"3587146533,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3144a03c-15c3-4bf9-95f8-ffad2640a1bf%2F4DNFIWSB66VX.hic":"1529739069,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd7d3aac0-ba66-494b-ba0c-147631084b98%2F4DNFIH7TH4MF.hic":"6896300679,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4b13bd19-fbd1-4c68-8855-4f0158d1ce47%2F4DNFIHKWIZ9T.hic":"1954878455,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d04e286-30d4-4add-a806-7a929d36419e%2F4DNFIZBBX795.hic":"1350142414,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa26f261-a88a-4cac-9118-ff8e90ab6f61%2F4DNFI9ZWZ5BS.hic":"3410552807,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F24e516ce-0b49-4476-b818-cc96471d8765%2F4DNFIPAI8XB5.hic":"4168518737,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fac3b06b5-46d4-4c1e-97e9-9a4f353473a7%2F4DNFI1OUWFSC.hic":"10766406904,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76c6aa27-895f-4e82-8ed8-7a85aca84490%2F4DNFIX4PJKXZ.hic":"1463157350,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe6fbe03a-997b-4d72-a3cc-f1ed7bd88a92%2F4DNFIZGCA8AH.hic":"1597664180,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F61d99a87-4ec6-4116-be99-b483999641c4%2F4DNFI5CGQ46V.hic":"2870576870,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F271ea8cd-53b9-44c9-9fff-1bb5c444b54c%2F4DNFIOCW5AEM.hic":"2463600138,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa98ca64a-861a-4a8c-92e9-586af457b1fb%2F4DNFI1UEG1HD.hic":"22480709268,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5809b32e-0aea-4cf5-a174-cf162d591a35%2F4DNFI9YAVTI1.hic":"3141182061,25900"};const bx="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,vx=new class{constructor(e){this.wait=void 0===e?100:e,this.isCalled=!1,this.calls=[]}limiter(e){const t=this;let i=function(){t.calls.length&&!t.isCalled&&(t.isCalled=!0,t.calls.shift().call(),setTimeout((function(){t.isCalled=!1,i()}),t.wait))};return function(){t.calls.push(e.bind(this,...arguments)),i()}}}(100);class yx{constructor(e){if(e.alert&&(this.alert=e.alert),this.config=e,this.loadFragData=e.loadFragData,this.fragmentSitesCache={},this.normVectorCache=new gx(10),this.normalizationTypes=["NONE"],this.matrixCache=new gx(10),this.blockCache=new xx,e.file)this.file=e.file;else if(e.blob)this.file=new rx(e.blob);else{if(!(e.url||e.path&&!bx))throw e.path?Error("path property is deprecated, use NodeLocalFile"):Error("Arguments must include file, blob, url, or path");{this.url=e.url||this.path,this.remote=!0;const i=new ax(e);(t=this.url).indexOf("drive.google.com")>=0||t.indexOf("www.googleapis.com/drive")>0?this.file=new sx(i,vx):this.file=i}}var t}async init(){this.initialized||(await this.readHeaderAndFooter(),this.initialized=!0)}async getVersion(){if(void 0===this.version){const e=await this.file.read(0,128);if(!e)return;const t=new hx(new DataView(e));return this.magic=t.getString(),this.version=t.getInt(),this.version}return this.version}async getMetaData(){return await this.init(),this.meta}async readHeaderAndFooter(){let e=await this.file.read(0,16);if(!e||0===e.byteLength)throw Error("File content is empty");let t=new hx(new DataView(e));if(this.magic=t.getString(),this.version=t.getInt(),this.version<5)throw Error("Unsupported hic version: "+this.version);this.footerPosition=t.getLong(),await this.readFooter();const i=Object.values(this.masterIndex).reduce(((e,t)=>Math.min(e,t.start)),Number.MAX_VALUE)-16;e=await this.file.read(16,i),t=new hx(new DataView(e)),this.genomeId=t.getString(),this.version>=9&&(this.normVectorIndexPosition=t.getLong(),this.normVectorIndexSize=t.getLong()),this.attributes={};let n=t.getInt();for(;n-- >0;)this.attributes[t.getString()]=t.getString();this.chromosomes=[],this.chromosomeIndexMap={};let o=t.getInt(),r=0;for(;o-- >0;){const e={index:r,name:t.getString(),size:this.version<9?t.getInt():t.getLong()};"all"===e.name.toLowerCase()&&(this.wholeGenomeChromosome=e,this.wholeGenomeResolution=Math.round(2*e.size)),this.chromosomes.push(e),this.chromosomeIndexMap[e.name]=e.index,r++}this.bpResolutions=[];let a=t.getInt();for(;a-- >0;)this.bpResolutions.push(t.getInt());if(this.loadFragData){this.fragResolutions=[];let e=t.getInt();if(e>0)for(;e-- >0;)this.fragResolutions.push(t.getInt())}this.chrAliasTable={};for(let e of Object.keys(this.chromosomeIndexMap))e.startsWith("chr")?this.chrAliasTable[e.substr(3)]=e:"MT"===e?this.chrAliasTable.chrM=e:this.chrAliasTable["chr"+e]=e;this.meta={version:this.version,genome:this.genomeId,chromosomes:this.chromosomes,resolutions:this.bpResolutions}}async readFooter(){const e=this.version<9?8:12;let t=await this.file.read(this.footerPosition,e);if(!t)return null;let i=new hx(new DataView(t));const n=this.version<9?i.getInt():i.getLong();let o=i.getInt();const r=196*o;for(t=await this.file.read(this.footerPosition+e,Math.min(r,n)),i=new hx(new DataView(t)),this.masterIndex={};o-- >0;){const e=i.getString(),t=i.getLong(),n=i.getInt();this.masterIndex[e]={start:t,size:n}}if(this.expectedValueVectors={},this.version>5){const e=this.version<9?4:8;this.normExpectedValueVectorsPosition=this.footerPosition+e+n}return this}async printIndexStats(){let e,t=0,i=0;await await this.init();for(let n of Object.keys(this.masterIndex)){const o=this.masterIndex[n];t+=o.size,o.size>i&&(i=o.size,e=n)}console.log(`${i}  ${e}  ${this.config.url}`)}async getMatrix(e,t){const i=px.getKey(e,t);if(this.matrixCache.has(i))return this.matrixCache.get(i);{const n=await this.readMatrix(e,t);return this.matrixCache.set(i,n),n}}async readMatrix(e,t){if(await this.init(),e>t){const i=e;e=t,t=i}const i=px.getKey(e,t),n=this.masterIndex[i];if(!n)return;const o=await this.file.read(n.start,n.size);return o?px.parseMatrix(o,this.chromosomes):void 0}async getContactRecords(e,t,i,n,o,r=!1){await this.init();const a=this.chromosomeIndexMap[this.getFileChrName(t.chr)],s=this.chromosomeIndexMap[this.getFileChrName(i.chr)];if(a>s||a===s&&t.start>=i.end){const e=t;t=i,i=e}const c=await this.getBlocks(t,i,n,o);if(!c||0===c.length)return[];const l=[],h=t.start/o,d=t.end/o,f=i.start/o,u=i.end/o,p=Math.floor(h),m=Math.ceil(d),g=Math.floor(f),w=Math.ceil(u);for(let a of c)if(a){let s,c,F=e&&"NONE"!==e;const b=this.getFileChrName(t.chr),v=this.getFileChrName(i.chr);if(F){const t=await this.getNormalizationVector(e,b,n,o),i=b===v?t:await this.getNormalizationVector(e,v,n,o);t&&i?(s=await t.getValues(p,m),c=await i.getValues(g,w)):F=!1}for(let e of a.records)if(r||e.bin1>=h&&e.bin1<d&&e.bin2>=f&&e.bin2<u)if(F){const t=e.bin1,i=e.bin2,n=s[t-p]*c[i-g];if(0!==n&&!isNaN(n)){const o=e.counts/n;l.push(new mx(t,i,o))}}else l.push(e)}return l}async getBlocks(e,t,i,n){const o=(e,t)=>`${t.getKey()}_${e}`;await this.init();const r=this.getFileChrName(e.chr),a=this.getFileChrName(t.chr),s=this.chromosomeIndexMap[r],c=this.chromosomeIndexMap[a];if(void 0===s)return console.log("No chromosome named: "+e.chr),[];if(void 0===c)return console.log("No chromosome named: "+t.chr),[];const l=await this.getMatrix(s,c);if(!l)return console.log("No matrix for "+e.chr+"-"+t.chr),[];const h=l.getZoomData(n,i);if(!h){let i=`No data avalailble for resolution: ${n}  for map ${e.chr}-${t.chr}`;throw new Error(i)}const d=h.getBlockNumbers(e,t,this.version),f=[],u=[];for(let e of d){const t=o(e,h);this.blockCache.has(n,t)?f.push(this.blockCache.get(n,t)):u.push(e)}const p=u.map((e=>this.readBlock(e,h))),m=await Promise.all(p);for(let e of m)e&&this.blockCache.set(n,o(e.blockNumber,h),e);return f.concat(m)}async readBlock(e,t){const i=await t.blockIndex.getBlockIndexEntry(e);if(i){let n=await this.file.read(i.filePosition,i.size);if(!n)return;n=new ix.Inflate(new Uint8Array(n)).decompress().buffer;const o=new hx(new DataView(n)),r=o.getInt(),a=[];if(this.version<7)for(let e=0;e<r;e++){const e=o.getInt(),t=o.getInt(),i=o.getFloat();a.push(new mx(e,t,i))}else{const e=o.getInt(),t=o.getInt(),i=1===o.getByte(),n=!(this.version<9)&&1==o.getByte(),r=!(this.version<9)&&1==o.getByte(),s=o.getByte();if(1===s){const s=r?o.getInt():o.getShort();for(let c=0;c<s;c++){const s=t+(r?o.getInt():o.getShort()),c=n?o.getInt():o.getShort();for(let t=0;t<c;t++){const t=e+(n?o.getInt():o.getShort()),r=i?o.getFloat():o.getShort();a.push(new mx(t,s,r))}}}else{if(2!=s)throw new Error("Unknown block type: "+s);{const n=o.getInt(),r=o.getShort();for(let s=0;s<n;s++){const n=Math.floor(s/r),c=e+(s-n*r),l=t+n;if(i){const e=o.getFloat();isNaN(e)||a.push(new mx(c,l,e))}else{const e=o.getShort();-32768!=e&&a.push(new mx(c,l,e))}}}}}return new Cx(e,t,a,i)}}async hasNormalizationVector(e,t,i,n){let o;if(await this.init(),Number.isInteger(t))o=t;else{const e=this.getFileChrName(t);o=this.chromosomeIndexMap[e]}const r=_x(e,o,i.toString(),n),a=await this.getNormVectorIndex();return a&&a[r]}async isNormalizationValueAvailableAtResolution(e,t,i,n){let o;if(Number.isInteger(t))o=t;else{const e=this.getFileChrName(t);o=this.chromosomeIndexMap[e]}return void 0!==(await this.getNormVectorIndex())[_x(e,o,i.toString(),n)]}async getNormalizationVector(e,t,i,n){let o;if(await this.init(),Number.isInteger(t))o=t;else{const e=this.getFileChrName(t);o=this.chromosomeIndexMap[e]}const r=_x(e,o,i.toString(),n);if(this.normVectorCache.has(r))return this.normVectorCache.get(r);const a=await this.getNormVectorIndex();if(!a)return void console.log("Normalization vectors not present in this file");if(!1===await this.isNormalizationValueAvailableAtResolution(e,t,i,n)){const t=`Normalization option ${e} not available at resolution ${n}. Will use NONE.`;return console.log(t),void(this.alert&&this.alert(t))}const s=a[r],c=await this.file.read(s.filePosition,8);if(!c)return;const l=new hx(new DataView(c)),h=this.version<9?l.getInt():l.getLong(),d=this.version<9?8:4,f=this.version<9?s.filePosition+4:s.filePosition+8,u=new wx(this.file,f,h,d);return this.normVectorCache.set(r,u),u}async getNormVectorIndex(){if(!(this.version<6)){if(!this.normVectorIndex){if(!this.config.nvi&&this.remote&&this.url){const e=new URL(this.url),t=encodeURIComponent(e.hostname+e.pathname);Fx.hasOwnProperty(t)&&(this.config.nvi=Fx[t])}if(this.config.nvi){const e=decodeURIComponent(this.config.nvi).split(","),t={start:parseInt(e[0]),size:parseInt(e[1])};return this.readNormVectorIndex(t)}try{return await this.readNormExpectedValuesAndNormVectorIndex(),this.normVectorIndex}catch(e){"416"===e.code||416===e.code?this.normExpectedValueVectorsPosition=void 0:console.error(e)}}return this.normVectorIndex}}async getNormalizationOptions(){return await this.getNormVectorIndex(),this.normalizationTypes}async readNormVectorIndex(e){await this.init(),this.normalizationVectorIndexRange=e;const t=await this.file.read(e.start,e.size),i=new hx(new DataView(t));this.normVectorIndex={};let n=i.getInt();for(;n-- >0;)this.parseNormVectorEntry(i);return this.normVectorIndex}async readNormExpectedValuesAndNormVectorIndex(){if(await this.init(),void 0===this.normExpectedValueVectorsPosition)return;const e=await this.skipExpectedValues(this.normExpectedValueVectorsPosition);let t=4,i=await this.file.read(e,4);if(0===i.byteLength)return;const n=new hx(new DataView(i)).getInt(),o={start:e+t,size:30*n};i=await this.file.read(o.start,o.size),this.normalizedExpectedValueVectors={},this.normVectorIndex={},await async function i(n,o){const r=new hx(new DataView(o));for(;n-- >0;){if(r.available()<100){n++,t+=r.position;const o=Math.max(1e3,30*n),a={start:e+t,size:o},s=await this.file.read(a.start,a.size);return i.call(this,n,s)}this.parseNormVectorEntry(r)}t+=r.position}.call(this,n,i),this.config.nvi=e.toString()+","+t}async skipExpectedValues(e){const t=this.version,i=new cx({file:this.file,size:256e3}),n={start:e,size:4},o=await i.read(n.start,n.size),r=new hx(new DataView(o)).getInt();return 0===r?e+4:async function e(n,o){let r={start:n,size:500},a=0,s=n,c=await i.read(r.start,r.size),l=new hx(new DataView(c));l.getString(),l.getString(),l.getInt();const h=t<9?l.getInt():l.getLong();a+=l.position+h*(t<9?8:4),r={start:n+a,size:4},c=await i.read(r.start,r.size),l=new hx(new DataView(c));const d=l.getInt();return a+=4+d*(4+(t<9?8:4)),o--,0===o?s+a:e(s+a,o)}(e+4,r)}getZoomIndexForBinSize(e,t){let i;if("BP"===(t=t||"BP"))i=this.bpResolutions;else{if("FRAG"!==t)throw new Error("Invalid unit: "+t);i=this.fragResolutions}for(let t=0;t<i.length;t++)if(i[t]===e)return t;return-1}parseNormVectorEntry(e){const t=e.getString(),i=e.getInt(),n=e.getString(),o=e.getInt(),r=e.getLong(),a=this.version<9?e.getInt():e.getLong(),s=t+"_"+i+"_"+n+"_"+o;this.normalizationTypes.includes(t)||this.normalizationTypes.push(t),this.normVectorIndex[s]={filePosition:r,size:a}}getFileChrName(e){return this.chrAliasTable.hasOwnProperty(e)?this.chrAliasTable[e]:e}}function _x(e,t,i,n){return e+"_"+t+"_"+i+"_"+n}class Cx{constructor(e,t,i,n){this.blockNumber=e,this.zoomData=t,this.records=i,this.idx=n}}class xx{constructor(){this.resolution=void 0,this.map=new gx(6)}set(e,t,i){this.resolution!==e&&this.map.clear(),this.resolution=e,this.map.set(t,i)}get(e,t){return this.resolution===e?this.map.get(t):void 0}has(e,t){return this.resolution===e&&this.map.has(t)}}class kx{constructor(e){this.config=e,this.hicFile=new yx(e)}async getMetaData(){return await this.hicFile.getMetaData()}async getContactRecords(e,t,i,n,o){return this.hicFile.getContactRecords(e,t,i,n,o)}async getNormalizationOptions(){return this.hicFile.getNormalizationOptions()}async getNVI(){return await this.hicFile.getNormVectorIndex(),this.hicFile.config.nvi}async printIndexStats(){await this.hicFile.printIndexStats()}getFileChrName(e){return this.hicFile.chrAliasTable.hasOwnProperty(e)?this.hicFile.chrAliasTable[e]:e}}function Ex(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0}const Nx=new Map;function Sx(e){var t=function(e){if(e.includes("/open?id=")){const t=e.indexOf("/open?id=")+9,i=e.indexOf("&");if(t>0&&i>t)return e.substring(t,i);if(t>0)return e.substring(t)}else{if(e.includes("/file/d/")){const t=e.indexOf("/file/d/")+8,i=e.lastIndexOf("/");return e.substring(t,i)}if(e.startsWith("https://www.googleapis.com/drive")){let t=e.indexOf("/files/");const i=e.indexOf("?");if(t>0)return t+=7,i>0?e.substring(t,i):e.substring(t)}}throw Error("Unknown Google Drive url format: "+e)}(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e}Nx.set("!","%21"),Nx.set("#","%23"),Nx.set("$","%24"),Nx.set("%","%25"),Nx.set("&","%26"),Nx.set("'","%27"),Nx.set("(","%28"),Nx.set(")","%29"),Nx.set("*","%2A"),Nx.set("+","%2B"),Nx.set(",","%2C"),Nx.set("/","%2F"),Nx.set(":","%3A"),Nx.set(";","%3B"),Nx.set("=","%3D"),Nx.set("?","%3F"),Nx.set("@","%40"),Nx.set("[","%5B"),Nx.set("]","%5D"),Nx.set(" ","%20");class Ix{constructor(e){this.config=e,this.url=e.path||e.url}async read(e,t){const i={start:e,size:t};return en.loadArrayBuffer(this.url,{range:i})}}const zx={hg19:[249250621,243199373,198022430],hg38:[248956422,242193529,198295559],mm10:[195471971,182113224,160039680],mm9:[197195432,181748087,159599783],dm6:[23513712,25286936,28110227]};class Dx{constructor(e){this.straw=new kx(e)}async init(){this.hicFile=this.straw.hicFile,await this.hicFile.init(),this.normalizationTypes=["NONE"],this.genomeId=this.hicFile.genomeId,this.chromosomes=this.hicFile.chromosomes,this.bpResolutions=this.hicFile.bpResolutions,this.wholeGenomeChromosome=this.hicFile.wholeGenomeChromosome,this.wholeGenomeResolution=this.hicFile.wholeGenomeResolution;const e=function(e){if(e.length<4)return;const t=Object.keys(zx);let i;for(let n of e)for(let e of t)if(zx[e].includes(n.size)){i=e;break}if(i){const t=new Set(e.map((e=>e.size)));for(let e of zx[i])if(!t.has(e))return;return i}return}(this.chromosomes);e&&(this.genomeId=e)}async getContactRecords(e,t,i,n,o){return this.straw.getContactRecords(e,t,i,n,o)}async hasNormalizationVector(e,t,i,n){return this.straw.hicFile.hasNormalizationVector(e,t,i,n)}clearCaches(){this.colorScaleCache={}}async getMatrix(e,t){return this.hicFile.getMatrix(e,t)}getZoomIndexForBinSize(e,t){var i,n;if("BP"===(t=t||"BP"))n=this.bpResolutions;else{if("FRAG"!==t)throw new Error("Invalid unit: "+t);n=this.fragResolutions}for(i=0;i<n.length;i++)if(n[i]===e)return i;return-1}getBinSizeForZoomIndex(e,t){var i;if("BP"===(t=t||"BP"))i=this.bpResolutions;else{if("FRAG"!==t)throw new Error("Invalid unit: "+t);i=this.fragResolutions}return i[e]}getChrIndexFromName(e){var t;for(t=0;t<this.chromosomes.length;t++)if(e===this.chromosomes[t].name)return t}compareChromosomes(e){const t=this.chromosomes,i=e.chromosomes;if(t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t[e].size!==i[e].size)return!1;return!0}isWholeGenome(e){return null!=this.wholeGenomeChromosome&&this.wholeGenomeChromosome.index===e}async getNormVectorIndex(){return this.hicFile.getNormVectorIndex()}async getNormalizationOptions(){return this.hicFile.getNormalizationOptions()}isCompatible(e){const t=this.genomeId,i=e.genomeId;return("hg38"===t||"GRCh38"===t)&&("hg38"===i||"GRCh38"===i)||("hg19"===t||"GRCh37"===t)&&("hg19"===i||"GRCh37"===i)||("mm10"===t||"GRCm38"===t)&&("mm10"===i||"GRCm38"===i)||this.compareChromosomes(e)}static async loadDataset(e){if(tx(e.url))e.blob=e.url,delete e.url;else if((t=e.url).includes("googleapis")&&!t.includes("urlshortener")||function(e){return e.startsWith("gs://")||e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")}(t)||Ex(t)){Ex(e.url)&&(e.url=Sx(e.url));const t=Object.assign({},e);e.file=new Ix(t)}var t;const i=new Dx(e);return await i.init(),i.url=e.url,i}}class Ax{constructor(e,t){this.id=e,this.chromosomes=t,this.wgChromosomeNames=[],this.chromosomeLookupTable={},this.genomeLength=0;for(let e of this.chromosomes)e.bpLength=e.size,"all"!==e.name.toLowerCase()&&(this.genomeLength+=e.size,this.wgChromosomeNames.push(e.name));var i={};for(let e of t){const t=e.name;if(t.startsWith("arm_")){const e=t.substring(4);i[e]=t,i["chr"+e]=t}else{i[t.startsWith("chr")?t.substring(3):"chr"+t]=t,"chrM"===t&&(i.MT="chrM"),"MT"===t&&(i.chrmM="MT")}this.chromosomeLookupTable[t.toLowerCase()]=e}this.chrAliasTable=i,this.featureDB=new Map}getChromosomeName(e){var t=this.chrAliasTable[e];return t||e}getChromosome(e){var t=this.getChromosomeName(e).toLowerCase();return this.chromosomeLookupTable[t]}getGenomeCoordinate(e,t){return this.getCumulativeOffset(e.name)+t}getChromosomeForCoordinate(e){var t,i=0,n=0;for(i=1;i<this.chromosomes.length;i++){if(n+(t=this.chromosomes[i].size)>e)return this.chromosomes[i];n+=t}return this.chromosomes[this.chromosomes.length-1]}getCumulativeOffset(e){const t=this.getChromosomeName(e);return void 0===this.cumulativeOffsets&&Mx.call(this),this.cumulativeOffsets[t]}getGenomeLength(){return this.genomeLength}addFeaturesToDB(e,t){const i=(e,t)=>{const i=this.featureDB.get(e);i&&(t=t.end-t.start>i.end-i.start?t:i),this.featureDB.set(e,t)};for(let t of e)t.name&&i(t.name.toUpperCase(),t),t.gene&&t.gene.name&&i(t.gene.name.toUpperCase(),t)}}function Mx(){const e={};let t=0;for(let i of this.chromosomes)"all"!==i.name&&(e[i.name]=Math.floor(t),t+=i.size);this.cumulativeOffsets=e}class Tx{constructor(e,t,i,n,o,r,a,s,c){Number.isNaN(s)&&(s=1),void 0!==e&&(e<=t?(this.chr1=e,this.chr2=t,this.x=n,this.y=o):(this.chr1=t,this.chr2=e,this.x=o,this.y=n),this.zoom=i,this.pixelSize=s,this.width=r,this.height=a,"undefined"===c&&(console.warn("Normalization is undefined"),c=void 0),this.normalization=c)}stringify(){return this.normalization?`${this.chr1},${this.chr2},${this.zoom},${this.x},${this.y},${this.width},${this.height},${this.pixelSize},${this.normalization}`:`${this.chr1},${this.chr2},${this.zoom},${this.x},${this.y},${this.width},${this.height},${this.pixelSize}`}clone(){return Object.assign(new Tx,this)}equals(e){return JSON.stringify(this)===JSON.stringify(e)}async sizeBP(e,t,i){const n=await e.getMatrix(this.chr1,this.chr2),{zoom:o}=n.getZoomDataByIndex(t,"BP");return i*(o.binSize/this.pixelSize)}static parse(e){const t=e.split(",");return t.length<=7?new Tx(parseInt(t[0]),parseInt(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4]),fk.width,fk.height,parseFloat(t[5]),t.length>6?t[6]:"NONE"):new Tx(parseInt(t[0]),parseInt(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4]),parseInt(t[5]),parseInt(t[6]),parseFloat(t[7]),t.length>8?t[8]:"NONE")}toJSON(){return{chr1:this.chr1,chr2:this.chr2,zoom:this.zoom,x:this.x,y:this.y,width:this.width,height:this.height,pixelSize:this.pixelSize,normalization:this.normalization||"NONE"}}static fromJSON(e){return new Tx(e.chr1,e.chr2,e.zoom,e.x,e.y,e.width,e.height,e.pixelSize,e.normalization)}static default(e){return e?new Tx(0,0,0,0,0,e.width,e.height,1,"NONE"):new Tx(0,0,0,0,0,fk.width,fk.height,1,"NONE")}}async function Rx(e,t){const n="https://portals.broadinstitute.org/webservices/igv/locus?genome="+e+"&name="+t;var o=function(e){const t=i(e),n=[],o=[];for(let e of t)""===e||n.push(e);for(let e of n){const t=e.split("\t");t.length>=3&&o.push(t[1])}return o}(await en.loadString(n));return 0===o.length?void 0:o[0]}class Lx{constructor(e,t){this.browser=e;const i=t.querySelector("div[id$='upper-hic-nav-bar-widget-container']");this.containerElement=document.createElement("div"),this.containerElement.className="hic-chromosome-goto-container",this.containerElement.title="Chromosome Goto",i.appendChild(this.containerElement),this.resolutionSelectorElement=document.createElement("input"),this.resolutionSelectorElement.type="text",this.resolutionSelectorElement.placeholder="chr-x-axis chr-y-axis",this.containerElement.appendChild(this.resolutionSelectorElement),this.resolutionSelectorElement.addEventListener("change",(e=>{this.browser.parseGotoInput(this.resolutionSelectorElement.value),this.resolutionSelectorElement.blur()})),this.browser.eventBus.subscribe("LocusChange",this)}receiveEvent(e){if("LocusChange"===e.type){let i;const n=e.data.state||this.browser.state;if(this.browser.dataset.isWholeGenome(n.chr1))i="All";else{const e=this.browser.dataset.chromosomes[n.chr1],o=this.browser.dataset.chromosomes[n.chr2],r=this.browser.dataset.bpResolutions[n.zoom],a=this.browser.contactMatrixView.getViewDimensions(),s=n.pixelSize,c=1+Math.round(n.x*r),l=1+Math.round(n.y*r),h=Math.min(e.size,Math.round(a.width/s*r)+c-1),d=Math.min(o.size,Math.round(a.height/s*r)+l-1);i=`${e.name}:${t(c)}-${t(h)} ${o.name}:${t(l)}-${t(d)}`}this.resolutionSelectorElement.value=i}}}class Bx{constructor(e,t){this.browser=e;const i=t.querySelector("div[id$='upper-hic-nav-bar-widget-container']");this.containerElement=document.createElement("div"),this.containerElement.className="hic-resolution-selector-container",this.containerElement.title="Resolution",i.appendChild(this.containerElement),this.labelContainerElement=document.createElement("div"),this.labelContainerElement.id="hic-resolution-label-container",this.containerElement.appendChild(this.labelContainerElement),this.labelElement=document.createElement("div"),this.labelElement.textContent="Resolution (kb)",this.labelElement.style.display="none",this.labelContainerElement.appendChild(this.labelElement),this.resolutionLockElement=document.createElement("i"),this.resolutionLockElement.id="hic-resolution-lock",this.resolutionLockElement.className="fa fa-unlock",this.resolutionLockElement.setAttribute("aria-hidden","true"),this.labelContainerElement.appendChild(this.resolutionLockElement),this.labelContainerElement.addEventListener("click",(()=>{this.browser.resolutionLocked=!this.browser.resolutionLocked,this.setResolutionLock(this.browser.resolutionLocked)})),this.resolutionSelectorElement=document.createElement("select"),this.resolutionSelectorElement.name="resolution_selector",this.containerElement.appendChild(this.resolutionSelectorElement),this.resolutionSelectorElement.addEventListener("change",(()=>{const e=parseInt(this.resolutionSelectorElement.value);this.browser.setZoom(e)})),this.browser.eventBus.subscribe("LocusChange",this),this.browser.eventBus.subscribe("MapLoad",this),this.browser.eventBus.subscribe("ControlMapLoad",this)}setResolutionLock(e){this.resolutionLockElement.classList.remove(e?"fa-unlock":"fa-lock"),this.resolutionLockElement.classList.add(e?"fa-lock":"fa-unlock")}receiveEvent(e){const t=this.browser;if("LocusChange"===e.type)if(e.data.resolutionChanged&&(t.resolutionLocked=!1,this.setResolutionLock(t.resolutionLocked)),!1!==e.data.chrChanged){const i=t.dataset.isWholeGenome(e.data.state.chr1);this.labelElement.textContent=i?"Resolution (mb)":"Resolution (kb)",this.updateResolutions(t.state.zoom)}else{const e=t.state.zoom;Array.from(this.resolutionSelectorElement.options).forEach(((t,i)=>{t.selected=i===e}))}else"MapLoad"===e.type?(t.resolutionLocked=!1,this.setResolutionLock(!1),this.updateResolutions(t.state.zoom)):"ControlMapLoad"===e.type&&this.updateResolutions(t.state.zoom)}async updateResolutions(e){const i=this.browser,n=i.isWholeGenome()?[{index:0,binSize:i.dataset.wholeGenomeResolution}]:i.getResolutions();this.resolutionSelectorElement.innerHTML="",n.forEach((i=>{const n=i.binSize,o=i.index;let r,a;n>=1e6?(r=1e6,a="mb"):n>=1e3?(r=1e3,a="kb"):(r=1,a="bp");const s=`${t(Math.round(n/r))} ${a}`,c=document.createElement("option");c.dataset.resolution=n,c.value=o,c.textContent=s,e===o&&(c.selected=!0),this.resolutionSelectorElement.appendChild(c)}))}}const Hx={threshold:2e3,r:255,g:0,b:0};class Ox{constructor(e){this.threshold=e.threshold,this.r=e.r,this.g=e.g,this.b=e.b,this.cache=[],this.nbins=2e3,this.binsize=this.threshold/this.nbins}setThreshold(e){this.threshold=e,this.cache=[],this.binsize=this.threshold/this.nbins}getThreshold(){return this.threshold}setColorComponents(e){this.r=e.r,this.g=e.g,this.b=e.b,this.cache=[]}getColorComponents(){return{r:this.r,g:this.g,b:this.b}}equals(e){return JSON.stringify(this)===JSON.stringify(e)}getColor(e){const t=Math.floor(Math.min(this.threshold,e)/this.binsize);if(void 0===this.cache[t]){const i=Math.floor(255*(Ri(e,0,this.threshold)-0)/(this.threshold-0));this.cache[t]={red:this.r,green:this.g,blue:this.b,alpha:i,rgbaString:`rgba(${this.r},${this.g},${this.b}, ${i})`}}return this.cache[t]}stringify(){return this.threshold+","+this.r+","+this.g+","+this.b}static parse(e){var t,i;return e.startsWith("R:")?(t=e.substring(2).split(":"),(i=new qx(Number.parseFloat(t[0]))).positiveScale=n(t[1]),i.negativeScale=n(t[2]),i):n(e);function n(e){var t,i;return t={threshold:(i=e.split(","))[0],r:i[1],g:i[2],b:i[3]},new Ox(t)}}}const Px={threshold:5,positive:{r:255,g:0,b:0},negative:{r:0,g:0,b:255}};class qx{constructor(e){this.threshold=e,this.positiveScale=new Ox({threshold:Math.log(e),r:255,g:0,b:0}),this.negativeScale=new Ox({threshold:Math.log(e),r:0,g:0,b:255})}setThreshold(e){this.threshold=e,this.positiveScale.setThreshold(Math.log(e)),this.negativeScale.setThreshold(Math.log(e))}getThreshold(){return this.threshold}setColorComponents(e,t){return"-"===t?this.negativeScale.setColorComponents(e):this.positiveScale.setColorComponents(e)}getColorComponents(e){return"-"===e?this.negativeScale.getColorComponents():this.positiveScale.getColorComponents()}getColor(e){var t=Math.log(e);return t<0?this.negativeScale.getColor(-t):this.positiveScale.getColor(t)}stringify(){return"R:"+this.threshold+":"+this.positiveScale.stringify()+":"+this.negativeScale.stringify()}}const Ux=685;class Vx{constructor(e,t,i,n,o,r,a){this.browser=e,this.viewportElement=t,this.sweepZoom=i,this.scrollbarWidget=n,this.colorScale=o,this.ratioColorScale=r,this.backgroundColor=a,this.backgroundRGBString=Hi.rgbColor(a.r,a.g,a.b),this.canvasElement=t.querySelector("canvas"),this.ctx=this.canvasElement.getContext("2d"),this.faSpinnerElement=t.querySelector(".fa-spinner"),this.spinnerCount=0,this.xGuideElement=t.querySelector("div[id$='-x-guide']"),this.yGuideElement=t.querySelector("div[id$='-y-guide']"),this.displayMode="A",this.imageTileCache={},this.imageTileCacheKeys=[],this.imageTileCacheLimit=8,this.colorScaleThresholdCache={},this.browser.eventBus.subscribe("NormalizationChange",this),this.browser.eventBus.subscribe("TrackLoad2D",this),this.browser.eventBus.subscribe("TrackState2D",this),this.browser.eventBus.subscribe("MapLoad",this),this.browser.eventBus.subscribe("ControlMapLoad",this),this.browser.eventBus.subscribe("ColorChange",this),this.drawsInProgress=new Set}setBackgroundColor(e){this.backgroundColor=e,this.backgroundRGBString=Hi.rgbColor(e.r,e.g,e.b),this.update()}stringifyBackgroundColor(){return`${this.backgroundColor.r},${this.backgroundColor.g},${this.backgroundColor.b}`}static parseBackgroundColor(e){const[t,i,n]=e.split(",").map((e=>parseInt(e)));return{r:t,g:i,b:n}}setColorScale(e){switch(this.displayMode){case"AOB":case"BOA":this.ratioColorScale=e;break;case"AMB":this.diffColorScale=e;break;default:this.colorScale=e}this.colorScaleThresholdCache[jx(this.browser.state,this.displayMode)]=e.threshold}async setColorScaleThreshold(e){this.getColorScale().setThreshold(e),this.colorScaleThresholdCache[jx(this.browser.state,this.displayMode)]=e,this.imageTileCache={},await this.update()}getColorScale(){switch(this.displayMode){case"AOB":case"BOA":return this.ratioColorScale;case"AMB":return this.diffColorScale;default:return this.colorScale}}async setDisplayMode(e){this.displayMode=e,this.clearImageCaches(),await this.update()}clearImageCaches(){this.imageTileCache={},this.imageTileCacheKeys=[]}getViewDimensions(){return{width:this.viewportElement.offsetWidth,height:this.viewportElement.offsetHeight}}async receiveEvent(e){"MapLoad"===e.type||"ControlMapLoad"===e.type?(this.mouseHandlersEnabled||(this.addTouchHandlers(this.viewportElement),this.addMouseHandlers(this.viewportElement),this.mouseHandlersEnabled=!0),this.clearImageCaches(),this.colorScaleThresholdCache={}):("LocusChange"!==e.type&&this.clearImageCaches(),this.update())}async update(){this.disableUpdates||(await this.repaint(),this.browser.dataset&&await this.render2DTracks(this.browser.tracks2D,this.browser.dataset,this.browser.state))}async repaint(){if(!this.browser.dataset)return;const e=this.viewportElement.offsetWidth,t=this.viewportElement.offsetHeight,i=this.canvasElement.width,n=this.canvasElement.height;i===e&&n===t||(this.canvasElement.width=e,this.canvasElement.height=t,this.canvasElement.setAttribute("width",e),this.canvasElement.setAttribute("height",t));const{state:o,dataset:r,controlDataset:a}=this.browser;let s,c=r,l=null,h=null,d=o.zoom;switch(this.displayMode){case"B":d=v(o.zoom),c=a;break;case"AOB":case"AMB":s=v(o.zoom),l=a;break;case"BOA":d=v(o.zoom),s=o.zoom,c=a,l=r}const f=(await c.getMatrix(o.chr1,o.chr2)).getZoomDataByIndex(d,"BP");if(l){h=(await l.getMatrix(o.chr1,o.chr2)).getZoomDataByIndex(s,"BP")}const u=Math.max(1,Math.floor(o.pixelSize)),p=e/u,m=t/u,g=Math.floor(o.x/Ux),w=Math.floor((o.x+p)/Ux),F=Math.floor(o.y/Ux),b=Math.floor((o.y+m)/Ux);"NONE"!==o.normalization&&(c.hasNormalizationVector(o.normalization,f.chr1.name,f.zoom.unit,f.zoom.binSize)||(Alert.presentAlert(`Normalization option ${o.normalization} unavailable at this resolution.`),this.browser.eventBus.post(new $C("NormalizationExternalChange","NONE")),o.normalization="NONE")),await this.checkColorScale(c,f,F,b,g,w,o.normalization),this.ctx.clearRect(0,0,e,t);for(let e=F;e<=b;e++)for(let t=g;t<=w;t++){const i=await this.getImageTile(c,l,f,h,e,t,o);i.image&&this.paintTile(i)}function v(e){const t=r.getBinSizeForZoomIndex(e);if(!t)throw new Error(`Invalid zoom (resolution) index: ${e}`);const i=a.getZoomIndexForBinSize(t);if(i<0)throw new Error(`Invalid binSize for "B" map: ${t}`);return i}this.genomicExtent={chr1:o.chr1,chr2:o.chr2,x:o.x*f.zoom.binSize,y:o.y*f.zoom.binSize,w:e*f.zoom.binSize/o.pixelSize,h:t*f.zoom.binSize/o.pixelSize}}async getImageTile(e,t,i,n,o,r,a){const s=`${i.chr1.name}_${i.chr2.name}_${i.zoom.binSize}_${i.zoom.unit}_${o}_${r}_${a.normalization}_${this.displayMode}`;if(this.imageTileCache.hasOwnProperty(s))return this.imageTileCache[s];if(this.drawsInProgress.has(s)){const e=function(e){let t=Wx[e];if(!t){t=document.createElement("canvas"),t.width=e,t.height=e;const i=t.getContext("2d");i.font="24px sans-serif",i.fillStyle="rgb(230, 230, 230)",i.fillRect(0,0,t.width,t.height),i.fillStyle="black";for(let t=100;t<e;t+=300)for(let n=100;n<e;n+=300)i.fillText("Loading...",t,n);Wx[e]=t}return t}(Ux);return{row:o,column:r,blockBinCount:Ux,image:e,inProgress:!0}}this.drawsInProgress.add(s);try{this.startSpinner();const l=i.chr1.index===i.chr2.index,h=l&&o<r,d=i.averageCount,f=n?n.averageCount:1,u=(d+f)/2,p=Ux,m=document.createElement("canvas");m.width=p,m.height=p;const g=m.getContext("2d"),w=Ux*i.zoom.binSize,F=r*w,b={chr:i.chr1.name,start:F,end:F+w},v=o*w,y={chr:i.chr2.name,start:v,end:v+w},_=await e.getContactRecords(a.normalization,b,y,i.zoom.unit,i.zoom.binSize);let C;if(n&&(C=await t.getContactRecords(a.normalization,b,y,n.zoom.unit,n.zoom.binSize)),_.length>0){const e={};if("AOB"===this.displayMode||"BOA"===this.displayMode||"AMB"===this.displayMode)for(let t of C)e[t.getKey()]=t;let t=g.getImageData(0,0,m.width,m.height);const i=h?o*Ux:r*Ux,n=h?r*Ux:o*Ux;for(let a=0;a<_.length;a++){const s=_[a];let p,m=Math.floor(s.bin1-i),g=Math.floor(s.bin2-n);if(h){const e=g;g=m,m=e}switch(this.displayMode){case"AOB":case"BOA":let t=s.getKey(),i=e[t];if(!i)continue;let n=s.counts/d/(i.counts/f);p=this.ratioColorScale.getColor(n);break;case"AMB":if(t=s.getKey(),i=e[t],!i)continue;n=u*(s.counts/d-i.counts/f),p=this.diffColorScale.getColor(n);break;default:p=this.colorScale.getColor(s.counts)}c(t,m,g,p.red,p.green,p.blue,p.alpha),l&&o===r&&c(t,g,m,p.red,p.green,p.blue,p.alpha)}g.putImageData(t,0,0)}0;const x={row:o,column:r,blockBinCount:Ux,image:m};return this.imageTileCacheLimit>0&&(this.imageTileCacheKeys.length>this.imageTileCacheLimit&&(delete this.imageTileCache[this.imageTileCacheKeys[0]],this.imageTileCacheKeys.shift()),this.imageTileCache[s]=x),x}finally{this.drawsInProgress.delete(s),this.stopSpinner()}function c(e,t,i,n,o,r,a){const s=4*(t+i*e.width);e.data[s+0]=n,e.data[s+1]=o,e.data[s+2]=r,e.data[s+3]=a}}async checkColorScale(e,t,i,n,o,r,a){const s=jx(this.browser.state,this.displayMode);if("AOB"===this.displayMode||"BOA"===this.displayMode)return this.ratioColorScale;if(this.colorScaleThresholdCache[s]){const e=this.colorScale.threshold!==this.colorScaleThresholdCache[s];return this.colorScale.setThreshold(this.colorScaleThresholdCache[s]),e&&this.browser.eventBus.post($C("ColorScale",this.colorScale)),this.colorScale}try{const c=Ux*t.zoom.binSize,l=o*c,h=(r-o+1)*c,d={chr:t.chr1.name,start:l,end:l+h},f=i*c,u=(n-i+1)*c,p={chr:t.chr2.name,start:f,end:f+u};let m=function(e,t){const i=e.map((e=>e.counts));i.sort((function(e,t){return e-t}));const n=Math.floor(t/100*e.length);return i[n]}(await e.getContactRecords(a,d,p,t.zoom.unit,t.zoom.binSize,!0),95);return isNaN(m)||(0===t.chr1.index&&(m*=4),this.colorScale=new Ox(this.colorScale),this.colorScale.setThreshold(m),this.computeColorScale=!1,this.browser.eventBus.post($C("ColorScale",this.colorScale)),this.colorScaleThresholdCache[s]=m),this.colorScale}finally{this.stopSpinner()}}async zoomIn(){const e=this.browser.state,t=this.viewportElement.offsetWidth,i=this.viewportElement.offsetHeight,n=(await Gx.call(this,e.chr1,e.chr2))[0];if(n){const o="BP",r=await n.getZoomDataByIndex(e.zoom,o),a={x:e.x*r.zoom.binSize,y:e.y*r.zoom.binSize,w:t*r.zoom.binSize/e.pixelSize,h:i*r.zoom.binSize/e.pixelSize};if(a.w>this.genomicExtent.w)return;const s=(a.x-this.genomicExtent.x)/this.genomicExtent.w*t,c=(a.y-this.genomicExtent.y)/this.genomicExtent.w*i,l=a.w/this.genomicExtent.w*t,h=a.h/this.genomicExtent.h*i,d=this.canvasElement,f=document.createElement("canvas");f.width=d.width,f.height=d.height;f.getContext("2d").drawImage(d,s,c,l,h,0,0,t,i),this.ctx.clearRect(0,0,t,i),this.ctx.drawImage(f,0,0)}}paintTile({image:e,row:t,column:i,blockBinCount:n}){const o=n*i,r=n*t,{x:a,y:s,pixelSize:c}=this.browser.state,l=(o-a)*c,h=(r-s)*c,d=c,f=e.width*d,u=e.height*d;l<=this.viewportElement.offsetWidth&&l+f>=0&&h<=this.viewportElement.offsetHeight&&h+u>=0&&(this.ctx.fillStyle=this.backgroundRGBString,this.ctx.fillRect(l,h,f,u),1===d?this.ctx.drawImage(e,l,h):this.ctx.drawImage(e,l,h,f,u))}startSpinner(){this.browser.isLoadingHICFile&&this.browser.userInteractionShield&&(this.browser.userInteractionShield.style.display="block"),this.faSpinnerElement.style.display="inline-block",this.spinnerCount++}stopSpinner(){this.spinnerCount--,0===this.spinnerCount&&(this.faSpinnerElement.style.display="none"),this.spinnerCount=Math.max(0,this.spinnerCount)}addMouseHandlers(e){let t,i,n,o=0,r=0,a=0,s=0,c=!1,l=!1;const h=()=>{this.isDragging&&(this.isDragging=!1,this.browser.eventBus.post($C("DragStopped"))),c=!1,t=i=void 0};this.isDragging=!1,this.browser.isMobile||(e.addEventListener("mousedown",(n=>{if(n.preventDefault(),n.stopPropagation(),"block"===this.browser.menuElement?.style.display&&this.browser.hideMenu(),i={x:n.offsetX,y:n.offsetY},t={x:n.offsetX,y:n.offsetY},n.altKey){l=!0;const{top:t,left:i}=e.getBoundingClientRect();o=n.clientX-i,r=n.clientY-t,this.sweepZoom.initialize(o,r)}c=!0})),e.addEventListener("mousemove",(n=>{n.preventDefault(),n.stopPropagation();const h={x:n.offsetX,y:n.offsetY},{top:d,left:f}=function(e){const{top:t,left:i}=e.getBoundingClientRect();return{top:t+window.scrollY,left:i+window.scrollX}}(e),u={x:n.pageX-f,y:n.pageY-d},{width:p,height:m}=e.getBoundingClientRect();if(u.xNormalized=u.x/p,u.yNormalized=u.y/m,this.browser.eventBus.post($C("UpdateContactMapMousePosition",u,!1)),this.willShowCrosshairs&&(this.browser.updateCrosshairs(u),this.browser.showCrosshairs()),c){if(l){const{left:t,top:i}=e.getBoundingClientRect();a=n.clientX-t,s=n.clientY-i;const c=Math.abs(a-o),l=Math.abs(s-r),h={left:`${Math.min(o,a)}px`,top:`${Math.min(r,s)}px`,width:`${c}px`,height:`${l}px`};this.sweepZoom.update(h)}else if(t.x&&Math.abs(h.x-t.x)>2){this.isDragging=!0;const e=i.x-h.x,t=i.y-h.y;this.browser.shiftPixels(e,t)}i=h}})),e.addEventListener("mouseup",h),e.addEventListener("dblclick",(e=>{e.preventDefault(),e.stopPropagation();const t=e.offsetX,i=e.offsetY;this.browser.zoomAndCenter(1,t,i)})),e.addEventListener("mouseover",(()=>n=!0)),e.addEventListener("mouseout",(()=>n=void 0)),e.addEventListener("mouseleave",(()=>{this.browser.layoutController.xAxisRuler.unhighlightWholeChromosome(),this.browser.layoutController.yAxisRuler.unhighlightWholeChromosome(),h()})),document.addEventListener("keydown",(e=>{!this.willShowCrosshairs&&n&&e.shiftKey&&(this.willShowCrosshairs=!0,this.browser.eventBus.post($C("DidShowCrosshairs","DidShowCrosshairs",!1)))})),document.addEventListener("keyup",(()=>{this.browser.hideCrosshairs(),this.willShowCrosshairs=void 0,this.browser.eventBus.post($C("DidHideCrosshairs","DidHideCrosshairs",!1))})),document.addEventListener("mouseup",(e=>{if(e.preventDefault(),e.stopPropagation(),l){l=!1;const e={xPixel:Math.min(o,a),yPixel:Math.min(r,s),width:Math.abs(a-o),height:Math.abs(s-r)};this.sweepZoom.commit(e)}})))}addTouchHandlers(e){let t,i;const n=(e,t)=>{const i=t.getBoundingClientRect();return{x:e.pageX-i.left,y:e.pageY-i.top}};e.ontouchstart=i=>{i.preventDefault(),i.stopPropagation();let o=n(i.targetTouches[0],e),r=o.x,a=o.y;const s=i.targetTouches.length,c=i.timeStamp||Date.now();let l=!1;if(2===s&&(o=n(i.targetTouches[1],e),r=(r+o.x)/2,a=(a+o.y)/2),t&&c-t.timeStamp<300&&s>1&&1===t.count)t={x:r,y:a,timeStamp:c,count:s};else{if(t&&c-t.timeStamp<300){const e=t.x-r,i=t.y-a,n=Math.hypot(e,i),o=2===t.count||2===s?-1:1;n<20&&(this.browser.zoomAndCenter(o,r,a),t=void 0,l=!0)}l||(t={x:r,y:a,timeStamp:c,count:s})}},e.ontouchmove=function(e,t,i){var n,o;return t||(t=200),function(){var r,a,s;r=i||this,a=+new Date,s=arguments,n&&a<n+t?(clearTimeout(o),o=setTimeout((function(){n=a,e.apply(r,s)}),t)):(n=a,e.apply(r,s))}}((o=>{if(o.preventDefault(),o.stopPropagation(),2===o.targetTouches.length){const t=n(o.targetTouches[0],e),r=n(o.targetTouches[1],e),a={x1:t.x,y1:t.y,x2:r.x,y2:r.y};i?i.end=a:i={start:a}}else{const i=n(o.targetTouches[0],e),r=i.x,a=i.y;if(t){const e=t.x-r,i=t.y-a;isNaN(e)||isNaN(i)||(this.isDragging=!0,this.browser.shiftPixels(e,i))}t={x:r,y:a,timeStamp:o.timeStamp||Date.now(),count:o.targetTouches.length}}}),50),e.ontouchend=e=>{if(e.preventDefault(),e.stopPropagation(),i&&i.end){const{start:e,end:n}=i,o=e.x2-e.x1,r=e.y2-e.y1,a=n.x2-n.x1,s=n.y2-n.y1,c=Math.hypot(o,r),l=Math.hypot(a,s)/c,h=(e.x1+e.x2)/2,d=(e.y1+e.y2)/2;(l<.8||l>1.2)&&(t=void 0,this.browser.pinchZoom(h,d,l))}else this.isDragging&&(this.isDragging=!1,this.browser.eventBus.post($C("DragStopped")));i=void 0}}async render2DTracks(e,t,i){const n=(await t.getMatrix(i.chr1,i.chr2)).getZoomDataByIndex(i.zoom,"BP"),{width:o,height:r}=this.getViewDimensions(),a=n.zoom.binSize/i.pixelSize,{xStartBP:s,yStartBP:c,xEndBP:l,yEndBP:h}=function(e,t,i,n,o){const r=o*t.pixelSize,a=1+Math.round(t.x*r),s=1+Math.round(t.y*r),c=e.chromosomes[t.chr1],l=e.chromosomes[t.chr2],h=Math.round(o*i),d=Math.round(o*n);return{xStartBP:a,yStartBP:s,xEndBP:Math.min(c.size,h+a-1),yEndBP:Math.min(l.size,d+s-1),chromosome1:c,chromosome2:l,pixelSize:t.pixelSize}}(t,i,o,r,a);n.chr1.name,n.chr2.name,n.chr1.index,n.chr2.index,this.ctx.save(),this.ctx.lineWidth=2;const d=(e,t,i,n)=>{if(t<s||e>l||n<c||i>h);else{const o=Math.max(1,(t-e)/a),r=Math.max(1,(n-i)/a),l=Math.floor((e-s)/a),h=Math.floor((i-c)/a);this.ctx.strokeRect(l,h,o,r)}},f=(e,t)=>{for(const{chr1:i,x1:n,x2:o,y1:r,y2:a,color:s}of t)this.ctx.strokeStyle=e.color||s,d(n,o,r,a)},u=(e,t)=>{for(const{chr1:i,x1:n,x2:o,y1:r,y2:a,color:s}of t)this.ctx.strokeStyle=e.color||s,d(r,a,n,o)};for(const t of e){if(!1===t.isVisible)continue;const e=t.getFeatures(n.chr1.name,n.chr1.name);e&&("COLLAPSED"===t.displayMode||void 0===t.displayMode?(f(t,e),u(t,e)):"lower"===t.displayMode?f(t,e):"upper"===t.displayMode&&u(t,e))}this.ctx.restore()}}function jx(e,t){return e.chr1+"_"+e.chr2+"_"+e.zoom+"_"+e.normalization+"_"+t}Vx.defaultBackgroundColor={r:255,g:255,b:255};const Wx={};function Gx(e,t){var i=[];return"B"===this.displayMode&&this.browser.controlDataset?i.push(this.browser.controlDataset.getMatrix(e,t)):(i.push(this.browser.dataset.getMatrix(e,t)),this.displayMode&&"A"!==this.displayMode&&this.browser.controlDataset&&i.push(this.browser.controlDataset.getMatrix(e,t))),Promise.all(i)}class $x{constructor(e,t){this.browser=e;const i=t.querySelector("div[id$='lower-hic-nav-bar-widget-container']");this.container=document.createElement("div"),this.container.className="hic-colorscale-widget-container",i.appendChild(this.container);const{r:n,g:o,b:r}=Vx.defaultBackgroundColor;this.mapBackgroundColorpickerButton=Qx(Hi.rgbColor(n,o,r)),this.container.appendChild(this.mapBackgroundColorpickerButton),this.backgroundColorpicker=Xx(e,this.mapBackgroundColorpickerButton);const{r:a,g:s,b:c}=Px.negative;this.minusButton=Qx(Hi.rgbColor(a,s,c)),this.container.appendChild(this.minusButton),this.minusColorPicker=Xx(e,this.minusButton,"-"),this.minusButton.style.display="none";const{r:l,g:h,b:d}=Px.positive;this.plusButton=Qx(Hi.rgbColor(l,h,d)),this.container.appendChild(this.plusButton),this.plusColorPicker=Xx(e,this.plusButton,"+"),this.minusButton.addEventListener("click",(()=>Yx(this.minusColorPicker,this.plusColorPicker,this.backgroundColorpicker))),this.plusButton.addEventListener("click",(()=>Yx(this.plusColorPicker,this.minusColorPicker,this.backgroundColorpicker))),this.mapBackgroundColorpickerButton.addEventListener("click",(()=>Yx(this.backgroundColorpicker,this.minusColorPicker,this.plusColorPicker))),this.highColorscaleInput=document.createElement("input"),this.highColorscaleInput.type="text",this.highColorscaleInput.title="color scale input",this.container.appendChild(this.highColorscaleInput),this.highColorscaleInput.addEventListener("change",(t=>{const i=t.target.value.split(",").join().replace(",","","g");isNaN(i)||e.setColorScaleThreshold(i)}));const f=Jx("fa-minus","negative threshold",(()=>this.highColorscaleInput.value=Kx(e,.5)));this.container.appendChild(f);const u=Jx("fa-plus","positive threshold",(()=>this.highColorscaleInput.value=Kx(e,2)));this.container.appendChild(u),e.eventBus.subscribe("ColorScale",(e=>{e.data instanceof Ox?(this.highColorscaleInput.value=e.data.threshold,Zx(this.plusButton,e.data)):e.data instanceof qx&&(this.highColorscaleInput.value=e.data.threshold,Zx(this.minusButton,e.data.negativeScale),Zx(this.plusButton,e.data.positiveScale))})),e.eventBus.subscribe("DisplayMode",(t=>{"AOB"===t.data||"BOA"===t.data?(this.minusButton.style.display="block",Zx(this.minusButton,e.contactMatrixView.ratioColorScale.negativeScale),Zx(this.plusButton,e.contactMatrixView.ratioColorScale.positiveScale)):(this.minusButton.style.display="none",Zx(this.plusButton,e.contactMatrixView.colorScale))})),e.eventBus.subscribe("MapLoad",(()=>{Zx(this.mapBackgroundColorpickerButton,e.contactMatrixView.backgroundColor)}))}}function Zx(e,{r:t,g:i,b:n}){e.style.backgroundColor=Hi.rgbToHex(Hi.rgbColor(t,i,n))}function Kx(e,i){const n=e.getColorScale();return e.setColorScaleThreshold(n.getThreshold()*i),t(n.getThreshold())}function Xx(e,t,i){let n,o;if(i)n=[Px.negative,Px.positive].map((({r:e,g:t,b:i})=>Hi.rgbToHex(Hi.rgbColor(e,t,i)))),o=n=>{t.style.backgroundColor=n;const o=Hi.hexToRgb(n),[r,a,s]=KC(o);e.getColorScale().setColorComponents({r:r,g:a,b:s},i),e.repaintMatrix()};else{const{r:i,g:r,b:a}=Vx.defaultBackgroundColor;n=[Hi.rgbToHex(Hi.rgbColor(i,r,a))],o=i=>{t.style.backgroundColor=i;const n=Hi.hexToRgb(i),[o,r,a]=KC(n);e.contactMatrixView.setBackgroundColor({r:o,g:r,b:a})}}return new _C({parent:t,top:64,left:64,width:432,defaultColors:n,colorHandler:o})}function Yx(e,t,i){t.hide(),i.hide(),e.show()}function Qx(e){const t=iC.div({class:"igv-ui-color-swatch"});return t.style.backgroundColor=Hi.rgbToHex(e),t}function Jx(e,t,i){const n=document.createElement("i");return n.className=`fa ${e}`,n.title=t,n.addEventListener("click",i),n}class ek{constructor(e,t){this.browser=e;const i=t.querySelector("div[id$='lower-hic-nav-bar-widget-container']");this.container=document.createElement("div"),this.container.className="hic-control-map-selector-container",this.container.style.display="none",i.appendChild(this.container),this.select=document.createElement("select"),this.select.name="control_map_selector",this.container.appendChild(this.select);const n=document.createElement("div");this.container.appendChild(n);const o=document.createElement("div");this.container.appendChild(o),this.controlMapHash=new tk(e,this.select,n,o,function(){const e=document.createElement("div");return e.innerHTML="<svg>...</svg>",e}(),function(){const e=document.createElement("div");return e.innerHTML="<svg>...</svg>",e}()),e.eventBus.subscribe("ControlMapLoad",(()=>{this.controlMapHash.updateOptions(e.getDisplayMode()),this.container.style.display="block"})),e.eventBus.subscribe("MapLoad",(()=>{e.controlDataset||(this.container.style.display="none")})),e.eventBus.subscribe("DisplayMode",(e=>{this.controlMapHash.updateOptions(e.data)}))}toggleDisplayMode(){this.controlMapHash.toggleDisplayMode()}toggleDisplayModeCycle(){this.controlMapHash.toggleDisplayModeCycle()}getDisplayModeCycle(){return this.controlMapHash.cycleID}}class tk{constructor(e,t,i,n,o,r){this.browser=e,this.select=t,this.toggle=i,this.cycle=n,this.imgA=o,this.toggle.appendChild(this.imgA),this.imgB=r,this.toggle.appendChild(this.imgB),this.hash={A:{title:"A",value:"A",other:"B",hidden:this.imgB,shown:this.imgA},B:{title:"B",value:"B",other:"A",hidden:this.imgA,shown:this.imgB},AOB:{title:"A/B",value:"AOB",other:"BOA",hidden:this.imgB,shown:this.imgA},BOA:{title:"B/A",value:"BOA",other:"AOB",hidden:this.imgA,shown:this.imgB}},this.select.addEventListener("change",(e=>{this.disableDisplayModeCycle(),this.setDisplayMode(e.target.value)})),this.toggle.addEventListener("click",(()=>{this.disableDisplayModeCycle(),this.toggleDisplayMode()})),this.cycleOutline=function(){const e=document.createElement("div");return e.innerHTML="<svg>...</svg>",e}(),n.appendChild(this.cycleOutline),this.cycleSolid=function(){const e=document.createElement("div");return e.innerHTML="<svg>...</svg>",e}(),n.appendChild(this.cycleSolid),this.cycleSolid.style.display="none",n.addEventListener("click",(()=>{this.toggleDisplayModeCycle()})),n.style.display="none"}disableDisplayModeCycle(){this.cycleID&&(clearTimeout(this.cycleID),this.cycleID=void 0,this.cycleSolid.style.display="none",this.cycleOutline.style.display="block")}toggleDisplayModeCycle(){this.cycleID?this.disableDisplayModeCycle():(this.doToggle(),this.cycleSolid.style.display="block",this.cycleOutline.style.display="none")}async doToggle(){this.cycleID=setTimeout((async()=>{await this.toggleDisplayMode(),this.doToggle()}),2500)}async toggleDisplayMode(){const e=this.browser.getDisplayMode(),t=this.hash[e].other;await this.browser.setDisplayMode(t),this.hash[t].hidden.style.display="none",this.hash[t].shown.style.display="block",this.select.value=t}setDisplayMode(e){this.hash[e].hidden.style.display="none",this.hash[e].shown.style.display="block",this.browser.setDisplayMode(e)}updateOptions(e){this.imgA.style.display="none",this.imgB.style.display="none",this.select.innerHTML="",Object.keys(this.hash).forEach((t=>{const i=this.hash[t],n=document.createElement("option");n.value=i.value,n.textContent=i.title,e===i.value&&(n.selected=!0,i.shown.style.display="block"),this.select.appendChild(n)}))}}class ik{constructor(e,t){this.browser=e;const i=t.querySelector("div[id$='lower-hic-nav-bar-widget-container']");this.container=document.createElement("div"),this.container.className="hic-normalization-selector-container",this.container.title="Normalization",i.appendChild(this.container);let n=document.createElement("div");n.textContent="Norm",this.container.appendChild(n),this.normalizationSelector=document.createElement("select"),this.normalizationSelector.name="normalization_selector",this.normalizationSelector.addEventListener("change",(()=>{this.browser.setNormalization(this.normalizationSelector.value)})),this.container.appendChild(this.normalizationSelector),this.spinner=document.createElement("div"),this.spinner.textContent="Loading ...",this.container.appendChild(this.spinner),this.spinner.style.display="none",this.browser.eventBus.subscribe("MapLoad",this),this.browser.eventBus.subscribe("NormVectorIndexLoad",this),this.browser.eventBus.subscribe("NormalizationFileLoad",this),this.browser.eventBus.subscribe("NormalizationExternalChange",this)}startNotReady(){this.normalizationSelector.style.display="none",this.spinner.style.display="block"}stopNotReady(){this.spinner.style.display="none",this.normalizationSelector.style.display="block"}receiveEvent(e){"NormVectorIndexLoad"===e.type?(this.updateOptions(),this.stopNotReady()):"NormalizationFileLoad"===e.type?"start"===e.data?this.startNotReady():this.stopNotReady():"NormalizationExternalChange"===e.type&&Array.from(this.normalizationSelector.options).forEach((t=>{t.selected=t.value===e.data}))}async updateOptions(){const e={NONE:"None",VC:"Coverage",VC_SQRT:"Coverage - Sqrt",KR:"Balanced",INTER_VC:"Interchromosomal Coverage",INTER_VC_SQRT:"Interchromosomal Coverage - Sqrt",INTER_KR:"Interchromosomal Balanced",GW_VC:"Genome-wide Coverage",GW_VC_SQRT:"Genome-wide Coverage - Sqrt",GW_KR:"Genome-wide Balanced"},t=this.browser.state.normalization,i=await this.browser.getNormalizationOptions();i&&(this.normalizationSelector.innerHTML="",i.forEach((i=>{const n=document.createElement("option");n.value=i,n.textContent=e[i]||i,t===i&&(n.selected=!0),this.normalizationSelector.appendChild(n)})))}}class nk{constructor(e,t){this.browser=e,this.xAxisSelector=t.querySelector("select[name='x-axis-selector']"),this.yAxisSelector=t.querySelector("select[name='y-axis-selector']"),this.xAxisSelector.addEventListener("change",(()=>this.syncSelectors(this.xAxisSelector,this.yAxisSelector))),this.yAxisSelector.addEventListener("change",(()=>this.syncSelectors(this.yAxisSelector,this.xAxisSelector)));const i=this.yAxisSelector.nextElementSibling;i&&i.addEventListener("click",(async()=>{const t=parseInt(this.xAxisSelector.value,10),i=parseInt(this.yAxisSelector.value,10);await e.setChromosomes(t,i)})),this.dataLoadConfig={receiveEvent:e=>{"MapLoad"===e.type&&this.respondToDataLoadWithDataset(e.data)}},e.eventBus.subscribe("MapLoad",this.dataLoadConfig),this.locusChangeConfig={receiveEvent:e=>{"LocusChange"===e.type&&this.respondToLocusChangeWithState(e.data.state)}},e.eventBus.subscribe("LocusChange",this.locusChangeConfig)}syncSelectors(e,t){const i=e.value;0!==parseInt(i,10)&&0!==parseInt(t.value,10)||(t.value=i)}respondToDataLoadWithDataset(e){const t=e.chromosomes.map((({name:e},t)=>`<option value="${t}">${e}</option>`)).join("");this.xAxisSelector.innerHTML=t,this.yAxisSelector.innerHTML=t,this.xAxisSelector.value=this.browser.state.chr1,this.yAxisSelector.value=this.browser.state.chr2}respondToLocusChangeWithState(e){this.xAxisSelector.options.length&&this.yAxisSelector.options.length&&(this.xAxisSelector.value=e.chr1,this.yAxisSelector.value=e.chr2)}}class ok{constructor(e,t,{title:i,alertMessage:n},o){this.browser=e,this.trackListRetrievalCallback=o,this.annotationPresentationButton(t,n),this.annotationPanel(e.rootElement,i)}updateBody(e){if(this.annotationPanelElement.querySelectorAll(".hic-annotation-row-container").forEach((e=>e.remove())),e[0]instanceof SC)for(let t=e.length-1;t>=0;t--)this.annotationPanelRow(this.annotationPanelElement,e[t]);else for(const t of e)this.annotationPanelRow(this.annotationPanelElement,t)}annotationPresentationButton(e,t){e.querySelector("button").addEventListener("click",(()=>{this.trackListRetrievalCallback().length>0?(this.updateBody(this.trackListRetrievalCallback()),this.annotationPanelElement.style.display="none"===this.annotationPanelElement.style.display?"flex":"none"):FC.presentAlert(t),this.browser.hideMenu()}))}annotationPanel(e,t){this.annotationPanelElement=document.createElement("div"),this.annotationPanelElement.className="hic-annotation-panel-container",e.appendChild(this.annotationPanelElement);const i=document.createElement("div");i.className="hic-annotation-panel-header",this.annotationPanelElement.appendChild(i);const n=document.createElement("div");n.textContent=t,i.appendChild(n);const o=document.createElement("div");o.className="hic-menu-close-button",i.appendChild(o);const r=document.createElement("i");r.className="fa fa-times",o.appendChild(r),r.addEventListener("click",(()=>{this.annotationPanelElement.style.display="none"===this.annotationPanelElement.style.display?"flex":"none"})),hC(this.annotationPanelElement,i),this.annotationPanelElement.style.display="none"}annotationPanelRow(e,t){const i=t instanceof SC,n=this.trackListRetrievalCallback();let o;!1===i&&(o=t.x.track.trackView);const r=document.createElement("div");r.className="hic-annotation-row-container",e.appendChild(r);const a=document.createElement("div");a.className="hic-annotation-modal-row",r.appendChild(a);const s=document.createElement("div");if(s.textContent=i?t.config.name:t.x.track.config.name,a.appendChild(s),i){const e=document.createElement("i");e.className=t.isVisible?"fa fa-eye fa-lg":"fa fa-eye-slash fa-lg",a.appendChild(e),e.addEventListener("click",(()=>{t.isVisible=!t.isVisible,e.className=t.isVisible?"fa fa-eye fa-lg":"fa fa-eye-slash fa-lg",this.browser.contactMatrixView.clearImageCaches(),this.browser.contactMatrixView.update()}))}if(i){const e=document.createElement("div");switch(e.className="matrix-diagonal-widget-container",t.displayMode){case"lower":e.classList.add("matrix-diagonal-widget-lower");break;case"upper":e.classList.add("matrix-diagonal-widget-upper");break;default:e.classList.add("matrix-diagonal-widget-all")}e.addEventListener("click",(()=>{this.displayModeHandler(e,t),this.browser.contactMatrixView.clearImageCaches(),this.browser.contactMatrixView.update()})),a.appendChild(e)}const c=function(e,t,i){const n=document.createElement("div");n.className="hic-color-swatch-container",e.appendChild(n),t&&t.width&&(n.style.width=`${t.width}px`);t&&t.height&&(n.style.height=`${t.height}px`);const o=document.createElement("div");n.appendChild(o);const r=document.createElement("i");return r.className="fa fa-times",o.appendChild(r),r.addEventListener("click",(()=>{i()})),n}(r,{width:698},(()=>{const e=a.nextElementSibling;e&&e.classList.contains("hic-color-swatch-container")&&(e.style.display="none"===e.style.display?"flex":"none")})),l=this.annotationColorSwatch(i?t.getColor():t.x.track.color);a.appendChild(l),l.addEventListener("click",(()=>{const e=a.nextElementSibling;e&&e.classList.contains("hic-color-swatch-container")&&(e.style.display="none"===e.style.display?"flex":"none")})),c.style.display="none";CC(c,(e=>{const n=a.querySelector(".fa-square");n&&(n.style.color=e),i?(t.color=e,this.browser.eventBus.post($C("TrackState2D",t))):o.setColor(e)}));const h=document.createElement("div");h.className="up-down-arrow-container",a.appendChild(h);const d=document.createElement("i");d.className="fa fa-arrow-up",d.setAttribute("aria-hidden","true"),h.appendChild(d);const f=document.createElement("i");f.className="fa fa-arrow-down",f.setAttribute("aria-hidden","true"),h.appendChild(f);const u="#f7f7f7";if(1===n.length)d.style.color=u,f.style.color=u;else if(t===n[0]){(i?f:d).style.color=u}else if(t===n[n.length-1]){(i?d:f).style.color=u}const p=n.indexOf(t),m=()=>{const e=n[p+1];n[p+1]=n[p],n[p]=e,i?(this.browser.eventBus.post($C("TrackState2D",n)),this.updateBody(n)):(this.browser.updateLayout(),this.updateBody(n))},g=()=>{const e=n[p-1];n[p-1]=n[p],n[p]=e,i?(this.browser.eventBus.post($C("TrackState2D",n)),this.updateBody(n)):(this.browser.updateLayout(),this.updateBody(n))};d.addEventListener("click",i?m:g),f.addEventListener("click",i?g:m);const w=document.createElement("i");w.className="fa fa-trash-o fa-lg",a.appendChild(w),w.addEventListener("click",(()=>{const e=n.indexOf(t);i?(n.splice(e,1),this.browser.contactMatrixView.clearImageCaches(),this.browser.contactMatrixView.update(),this.browser.eventBus.post($C("TrackLoad2D",n))):this.browser.layoutController.removeTrackXYPair(t.x.track.trackRenderPair),this.updateBody(n)}))}displayModeHandler(e,t){e.classList.contains("matrix-diagonal-widget-all")?(e.classList.replace("matrix-diagonal-widget-all","matrix-diagonal-widget-lower"),t.displayMode="lower"):e.classList.contains("matrix-diagonal-widget-lower")?(e.classList.replace("matrix-diagonal-widget-lower","matrix-diagonal-widget-upper"),t.displayMode="upper"):(e.classList.replace("matrix-diagonal-widget-upper","matrix-diagonal-widget-all"),t.displayMode=void 0)}annotationColorSwatch(e){const t=document.createElement("div");t.className="igv-color-swatch";const i=document.createElement("i");return i.className="fa fa-square fa-lg",i.style.color=e,t.appendChild(i),t}}class rk{constructor(e,t){this.browser=e,this.targetElement=t,this.rulerSweeperElement=t.querySelector("div[id$='-sweep-zoom-container']"),this.rulerSweeperElement.style.display="none",this.sweepRect={}}initialize(e,t){this.rulerSweeperElement.style.left=`${e}px`,this.rulerSweeperElement.style.top=`${t}px`,this.rulerSweeperElement.style.width="0px",this.rulerSweeperElement.style.height="0px",this.rulerSweeperElement.style.display="block"}update({left:e,top:t,width:i,height:n}){this.rulerSweeperElement.style.width=i,this.rulerSweeperElement.style.height=n,this.rulerSweeperElement.style.left=e,this.rulerSweeperElement.style.top=t}commit({xPixel:e,yPixel:t,width:i,height:n}){this.rulerSweeperElement.style.display="none";const{x:o,y:r,chr1:a,chr2:s,zoom:c,pixelSize:l}=this.browser.state,h=this.browser.dataset.bpResolutions[c],d=(o+e/l)*h,f=(r+t/l)*h,u=i/l*h,p=n/l*h;this.browser.goto(a,d,d+u,s,f,f+p)}}class ak{constructor(e,t,i){this.browser=e,this.isDragging=!1,this.xAxisScrollbarContainerElement=t,this.xAxisScrollbarElement=t.querySelector("div[id$='-x-axis-scrollbar']"),this.xLabelElement=this.xAxisScrollbarElement.querySelector("div"),this.xLabelElement.textContent="",this.yAxisScrollbarContainerElement=i,this.yAxisScrollbarElement=i.querySelector("div[id$='-y-axis-scrollbar']"),this.yLabelElement=this.yAxisScrollbarElement.querySelector(".scrollbar-label-rotation-in-place"),this.yLabelElement.textContent="",this.browser.eventBus.subscribe("LocusChange",this)}receiveEvent(e){if(!this.isDragging&&"LocusChange"===e.type){const{state:t}=e.data,{dataset:i}=this.browser;if(0===t.chr1)this.xAxisScrollbarElement.style.display="none",this.yAxisScrollbarElement.style.display="none";else{this.xAxisScrollbarElement.style.display="block",this.yAxisScrollbarElement.style.display="block",this.xAxisScrollbarContainerElement.style.display="block",this.yAxisScrollbarContainerElement.style.display="block";const{chr1:e,chr2:n,zoom:o,pixelSize:r,x:a,y:s}=t,c=[e,n].map((e=>i.chromosomes[e].size/i.bpResolutions[o])),l=c.map((e=>e*r)),{width:h,height:d}=this.browser.contactMatrixView.getViewDimensions(),f=[h,d],u=f.map((e=>e/r)).map(((e,t)=>{const i=Math.min(e,c[t])/c[t],n=Math.min(l[t],f[t])/f[t];return Math.max(1,Math.round(100*i*n))}));this.xAxisScrollbarElement.style.width=`${u[0]}%`,this.yAxisScrollbarElement.style.height=`${u[1]}%`;const p=Math.round(100*a/c[0]);this.xAxisScrollbarElement.style.left=`${p}%`;const m=Math.round(100*s/c[1]);this.yAxisScrollbarElement.style.top=`${m}%`,this.xLabelElement.textContent=i.chromosomes[e].name,this.yLabelElement.textContent=i.chromosomes[n].name}}}}var sk={"hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fcombined.hic":"54386046426,55860","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fprimary.hic":"33860030033,37504","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Freplicate.hic":"30849652794,55832","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fmaternal.hic":"1380542661,17185","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fpaternal.hic":"1389001777,17185","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2Fcombined.hic":"13433880319,35723","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC001.hic":"3409347253,35975","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC002.hic":"4529947083,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC003.hic":"6894962500,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC004.hic":"3395593338,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC005.hic":"5204128636,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC006.hic":"3278363811,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC007.hic":"3585547340,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC008.hic":"4134197273,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC009.hic":"2851728310,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC010.hic":"1754216102,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC011.hic":"1716829574,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC012.hic":"4367980375,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC013.hic":"2309654671,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC014.hic":"5324950266,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC015.hic":"3132333594,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC016.hic":"3159154704,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC017.hic":"3262554627,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC018.hic":"3014216364,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC019.hic":"5025753246,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC020.hic":"5861584507,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC021.hic":"3542263275,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC022.hic":"5061949378,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC023.hic":"4816423919,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC024.hic":"2683781104,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC025.hic":"6522701781,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC026.hic":"6748846520,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC027.hic":"5642693007,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC028.hic":"2098921691,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC029.hic":"3886454027,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fagar%2FHIC030.hic":"2288984204,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fagar%2FHIC031.hic":"2115342419,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fpellet%2FHIC032.hic":"2063314324,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fsupernatant%2FHIC033.hic":"1933908457,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC034.hic":"13555514595,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC035.hic":"6129650900,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC036.hic":"4307445019,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC037.hic":"9375139867,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2Fcombined.hic":"11664249584,33929","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fcombined_DpnII.hic":"7003537290,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC038.hic":"2099825544,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC039.hic":"2096900138,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC040.hic":"2593642141,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC041.hic":"2263919098,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC042.hic":"2684774693,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fcombined_noXlink.hic":"5574807456,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC043.hic":"2986114347,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC044.hic":"1916378621,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC045.hic":"746463126,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC046.hic":"2338476164,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC047.hic":"1167496250,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC048.hic":"2231690794,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC049.hic":"2782308678,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC050.hic":"3633531346,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC051.hic":"4063486444,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC052.hic":"929756278,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC053.hic":"2489657204,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC054.hic":"4036419444,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC055.hic":"4284185549,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC056.hic":"4410546240,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fdilution%2FHIC057.hic":"1491998259,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2Fcombined.hic":"7266425111,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC058.hic":"6532635593,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC059.hic":"400684530,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC060.hic":"645352187,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC061.hic":"736291871,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC062.hic":"762731037,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC063.hic":"682917431,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fdilution%2FHIC064.hic":"4550171307,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2Fcombined.hic":"11897184911,35789","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2FHIC065.hic":"5425943567,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2FHIC066.hic":"5942869818,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2FHIC067.hic":"5191049261,35647","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fdilution%2FHIC068.hic":"2713318801,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2Fcombined.hic":"12641555389,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC069.hic":"5630177461,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC070.hic":"5926611269,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC071.hic":"2486191351,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC072.hic":"2281343366,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC073.hic":"2173074239,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC074.hic":"2463700999,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2Fcombined.hic":"14661922519,35639","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC075.hic":"3685310515,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC076.hic":"5833658487,35891","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC077.hic":"2406346486,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC078.hic":"5241454987,35919","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC079.hic":"6297234263,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2Fcombined.hic":"9193858096,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2FHIC080.hic":"5171405536,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2FHIC081.hic":"3489767688,35891","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2FHIC082.hic":"4243339375,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fdilution%2FHIC083.hic":"1497495406,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2Fcombined.hic":"7923332224,35593","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC084.hic":"867699123,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC085.hic":"3669518514,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC086.hic":"5306474712,35595","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC087.hic":"1490963755,36397","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2Fcombined.hic":"8956382853,50248","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC088.hic":"1874185366,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC089.hic":"1301165236,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC090.hic":"1105246282,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC091.hic":"1338325770,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC092.hic":"1307918730,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC093.hic":"755136918,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC094.hic":"1606583694,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC095.hic":"2039711245,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC096.hic":"1909573053,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC097.hic":"1826710712,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC098.hic":"1998793575,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC099.hic":"1007740962,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC100.hic":"736464120,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC101.hic":"980505082,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC102.hic":"1116083646,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fdilution%2FHIC103.hic":"1096994310,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fdilution%2FHIC104.hic":"841063882,32102","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC105.hic":"107742864,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC106.hic":"134295912,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC107.hic":"110228014,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC108.hic":"102761401,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC109.hic":"100461491,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC110.hic":"88828472,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC111.hic":"81471064,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC112.hic":"92297035,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC113.hic":"65503916,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC114.hic":"49181188,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC115.hic":"46471102,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC116.hic":"64284432,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC117.hic":"60434076,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC118.hic":"45248563,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC119.hic":"60288782,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC120.hic":"136888414,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC121.hic":"125009003,33681","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC122.hic":"154011688,34127","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC123.hic":"177663372,35293","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC124.hic":"382186226,35245","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC125.hic":"158160717,35271","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC127.hic":"110261177,34659","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC128.hic":"246131875,35509","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC129.hic":"260160119,35667","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC130.hic":"117479562,34681","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC131.hic":"81508929,34673","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC132.hic":"105959102,34895","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC133.hic":"91504812,33451","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC134.hic":"52222546,33737","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC135.hic":"57763085,34159","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC136.hic":"50618489,33731","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC137.hic":"193163606,33363","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC138.hic":"229876152,33777","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC139.hic":"201783666,33571","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC140.hic":"281163862,34125","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC141.hic":"275969727,33935","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC142.hic":"275020431,34125","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC144.hic":"223834810,34177","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC145.hic":"296632653,33937","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC146.hic":"290945216,33961","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC147.hic":"234459964,34231","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC148.hic":"295457850,34039","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC149.hic":"113569632,35695","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC150.hic":"304381897,33963","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC151.hic":"289314545,33805","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC152.hic":"284320182,33803","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC153.hic":"401393947,34659","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC154.hic":"188065488,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC155.hic":"299157119,33967","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC156.hic":"279289244,33787","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC157.hic":"254852119,33917","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC158.hic":"195969660,33477","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC159.hic":"185720388,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC160.hic":"227709279,33599","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC161.hic":"157225076,33209","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC162.hic":"105703444,32033","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC163.hic":"122665658,32121","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC164.hic":"228048231,33761","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC165.hic":"114440819,32011","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC166.hic":"285147558,33891","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC167.hic":"363116754,33943","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC168.hic":"119592158,31937","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC169.hic":"236853872,33785","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC170.hic":"195187639,33395","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC171.hic":"208044058,33309","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC172.hic":"144645916,32877","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC173.hic":"119115941,32203","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC175.hic":"178030481,33525","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC176.hic":"117220136,32169","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC177.hic":"128586196,32659","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC178.hic":"191419141,33629","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC179.hic":"141556748,32959","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC180.hic":"199825102,33185","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC181.hic":"301022688,33783","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC182.hic":"185384453,33205","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC183.hic":"202189264,36367","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC184.hic":"37464475,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC185.hic":"161938278,36099","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC186.hic":"133853166,36179","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC188.hic":"128068030,36237","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC189.hic":"148053886,36177","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC190.hic":"198946958,35803","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC191.hic":"226584564,36063","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC192.hic":"194412797,36341","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC193.hic":"176408194,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC194.hic":"207215649,36055","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC195.hic":"175185530,36315","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC196.hic":"168969337,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC197.hic":"121231252,36339","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC198.hic":"92713752,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC199.hic":"105130500,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC200.hic":"114526350,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC201.hic":"122689717,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhap1%2Fin-situ%2Fcombined.hic":"9614983328,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fctbp_8_4_17%2Fall_intra_megabase_michrom.hic":"154205644,10960","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2Fdel-Xa-combined.hic":"8843305329,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FdelXa-chrX-diploid.hic":"11173520,1498","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FWT-combined.hic":"13365182403,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FWT-chrX-diploid.hic":"17343459,1498","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC002.hic":"4279298739,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC003.hic":"3027365532,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC004.hic":"2896130835,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC005.hic":"4717830071,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC006.hic":"5066210154,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC007.hic":"3069516128,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2Fdel-Xi-combined.hic":"14551096423,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FdelXi-chrX-diploid.hic":"17362477,1498","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC008.hic":"2572386655,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC009.hic":"2935931663,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC010.hic":"2019085070,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC011.hic":"6087610814,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC012.hic":"2809618194,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC013.hic":"2572386655,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2Fcombined.hic":"6950423609,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2Fpaternal.hic":"220592749,15691","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2Fmaternal.hic":"323233095,15691","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC014.hic":"3183235800,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC015.hic":"1739539801,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC016.hic":"1105912758,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC017.hic":"1060773319,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC018.hic":"1203679874,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC019.hic":"3321955269,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Frhesus%2FDarrowHuntley-2015%2FHIC020.hic":"7108980626,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fcola%2FDarrowHuntley-2015%2FHIC021.hic":"3906448676,34955","hicfiles.s3.amazonaws.com%2Fhiseq%2Fassembly%2Faedes%2Fcombined.hic":"390780490,2245","hicfiles.s3.amazonaws.com%2Fhiseq%2Fassembly%2Fhs2-hic.hic":"1960284186,33561","hicfiles.s3.amazonaws.com%2Fhiseq%2Fassembly%2FCpipJ3.hic":"766279097,4381","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fphanstiel%2Fupdated_O%2FSnyder_O.hic":"8046980555,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fphanstiel%2FA_inter.hic":"10986005145,18679","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2Fcombined.hic":"30439217680,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2Fcombined.hic":"33255540403,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F20min_withdraw_combined.hic":"11078436933,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F40min_withdraw_combined.hic":"11031830038,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F60min_withdraw_combined.hic":"10312725340,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F180min_withdraw_combined.hic":"10038610214,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC001.hic":"8004335785,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC002.hic":"8453215933,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC003.hic":"9118406189,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC004.hic":"5973342894,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC005.hic":"6846576837,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC006.hic":"6075148017,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC007.hic":"8192366992,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC008.hic":"6844159653,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC009.hic":"7282063059,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC010.hic":"10410578833,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC011.hic":"8192366992,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC012.hic":"7223422850,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC013.hic":"7435986997,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC014.hic":"9120113605,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2Fcombined.hic":"4170577904,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC015.hic":"1504084990,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC016.hic":"1686244500,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC017.hic":"1804802410,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC018.hic":"1533942067,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2Fcombined.hic":"4572390198,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC019.hic":"1543609666,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC020.hic":"1814133288,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC021.hic":"1942698243,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC022.hic":"1873587413,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Funtreated%2FRao-2017-HIC049.hic":"405127557,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Funtreated%2FRao-2017-HIC060.hic":"326681741,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Funtreated%2FRao-2017-HIC061.hic":"300908673,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_20min%2FRao-2017-HIC050.hic":"481758242,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_20min%2FRao-2017-HIC051.hic":"417577401,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_40min%2FRao-2017-HIC052.hic":"419353227,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_40min%2FRao-2017-HIC053.hic":"411554953,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_60min%2FRao-2017-HIC054.hic":"386655891,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_60min%2FRao-2017-HIC055.hic":"402170701,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_240min%2FRao-2017-HIC057.hic":"735906308,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC058.hic":"443789827,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC059.hic":"491422615,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC062.hic":"320261375,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC063.hic":"306590499,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_20min%2FRao-2017-HIC032S.hic":"367051742,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_20min%2FRao-2017-HIC033S.hic":"344555339,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_40min%2FRao-2017-HIC036S.hic":"349392947,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_40min%2FRao-2017-HIC037S.hic":"317714554,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_60min%2FRao-2017-HIC040S.hic":"266786397,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_60min%2FRao-2017-HIC041S.hic":"279445530,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_180min%2FRao-2017-HIC044S.hic":"898418269,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_180min%2FRao-2017-HIC045S.hic":"961006347,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_360min%2FRao-2017-HIC064.hic":"833576408,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_360min%2FRao-2017-HIC065.hic":"840881418,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1080min%2FRao-2017-HIC066.hic":"980958864,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1080min%2FRao-2017-HIC067.hic":"882023129,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1440min%2FRao-2017-HIC068.hic":"1110292630,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1440min%2FRao-2017-HIC069.hic":"1001747023,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FCP190_HiChIP.hic":"144107588,6976","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FH3K27ac_HiChIP_combined.hic":"43171370,5233","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FH3K27me3_HiChIP_combined.hic":"42906472,5233","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FPol2_ChIAPET.hic":"41992430,6976","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FPol2S2_HiChIP.hic":"145842743,6976","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FArabidopsis_Wang2015_Liu2016.hic":"1134391078,4984","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FElegans_Crane2015.hic":"387127568,8758","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FNcrassa_Galazka2016.hic":"26555511,27725","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FPfalciparum_trophozoite_Ay2014.hic":"15640893,13948","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Me-A.hic":"6897251,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Me-B.hic":"4959088,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Mp-A.hic":"5232286,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Mp-B.hic":"5105292,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Me-A.hic":"6900072,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Me-B.hic":"8653258,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Mp-A.hic":"7999058,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Mp-B.hic":"8774657,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fh1hesc.hic":"23671753603,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fh1hesc_rep1.hic":"23671754721,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fh1hesc_rep2.hic":"22269909910,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fhffc6_rep1.hic":"19016661622,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FGM06990_NcoI.hic":"480725203,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2F302NH.hic":"99948617,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FK562.hic":"470263605,36151","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FGM06990_HindIII.hic":"293706559,36289","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FGM06990_rep_HindIII.hic":"309673862,36087","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fcanis-lupus-rep1.hic":"1531151371,56905","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fcanis-lupus-rep2.hic":"2851437676,56905","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fmouse-rep1.hic":"582052544,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fmacaque-rep1.hic":"698509182,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fmacaque-rep2.hic":"461410393,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Frabbit-rep1.hic":"691045338,33561","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Frabbit-rep2.hic":"668888336,33561","hicfiles.s3.amazonaws.com%2Fexternal%2Fsexton%2Fcombined.hic":"50650087,4486","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Ftcc-hindiii.hic":"1071142023,16500","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Ftcc-mboi.hic":"1508851093,16448","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Fnon-tcc-hindiii.hic":"395179229,36093","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Ftcc-combined.hic":"1050423847,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fmm9-hindiii%2Fsplit-read-run.hic":"9599984876,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fhesc-hindiii.hic":"1952555632,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fimr90-hindiii.hic":"9691260435,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fmm9-cortex.hic":"3712072953,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fatm-i-scei-chr18.hic":"2083350075,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fatm-i-scei-chr2.hic":"3362049644,16360","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fatm-i-scei-chr7.hic":"1658399854,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fwt-i-scei-chr15.hic":"866691249,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fwt-i-scei-chr2.hic":"3304782795,16386","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-1.hic":"23673506,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-2.hic":"26873280,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-3.hic":"31066362,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-4.hic":"16807724,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-5.hic":"28665065,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-6.hic":"13124158,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-7.hic":"15118945,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-8.hic":"68316814,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-9.hic":"18965101,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-10.hic":"17020666,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Fcombined.hic":"6526601242,36427","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep1.hic":"1861562891,36401","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep2.hic":"3061013635,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep3.hic":"1564588211,35969","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep4.hic":"1255543175,36153","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep5.hic":"974683253,36179","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep6.hic":"1040805629,36053","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Fcombined.hic":"8424080116,36401","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep1.hic":"2697976702,36295","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep3.hic":"1718610467,36159","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep4.hic":"2029519405,36101","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep5.hic":"985310855,36069","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep6.hic":"1418750480,35967","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Fmhh-call-4-cell-line.hic":"538380253,35351","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Fprimary-b-all.hic":"773764191,35793","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Fnormal-b-cell-line.hic":"336271459,35005","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Frl-cell-line.hic":"484807998,35351","hicfiles.s3.amazonaws.com%2Fexternal%2Fhou%2Fkc167-biorep.hic":"135932435,8758","hicfiles.s3.amazonaws.com%2Fexternal%2Fhou%2Fkc167-techrep1.hic":"160355961,8758","hicfiles.s3.amazonaws.com%2Fexternal%2Fhou%2Fkc167-techrep2.hic":"188809887,8758","hicfiles.s3.amazonaws.com%2Fexternal%2Flin%2Fpre-prob-egs.hic":"2237792858,15483","hicfiles.s3.amazonaws.com%2Fexternal%2Flin%2Fprob-egs.hic":"5744720377,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Flin%2Fprob-fa.hic":"2174866215,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fhct116-rnapii-pilot.hic":"396366166,35999","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fhela-rnapii-pilot.hic":"882516759,35107","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fk562-rnapii-pilot.hic":"1131576189,35969","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fk562-rnapii-saturated.hic":"571583828,36291","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fmcf7-rnapii-saturated.hic":"1282547841,36035","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fnb4-rnapii-pilot.hic":"761614686,34861","hicfiles.s3.amazonaws.com%2Fexternal%2Fjung%2Fmouse_sperm.hic":"1730231642,29184","hicfiles.s3.amazonaws.com%2Fexternal%2Ftang%2Fgm12878.hic":"1953518212,20505","hicfiles.s3.amazonaws.com%2Fexternal%2Frutledge%2FSRR1791299.hic":"5723484,11956","hicfiles.s3.amazonaws.com%2Fexternal%2Frutledge%2FSRR1791297.hic":"16534743,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-hrv.hic":"5094525579,36289","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-hrv-rep1.hic":"2574358912,36373","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-hrv-rep2.hic":"3417099433,36243","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-tev.hic":"4785157552,36323","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-tev-rep1.hic":"2648268465,36321","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-tev-rep2.hic":"2994727980,36107","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctcf.hic":"5391791815,36063","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctcf-rep1.hic":"3325842095,36269","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctcf-rep2.hic":"3096215920,36167","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctrl.hic":"3830902383,36167","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctrl-rep1.hic":"1346712252,36079","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctrl_rep2.hic":"3098067367,36271","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-0h-hiseq.hic":"38174042,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-18h-hiseq.hic":"26506099,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-18h-hiseq-non-crosslinked_control.hic":"3545496,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-36h-hiseq.hic":"70754194,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3%2Fg1mid-r1.hic":"200863476,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3%2Fm-r1.hic":"249021190,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3%2Fm-r2.hic":"212341157,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fg1-0-25fa.hic":"583572265,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fg1-1fa.hic":"354502306,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fm-0-25fa.hic":"149308791,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fm-98percent.hic":"778175225,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fm-1fa.hic":"158091047,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhff1%2Fcchic-hff1-ns-r1.hic":"801670039,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhff1%2Fcchic-hff1-m-r1.hic":"875922086,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fk562%2Fm-r1.hic":"130959943,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fk562%2Fm-r2.hic":"237861106,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-WT.hic":"496104039,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-WT-adv-cre.hic":"438608517,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-floxed-rep1.hic":"446205712,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-floxed-rep2.hic":"386354767,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-deleted-rep1.hic":"621998722,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-deleted-rep2.hic":"583840829,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-floxed-rep1.hic":"801290988,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-floxed-rep2.hic":"819406658,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-deleted-rep1.hic":"792825269,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-deleted-rep2.hic":"746189884,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-WT.hic":"309353372,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-WT-OHT.hic":"274229679,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21KO-R1.hic":"1490362251,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21KO-R3.hic":"2403664421,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21WT-R1.hic":"1377124538,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21WT-R3.hic":"2646201369,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fmoissiard%2Fcrh6-mutant.hic":"105261071,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fmoissiard%2FWT.hic":"127506388,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fgrob%2FCol.hic":"153638500,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fgrob%2Fcrwn1.hic":"211213220,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fgrob%2Fcrwn4.hic":"134236837,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fxie%2Fprimary.hic":"92936173,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt-control6wt337.hic":"318737891,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt-control6wt67.hic":"348123956,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt337.hic":"251107279,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt67.hic":"351840994,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2FCol0.hic":"345969497,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fclf28-swn7.hic":"299585025,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fcmt3-11.hic":"253427706,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fddm1-2.hic":"303626924,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fmet1-3.hic":"347697973,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fsuvh4-suvh5-suvh6.hic":"263122019,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FDNase-HiC-WG-K562.hic":"892955840,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FDNaseHiC-WG-H1.hic":"696922695,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-lincRNA-K562-rep1.hic":"341917716,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargeredDNaseHiC-lincRNA-K562-rep2.hic":"214841185,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-lincRNA-H1-rep1.hic":"616326137,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-lincRNA-H1-rep2.hic":"579654013,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-pe-H1-rep1.hic":"519810544,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-pe-K562-rep1.hic":"199553123,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Frowley%2FKc167_DpnII.hic":"1319373594,6976","hicfiles.s3.amazonaws.com%2Fexternal%2Frowley%2FKc167_HinfI.hic":"1465493873,6976","hicfiles.s3.amazonaws.com%2Fexternal%2Frowley%2FKc167_DpnII_HinfI_combo.hic":"753062558,5814","hicfiles.s3.amazonaws.com%2Fexternal%2Fbarutcu%2FMCF-10A.hic":"2784956115,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fbarutcu%2FMCF-7.hic":"2700457411,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fbatullin%2Fsperm.hic":"501052169,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2FWT_hiC_rep1.hic":"1450697530,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2FWT_hiC_rep2.hic":"1189371558,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2Fcombined.hic":"2262007875,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2Finactive.hic":"4444564,751","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2Factive.hic":"3993495,751","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_rep1.hic":"1650838357,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_rep2.hic":"1258038606,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski.hic":"499827296,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_active.hic":"79175714,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_inactive.hic":"98947881,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_dnase.hic":"4298088401,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_in_situ_dnase.hic":"609321852,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain.hic":"1028196506,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_active.hic":"79175714,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_inactive.hic":"98947881,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fle%2FBglII_rep1.hic":"1283306,1463","hicfiles.s3.amazonaws.com%2Fexternal%2Fle%2FBglII_rep2.hic":"1263227,1463","hicfiles.s3.amazonaws.com%2Fexternal%2Fle%2FNcoI_rep1.hic":"4380906,1463","hicfiles.s3.amazonaws.com%2Fexternal%2Feagen%2FGSE89112_Kc167combined.hic":"1829549643,25624","hicfiles.s3.amazonaws.com%2Fexternal%2Feagen%2FGSE89112_Kc167combined_randomized.hic":"1859742654,25624","hicfiles.s3.amazonaws.com%2Fexternal%2Fmumbach%2FGSE80820_HiChIP_GM_cohesin.hic":"1231264781,17932","hicfiles.s3.amazonaws.com%2Fexternal%2Fmumbach%2FGSE80820_HiChIP_mES_cohesin_all.hic":"1152008628,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fmumbach%2FGSE80820_HiChIP_mES_Oct4.hic":"912828146,16438","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FSCC4KO.hic":"1767906138,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FDKO.hic":"1487228787,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FWaplKO_1.14.hic":"1189751862,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FWaplKO_3.3.hic":"1155057696,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FWT.hic":"1522401568,18679","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2Fmega_Liverpool%2Fmega.hic":"2612171975,4381","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2FHIC2836_Liverpool1%2FLiverpool1.hic":"191729195,2245","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2FHIC2861_Liverpool2%2FLiverpool2.hic":"1637096030,4381","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2FHIC2862_Liverpool3%2FLiverpool3.hic":"1160045602,4381","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2FHSPC.hic":"11857786247,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2FHSPC_CanyonDel.hic":"8139168836,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2Ftcell.hic":"9871547081,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2Fep.hic":"17479335373,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2FTh1_ensemble.hic":"1690592868,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fbonev%2FES_mapq30.hic":"32930498831,32386","hicfiles.s3.amazonaws.com%2Fexternal%2Fbonev%2FNPC_mapq30.hic":"55053730986,32386","hicfiles.s3.amazonaws.com%2Fexternal%2Fbonev%2FCN_mapq30.hic":"53138031154,32386","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-activated_B_cells_72_hours_WT.hic":"16492991184,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-resting_B_cells_WT.hic":"23057795398,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-activated_B_cells_24_hours_MYC_KO.hic":"21245554876,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-resting_B_cells_TSA.hic":"13933346059,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-activated_B_cells_24_hours_oligomycin.hic":"21902506832,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-mES_WT.hic":"9451969795,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_24_hours_WT.hic":"3600188564,16438","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_30_hours_WT.hic":"1309503359,16438","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_30_hours_HU_treated.hic":"1477252396,16438","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_24_hours_flavopiridol.hic":"15711773490,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FPGP1F_mega_090118%2FPGP1F_mega_090118_30.hic":"24786676166,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7145%2FHIC7145_30.hic":"4554644616,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7146%2FHIC7146_30.hic":"4174848944,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7147%2FHIC7147_30.hic":"5062229182,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7862%2FHIC7862_30.hic":"4520990620,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7863%2FHIC7863_30.hic":"4330354773,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7864%2FHIC7864_30.hic":"5880640268,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7865%2FHIC7865_30.hic":"4431632469,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7866%2FHIC7866_30.hic":"4686000222,36479","encode-public.s3.amazonaws.com%2F2018%2F10%2F19%2Fb122542b-306c-4631-bdc3-2e155e89af55%2FENCFF718AWL.hic":"39544267907,58932","encode-public.s3.amazonaws.com%2F2019%2F02%2F15%2F8e787cd8-e388-4bc2-a236-7a5e6f39e0c0%2FENCFF999YXX.hic":"9255069996,56883","encode-public.s3.amazonaws.com%2F2019%2F02%2F08%2Ffc1d9d5d-8fa0-4e29-9080-3da674d9490d%2FENCFF543USQ.hic":"5005263062,36479","s3.us-east-1.wasabisys.com%2Fhicfiles%2Finternal%2FLCL_mega_42B_500bp_30.hic":"106482584851,22829","www.encodeproject.org%2Ffiles%2FENCFF925QIF%2F%40%40download%2FENCFF925QIF.hic":"51712684396,54779","www.encodeproject.org%2Ffiles%2FENCFF259YUS%2F%40%40download%2FENCFF259YUS.hic":"24640030444,54779","www.encodeproject.org%2Ffiles%2FENCFF783KQI%2F%40%40download%2FENCFF783KQI.hic":"27209249856,54779","www.encodeproject.org%2Ffiles%2FENCFF318JAP%2F%40%40download%2FENCFF318JAP.hic":"28636979242,54779","www.encodeproject.org%2Ffiles%2FENCFF512PQA%2F%40%40download%2FENCFF512PQA.hic":"28124104361,54779","www.encodeproject.org%2Ffiles%2FENCFF591MHA%2F%40%40download%2FENCFF591MHA.hic":"37373387202,54779","www.encodeproject.org%2Ffiles%2FENCFF197OWW%2F%40%40download%2FENCFF197OWW.hic":"41826180893,54779","www.encodeproject.org%2Ffiles%2FENCFF317OIA%2F%40%40download%2FENCFF317OIA.hic":"34741636038,54779","www.encodeproject.org%2Ffiles%2FENCFF522YLZ%2F%40%40download%2FENCFF522YLZ.hic":"24064692329,54779","www.encodeproject.org%2Ffiles%2FENCFF420JTA%2F%40%40download%2FENCFF420JTA.hic":"21202405177,54779","www.encodeproject.org%2Ffiles%2FENCFF871ZDJ%2F%40%40download%2FENCFF871ZDJ.hic":"10124815680,18679","www.encodeproject.org%2Ffiles%2FENCFF349RZY%2F%40%40download%2FENCFF349RZY.hic":"4446702705,36479","www.encodeproject.org%2Ffiles%2FENCFF738YON%2F%40%40download%2FENCFF738YON.hic":"3338049584,35947","www.encodeproject.org%2Ffiles%2FENCFF406KJN%2F%40%40download%2FENCFF406KJN.hic":"4132875306,36479","www.encodeproject.org%2Ffiles%2FENCFF081NPN%2F%40%40download%2FENCFF081NPN.hic":"34495587443,54779","www.encodeproject.org%2Ffiles%2FENCFF946RZW%2F%40%40download%2FENCFF946RZW.hic":"34571955193,54779","www.encodeproject.org%2Ffiles%2FENCFF602CHT%2F%40%40download%2FENCFF602CHT.hic":"30674798032,54779","www.encodeproject.org%2Ffiles%2FENCFF150DKS%2F%40%40download%2FENCFF150DKS.hic":"12618769864,36479","www.encodeproject.org%2Ffiles%2FENCFF614IPZ%2F%40%40download%2FENCFF614IPZ.hic":"42450060331,54779","www.encodeproject.org%2Ffiles%2FENCFF571ZQR%2F%40%40download%2FENCFF571ZQR.hic":"15230068871,47429","www.encodeproject.org%2Ffiles%2FENCFF705MKK%2F%40%40download%2FENCFF705MKK.hic":"38686554702,54779","www.encodeproject.org%2Ffiles%2FENCFF658KTB%2F%40%40download%2FENCFF658KTB.hic":"13195884405,47429","www.encodeproject.org%2Ffiles%2FENCFF435JYN%2F%40%40download%2FENCFF435JYN.hic":"17192139674,54779","www.encodeproject.org%2Ffiles%2FENCFF016JKX%2F%40%40download%2FENCFF016JKX.hic":"37266736642,54779","www.encodeproject.org%2Ffiles%2FENCFF294GFP%2F%40%40download%2FENCFF294GFP.hic":"36389843399,54779","www.encodeproject.org%2Ffiles%2FENCFF700CYI%2F%40%40download%2FENCFF700CYI.hic":"60482012152,54779","www.encodeproject.org%2Ffiles%2FENCFF962EDB%2F%40%40download%2FENCFF962EDB.hic":"39394328182,54779","www.encodeproject.org%2Ffiles%2FENCFF467OGP%2F%40%40download%2FENCFF467OGP.hic":"35572788855,54779","www.encodeproject.org%2Ffiles%2FENCFF556RLR%2F%40%40download%2FENCFF556RLR.hic":"34826921187,54779","www.encodeproject.org%2Ffiles%2FENCFF309UNV%2F%40%40download%2FENCFF309UNV.hic":"48510618174,54779","www.encodeproject.org%2Ffiles%2FENCFF653HCO%2F%40%40download%2FENCFF653HCO.hic":"41079007620,54779","www.encodeproject.org%2Ffiles%2FENCFF120DSV%2F%40%40download%2FENCFF120DSV.hic":"12790195576,47429","www.encodeproject.org%2Ffiles%2FENCFF284OEA%2F%40%40download%2FENCFF284OEA.hic":"46007570339,54779","www.encodeproject.org%2Ffiles%2FENCFF035BLF%2F%40%40download%2FENCFF035BLF.hic":"63868871985,54779","www.encodeproject.org%2Ffiles%2FENCFF094KKX%2F%40%40download%2FENCFF094KKX.hic":"42151419971,54779","www.encodeproject.org%2Ffiles%2FENCFF965BPU%2F%40%40download%2FENCFF965BPU.hic":"42717376107,54779","www.encodeproject.org%2Ffiles%2FENCFF842DUO%2F%40%40download%2FENCFF842DUO.hic":"39553892515,54779","www.encodeproject.org%2Ffiles%2FENCFF417GBZ%2F%40%40download%2FENCFF417GBZ.hic":"45544785452,54779","www.encodeproject.org%2Ffiles%2FENCFF499BVX%2F%40%40download%2FENCFF499BVX.hic":"40900674170,54779","www.encodeproject.org%2Ffiles%2FENCFF136XCV%2F%40%40download%2FENCFF136XCV.hic":"47700392974,54779","www.encodeproject.org%2Ffiles%2FENCFF224HKR%2F%40%40download%2FENCFF224HKR.hic":"40426005932,54779","www.encodeproject.org%2Ffiles%2FENCFF711XSR%2F%40%40download%2FENCFF711XSR.hic":"41434581949,54779","www.encodeproject.org%2Ffiles%2FENCFF660JWA%2F%40%40download%2FENCFF660JWA.hic":"54201632697,54779","www.encodeproject.org%2Ffiles%2FENCFF081PMO%2F%40%40download%2FENCFF081PMO.hic":"53428285130,54779","www.encodeproject.org%2Ffiles%2FENCFF799QGA%2F%40%40download%2FENCFF799QGA.hic":"1228682189,36479","www.encodeproject.org%2Ffiles%2FENCFF473CAA%2F%40%40download%2FENCFF473CAA.hic":"1077514950,36479","www.encodeproject.org%2Ffiles%2FENCFF663FRL%2F%40%40download%2FENCFF663FRL.hic":"39843938245,54779","www.encodeproject.org%2Ffiles%2FENCFF341WOY%2F%40%40download%2FENCFF341WOY.hic":"34792598619,54779","www.encodeproject.org%2Ffiles%2FENCFF515ZBF%2F%40%40download%2FENCFF515ZBF.hic":"41779230923,54779","www.encodeproject.org%2Ffiles%2FENCFF545GBW%2F%40%40download%2FENCFF545GBW.hic":"38351980358,54779","www.encodeproject.org%2Ffiles%2FENCFF252ANV%2F%40%40download%2FENCFF252ANV.hic":"37668839771,54779","www.encodeproject.org%2Ffiles%2FENCFF912NDK%2F%40%40download%2FENCFF912NDK.hic":"21196851956,54779","www.encodeproject.org%2Ffiles%2FENCFF683PLM%2F%40%40download%2FENCFF683PLM.hic":"21849338763,54779","www.encodeproject.org%2Ffiles%2FENCFF355NFJ%2F%40%40download%2FENCFF355NFJ.hic":"47880627268,54779","www.encodeproject.org%2Ffiles%2FENCFF507WEW%2F%40%40download%2FENCFF507WEW.hic":"35777782924,54779","www.encodeproject.org%2Ffiles%2FENCFF241MSL%2F%40%40download%2FENCFF241MSL.hic":"22507408288,54779","www.encodeproject.org%2Ffiles%2FENCFF135MUT%2F%40%40download%2FENCFF135MUT.hic":"24168734040,54779","www.encodeproject.org%2Ffiles%2FENCFF459FRB%2F%40%40download%2FENCFF459FRB.hic":"37166770103,54779","www.encodeproject.org%2Ffiles%2FENCFF705YZH%2F%40%40download%2FENCFF705YZH.hic":"44679182442,54779","www.encodeproject.org%2Ffiles%2FENCFF395INO%2F%40%40download%2FENCFF395INO.hic":"56727346538,54779","www.encodeproject.org%2Ffiles%2FENCFF736ITL%2F%40%40download%2FENCFF736ITL.hic":"49036286185,54779","www.encodeproject.org%2Ffiles%2FENCFF546TZN%2F%40%40download%2FENCFF546TZN.hic":"33195126348,54779","www.encodeproject.org%2Ffiles%2FENCFF706SFK%2F%40%40download%2FENCFF706SFK.hic":"3271831702,36479","www.encodeproject.org%2Ffiles%2FENCFF922ERE%2F%40%40download%2FENCFF922ERE.hic":"12476647122,36479","www.encodeproject.org%2Ffiles%2FENCFF876OWE%2F%40%40download%2FENCFF876OWE.hic":"1538692704,47429","www.encodeproject.org%2Ffiles%2FENCFF227XJZ%2F%40%40download%2FENCFF227XJZ.hic":"1925617685,36479","www.encodeproject.org%2Ffiles%2FENCFF053BXY%2F%40%40download%2FENCFF053BXY.hic":"1032237652,36479","www.encodeproject.org%2Ffiles%2FENCFF014VMM%2F%40%40download%2FENCFF014VMM.hic":"1564021703,36479","www.encodeproject.org%2Ffiles%2FENCFF563XES%2F%40%40download%2FENCFF563XES.hic":"1489180508,36479","www.encodeproject.org%2Ffiles%2FENCFF482LGO%2F%40%40download%2FENCFF482LGO.hic":"1208778887,36479","www.encodeproject.org%2Ffiles%2FENCFF216QQM%2F%40%40download%2FENCFF216QQM.hic":"6293163571,47429","www.encodeproject.org%2Ffiles%2FENCFF256UOW%2F%40%40download%2FENCFF256UOW.hic":"6293163571,47429","www.encodeproject.org%2Ffiles%2FENCFF791UZC%2F%40%40download%2FENCFF791UZC.hic":"37029615181,54779","www.encodeproject.org%2Ffiles%2FENCFF911AHQ%2F%40%40download%2FENCFF911AHQ.hic":"34246649165,54779","www.encodeproject.org%2Ffiles%2FENCFF491AOR%2F%40%40download%2FENCFF491AOR.hic":"558663570,36479","www.encodeproject.org%2Ffiles%2FENCFF307PDL%2F%40%40download%2FENCFF307PDL.hic":"525321519,36479","www.encodeproject.org%2Ffiles%2FENCFF773ITV%2F%40%40download%2FENCFF773ITV.hic":"295464771,36479","www.encodeproject.org%2Ffiles%2FENCFF198SSL%2F%40%40download%2FENCFF198SSL.hic":"500142476,36479","www.encodeproject.org%2Ffiles%2FENCFF251UEF%2F%40%40download%2FENCFF251UEF.hic":"567443575,36479","www.encodeproject.org%2Ffiles%2FENCFF942LTN%2F%40%40download%2FENCFF942LTN.hic":"4430960222,36479","www.encodeproject.org%2Ffiles%2FENCFF543USQ%2F%40%40download%2FENCFF543USQ.hic":"5005263062,36479","www.encodeproject.org%2Ffiles%2FENCFF434XQU%2F%40%40download%2FENCFF434XQU.hic":"25506511674,54779","www.encodeproject.org%2Ffiles%2FENCFF318GOM%2F%40%40download%2FENCFF318GOM.hic":"44750824314,54779","www.encodeproject.org%2Ffiles%2FENCFF004TKY%2F%40%40download%2FENCFF004TKY.hic":"20705661833,54779","www.encodeproject.org%2Ffiles%2FENCFF493YNC%2F%40%40download%2FENCFF493YNC.hic":"53407154984,54779","www.encodeproject.org%2Ffiles%2FENCFF334XXU%2F%40%40download%2FENCFF334XXU.hic":"14341194962,47429","www.encodeproject.org%2Ffiles%2FENCFF569RJM%2F%40%40download%2FENCFF569RJM.hic":"1922066634,36479","www.encodeproject.org%2Ffiles%2FENCFF076LWH%2F%40%40download%2FENCFF076LWH.hic":"39406255845,54779","www.encodeproject.org%2Ffiles%2FENCFF977XWK%2F%40%40download%2FENCFF977XWK.hic":"20563512962,54779","www.encodeproject.org%2Ffiles%2FENCFF127TPS%2F%40%40download%2FENCFF127TPS.hic":"21032070512,54779","www.encodeproject.org%2Ffiles%2FENCFF480KLP%2F%40%40download%2FENCFF480KLP.hic":"33115569647,54779","www.encodeproject.org%2Ffiles%2FENCFF281ILS%2F%40%40download%2FENCFF281ILS.hic":"28236353584,54779","www.encodeproject.org%2Ffiles%2FENCFF129LMU%2F%40%40download%2FENCFF129LMU.hic":"35247096013,54779","www.encodeproject.org%2Ffiles%2FENCFF759YCW%2F%40%40download%2FENCFF759YCW.hic":"16058537743,32102","www.encodeproject.org%2Ffiles%2FENCFF045YOM%2F%40%40download%2FENCFF045YOM.hic":"19775445828,32102","www.encodeproject.org%2Ffiles%2FENCFF013TGD%2F%40%40download%2FENCFF013TGD.hic":"4208420532,36479","www.encodeproject.org%2Ffiles%2FENCFF929RPW%2F%40%40download%2FENCFF929RPW.hic":"1974260276,36479","www.encodeproject.org%2Ffiles%2FENCFF996XEO%2F%40%40download%2FENCFF996XEO.hic":"2072918865,36479","www.encodeproject.org%2Ffiles%2FENCFF097SKJ%2F%40%40download%2FENCFF097SKJ.hic":"1983524001,36479","www.encodeproject.org%2Ffiles%2FENCFF464KRA%2F%40%40download%2FENCFF464KRA.hic":"1957300131,36479","www.encodeproject.org%2Ffiles%2FENCFF406HHC%2F%40%40download%2FENCFF406HHC.hic":"3854527235,36479","www.encodeproject.org%2Ffiles%2FENCFF080DPJ%2F%40%40download%2FENCFF080DPJ.hic":"19953768024,47429","www.encodeproject.org%2Ffiles%2FENCFF621AIY%2F%40%40download%2FENCFF621AIY.hic":"26781700010,54779","www.encodeproject.org%2Ffiles%2FENCFF366ERB%2F%40%40download%2FENCFF366ERB.hic":"1049184239,36479","www.encodeproject.org%2Ffiles%2FENCFF997RGL%2F%40%40download%2FENCFF997RGL.hic":"2521167549,36479","www.encodeproject.org%2Ffiles%2FENCFF029MPB%2F%40%40download%2FENCFF029MPB.hic":"1854711185,36479","www.encodeproject.org%2Ffiles%2FENCFF043EEE%2F%40%40download%2FENCFF043EEE.hic":"2924133032,36479","www.encodeproject.org%2Ffiles%2FENCFF920CJR%2F%40%40download%2FENCFF920CJR.hic":"3011577886,36479","www.encodeproject.org%2Ffiles%2FENCFF928NJV%2F%40%40download%2FENCFF928NJV.hic":"2778936244,36479","www.encodeproject.org%2Ffiles%2FENCFF894GLR%2F%40%40download%2FENCFF894GLR.hic":"2831733099,36479","www.encodeproject.org%2Ffiles%2FENCFF303PCK%2F%40%40download%2FENCFF303PCK.hic":"688704435,36479","www.encodeproject.org%2Ffiles%2FENCFF999YXX%2F%40%40download%2FENCFF999YXX.hic":"9255069996,56883","www.encodeproject.org%2Ffiles%2FENCFF685BLG%2F%40%40download%2FENCFF685BLG.hic":"16797022992,47429","www.encodeproject.org%2Ffiles%2FENCFF188SSH%2F%40%40download%2FENCFF188SSH.hic":"16797023050,47429","www.encodeproject.org%2Ffiles%2FENCFF465ESX%2F%40%40download%2FENCFF465ESX.hic":"13489465953,32102","www.encodeproject.org%2Ffiles%2FENCFF493SFI%2F%40%40download%2FENCFF493SFI.hic":"30033046818,54779","www.encodeproject.org%2Ffiles%2FENCFF235LCO%2F%40%40download%2FENCFF235LCO.hic":"38572174589,54779","www.encodeproject.org%2Ffiles%2FENCFF625VNK%2F%40%40download%2FENCFF625VNK.hic":"45202258438,54779","www.encodeproject.org%2Ffiles%2FENCFF304HMS%2F%40%40download%2FENCFF304HMS.hic":"36994445315,54779","www.encodeproject.org%2Ffiles%2FENCFF605CEN%2F%40%40download%2FENCFF605CEN.hic":"40358346301,54779","www.encodeproject.org%2Ffiles%2FENCFF086ORS%2F%40%40download%2FENCFF086ORS.hic":"22650781304,54779","www.encodeproject.org%2Ffiles%2FENCFF237UKR%2F%40%40download%2FENCFF237UKR.hic":"41516707246,54779","www.encodeproject.org%2Ffiles%2FENCFF004YZQ%2F%40%40download%2FENCFF004YZQ.hic":"71900665326,54779","www.encodeproject.org%2Ffiles%2FENCFF104THR%2F%40%40download%2FENCFF104THR.hic":"15172410632,54779","www.encodeproject.org%2Ffiles%2FENCFF807IRK%2F%40%40download%2FENCFF807IRK.hic":"17346637451,54779","www.encodeproject.org%2Ffiles%2FENCFF193CQL%2F%40%40download%2FENCFF193CQL.hic":"55726903245,54779","www.encodeproject.org%2Ffiles%2FENCFF700DEX%2F%40%40download%2FENCFF700DEX.hic":"20231399798,54779","www.encodeproject.org%2Ffiles%2FENCFF234MDO%2F%40%40download%2FENCFF234MDO.hic":"24635312640,54779","www.encodeproject.org%2Ffiles%2FENCFF181ROW%2F%40%40download%2FENCFF181ROW.hic":"26883606497,54779","www.encodeproject.org%2Ffiles%2FENCFF896OFN%2F%40%40download%2FENCFF896OFN.hic":"36952196833,54779","www.encodeproject.org%2Ffiles%2FENCFF573OPJ%2F%40%40download%2FENCFF573OPJ.hic":"36685546919,54779","www.encodeproject.org%2Ffiles%2FENCFF028RXH%2F%40%40download%2FENCFF028RXH.hic":"31053919206,54779","www.encodeproject.org%2Ffiles%2FENCFF156GGD%2F%40%40download%2FENCFF156GGD.hic":"35284134289,54779","www.encodeproject.org%2Ffiles%2FENCFF496GEU%2F%40%40download%2FENCFF496GEU.hic":"44659660933,54779","www.encodeproject.org%2Ffiles%2FENCFF945TUH%2F%40%40download%2FENCFF945TUH.hic":"3898570191,35639","www.encodeproject.org%2Ffiles%2FENCFF698KFV%2F%40%40download%2FENCFF698KFV.hic":"4427896684,35751","www.encodeproject.org%2Ffiles%2FENCFF239BHZ%2F%40%40download%2FENCFF239BHZ.hic":"1718552021,36479","www.encodeproject.org%2Ffiles%2FENCFF277LAN%2F%40%40download%2FENCFF277LAN.hic":"4542391336,36479","www.encodeproject.org%2Ffiles%2FENCFF397CMD%2F%40%40download%2FENCFF397CMD.hic":"2832016430,36479","www.encodeproject.org%2Ffiles%2FENCFF778OYA%2F%40%40download%2FENCFF778OYA.hic":"14067187484,47429","www.encodeproject.org%2Ffiles%2FENCFF775VSU%2F%40%40download%2FENCFF775VSU.hic":"14067187484,47429","www.encodeproject.org%2Ffiles%2FENCFF812THZ%2F%40%40download%2FENCFF812THZ.hic":"9667720429,36479","www.encodeproject.org%2Ffiles%2FENCFF777KBU%2F%40%40download%2FENCFF777KBU.hic":"5058284320,36479","www.encodeproject.org%2Ffiles%2FENCFF688KOY%2F%40%40download%2FENCFF688KOY.hic":"4198695833,36479","www.encodeproject.org%2Ffiles%2FENCFF223UBX%2F%40%40download%2FENCFF223UBX.hic":"1206064037,36479","www.encodeproject.org%2Ffiles%2FENCFF273XBU%2F%40%40download%2FENCFF273XBU.hic":"44085607579,54779","www.encodeproject.org%2Ffiles%2FENCFF952JZV%2F%40%40download%2FENCFF952JZV.hic":"44728845246,54779","www.encodeproject.org%2Ffiles%2FENCFF643NDM%2F%40%40download%2FENCFF643NDM.hic":"35877886780,54779","www.encodeproject.org%2Ffiles%2FENCFF586MQY%2F%40%40download%2FENCFF586MQY.hic":"71158037547,54779","www.encodeproject.org%2Ffiles%2FENCFF251VFA%2F%40%40download%2FENCFF251VFA.hic":"40089479399,54779","www.encodeproject.org%2Ffiles%2FENCFF033WGK%2F%40%40download%2FENCFF033WGK.hic":"30802023728,54779","www.encodeproject.org%2Ffiles%2FENCFF649OHR%2F%40%40download%2FENCFF649OHR.hic":"28203184265,54779","www.encodeproject.org%2Ffiles%2FENCFF782WVZ%2F%40%40download%2FENCFF782WVZ.hic":"37248221674,54779","www.encodeproject.org%2Ffiles%2FENCFF579CAR%2F%40%40download%2FENCFF579CAR.hic":"39662025395,54779","www.encodeproject.org%2Ffiles%2FENCFF514XWQ%2F%40%40download%2FENCFF514XWQ.hic":"1319613701,36479","www.encodeproject.org%2Ffiles%2FENCFF666USK%2F%40%40download%2FENCFF666USK.hic":"15051670107,32102","www.encodeproject.org%2Ffiles%2FENCFF047SDP%2F%40%40download%2FENCFF047SDP.hic":"1357076705,16438","www.encodeproject.org%2Ffiles%2FENCFF584LEP%2F%40%40download%2FENCFF584LEP.hic":"9314176858,36479","www.encodeproject.org%2Ffiles%2FENCFF671SOE%2F%40%40download%2FENCFF671SOE.hic":"3273732256,16438","www.encodeproject.org%2Ffiles%2FENCFF702LAP%2F%40%40download%2FENCFF702LAP.hic":"1800427500,31682","www.encodeproject.org%2Ffiles%2FENCFF339PON%2F%40%40download%2FENCFF339PON.hic":"5394351199,31514","www.encodeproject.org%2Ffiles%2FENCFF741QPR%2F%40%40download%2FENCFF741QPR.hic":"4271510019,30139","www.encodeproject.org%2Ffiles%2FENCFF103ANX%2F%40%40download%2FENCFF103ANX.hic":"4439745804,30083","www.encodeproject.org%2Ffiles%2FENCFF395SBC%2F%40%40download%2FENCFF395SBC.hic":"1596732351,31850","www.encodeproject.org%2Ffiles%2FENCFF289WNN%2F%40%40download%2FENCFF289WNN.hic":"8632980535,32102","www.encodeproject.org%2Ffiles%2FENCFF381EAU%2F%40%40download%2FENCFF381EAU.hic":"1702476311,36479","www.encodeproject.org%2Ffiles%2FENCFF976FEY%2F%40%40download%2FENCFF976FEY.hic":"1448279040,36479","www.encodeproject.org%2Ffiles%2FENCFF485LVS%2F%40%40download%2FENCFF485LVS.hic":"1593610856,36479","www.encodeproject.org%2Ffiles%2FENCFF143VJV%2F%40%40download%2FENCFF143VJV.hic":"1422312076,36479","www.encodeproject.org%2Ffiles%2FENCFF588NHX%2F%40%40download%2FENCFF588NHX.hic":"3943637009,36479","www.encodeproject.org%2Ffiles%2FENCFF768UBD%2F%40%40download%2FENCFF768UBD.hic":"24786676166,36479","www.encodeproject.org%2Ffiles%2FENCFF965PEE%2F%40%40download%2FENCFF965PEE.hic":"29387092778,47429","www.encodeproject.org%2Ffiles%2FENCFF702IFC%2F%40%40download%2FENCFF702IFC.hic":"29387092778,47429","www.encodeproject.org%2Ffiles%2FENCFF288DNV%2F%40%40download%2FENCFF288DNV.hic":"10313429504,36479","www.encodeproject.org%2Ffiles%2FENCFF698HWZ%2F%40%40download%2FENCFF698HWZ.hic":"10962849269,47429","www.encodeproject.org%2Ffiles%2FENCFF355OWW%2F%40%40download%2FENCFF355OWW.hic":"3219571601,36479","www.encodeproject.org%2Ffiles%2FENCFF177TYX%2F%40%40download%2FENCFF177TYX.hic":"10325679706,36479","www.encodeproject.org%2Ffiles%2FENCFF542BHD%2F%40%40download%2FENCFF542BHD.hic":"11085397879,47429","www.encodeproject.org%2Ffiles%2FENCFF684IFW%2F%40%40download%2FENCFF684IFW.hic":"11085397879,47429","www.encodeproject.org%2Ffiles%2FENCFF592UHE%2F%40%40download%2FENCFF592UHE.hic":"21363948089,32102","www.encodeproject.org%2Ffiles%2FENCFF779XIS%2F%40%40download%2FENCFF779XIS.hic":"9517383271,36479","www.encodeproject.org%2Ffiles%2FENCFF518PSL%2F%40%40download%2FENCFF518PSL.hic":"7500581463,36479","www.encodeproject.org%2Ffiles%2FENCFF275GBB%2F%40%40download%2FENCFF275GBB.hic":"7889407162,36479","www.encodeproject.org%2Ffiles%2FENCFF634KXI%2F%40%40download%2FENCFF634KXI.hic":"6430702966,36479","www.encodeproject.org%2Ffiles%2FENCFF337QPM%2F%40%40download%2FENCFF337QPM.hic":"8529733887,36479","www.encodeproject.org%2Ffiles%2FENCFF162KMP%2F%40%40download%2FENCFF162KMP.hic":"5615896908,36479","www.encodeproject.org%2Ffiles%2FENCFF992VTE%2F%40%40download%2FENCFF992VTE.hic":"7328975027,36479","www.encodeproject.org%2Ffiles%2FENCFF464WXY%2F%40%40download%2FENCFF464WXY.hic":"5715339664,36479","www.encodeproject.org%2Ffiles%2FENCFF752EGH%2F%40%40download%2FENCFF752EGH.hic":"1733758743,36479","www.encodeproject.org%2Ffiles%2FENCFF474UJM%2F%40%40download%2FENCFF474UJM.hic":"222309548,18679","www.encodeproject.org%2Ffiles%2FENCFF531UPZ%2F%40%40download%2FENCFF531UPZ.hic":"1827756846,36479","www.encodeproject.org%2Ffiles%2FENCFF022VHA%2F%40%40download%2FENCFF022VHA.hic":"244983451,18679","www.encodeproject.org%2Ffiles%2FENCFF732NGR%2F%40%40download%2FENCFF732NGR.hic":"1679484567,36479","www.encodeproject.org%2Ffiles%2FENCFF513VSF%2F%40%40download%2FENCFF513VSF.hic":"28397932940,36479","www.encodeproject.org%2Ffiles%2FENCFF750AOC%2F%40%40download%2FENCFF750AOC.hic":"36471430712,47429","www.encodeproject.org%2Ffiles%2FENCFF219YOB%2F%40%40download%2FENCFF219YOB.hic":"2859767211,26979","www.encodeproject.org%2Ffiles%2FENCFF604YDD%2F%40%40download%2FENCFF604YDD.hic":"3549694085,26979","www.encodeproject.org%2Ffiles%2FENCFF746AMV%2F%40%40download%2FENCFF746AMV.hic":"2954867135,26979","www.encodeproject.org%2Ffiles%2FENCFF845ZEB%2F%40%40download%2FENCFF845ZEB.hic":"2763039282,26979","www.encodeproject.org%2Ffiles%2FENCFF570LWS%2F%40%40download%2FENCFF570LWS.hic":"2861588289,26979","www.encodeproject.org%2Ffiles%2FENCFF883YVR%2F%40%40download%2FENCFF883YVR.hic":"2433679887,26979","www.encodeproject.org%2Ffiles%2FENCFF056VLK%2F%40%40download%2FENCFF056VLK.hic":"2502986910,26979","www.encodeproject.org%2Ffiles%2FENCFF532DUQ%2F%40%40download%2FENCFF532DUQ.hic":"3172615899,26979","www.encodeproject.org%2Ffiles%2FENCFF723PYJ%2F%40%40download%2FENCFF723PYJ.hic":"10292839095,36479","www.encodeproject.org%2Ffiles%2FENCFF991SGJ%2F%40%40download%2FENCFF991SGJ.hic":"13072407683,32102","www.encodeproject.org%2Ffiles%2FENCFF885UZI%2F%40%40download%2FENCFF885UZI.hic":"1201881201,16438","www.encodeproject.org%2Ffiles%2FENCFF287KXA%2F%40%40download%2FENCFF287KXA.hic":"14705801988,32102","www.encodeproject.org%2Ffiles%2FENCFF335HYI%2F%40%40download%2FENCFF335HYI.hic":"20366756545,32102","www.encodeproject.org%2Ffiles%2FENCFF121YPY%2F%40%40download%2FENCFF121YPY.hic":"2760104016,26979","www.encodeproject.org%2Ffiles%2FENCFF675SJE%2F%40%40download%2FENCFF675SJE.hic":"3751779995,26979","www.encodeproject.org%2Ffiles%2FENCFF876LAW%2F%40%40download%2FENCFF876LAW.hic":"4032376256,26979","www.encodeproject.org%2Ffiles%2FENCFF740KVX%2F%40%40download%2FENCFF740KVX.hic":"3202490322,26979","www.encodeproject.org%2Ffiles%2FENCFF977OQV%2F%40%40download%2FENCFF977OQV.hic":"2919735477,26979","www.encodeproject.org%2Ffiles%2FENCFF525EFN%2F%40%40download%2FENCFF525EFN.hic":"2394748073,26979","www.encodeproject.org%2Ffiles%2FENCFF690QRC%2F%40%40download%2FENCFF690QRC.hic":"3183023394,26979","www.encodeproject.org%2Ffiles%2FENCFF452FWS%2F%40%40download%2FENCFF452FWS.hic":"2951805127,26979","www.encodeproject.org%2Ffiles%2FENCFF089KBG%2F%40%40download%2FENCFF089KBG.hic":"2531936700,26979","www.encodeproject.org%2Ffiles%2FENCFF939ARM%2F%40%40download%2FENCFF939ARM.hic":"3066385212,26979","www.encodeproject.org%2Ffiles%2FENCFF401ZAN%2F%40%40download%2FENCFF401ZAN.hic":"3008677144,26979","www.encodeproject.org%2Ffiles%2FENCFF378RZT%2F%40%40download%2FENCFF378RZT.hic":"2830232168,26979","www.encodeproject.org%2Ffiles%2FENCFF304AVD%2F%40%40download%2FENCFF304AVD.hic":"6164439305,50358","www.encodeproject.org%2Ffiles%2FENCFF453DBX%2F%40%40download%2FENCFF453DBX.hic":"6775246670,36479","www.encodeproject.org%2Ffiles%2FENCFF590VOM%2F%40%40download%2FENCFF590VOM.hic":"6443478922,36479","www.encodeproject.org%2Ffiles%2FENCFF246DOF%2F%40%40download%2FENCFF246DOF.hic":"6837914659,36479","www.encodeproject.org%2Ffiles%2FENCFF125FXX%2F%40%40download%2FENCFF125FXX.hic":"9736232550,36479","www.encodeproject.org%2Ffiles%2FENCFF241RAY%2F%40%40download%2FENCFF241RAY.hic":"7686758397,36479","www.encodeproject.org%2Ffiles%2FENCFF415XWQ%2F%40%40download%2FENCFF415XWQ.hic":"6973092068,36479","www.encodeproject.org%2Ffiles%2FENCFF374EBH%2F%40%40download%2FENCFF374EBH.hic":"8557459058,36479","www.encodeproject.org%2Ffiles%2FENCFF263YWR%2F%40%40download%2FENCFF263YWR.hic":"331586820,18679","www.encodeproject.org%2Ffiles%2FENCFF280CGS%2F%40%40download%2FENCFF280CGS.hic":"1743569614,36479","www.encodeproject.org%2Ffiles%2FENCFF553ZNS%2F%40%40download%2FENCFF553ZNS.hic":"1717253636,36479","www.encodeproject.org%2Ffiles%2FENCFF451VOI%2F%40%40download%2FENCFF451VOI.hic":"1626927468,36479","www.encodeproject.org%2Ffiles%2FENCFF420MQO%2F%40%40download%2FENCFF420MQO.hic":"31055961677,36479","www.encodeproject.org%2Ffiles%2FENCFF301BWY%2F%40%40download%2FENCFF301BWY.hic":"38902429246,47429","www.encodeproject.org%2Ffiles%2FENCFF606XNW%2F%40%40download%2FENCFF606XNW.hic":"1009699327,36479","www.encodeproject.org%2Ffiles%2FENCFF439ZOU%2F%40%40download%2FENCFF439ZOU.hic":"12381714313,36479","www.encodeproject.org%2Ffiles%2FENCFF499SYK%2F%40%40download%2FENCFF499SYK.hic":"13182654663,47429","www.encodeproject.org%2Ffiles%2FENCFF532LFI%2F%40%40download%2FENCFF532LFI.hic":"8286030286,36479","www.encodeproject.org%2Ffiles%2FENCFF020DPP%2F%40%40download%2FENCFF020DPP.hic":"23521952420,47429","www.encodeproject.org%2Ffiles%2FENCFF306VTV%2F%40%40download%2FENCFF306VTV.hic":"23521952480,47429","www.encodeproject.org%2Ffiles%2FENCFF399IHE%2F%40%40download%2FENCFF399IHE.hic":"10216571232,36479","www.encodeproject.org%2Ffiles%2FENCFF944AII%2F%40%40download%2FENCFF944AII.hic":"12567308552,47429","www.encodeproject.org%2Ffiles%2FENCFF230HVV%2F%40%40download%2FENCFF230HVV.hic":"8629849711,36479","www.encodeproject.org%2Ffiles%2FENCFF174LAF%2F%40%40download%2FENCFF174LAF.hic":"9446506633,47429","www.encodeproject.org%2Ffiles%2FENCFF898HRO%2F%40%40download%2FENCFF898HRO.hic":"9446506633,47429","www.encodeproject.org%2Ffiles%2FENCFF429MOR%2F%40%40download%2FENCFF429MOR.hic":"1455757398,36479","www.encodeproject.org%2Ffiles%2FENCFF061NXV%2F%40%40download%2FENCFF061NXV.hic":"1710915891,36479","www.encodeproject.org%2Ffiles%2FENCFF434PYS%2F%40%40download%2FENCFF434PYS.hic":"1832274903,36479","www.encodeproject.org%2Ffiles%2FENCFF704HHX%2F%40%40download%2FENCFF704HHX.hic":"1768142834,36479","www.encodeproject.org%2Ffiles%2FENCFF349DPM%2F%40%40download%2FENCFF349DPM.hic":"4316041260,36479","www.encodeproject.org%2Ffiles%2FENCFF718AWL%2F%40%40download%2FENCFF718AWL.hic":"39544267907,58932","www.encodeproject.org%2Ffiles%2FENCFF065LSP%2F%40%40download%2FENCFF065LSP.hic":"24929805283,55874","www.encodeproject.org%2Ffiles%2FENCFF632MFV%2F%40%40download%2FENCFF632MFV.hic":"22333105467,55798","www.encodeproject.org%2Ffiles%2FENCFF179HVU%2F%40%40download%2FENCFF179HVU.hic":"2659219603,36479","www.encodeproject.org%2Ffiles%2FENCFF791SPZ%2F%40%40download%2FENCFF791SPZ.hic":"2537491657,36479","www.encodeproject.org%2Ffiles%2FENCFF211ZWF%2F%40%40download%2FENCFF211ZWF.hic":"3512141227,36479","www.encodeproject.org%2Ffiles%2FENCFF614BNU%2F%40%40download%2FENCFF614BNU.hic":"5252155462,36479","www.encodeproject.org%2Ffiles%2FENCFF891DLM%2F%40%40download%2FENCFF891DLM.hic":"2549095612,36479","www.encodeproject.org%2Ffiles%2FENCFF056EXT%2F%40%40download%2FENCFF056EXT.hic":"2219014704,36479","www.encodeproject.org%2Ffiles%2FENCFF776DSS%2F%40%40download%2FENCFF776DSS.hic":"3920308353,36479","www.encodeproject.org%2Ffiles%2FENCFF814LQF%2F%40%40download%2FENCFF814LQF.hic":"1349480197,36479","www.encodeproject.org%2Ffiles%2FENCFF513ZNA%2F%40%40download%2FENCFF513ZNA.hic":"2638868195,36479","www.encodeproject.org%2Ffiles%2FENCFF692IOL%2F%40%40download%2FENCFF692IOL.hic":"3106768498,36479","www.encodeproject.org%2Ffiles%2FENCFF294WZY%2F%40%40download%2FENCFF294WZY.hic":"2211089761,36479","www.encodeproject.org%2Ffiles%2FENCFF339UWS%2F%40%40download%2FENCFF339UWS.hic":"2142759055,36479","www.encodeproject.org%2Ffiles%2FENCFF835FSK%2F%40%40download%2FENCFF835FSK.hic":"3919821739,36479","www.encodeproject.org%2Ffiles%2FENCFF328BMB%2F%40%40download%2FENCFF328BMB.hic":"2550686152,36479","www.encodeproject.org%2Ffiles%2FENCFF897RTY%2F%40%40download%2FENCFF897RTY.hic":"1323294397,36479","www.encodeproject.org%2Ffiles%2FENCFF306MWH%2F%40%40download%2FENCFF306MWH.hic":"1665386199,36479","www.encodeproject.org%2Ffiles%2FENCFF039YUJ%2F%40%40download%2FENCFF039YUJ.hic":"2335679939,36479","www.encodeproject.org%2Ffiles%2FENCFF468QIN%2F%40%40download%2FENCFF468QIN.hic":"3352516594,36479","www.encodeproject.org%2Ffiles%2FENCFF364WXU%2F%40%40download%2FENCFF364WXU.hic":"3959043175,36479","www.encodeproject.org%2Ffiles%2FENCFF373MSH%2F%40%40download%2FENCFF373MSH.hic":"4429550624,36479","www.encodeproject.org%2Ffiles%2FENCFF959EGQ%2F%40%40download%2FENCFF959EGQ.hic":"2475218228,36479","www.encodeproject.org%2Ffiles%2FENCFF624XMK%2F%40%40download%2FENCFF624XMK.hic":"3527855681,36479","www.encodeproject.org%2Ffiles%2FENCFF445OKS%2F%40%40download%2FENCFF445OKS.hic":"3369125589,36479","www.encodeproject.org%2Ffiles%2FENCFF239QDV%2F%40%40download%2FENCFF239QDV.hic":"1960069888,36479","www.encodeproject.org%2Ffiles%2FENCFF645AVM%2F%40%40download%2FENCFF645AVM.hic":"4969006589,36479","www.encodeproject.org%2Ffiles%2FENCFF494IPI%2F%40%40download%2FENCFF494IPI.hic":"1565483792,36479","www.encodeproject.org%2Ffiles%2FENCFF753IXE%2F%40%40download%2FENCFF753IXE.hic":"2892400648,36479","www.encodeproject.org%2Ffiles%2FENCFF731GXX%2F%40%40download%2FENCFF731GXX.hic":"5131381303,36479","www.encodeproject.org%2Ffiles%2FENCFF369CAQ%2F%40%40download%2FENCFF369CAQ.hic":"4236629448,36479","www.encodeproject.org%2Ffiles%2FENCFF053VBX%2F%40%40download%2FENCFF053VBX.hic":"54305946375,47429","www.encodeproject.org%2Ffiles%2FENCFF555ISR%2F%40%40download%2FENCFF555ISR.hic":"54305946434,47429","www.encodeproject.org%2Ffiles%2FENCFF964RSP%2F%40%40download%2FENCFF964RSP.hic":"12065485229,36479","www.encodeproject.org%2Ffiles%2FENCFF234MZQ%2F%40%40download%2FENCFF234MZQ.hic":"17507142760,47429","www.encodeproject.org%2Ffiles%2FENCFF994CEG%2F%40%40download%2FENCFF994CEG.hic":"17507142760,47429","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb068e787-bbdd-49e2-9f6d-7a0e9f065d6e%2F4DNFIHSUIRFY.hic":"2701182442,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3768b89a-e124-40eb-8acd-94a4fdd35807%2F4DNFIXTAS6EE.hic":"3283740601,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9c513602-5abb-4088-8415-c827c381ab0d%2F4DNFIC3JD6O2.hic":"4896075767,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fde954dad-1849-4c23-beb4-bf893b7d76c9%2F4DNFIGY85S4W.hic":"3364151996,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe1befa6e-8067-4296-8db2-67d2a2458985%2F4DNFI2LTNXME.hic":"3699291418,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbb3307fd-7162-477a-87c5-52f12d03befc%2F4DNFID162B9J.hic":"3576428773,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8597cdae-8319-42d9-9175-3f77aaee34e1%2F4DNFIQWS3632.hic":"4022561190,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F327f091d-6a63-47c4-9752-2dff303a13d9%2F4DNFI6GFHB6G.hic":"4239331168,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd70dc3b8-48a7-42c2-bd23-80bc44fc2266%2F4DNFIS5F6EBL.hic":"4404671861,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F77df7bf8-6a3d-407a-8968-4ca1e78d2269%2F4DNFIF2D3TL9.hic":"4793989394,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc8f7cc35-d2ef-4717-9009-c02154050fbf%2F4DNFI6EIFUZI.hic":"3370273763,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F98449d79-30d1-4e32-801d-07435819a42f%2F4DNFIRKGMZRQ.hic":"4669813207,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd4fe1844-2493-4722-8b98-34a93a4bb7d8%2F4DNFIQWD8ZYD.hic":"5379889057,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1ee40499-1de4-47ff-b540-d9a65943c6b8%2F4DNFIX7H3CE2.hic":"4857679239,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fac016170-23a7-4111-8773-353d6c150f34%2F4DNFIO21YDCV.hic":"4695989644,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1faea4e7-9a32-466e-a826-0bfdab6cd915%2F4DNFIUE5RAS6.hic":"4788044799,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcbd396ed-11bb-404f-aed9-ef10abc258e6%2F4DNFIFI6NIKJ.hic":"2069414927,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faf3f78db-ae92-4215-bcae-76d30c617e5d%2F4DNFIL5K3MA1.hic":"2585598247,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F66fc2893-224e-48b4-bdb0-25e022dedd03%2F4DNFIPV5KFMK.hic":"2060965679,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2b39781d-aadc-434f-abe3-562d61308fdd%2F4DNFIW8TIFI5.hic":"1694424195,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb6d28f7b-27d3-486f-b5ac-32567416560d%2F4DNFIA6NSSBJ.hic":"2219532611,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F08785616-722e-46bb-ade2-2fdd21324e11%2F4DNFIBKZK63V.hic":"2429136232,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F904b13d3-1203-42a4-812c-963e80c159b1%2F4DNFI3CFMRID.hic":"1233390166,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb0ed4afe-5ecf-451d-bb1f-444697e3f558%2F4DNFIYIAUEPW.hic":"1753567534,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4bb9a9b3-12a8-4d2f-8071-4722294c88ea%2F4DNFIC3HAU11.hic":"2271375254,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5abf9c36-c1d1-44dc-8197-74d860d896c0%2F4DNFIM2BMJ33.hic":"1770471113,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa68475db-7816-4cec-b2da-d4ce4a0c7a0e%2F4DNFIBY3UHJB.hic":"2095528423,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F07c40943-0d0b-4b3e-94a0-8583b0e00b47%2F4DNFIWZEN3FF.hic":"1558559508,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd8a39553-2718-4866-9b2a-45d8e9c5ac6f%2F4DNFIE5TEYK7.hic":"1323063102,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F294b61ef-5565-4f04-ade9-f921a6686cce%2F4DNFI7H4II2V.hic":"1436947982,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87a70ad7-7d34-4302-9c03-eb824bd4e633%2F4DNFIAS8LV1C.hic":"1263105698,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9db804c6-5a91-4cf5-8ae9-e054223afb77%2F4DNFIBXWIH8J.hic":"1587059951,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd1e55906-ec8f-444b-8ce1-2de22a431a76%2F4DNFIO2HBDAI.hic":"1666436393,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7a4b9b37-8e38-470c-8190-fd4d513c0bbb%2F4DNFIXWCLD4M.hic":"1513511880,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6c7615b2-5310-4bbf-a605-98761d3a3079%2F4DNFINASC4NQ.hic":"1420358914,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F20454014-49cd-4e2d-93da-f40ad52776d5%2F4DNFIZF1KI43.hic":"1377041630,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5df04e86-ee2a-45f2-b878-bf1648e2cca5%2F4DNFIQBHR9XC.hic":"1179502734,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9d1cc910-bb3f-4106-802a-73184c58d5ba%2F4DNFIQVMVRP6.hic":"1811976991,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe431986b-0732-460f-92ff-0abd1694d2d0%2F4DNFIJ7OAIFQ.hic":"1685503856,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F56d0c575-4962-4ea3-92c3-55bd0e17c096%2F4DNFIE8E4ANZ.hic":"1598369564,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdb1502fb-a989-4ef9-b800-7eaa7be172ae%2F4DNFIOUSETUP.hic":"1493294709,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Facc2f1c3-8c96-4d21-814a-3a8ba81e7741%2F4DNFIVJ3IIQL.hic":"1472376655,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F037fb4c3-8641-4953-a977-cc71f2137582%2F4DNFIHN2QSMX.hic":"1179632606,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F16d2c3c0-6d29-4815-b074-b142af90b615%2F4DNFIILDWK8M.hic":"2280059989,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31789849-e4db-45d8-9730-66a048c02d8a%2F4DNFI6XD6JAQ.hic":"2253961696,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fff04947e-e6e8-4d62-8374-ef2ee4104809%2F4DNFIALNLR78.hic":"1914687914,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F53e6c1e7-9410-4158-84e6-57c2e683b095%2F4DNFIBT4EAKN.hic":"2296378356,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0127900a-258f-4815-97d2-6fd2b043d853%2F4DNFIDJ2JZ7Q.hic":"2558945393,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F89f95693-3d28-44eb-9d45-14932f8e258c%2F4DNFI8JFOAJT.hic":"1726440253,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd803d818-b0d4-4796-8d61-a9f3943f3b10%2F4DNFIRZA6EV6.hic":"1805017504,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff9165fb1-0782-4757-a740-5b929e0252bb%2F4DNFIB7QTIMH.hic":"2541020707,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff8d916b2-b58e-4cdf-894c-ffcb3bf6ebd9%2F4DNFIJ5DQZVK.hic":"2445734043,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F14066a5b-e01a-43c2-a468-b18826174df3%2F4DNFISTWNV9C.hic":"2499319890,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd0692151-7f9a-4475-b059-f8802616dded%2F4DNFIBN9K4V9.hic":"1591570769,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70a7ef36-a514-4e45-918f-47c4e9e30ef4%2F4DNFIR8OU6QJ.hic":"1689882108,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F180306cd-8593-413a-ae83-24f19209c5d2%2F4DNFIDSWKFF5.hic":"1596696630,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6e7b9be7-f465-4434-8e9c-68d1e44a76af%2F4DNFIV239W4L.hic":"2345867406,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F55df948c-941d-4930-854c-6a07557a0c1d%2F4DNFIREVU1Z5.hic":"2254683002,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3f590cb7-df3a-498f-81c3-d5ed4179b8ad%2F4DNFIFHU75I5.hic":"2497670883,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8f064770-6008-4f74-bfca-268d4a22d745%2F4DNFIMROE6N4.hic":"9850583704,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa93d0588-76b7-4ccf-933c-4325876b0a53%2F4DNFI5SUHCGZ.hic":"10364705187,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2f5f0d6b-0b22-4936-93c9-0944d49c037b%2F4DNFII84FBKM.hic":"8836986129,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F12e90fc5-0b76-4e42-b346-58d267f9ad6e%2F4DNFI2J1ODWB.hic":"13410858286,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff2702a45-3e8b-4980-bcd5-6bb0e291614f%2F4DNFIJWBWE41.hic":"20515676755,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa0859349-5f06-4ad3-b56f-b1166b34a9eb%2F4DNFIIMZB6Y9.hic":"15350325963,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F12685c57-d54a-46fa-9efb-acf34ed77574%2F4DNFICJECID5.hic":"1525002266,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd101a58e-89aa-44fd-96c5-6bf1e2476272%2F4DNFIR6UW2QA.hic":"1264999913,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d8c73bf-1335-4af4-b124-e3622d48c5f6%2F4DNFIGOEKBUZ.hic":"1905947578,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcd2477cf-6ed0-4d7b-b4e9-88fb38b0df48%2F4DNFIMDNAEW4.hic":"996444147,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0f03953e-29da-4f2e-8c05-572d0edf4525%2F4DNFI5OSZ3JC.hic":"369361754,22829","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F29d95dbb-005a-4ae1-8b9c-0fec9ec0bbd0%2F4DNFI7KOUGFM.hic":"1227434049,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa441ab7b-afbe-437d-bf98-b6b916558642%2F4DNFIGKX4A32.hic":"883933242,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F941b2f94-2fff-4d3c-aceb-fee4a5ae41a9%2F4DNFI1ORHOTA.hic":"1140970677,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8720ede9-093f-4c00-912f-373283260a16%2F4DNFIWSVLZED.hic":"458091151,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe9e17155-2b62-4a68-afb2-31dfa674e169%2F4DNFI6H926RO.hic":"3552863515,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F22f22778-987a-4dc0-97bc-f26eae0156d9%2F4DNFIKTYSPOF.hic":"2939475400,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F40f40192-0acb-44cb-8778-8d21afe593fb%2F4DNFIZ4S52BV.hic":"3067438113,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd8767374-7018-4e11-9226-bf5612d39ebb%2F4DNFI3APMXHF.hic":"3258874744,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8c5140ec-a65a-4186-8c59-2927233eecaa%2F4DNFIQLIKDSD.hic":"2746398416,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8cdedda6-d7d8-4231-a85b-d56fcd962366%2F4DNFIKYXMF1E.hic":"14442148774,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa4d4497-7c6c-4dad-8040-be13ba07ea32%2F4DNFI9815EEJ.hic":"17960817603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe9b7b95f-190b-49fe-8047-ef4a8fc59746%2F4DNFIQ2687RT.hic":"15954277087,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F59863d3a-8d7c-49c7-9a41-7f2a58ad24d1%2F4DNFIYDBBSE3.hic":"16499534862,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3e80ca41-b3e0-4f4f-a05e-8f95fe96d938%2F4DNFIMOCN1YS.hic":"863725312,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F96f97a01-0020-4f09-93e8-fc8a9fd07218%2F4DNFI6558CM8.hic":"1597967345,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fce9e9334-ee0b-4549-a845-110470ba5986%2F4DNFIQZRKS7Y.hic":"907626411,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdaac8209-1015-48da-9e31-2e252dfd8fe0%2F4DNFIX4DLXSE.hic":"1369766288,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F268b7d52-9655-474c-9467-8ba31bb2195c%2F4DNFII3JV8I1.hic":"856656441,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9681f9b5-335a-4f56-afa1-15b58bbb41e8%2F4DNFI5IAH9H1.hic":"1495185175,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3e082eab-95aa-4677-88ed-9d7adcc1effb%2F4DNFIK5HY1GP.hic":"2135337789,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31af1ead-4520-4669-957e-424b4b197c33%2F4DNFIFA89L5B.hic":"1975593640,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcc2b78fd-52d4-4e0c-ac93-b84ee82daf7e%2F4DNFICXCFGEI.hic":"2628202920,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff54efece-280f-46ca-95e3-1f8a3cd18820%2F4DNFIK4CECUH.hic":"1901129375,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1181c0c4-afb7-4b6a-9fdc-d868fb2253fc%2F4DNFI1EYIGOC.hic":"1947135384,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1d3e2905-b9b9-4b91-bcb4-8d34746e78f6%2F4DNFI7TLEWUI.hic":"1185758726,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faba3d42f-39cd-4a85-9d3f-835aefb5c803%2F4DNFIVCJKHMN.hic":"687240974,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F27f54fcb-54fe-41a4-b25a-2f8944c89044%2F4DNFIN8F14CS.hic":"1304082029,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb75fedb5-88f4-4bc0-8e38-298df7847a7f%2F4DNFI5LCW273.hic":"12497258313,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2f22b2a0-3712-496e-92d2-63775ec0e421%2F4DNFIVSCH2CH.hic":"12594733778,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F07e47261-5863-44f5-9198-76e263081bea%2F4DNFIZ268JGC.hic":"1499059135,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F682b1ae1-3ac3-40e4-a330-c49f63946952%2F4DNFIJ1P4HBI.hic":"1190211725,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F197e7c89-ea73-41de-8cb2-8c0b1e3bb945%2F4DNFITEGKBIW.hic":"2061501971,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F191f6928-c9a8-44b2-8516-ee4d6005f24b%2F4DNFIE1P6RVH.hic":"1711447310,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F94435086-3701-4b28-a6d0-4a59b24d7615%2F4DNFICJ6I4DO.hic":"1557899940,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa9ac173-d233-41c7-8985-ca91949664e4%2F4DNFIKUG8MEW.hic":"1339072088,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fba6d8ab6-ee18-4ba2-8da9-d631888dd50a%2F4DNFICFZGFAV.hic":"1261083478,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87a3ab04-7094-4673-81e4-ac8c9add8eb5%2F4DNFIQXCZVVA.hic":"1084913802,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbc1ff488-82af-4579-9424-959184edb139%2F4DNFIB6PJFJ3.hic":"1114571343,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1f7026ee-987a-41e7-8a61-45510ee3f86b%2F4DNFIX97731O.hic":"1246860402,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6186787c-2e72-4925-9729-02121e2e4597%2F4DNFIYQYZOTO.hic":"1212210849,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3b98a946-0109-4efa-a13e-cc7a36772125%2F4DNFIPXU7V25.hic":"1696288217,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fea17d041-c6ed-43a1-8047-535f3d19ad44%2F4DNFIL39PR76.hic":"1719284710,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F72774afe-f166-42ac-9849-4070b0dadf6d%2F4DNFIYLJ3R3B.hic":"1106419640,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4a45e733-55f8-4a8e-be24-2ef34c976e25%2F4DNFIL51WBN6.hic":"1327651164,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F086c62b0-a26f-41ae-a5ff-88b8be2bd2aa%2F4DNFI6SFPUDA.hic":"1336964405,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4d9b79c7-af62-4070-84a9-b953903f2732%2F4DNFI2KM22QR.hic":"953067310,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3c9889d1-f49e-4639-8e15-2d99d6cd22e7%2F4DNFIVF8Q45U.hic":"984193565,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa080dd7b-b7bb-4eae-a275-572a8b45b2d0%2F4DNFI2RN3WFP.hic":"1046525527,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb81860ca-c227-4b68-a298-1907fd32300a%2F4DNFI4TJTL7A.hic":"1160373401,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F74ab47dc-7b52-421c-845e-6feb33457adf%2F4DNFIYJ4TWB8.hic":"1268416204,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc6582128-a930-4bcc-941e-5c0733bdd4d5%2F4DNFIM6RGKPV.hic":"863347067,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F11a75514-4450-4295-9eda-18e3678a575a%2F4DNFIL2VWWL5.hic":"860731581,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5eb52a8c-bf14-4225-bf34-14a0aa47c369%2F4DNFIX6ZXCA8.hic":"893462267,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F66aaa4c0-1f62-4040-8ecc-4e95da23cd18%2F4DNFIEVR81FS.hic":"879736207,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F821c6e7f-96f7-47de-b7d9-4970562b3c8e%2F4DNFIAUI6BBI.hic":"996313881,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9252c362-31ab-413d-a47a-cc97bdbf243a%2F4DNFIAFEE9G2.hic":"1103265750,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc1a0bf52-2e65-4deb-871f-ede736babd41%2F4DNFIPZBEXCP.hic":"1081257762,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F729f5ce3-d7e0-466d-b781-d18049e63bfa%2F4DNFIWPKRZGU.hic":"973779283,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F80b769ee-a717-4825-9db0-dca86f913173%2F4DNFIMD9QNDX.hic":"1158688208,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F266290c0-2767-4158-85ab-7274368905b9%2F4DNFIATA1HD5.hic":"1073361089,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc46f18a8-eb24-4d35-b112-36db72bde2f5%2F4DNFIH9U4I7I.hic":"1111124316,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fec91a79e-7de7-49f7-9b3d-d28313aeddc8%2F4DNFIZ95S6TR.hic":"1242494051,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9e9390b9-da20-43bb-a8f4-9830f354ddf9%2F4DNFI5ERM9J7.hic":"1271051397,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fee8ea82e-b9e4-41ad-bced-5f4fbdaa4fec%2F4DNFI15FPSQL.hic":"1216714120,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbed7eb86-8990-42f2-b3ee-5992d6361f7c%2F4DNFIJ3DZPGM.hic":"1035089437,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdaa8a324-3bf8-424c-8a86-b8ad325cc20d%2F4DNFINW9P6XF.hic":"1215712740,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70631758-6bf8-47a0-92b6-132574886faa%2F4DNFITS16HW8.hic":"1105283847,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe473304b-7bc8-49b8-bba1-ecb9f06914ee%2F4DNFIS3DIH4V.hic":"1036056660,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F10f9224a-111c-402a-ac25-e221ad0af9ef%2F4DNFIY3KDHP6.hic":"1071761024,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F17519b96-2bdd-4294-98f0-1535f1aef28e%2F4DNFIO8HVKOL.hic":"953793750,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffb18f896-4730-4909-86a3-867fc8e76cd6%2F4DNFIMF6CFOM.hic":"708717889,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcfee4d87-0873-40b0-b79f-35dcc8669c1c%2F4DNFIZZ77KD2.hic":"732668723,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb8b5d909-8a1b-41bb-bcdd-d108a0bde762%2F4DNFIOLO226X.hic":"951271932,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9ce81f6e-b9cf-4ec9-8bd3-517539e4b662%2F4DNFIJMS2ODT.hic":"932509067,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F506aa952-5d41-49ff-b658-916bcf88a395%2F4DNFI49F3LJ4.hic":"1208494817,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe4dc392d-ca36-4bdf-a27d-173cae34f520%2F4DNFI65MQOIJ.hic":"854630155,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F149ef8d7-e0b4-4e4f-b7e5-7226e2603746%2F4DNFIM4KEPRD.hic":"882790622,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa436f0a8-4f9a-4524-90ac-795c5b8491cf%2F4DNFIIXBIZFC.hic":"848244425,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbc8a05dc-7449-4b01-8330-a55db37ca8e6%2F4DNFIWDOOBVE.hic":"1116239020,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faef8b881-28fe-4694-9a95-1d31940e6726%2F4DNFIDT9EB5M.hic":"888289053,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff66f3162-a53d-46f2-8800-3752935d5400%2F4DNFIX2VUNV8.hic":"1226661451,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F36c782e6-2c48-4298-aa43-bd6624da003d%2F4DNFIEQHTV1R.hic":"804665819,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff15d571e-605d-4bcc-a359-0350b57a6815%2F4DNFIFW7GA64.hic":"901568712,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc2aa2e8b-ac7f-4acb-b4b5-ac5f845840fe%2F4DNFIXGXD67I.hic":"970995551,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F71b6fd7d-b249-4d65-a597-b80b95845399%2F4DNFIA7GB1NB.hic":"956785837,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6cbb1418-34db-427f-9273-5174eac81529%2F4DNFIVOJGWNP.hic":"890415052,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc69c2ee7-b6c3-4a62-8d4f-913491c9dab8%2F4DNFIW22BNB5.hic":"1075499540,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa268f28f-c6d9-4324-8989-75d2d317af1b%2F4DNFIIFBC8WN.hic":"1045459440,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6c7361d4-60a6-440b-b5be-072cada98663%2F4DNFI9ZBEBJH.hic":"759395398,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcceaad1a-e01e-4430-8bd6-24ffa6891802%2F4DNFID4SLU53.hic":"921288444,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9eee5854-b33e-4d5a-9ba8-ceffd47e7488%2F4DNFIODI1NUJ.hic":"733159777,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5e1089b0-42e8-441c-99bb-4be99bcec28b%2F4DNFIJL26LFN.hic":"723567970,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F298a429e-ea29-49d3-bfed-fa851e1e7c4c%2F4DNFI5KTF553.hic":"2213661745,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F965d29f0-e4a3-477c-8ae4-faf4a654e69a%2F4DNFIYSPGFGV.hic":"2274989349,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd88acbc1-37b9-4266-9f97-d8fed576d0f3%2F4DNFILOR6D2D.hic":"2595459358,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7b6ddbce-0ed1-4272-b8ae-32793e4ea4e4%2F4DNFI1WMMPJQ.hic":"2262433890,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fedc0c8c4-97d8-4372-9a4f-5e0cdf09d7d0%2F4DNFI47P5978.hic":"2146314403,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0edcc389-43a4-44d7-b946-fe3496f93d56%2F4DNFI7XGW6IH.hic":"2302805723,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0a802926-e235-4c80-b521-83a1774dfb46%2F4DNFIK1EJG8I.hic":"2374943035,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3c36aedb-6a58-4aa2-9b11-bb440ec174f1%2F4DNFIDQ3THN9.hic":"2341188249,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F846123cd-8828-4e51-8b8a-27deaf293858%2F4DNFI3WPNFWT.hic":"775145629,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd06e3ad-0e37-48a3-8367-c7d5912cab03%2F4DNFI9DCUOQ1.hic":"870487824,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc2eaf9bf-9584-4cec-8685-bd74038a6c01%2F4DNFIU8AF5ZY.hic":"1276224366,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F219497b5-3f35-473b-9d4e-e1cf21c69561%2F4DNFIHW8NTQX.hic":"28864787856,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4be13558-114a-4f2d-abca-7598e2ff4757%2F4DNFI4OUMWZ8.hic":"17061013588,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F49aed637-87a1-4d4d-ae68-e5da82aec05b%2F4DNFIEYQ5ZIR.hic":"13555272651,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa2f48779-4eff-44a6-8a9d-96435aca1ddc%2F4DNFIDZT7PR8.hic":"13425047093,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb6ec6b71-27b8-4891-b10a-ab06a5270468%2F4DNFIEJEFCAM.hic":"15394960208,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F68b9a7b5-8413-44fc-8c2d-59a67b1c4166%2F4DNFIJ8JKKWJ.hic":"17012681779,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F294d45a4-8b5e-456f-a9cb-1cbbbad3a7d2%2F4DNFINEQY95T.hic":"13966775978,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd7f3a48-b822-41e2-bd9c-f52b3aff7b6a%2F4DNFII6AN691.hic":"12367300362,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7da44594-0dc8-4e74-8e10-a957aeaea51a%2F4DNFIDBIEXI7.hic":"2015474981,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F085a0453-3784-4eba-80b2-3556e53e2f52%2F4DNFIDKJFK2S.hic":"1983111659,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc370c78c-0a99-4c3f-a29b-2dfafc6a3e86%2F4DNFIPAF4PYT.hic":"3041434294,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F907ce45f-baa5-416d-92de-e86db4bacff1%2F4DNFIWIYYNQ5.hic":"7082321112,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff13afc6b-cf69-4c9d-881f-eed4dd3c28ee%2F4DNFIHMCILEN.hic":"1739157603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7575d891-0e3d-4a77-896a-3e1b3a8d330b%2F4DNFIJBJ6QVH.hic":"5213499748,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff0daa830-60d5-4c7c-a2e1-a4ee70b3fee7%2F4DNFIH2A7IKF.hic":"4099503507,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff4970a25-91d8-49a7-9a4a-fe0f12cb2b0f%2F4DNFIOL8KGQ2.hic":"2256042055,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F879f1850-d175-4a86-8a97-12658482e3d1%2F4DNFIWILLD6C.hic":"5476286356,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F787f538e-d619-4c8f-985b-78753fb7e57c%2F4DNFIZBXXJAF.hic":"5946467856,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb8ee785f-1016-4989-9e64-78352621d32f%2F4DNFI8PZOJHN.hic":"8307204961,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d8997fa-528c-4531-b25b-a412de6bd472%2F4DNFIGXAMSJY.hic":"6577588285,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87aede55-7610-4283-af0e-c6840429a31e%2F4DNFIWNNO89O.hic":"2871061417,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F93b8e020-b337-4685-81dc-40cc8a12b5e9%2F4DNFIXU2KPNQ.hic":"3401717686,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffb5cf1bd-59d6-46fe-857d-b86d9756029d%2F4DNFIHBGD6N6.hic":"840028421,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2d1bc088-d838-49b8-85fc-fea78a7353c4%2F4DNFI7J8NI4A.hic":"675705256,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21a27b63-fd67-401b-9aa2-2798e6588d21%2F4DNFISFM9VFK.hic":"800145922,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F656c0a9d-7058-4c4b-a3ce-701d929561c1%2F4DNFIJU5XBK7.hic":"966593603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2efacfbd-9c81-4e62-8df7-847d1ab774d5%2F4DNFIPKY8ED1.hic":"3401629450,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa50b6a26-56b5-43f2-b525-fa219fd716f1%2F4DNFIQRTP7NM.hic":"5358852759,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff5dc7a59-b998-4490-8a76-afbf3b258a49%2F4DNFIBCIA62Q.hic":"5779049277,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F62b2b237-cb02-45f7-89d9-616cf9ffb678%2F4DNFIV56OFE3.hic":"5818844506,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8ac79b4f-cfbf-4b2a-9fc2-898ed6c3e5e1%2F4DNFILIM6FDL.hic":"19637469163,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1cff8afa-5a13-4ad4-bcad-91fc3ced759c%2F4DNFIP71EWXC.hic":"17934647326,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F000789fe-9a22-4280-a71c-7ad228fd4cac%2F4DNFIM7ZVQOQ.hic":"700134697,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8d78457f-0c2b-4358-b08c-4d4ef4d9f59d%2F4DNFIS6EYHCX.hic":"628314484,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8ca3b4a0-2478-49c9-b4a2-a28430417a32%2F4DNFIKKCMS1Q.hic":"584050634,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff5041473-18ec-439d-92b1-8ad98c9b25c0%2F4DNFIBIV8OUN.hic":"522632731,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcf474ec6-abd4-431e-a21c-252fcf5ee6b3%2F4DNFIAUMRM2S.hic":"313395531,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2bb1c73e-fb0f-41c4-8620-a938cc8d24a0%2F4DNFI9ZUXG61.hic":"332217525,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F26dfa41e-7e4f-457a-a3ac-72daf8059f3c%2F4DNFIDBFENL7.hic":"359604894,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8ed2e68b-189e-4988-bb6d-94e63240a231%2F4DNFI7XAZNNQ.hic":"5312422266,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6f2b1ce0-5205-4680-981e-d91b694dc3e4%2F4DNFISNGDB53.hic":"2008546759,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F73c8147f-bc7d-4d33-8a10-a9e7b413ecc6%2F4DNFI1CIGHYC.hic":"2221847625,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F526ae3e3-32cc-4670-970f-1faa9cfafd4d%2F4DNFIQD2DP2F.hic":"5295591503,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6e803530-47f8-4c56-bb19-fbdcd578d2f0%2F4DNFINHT8P7C.hic":"3159499486,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffe705f38-903f-47b7-9b38-f80ebd18a479%2F4DNFIGF8EM7M.hic":"3490552542,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa197328-d6da-4299-a0fd-409ac9892668%2F4DNFIUPG2ZBJ.hic":"5382003751,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffe5d52c4-2be7-4812-bca0-cd4bb3025e6b%2F4DNFIH3OTR14.hic":"3224693110,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21935f61-daa8-4df2-aa69-fcd27953b405%2F4DNFIUATRW3Z.hic":"3835865655,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F72147527-e3e8-4967-bc45-8251249d76c9%2F4DNFI6V7ZQAE.hic":"4382708138,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F589f0919-f54d-49ff-a482-e2f453ef7f34%2F4DNFICKMT1CY.hic":"4479068191,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F861946ca-bad8-4a87-96e1-b2eb20b9ef10%2F4DNFIF9BDCNI.hic":"3698151402,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff76346ac-97ec-4893-8984-2b75ce1cdc51%2F4DNFIG5O1OQS.hic":"5704288175,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe8b43826-f049-4c3f-b83a-e75fa7aacc85%2F4DNFIHS2SVBQ.hic":"990025510,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F46316260-f555-4dd4-9e40-8ae06ca52822%2F4DNFIU95B69H.hic":"1275878544,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff62ef491-a3ae-4f66-ab33-c5673c9e0b65%2F4DNFIYRROFCR.hic":"1522530503,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1cd617e1-fad4-4fdc-8b4e-cb277650123c%2F4DNFIF7JN3IU.hic":"1463443128,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdb20fe2a-0078-4d4a-8a52-d76043d06f40%2F4DNFIB2RYULQ.hic":"1269529700,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d386fcf-1d22-47de-a0d6-0c3a641ca174%2F4DNFIMVDK3SI.hic":"1185489599,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F00e470bd-c533-41b1-923a-4b471824da12%2F4DNFIRLOTXSC.hic":"978217499,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb8774fb3-d0c5-43cc-a6c9-eb0ca39841fb%2F4DNFIZAPX6J8.hic":"1100356082,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fab3b826e-614c-448b-860f-a3ebef68a82f%2F4DNFIQD5VCSD.hic":"1322319877,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F66c78d2b-993a-4937-95ed-9e2d302ceb3e%2F4DNFIIF6VAGN.hic":"868885799,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5d106fe1-2d80-466e-87aa-46b38ba142c5%2F4DNFI86IEZXH.hic":"751443267,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc99490b6-faf9-413f-9c38-3f53018089d6%2F4DNFIP881SR2.hic":"754427927,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F39c7e387-e710-4b1d-b757-357dec03f6ad%2F4DNFI42NNCW8.hic":"1166392978,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4742a211-43b1-4325-af6f-82490aeb766b%2F4DNFIEV4PKP6.hic":"1102227476,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Feaa73842-1c86-4ad9-8a9e-c189c0b4c01d%2F4DNFIF1DUQHE.hic":"1206699207,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd25f24df-0298-4079-bb6f-1c8e1e32392b%2F4DNFIGW55EAY.hic":"1033358104,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc57a7ab5-2778-4fe2-9d64-9a4e95135f12%2F4DNFISZRU6I4.hic":"1539570262,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd89f494a-27ca-46b6-89be-7583f3f6d18c%2F4DNFIBKKDTAP.hic":"350372180,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F06725280-cb24-4f22-a267-18b434bfa79e%2F4DNFIJSRQW24.hic":"314361467,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8fe5c3c5-006f-425b-ac6d-ea475e29be78%2F4DNFI3REN89E.hic":"299665258,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc8b6ac5c-13b4-427e-9158-cec0b890b6d8%2F4DNFIF5XLHKM.hic":"235668364,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F01ff33fc-fc23-48aa-a6c6-b720d6fe0768%2F4DNFIB6Q538N.hic":"316494853,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F552978c8-abbc-424a-9187-3e34cf802a97%2F4DNFI3ST3F7Y.hic":"296298411,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F72e66520-5170-4f2e-844a-fbfd0e23b480%2F4DNFIQT4M6UI.hic":"307691265,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb3eb3953-ffe8-4d5a-970c-a16f3b7b9ec3%2F4DNFIFNCC7M2.hic":"364160436,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F37d413fb-afab-41ff-99aa-1678830f7dde%2F4DNFITM9MDJL.hic":"252412426,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faf5db92c-aaf1-4086-a0d2-79b28648f172%2F4DNFI3NTD7B3.hic":"227586640,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff6892f7b-1f8a-4d7d-9605-c67932cd5654%2F4DNFIBED48O1.hic":"328344868,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd64afb07-5ab1-4c4f-8438-2fee37afa86a%2F4DNFISATK9PF.hic":"379669025,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fad11bb63-8692-461c-b698-89c601451321%2F4DNFISRP84FE.hic":"298491537,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F63710ec5-35d2-47dd-bf9a-08d3daa83d67%2F4DNFI2LY7B73.hic":"303150299,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76077d9e-ca75-4301-ab79-88aa49bda495%2F4DNFIXEB4UZO.hic":"711757090,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F34dd4c0e-3487-4fb4-b95f-c4bb66e0fa31%2F4DNFIQWWATGK.hic":"221304476,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F48a8cf86-3248-4a8e-8e85-472ec219d49c%2F4DNFI44JLUSL.hic":"284772724,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fee399fbf-2a9e-46e2-8364-457713bff508%2F4DNFIM7Q2FQQ.hic":"330729464,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F124d191a-c5c7-49b6-b84b-0d1bad8bef2b%2F4DNFIZK7W8GZ.hic":"293166018,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe351f7cc-7a2c-4515-ae0b-3bb2f91c986a%2F4DNFIMIMLMD3.hic":"240094740,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffd1ae249-57b1-41d6-81a6-16b21dcd8f12%2F4DNFI7QUSU5J.hic":"681762505,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F46c92c5c-9ad8-4d49-beba-f35c5cd99208%2F4DNFINXUOI5H.hic":"375594313,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd7350d40-4e9e-4131-9151-bb539d39b431%2F4DNFIIJR2296.hic":"331322302,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbfacf37b-1665-45f3-a046-e29e1544e9b0%2F4DNFIJMZUTXR.hic":"361313244,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F234e18fb-9990-43bf-9a48-f72722cfa232%2F4DNFIZQPT9EL.hic":"540421873,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4b35ab09-2e79-4876-b2bc-d3a8faa26257%2F4DNFIZIXSZ9J.hic":"545066813,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2ae5118e-807a-46e0-8e92-143d4b282b3d%2F4DNFIDD9IF9T.hic":"237409149,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb34d7f6f-73f7-4b6b-80c7-c8af0f991549%2F4DNFIVC8OQPG.hic":"355121712,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9ab169fd-cbdd-4f60-8553-a4c6912ad89e%2F4DNFITUPI4HA.hic":"313085022,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4e53712b-d0d9-40c5-afe1-ffa0fad71e59%2F4DNFI5IZNXIO.hic":"341863906,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7a91477f-45eb-4a16-affb-fc131f9326b8%2F4DNFII16KXA7.hic":"248904495,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F153729de-0eca-43cc-9b61-61aa8d775b38%2F4DNFIAAH19VM.hic":"668047244,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F879fd78a-7165-43d9-a0de-ca158b53df30%2F4DNFIVKIY3KV.hic":"247571318,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F67f901a4-040b-4b04-9fff-94a1780423cd%2F4DNFIVVCWL6C.hic":"198355985,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd5b30c5a-654a-463c-9474-39bdc3ce4500%2F4DNFIJRF2273.hic":"343971277,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7070280a-8f03-40d0-9fef-e9d9f4d3dae7%2F4DNFI6FCC9ZA.hic":"312013061,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F47049719-9407-4d76-9048-26231045f642%2F4DNFI1CPQ4O3.hic":"352923267,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F862c2b5f-44c2-4bd7-9264-b3ca032d3d8d%2F4DNFISXFEDE9.hic":"271745977,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Feffbe052-39ff-4217-9871-44199ed90818%2F4DNFIF9L6QEQ.hic":"668409334,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa7791854-1b35-4258-90fb-603c55f24642%2F4DNFIPKASX1Q.hic":"312727920,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F79cccad6-a78e-4de9-9fe7-08f7e8df663d%2F4DNFIWXZ4JQZ.hic":"151808553,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7e86e0cc-d6f1-4ce0-aba4-c36c6ebb3c4c%2F4DNFIEMQ1O8V.hic":"700533280,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4a1b58d3-9ae6-43e4-91cf-49f1fcbbab33%2F4DNFIYWONU7A.hic":"729050356,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F67bff264-0b0c-4c5c-9d4d-ff5abef2bbe4%2F4DNFISNIE5FH.hic":"7987657997,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3a6a943f-2cc0-4433-a27d-c89f3fdd3309%2F4DNFIV8MLWJB.hic":"6646216171,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9e235711-ba90-404d-b4ac-b15990ea8e33%2F4DNFIXSTDPHL.hic":"3146468238,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0c89f4bc-e9fc-4ecf-b868-26108dbb7bb2%2F4DNFIQJNOH8U.hic":"2919703928,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1856ff9e-de7a-4fa1-ae0b-3e04b837b5e1%2F4DNFI57XB4A8.hic":"13417594377,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F099bb5b9-6315-4650-8f78-d603f5a046b3%2F4DNFIQ7UKVZV.hic":"9016468637,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faf3c7a30-0fc4-410d-8d41-247da3eb105d%2F4DNFIWJY8GHD.hic":"7921314766,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fda99f429-20ab-4d91-bbfe-f8bdea8ed7b1%2F4DNFIN8NKRNF.hic":"4247121358,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0ca0f4e3-30ca-4332-b735-e32dce08e1a4%2F4DNFIZYGEHNZ.hic":"4910404663,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F243f48b0-6b59-4f37-ad39-a12e0986f530%2F4DNFIRPYGAV8.hic":"4220073636,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F49f1a890-d458-42a6-9c78-99c38b6c7a8f%2F4DNFI6MZTDM1.hic":"375035361,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76bd4768-9343-44ba-a99d-5500e184e39d%2F4DNFIG3BCGPL.hic":"2422923206,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9d1ed866-eaf6-4906-aa8c-9e39616dde38%2F4DNFIS9YPJ3L.hic":"1593271574,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1e7a5636-bdb6-45fb-85d8-87a7e908de43%2F4DNFIOWGA9AX.hic":"1632314387,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5ecc552a-0a6b-49a9-9aa5-9f3fd9b535fd%2F4DNFINKEDSBF.hic":"1458761024,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6c03f1d2-bb25-4c94-b5f5-d5cdd01c14b6%2F4DNFIVIXVUK7.hic":"1504818271,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1a4616ff-6d04-4a6a-9773-b80e81da2471%2F4DNFIANHFY16.hic":"1850724180,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd2231870-a78d-4c8b-9cfd-084f2468acb1%2F4DNFIJ67ZFBI.hic":"1473864703,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F859c2dd3-df8a-42b7-86ea-bf6524f75e80%2F4DNFIG3YQQ4V.hic":"1539822829,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8bad667e-6003-4828-9a20-07585fa9c811%2F4DNFIOLKEOME.hic":"3036353747,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F92ea551b-5779-4d31-a0f5-621e4bd0eb21%2F4DNFIVLN8WJE.hic":"2710426318,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F61ee79fa-0617-4083-b121-f92ef3a8905c%2F4DNFI2111XQA.hic":"2589549183,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F83ebb98d-e5db-403d-aa23-875293156c0e%2F4DNFI88HXX7D.hic":"2462367030,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6d63671a-8f1d-4159-82c0-931b43464772%2F4DNFIUBM6QK8.hic":"2486020469,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcccb9014-ce15-4032-81ac-222b3d621cb4%2F4DNFIVILEERC.hic":"2052537210,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21a07867-4007-4ca5-b066-25d3168208dc%2F4DNFIF7Q43N4.hic":"2091773428,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff738de0f-358b-44bf-97dd-644c8d9b1b1c%2F4DNFID56VJGW.hic":"878913568,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fda97c1d4-bb92-4a77-92a7-f7960f88b9dc%2F4DNFIYUR29KO.hic":"983915575,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F54ea363a-99e7-4f55-861e-1644acab7939%2F4DNFIUDPGHO8.hic":"905253594,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdcd66a07-55ee-48d9-a157-419cf4ee3eef%2F4DNFISWC2N8T.hic":"1233576358,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F40363837-7466-4a1d-b20d-a66d1670b700%2F4DNFICMPHDMI.hic":"516590777,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0b3fa4e6-caeb-40b4-8942-e9c0b03dfe4f%2F4DNFIKMKN736.hic":"634310295,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb6a34050-d52b-4880-91cf-d3fe4b0ce982%2F4DNFIN5NLS49.hic":"650451131,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8e63a47b-9fd4-4772-8b0c-10ee589ffb16%2F4DNFI4P8UBRL.hic":"705655033,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7d92b666-30cc-4838-9d46-c1f11cee3d3c%2F4DNFISNC3LAI.hic":"176146197,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F17f7dc63-a1bc-4970-b389-87d9ee93b753%2F4DNFIVBWPFD7.hic":"749678512,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff8897333-4791-4a83-9444-a653e24aee13%2F4DNFITMQRXB7.hic":"254477361,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8712bf31-33d0-4562-ab0b-a1e9cf4fd30c%2F4DNFIUYD3HBY.hic":"995625724,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbfaf6383-9cc6-4b5c-9b20-d3bf2e8c3495%2F4DNFIRRSC7P9.hic":"1149985362,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb0b70598-5d17-4e0a-8831-6cbe697e69e2%2F4DNFIWKR8FP6.hic":"1151628407,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fccc094a8-23ce-4fd8-9c4a-41f07c045c8f%2F4DNFIQ74RSUY.hic":"931695969,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8eda16f3-af5e-4f1f-b46d-c74df44b76aa%2F4DNFI9IIO5PW.hic":"1077740364,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff283637b-cf2c-4412-ba00-0e3d7e279fad%2F4DNFI8WGJG19.hic":"812086456,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7ad8438f-d3d9-42d8-88bf-42845a0dc2d0%2F4DNFIQ5CCESJ.hic":"652559720,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70e3bdcc-caf4-4822-b9c5-85234873db7a%2F4DNFIWTZHB4H.hic":"760694196,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F56ed767d-cd8a-4d38-8047-ed1e8bc8cd19%2F4DNFIENYQCDP.hic":"1159428005,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa912fff9-5f90-42b1-a3a6-cbb9eb2cf861%2F4DNFIFATZWPD.hic":"1033325746,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21338ea5-fdee-4ad8-b61c-608fc6cec4bc%2F4DNFI7YRXKEO.hic":"388142539,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff0f88647-5631-437b-b48a-4603915e3714%2F4DNFIUY3J7EW.hic":"407344788,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F16926af8-ac3b-4f32-97d5-6c0dc6f1596a%2F4DNFIRKUYKP4.hic":"893352368,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F93e39aec-6cde-4c5b-bcdf-283faa3163a2%2F4DNFIAQDBJZP.hic":"489922022,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0dc0b1ba-5509-4464-9814-dfe103ff09a0%2F4DNFIC1CLPK7.hic":"565748333,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb50964c7-b025-49d9-b1ed-289bedb59678%2F4DNFI3A3VYWU.hic":"4597459343,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff4390cea-b330-4022-88c1-9ff8c0a786f7%2F4DNFI6JJQKFJ.hic":"3678393678,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70c0f730-5da1-4863-9b7a-6cdd31066cff%2F4DNFIK61ILGM.hic":"3324300994,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F14b14ac4-ab59-4754-9c43-eacd9d0638e2%2F4DNFIYD8LO9Z.hic":"3227227120,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7386f953-8da9-47b0-acb2-931cba810544%2F4DNFIOTPSS3L.hic":"253942497,7557","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff6b5d8bd-27dc-4415-a320-53405a16db85%2F4DNFI525PKU5.hic":"305089653,7557","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1f922dbc-637b-4c43-b816-f604f0e79ad1%2F4DNFI8Y9SRP2.hic":"1438589609,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6a36d686-716c-4ba8-a9c3-fa8311791d3c%2F4DNFIP25GZGA.hic":"1419100109,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0e535542-2cf2-46e4-ba10-7a0b946a7fb2%2F4DNFITPO1WTY.hic":"3885296184,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0c17d228-5052-4c83-880e-af05118e6929%2F4DNFIG4X5Z5F.hic":"2159245890,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc3977c00-525b-4556-9a27-061707f8cb76%2F4DNFIXLYR32S.hic":"587852728,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3f856506-cbc5-4211-a29d-48a7530c622e%2F4DNFIWI3V5LI.hic":"2318237793,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F38f77979-5eb7-4b6f-9a60-c2451185db98%2F4DNFI2DGL7LH.hic":"2068150664,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe0992a75-7727-405e-95ac-aa97141b51c1%2F4DNFI1VSO8JP.hic":"1807949651,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe925f1aa-2e7b-44e7-bfa8-2084a613ab13%2F4DNFIV5O2ZYO.hic":"2242134377,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F803a6d3c-3972-4939-8ff2-d195c5192090%2F4DNFIEWEWQ8D.hic":"2981341325,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F25104375-a588-46e6-a382-663cee6c332f%2F4DNFICSTCJQZ.hic":"14592996888,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F927aa8a5-24a5-43b7-807a-1e99ac321459%2F4DNFICEGAHRC.hic":"15431307603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8c380474-12cd-41f4-b86f-2a29faf12eec%2F4DNFIY3XPKPO.hic":"2550999291,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F77da562e-d0ec-45a8-8764-14fa16d995a1%2F4DNFIK9PS9GM.hic":"3401011629,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F11b26222-d480-40a7-8d53-3ad8500396cb%2F4DNFIF4Y74JR.hic":"2127593378,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F93df02c6-1047-43f6-afae-d3598b61eeea%2F4DNFIBBKG9KD.hic":"5724446278,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6cd4378a-8f51-4e65-99eb-15f5c80abf8d%2F4DNFIT4I5C6Z.hic":"5419655766,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F067881e5-563d-40de-a9e3-caccad887fbc%2F4DNFI2U38HCE.hic":"14749043471,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcb3da9ad-7afe-4d0c-9c2d-261181e7a95c%2F4DNFIETP228R.hic":"9401474797,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F185b7bcc-7bb7-41b7-9ebe-92d4fe159431%2F4DNFIXKC48TK.hic":"11624295594,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F18459b84-dd43-4af6-a05f-bcb773096322%2F4DNFIFPGOWJ6.hic":"2843730862,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffde1e48c-4a0d-4bb1-b84a-e0e45f9a0aa3%2F4DNFIIRMBE8Y.hic":"5820677927,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbabed539-1f0f-4e87-8815-fde596e6024c%2F4DNFIVUGNDD7.hic":"5170782436,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7d00531a-e616-469b-af52-5b028270e2ce%2F4DNFIFLJLIS5.hic":"18917549985,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7a9dad53-b8af-4cb6-9ce3-5c38e4a855c7%2F4DNFIOX3BGNE.hic":"5482775936,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F82fd7b7e-5f47-48d5-bf0d-daaa48a4674d%2F4DNFISPUVQHA.hic":"2177864938,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4c6680f3-9cf6-452f-9dc5-ecebf376775d%2F4DNFI8649RQJ.hic":"3288850368,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2395f001-19d9-4000-9f00-dae3dea708d6%2F4DNFIE8T8JZ8.hic":"1383191843,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F24464fa8-bf96-483c-8e9a-c2f626ad6e19%2F4DNFIBM714BP.hic":"1765204569,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F918fc048-fa27-41d2-a63a-d50c511fbb9a%2F4DNFI6CWNUFL.hic":"2431120602,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7ff5a0d1-8e54-4cf0-9fe7-339f147c78da%2F4DNFIZ4F74QR.hic":"3211825957,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F355f0412-cb17-452a-b15c-aba16c5a742c%2F4DNFIOUVOX3R.hic":"5547401083,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3cac91c5-160a-4b91-a91e-edc309318dd5%2F4DNFIVTDXW6X.hic":"4797344498,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe9ac9ec5-6221-4f39-951a-1c5054fc9f1c%2F4DNFICA8Y9TN.hic":"4277557869,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F46f62222-b50a-428b-938b-5444951600eb%2F4DNFIDWM3HN5.hic":"4374808431,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F50e4f2a1-9cb6-4192-8199-64d354bfdf96%2F4DNFIBK5TB3N.hic":"3757387253,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe4cdd5a8-1a45-4c6a-906b-a9603260d4c8%2F4DNFI3JYF9VS.hic":"5260534916,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc8164e99-5778-427d-be26-f0e1b62400f0%2F4DNFIP1GNKUO.hic":"7589365689,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0d72e78a-fc87-4716-8b8e-6dc5650ff2ef%2F4DNFIQYQWPF5.hic":"22022259901,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fac58fc15-48c2-4eec-a689-23b677b4b6e7%2F4DNFIW6H9U3S.hic":"6810897169,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31811e40-e3ca-4456-8ba6-2ee66d6c7104%2F4DNFI7J8BQ4P.hic":"7188744676,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F62d81a52-d2cb-4bbd-8510-0fe120e786e0%2F4DNFIA3AKFSU.hic":"1763730692,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fae0b7513-d1a0-4f27-a9d3-348837f42cb6%2F4DNFID68JQY9.hic":"2422880133,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fae6a1a7e-1d2d-4fd2-a89f-1799abac8a9c%2F4DNFIL1FQDXE.hic":"1543814834,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F80d343c9-bd60-468a-803d-c3e351a958bc%2F4DNFITSIPCSK.hic":"2344682115,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff2d61195-a3a6-4d50-b928-546ca67546cb%2F4DNFIJ88LYHR.hic":"3362742962,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31052aba-773a-4500-961b-e0a518245b0c%2F4DNFIJIPWD63.hic":"2529548812,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc93d0710-3fbf-40cc-b0eb-878e2aa659e4%2F4DNFIZUP2BBI.hic":"491996147,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8660baeb-5be1-4ba5-93e4-66499e9a4587%2F4DNFIEBC4AF3.hic":"2993048734,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff6d08fbc-b836-4776-82ad-8b1b277ae837%2F4DNFI5VO3E1W.hic":"1949322679,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3af004a2-a6fa-46dc-8be8-898b847a77be%2F4DNFIFDGVWLU.hic":"2456400803,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd613b4b-2422-492c-8d8f-8afba9c8a182%2F4DNFITVGFNYZ.hic":"1411204423,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc340694f-14f3-4638-b09b-98220c20039a%2F4DNFIOW9TTC1.hic":"2611370588,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3effa71b-6aa3-4265-87ba-f8d709d778d7%2F4DNFIOAA3ZEQ.hic":"3123195980,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fde75cf8b-9ce1-44fc-8b7b-ca0adea6bae9%2F4DNFIA5ID1S6.hic":"3496246968,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F714f775d-a5a4-4314-83f8-016b9d73200b%2F4DNFIZYU7V81.hic":"4245592042,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5ca518af-6e1e-4777-b67b-0fe7f039ce58%2F4DNFIRV6PVUX.hic":"3981520466,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc29b57d5-c263-4372-b396-ab4f55682f5d%2F4DNFIMEANFBY.hic":"3999623376,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4196d3ef-161a-4c18-a57e-005165c6b32a%2F4DNFIGLGQXLC.hic":"4105683321,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe10828b5-9519-4ceb-81e7-7228bfd890de%2F4DNFILS2HLXC.hic":"3804942111,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Feaac88c7-9bdc-4b1e-aa9f-e675520dfffa%2F4DNFIQS8853L.hic":"5287726781,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faab371b1-bc8d-4e83-998e-5bb977c443ca%2F4DNFIVBYCYGS.hic":"4657988157,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdb116add-af8c-4a3b-b106-9f704ba0a175%2F4DNFIE4WWHMF.hic":"5116727268,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F033366e2-05a2-4381-9d48-90122892a9e0%2F4DNFIKDUUC3C.hic":"45638237,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7284a446-442d-4a46-aae5-84987e75a7af%2F4DNFIJ5HIRA2.hic":"62201052,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F876649a3-6dd3-463a-8b17-5752a98a89c5%2F4DNFIXDFC7EM.hic":"69878143,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3cb4ce4d-d474-459f-8b8a-2159d8df8068%2F4DNFIO35EOVR.hic":"70153114,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5c5612fa-18c2-47fb-8074-693b1054e254%2F4DNFI57QGL6U.hic":"54605055,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70c1472d-cf3a-41d7-8682-cd03b7cc978d%2F4DNFI2AGEBE5.hic":"67930121,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2bf4cce8-6e03-422b-a190-e51d4a07d501%2F4DNFI1E6NJQJ.hic":"4893181511,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0eb3aa56-8a23-435d-a07b-8bb545e8d708%2F4DNFI2DNFM1A.hic":"60466977,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1201682a-a223-482d-913d-3c3972b8eb65%2F4DNFIIRIHBR2.hic":"48961678,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6aee7913-6356-43cf-affa-f2b60dd478f6%2F4DNFIKXNMT46.hic":"39095246,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F357139a3-c9a5-4343-b0a4-b41c45fd03fd%2F4DNFIRV7IRJP.hic":"70916718,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76be3061-6259-42be-a917-19dcba41517b%2F4DNFIFX1XYKZ.hic":"229197441,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff60c348a-a62c-43c3-ac85-f6c28b5f823f%2F4DNFI64CJUZ5.hic":"112428610,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd0b0a14-9703-49af-bb36-2359f96d4d0e%2F4DNFIBPL2HL1.hic":"73972428,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F79ac278d-83f7-4c1f-91b2-05c8018c1426%2F4DNFIBRSIPE4.hic":"415430378,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0c3b8141-8e67-4211-80dd-3bae88f9e537%2F4DNFIDLDVY14.hic":"112747303,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2ae703d2-d85c-4ac4-9ce1-14d653927675%2F4DNFI4R1II4P.hic":"210565448,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76e641af-90be-49f8-b126-12c20f856159%2F4DNFINMLRY95.hic":"1590865292,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3b416382-ae5d-469f-9e9a-85a3e2ce9793%2F4DNFI8KBXYNL.hic":"4626496956,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa27589a6-86b2-43a2-8218-1f2232d551e6%2F4DNFI53R5IKA.hic":"1536016455,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdd3999f5-b36e-4154-a6b9-446656959a3a%2F4DNFIAWVDQ8C.hic":"2210273411,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc377953b-0e61-426b-a905-abab2d5a3002%2F4DNFI9VXTBE2.hic":"3384365692,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2dbe0377-1db2-4aae-af2b-d87dff728035%2F4DNFIT96Z365.hic":"7692311974,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdcfcb009-f006-4ab8-a4c7-af72be58c12c%2F4DNFITUOMFUQ.hic":"6592120312,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F67f9073d-b2c5-474e-b3d5-7d72cde555cd%2F4DNFIHLQKDN8.hic":"2647703964,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76968cc8-fb9f-485b-85b2-c9289067194b%2F4DNFIL9M97T2.hic":"6186798917,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87d9330b-8d2c-4e9d-85bb-02e572de7a68%2F4DNFIDWGZLHX.hic":"4379708168,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffc01b381-3665-4225-88ee-2e5e9ecb7324%2F4DNFIMEG1QIC.hic":"3587146533,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3144a03c-15c3-4bf9-95f8-ffad2640a1bf%2F4DNFIWSB66VX.hic":"1529739069,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd7d3aac0-ba66-494b-ba0c-147631084b98%2F4DNFIH7TH4MF.hic":"6896300679,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4b13bd19-fbd1-4c68-8855-4f0158d1ce47%2F4DNFIHKWIZ9T.hic":"1954878455,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d04e286-30d4-4add-a806-7a929d36419e%2F4DNFIZBBX795.hic":"1350142414,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa26f261-a88a-4cac-9118-ff8e90ab6f61%2F4DNFI9ZWZ5BS.hic":"3410552807,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F24e516ce-0b49-4476-b818-cc96471d8765%2F4DNFIPAI8XB5.hic":"4168518737,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fac3b06b5-46d4-4c1e-97e9-9a4f353473a7%2F4DNFI1OUWFSC.hic":"10766406904,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76c6aa27-895f-4e82-8ed8-7a85aca84490%2F4DNFIX4PJKXZ.hic":"1463157350,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe6fbe03a-997b-4d72-a3cc-f1ed7bd88a92%2F4DNFIZGCA8AH.hic":"1597664180,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F61d99a87-4ec6-4116-be99-b483999641c4%2F4DNFI5CGQ46V.hic":"2870576870,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F271ea8cd-53b9-44c9-9fff-1bb5c444b54c%2F4DNFIOCW5AEM.hic":"2463600138,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa98ca64a-861a-4a8c-92e9-586af457b1fb%2F4DNFI1UEG1HD.hic":"22480709268,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5809b32e-0aea-4cf5-a174-cf162d591a35%2F4DNFI9YAVTI1.hic":"3141182061,25900"};const ck=128;class lk{constructor(e,t){this.config=t,this.figureMode=t.figureMode||t.miniMode,this.resolutionLocked=!1,this.eventBus=new NC,this.showTrackLabelAndGutter=!0,this.id=`browser_${iC.guid()}`,this.trackPairs=[],this.tracks2D=[],this.normVectorFiles=[],this.synchable=!1!==t.synchable,this.synchedBrowsers=new Set,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.rootElement=document.createElement("div"),this.rootElement.className="hic-root unselect",t.width&&(this.rootElement.style.width=`${t.width}`),t.height&&(this.rootElement.style.height=`${t.height+160}`),e.appendChild(this.rootElement),this.layoutController=new QC(this,this.rootElement),this.locusGoto=new Lx(this,ex(this)),this.resolutionSelector=new Bx(this,ex(this)),this.resolutionSelector.setResolutionLock(this.resolutionLocked),this.colorscaleWidget=new $x(this,ex(this)),this.controlMapWidget=new ek(this,ex(this)),this.normalizationSelector=new ik(this,ex(this)),this.inputDialog=new bC(e,this);const i=new rk(this,this.layoutController.getContactMatrixViewport()),n=new ak(this,this.layoutController.getXAxisScrollbarContainer(),this.layoutController.getYAxisScrollbarContainer()),o=new Ox(Hx),r=new qx(Px.threshold);r.setColorComponents(Px.negative,"-"),r.setColorComponents(Px.positive,"+");const a=t.backgroundColor||Vx.defaultBackgroundColor;this.contactMatrixView=new Vx(this,this.layoutController.getContactMatrixViewport(),i,n,o,r,a),this.menuElement=this.createMenu(this.rootElement),this.menuElement.style.display="none",this.chromosomeSelector=new nk(this,this.menuElement.querySelector(".hic-chromosome-selector-widget-container"));this.annotation2DWidget=new ok(this,this.menuElement.querySelector(".hic-annotation-presentation-button-container"),{title:"2D Annotations",alertMessage:"No 2D annotations currently loaded for this map"},(()=>this.tracks2D)),this.userInteractionShield=document.createElement("div"),this.userInteractionShield.className="hic-root-prevent-interaction",this.rootElement.appendChild(this.userInteractionShield),this.userInteractionShield.style.display="none",this.hideCrosshairs()}async init(e){this.state=e.state,this.pending=new Map,this.eventBus.hold(),this.contactMatrixView.disableUpdates=!0;try{this.contactMatrixView.startSpinner(),this.userInteractionShield.style.display="block",await this.loadHicFile(e,!0),e.controlUrl&&await this.loadHicControlFile({url:e.controlUrl,name:e.controlName,nvi:e.controlNvi,isControl:!0},!0),e.cycle&&(e.displayMode="A"),e.displayMode&&(this.contactMatrixView.displayMode=e.displayMode,this.eventBus.post({type:"DisplayMode",data:e.displayMode})),e.locus&&await this.parseGotoInput(e.locus),e.colorScale&&(e.normalization&&(this.state.normalization=e.normalization),this.contactMatrixView.setColorScale(e.colorScale),this.eventBus.post({type:"ColorScale",data:this.contactMatrixView.getColorScale()}));const t=[];if(e.tracks&&t.push(this.loadTracks(e.tracks)),e.normVectorFiles&&e.normVectorFiles.forEach((e=>{t.push(this.loadNormalizationFile(e))})),await Promise.all(t),e.normalization){const t=await this.getNormalizationOptions(),i=new Set(t);this.state.normalization=i.has(e.normalization)?e.normalization:"NONE"}const i=this.contactMatrixView.colorScaleThresholdCache;this.eventBus.release(),this.contactMatrixView.colorScaleThresholdCache=i,e.cycle?this.controlMapWidget.toggleDisplayModeCycle():await this.update()}finally{this.contactMatrixView.stopSpinner(),this.userInteractionShield.style.display="none",this.contactMatrixView.disableUpdates=!1,this.contactMatrixView.update()}}createMenu(e){const t='\n        <div class="hic-menu" style="display: none;">\n            <div class="hic-menu-close-button">\n                <i class="fa fa-times"></i>\n            </div>\n            <div class="hic-chromosome-selector-widget-container">\n                <div>Chromosomes</div>\n                <div>\n                    <select name="x-axis-selector"></select>\n                    <select name="y-axis-selector"></select>\n                    <div></div>\n                </div>\n            </div>\n            <div class="hic-annotation-presentation-button-container">\n                <button type="button">2D Annotations</button>\n            </div>\n        </div>',i=document.createElement("template");i.innerHTML=t.trim();const n=i.content.firstChild;e.appendChild(n);return n.querySelector(".fa-times").addEventListener("click",(()=>this.toggleMenu())),n}toggleTrackLabelAndGutterState(){this.showTrackLabelAndGutter=!this.showTrackLabelAndGutter}toggleMenu(){"flex"===this.menuElement.style.display?this.hideMenu():this.showMenu()}showMenu(){this.menuElement.style.display="flex"}hideMenu(){this.menuElement.style.display="none"}startSpinner(){this.contactMatrixView.startSpinner()}stopSpinner(){this.contactMatrixView.stopSpinner()}async setDisplayMode(e){await this.contactMatrixView.setDisplayMode(e),this.eventBus.post($C("DisplayMode",e))}getDisplayMode(){return this.contactMatrixView?this.contactMatrixView.displayMode:void 0}async getNormalizationOptions(){if(!this.dataset)return[];const e=await this.dataset.getNormalizationOptions();if(this.controlDataset){let t=await this.controlDataset.getNormalizationOptions();return t=new Set(t),e.filter((e=>t.has(e)))}return e}getResolutions(){if(!this.dataset)return[];const e=this.dataset.bpResolutions.map((function(e,t){return{index:t,binSize:e}}));if(this.controlDataset){let t=new Set(this.controlDataset.bpResolutions);return e.filter((e=>t.has(e.binSize)))}return e}isWholeGenome(){return this.dataset&&this.state&&this.dataset.isWholeGenome(this.state.chr1)}getColorScale(){if(this.contactMatrixView)switch(this.getDisplayMode()){case"AOB":case"BOA":return this.contactMatrixView.ratioColorScale;case"AMB":return this.contactMatrixView.diffColorScale;default:return this.contactMatrixView.colorScale}}setColorScaleThreshold(e){this.contactMatrixView.setColorScaleThreshold(e)}updateCrosshairs({x:e,y:t,xNormalized:i,yNormalized:n}){const o=t<0?{left:"0px"}:{top:`${t}px`,left:"0px"};this.contactMatrixView.xGuideElement.style.left=o.left,void 0!==o.top&&(this.contactMatrixView.xGuideElement.style.top=o.top),this.layoutController.xTrackGuideElement.style.left=o.left,void 0!==o.top&&(this.layoutController.xTrackGuideElement.style.top=o.top);const r=e<0?{top:"0px"}:{top:"0px",left:`${e}px`};if(this.contactMatrixView.yGuideElement.style.top=r.top,void 0!==r.left&&(this.contactMatrixView.yGuideElement.style.left=r.left),this.layoutController.yTrackGuideElement.style.top=r.top,void 0!==r.left&&(this.layoutController.yTrackGuideElement.style.left=r.left),this.customCrosshairsHandler){const{x:o,y:r,pixelSize:a}=this.state,s=this.resolution(),c=(o+e/a)*s,l=(r+t/a)*s,{startBP:h,endBP:d}=this.genomicState("x"),{startBP:f,endBP:u}=this.genomicState("y");this.customCrosshairsHandler({xBP:c,yBP:l,startXBP:h,startYBP:f,endXBP:d,endYBP:u,interpolantX:i,interpolantY:n})}}setCustomCrosshairsHandler(e){this.customCrosshairsHandler=e}hideCrosshairs(){this.contactMatrixView.xGuideElement.style.display="none",this.layoutController.xTrackGuideElement.style.display="none",this.contactMatrixView.yGuideElement.style.display="none",this.layoutController.yTrackGuideElement.style.display="none"}showCrosshairs(){this.contactMatrixView.xGuideElement.style.display="block",this.layoutController.xTrackGuideElement.style.display="block",this.contactMatrixView.yGuideElement.style.display="block",this.layoutController.yTrackGuideElement.style.display="block"}genomicState(e){let t=this.contactMatrixView.getViewDimensions().width,i=this.dataset.bpResolutions[this.state.zoom];const n="all"===this.dataset.chromosomes[this.state.chr1].name.toLowerCase()?this.genome.getGenomeLength()/t:i/this.state.pixelSize,o={bpp:n};return"x"===e?(o.chromosome=this.dataset.chromosomes[this.state.chr1],o.startBP=this.state.x*i,o.endBP=o.startBP+n*t):(o.chromosome=this.dataset.chromosomes[this.state.chr2],o.startBP=this.state.y*i,o.endBP=o.startBP+n*this.contactMatrixView.getViewDimensions().height),o}async loadTracks(e){const t=1===e.length?`Error loading track ${e[0].name}`:"Error loading tracks";try{this.contactMatrixView.startSpinner();const t=[],i=[];for(let o of e){const e=tx(o.url)?o.url.name:o.filename||await n(o.url),r=kC(e);if(["fasta","fa"].includes(r)&&(o.type=o.format="sequence"),o.format||(o.format=K_.TrackUtils.inferFileFormat(e)),"annotation"===o.type&&(o.displayMode="COLLAPSED","rgb(22, 129, 198)"===o.color&&delete o.color),void 0===o.max&&(o.autoscale=!0),o.height=36,void 0===o.format||["bedpe","interact"].includes(o.format))i.push(SC.loadTrack2D(o,this.genome));else{const e=await K_.createTrack(o,this);"function"==typeof e.postInit&&await e.postInit(),t.push(e)}}if(t.length>0){this.layoutController.updateLayoutWithTracks(t);const e=document.querySelector(".hic-igv-right-hand-gutter");this.showTrackLabelAndGutter?e.style.display="block":e.style.display="none",await this.updateLayout()}if(i.length>0){const e=await Promise.all(i);e&&e.length>0&&(this.tracks2D=this.tracks2D.concat(e),this.eventBus.post($C("TrackLoad2D",this.tracks2D)))}}catch(e){!function(e,t){const i={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};var n=t.message;i.hasOwnProperty(n)&&(n=i[n]);FC.presentAlert(e+": "+n)}(t,e),console.error(e)}finally{this.contactMatrixView.stopSpinner()}}async loadNormalizationFile(e){if(!this.dataset)return;this.eventBus.post($C("NormalizationFileLoad","start"));const t=await this.dataset.hicFile.readNormalizationVectorFile(e,this.dataset.chromosomes);for(let e of t.types)this.dataset.normalizationTypes||(this.dataset.normalizationTypes=[]),this.dataset.normalizationTypes.includes(e)||this.dataset.normalizationTypes.push(e),this.eventBus.post($C("NormVectorIndexLoad",this.dataset));return t}async renderTrackXY(e){try{this.startSpinner(),await e.updateViews()}finally{this.stopSpinner()}}reset(){this.layoutController.removeAllTrackXYPairs(),this.contactMatrixView.clearImageCaches(),this.tracks2D=[],this.tracks=[],this.contactMapLabel.textContent="",this.contactMapLabel.title="",this.controlMapLabel.textContent="",this.controlMapLabel.title="",this.dataset=void 0,this.controlDataset=void 0,this.unsyncSelf()}clearSession(){this.dataset=void 0,this.controlDataset=void 0,this.setDisplayMode("A"),this.unsyncSelf()}unsyncSelf(){const e=wk();for(let t of e)t.unsync(this)}unsync(e){const t=[...this.synchedBrowsers];this.synchedBrowsers=new Set(t.filter((t=>t!==e)))}async loadHicFile(e,t){if(e.url){this.clearSession();try{this.contactMatrixView.startSpinner(),t||(this.userInteractionShield.style.display="block");const i=hk(e),n=this.controlDataset?"A: ":"";this.contactMapLabel.textContent=n+i,this.contactMapLabel.title=i,e.name=i;const o=e=>{this.eventBus.post($C("NormalizationExternalChange","NONE")),FC.presentAlert(e)};this.dataset=await Dx.loadDataset(Object.assign({alert:o},e)),this.dataset.name=i;const r=this.genome?this.genome.id:void 0;this.genome=new Ax(this.dataset.genomeId,this.dataset.chromosomes),this.genome.id!==r&&NC.globalBus.post($C("GenomeChange",this.genome.id)),this.eventBus.post($C("MapLoad",this.dataset)),e.state?(e.state.hasOwnProperty("chr1")||(e.state=Tx.parse(e.state)),await this.setState(e.state)):e.synchState&&this.canBeSynched(e.synchState)?await this.syncState(e.synchState):await this.setState(Tx.default(this.config));const a=this.eventBus;if(!e.nvi&&"string"==typeof e.url){const t=new URL(e.url),i=encodeURIComponent(t.hostname+t.pathname);sk.hasOwnProperty(i)&&(e.nvi=sk[i])}if(e.nvi)await this.dataset.getNormVectorIndex(e),a.post($C("NormVectorIndexLoad",this.dataset));else{const t=this.dataset;t.getNormVectorIndex(e).then((function(i){e.isControl||a.post($C("NormVectorIndexLoad",t))}))}gk();const s=wk().filter((e=>e!==this&&e.dataset&&e.dataset.isCompatible(this.dataset)));s.length>0&&await this.syncState(s[0].getSyncState())}catch(t){throw this.contactMapLabel.textContent="",this.contactMapLabel.title="",e.name=name,t}finally{this.stopSpinner(),t||(this.userInteractionShield.style.display="none")}}else console.log("No .hic url specified")}async loadHicControlFile(e,t){try{this.userInteractionShield.style.display="block",this.contactMatrixView.startSpinner(),this.controlUrl=e.url;const i=hk(e);e.name=i;const n=e=>{this.eventBus.post($C("NormalizationExternalChange","NONE")),FC.presentAlert(e)},o=await Dx.loadDataset(Object.assign({alert:n},e));o.name=i,!this.dataset||this.dataset.isCompatible(o)?(this.controlDataset=o,this.dataset&&(this.contactMapLabel.textContent="A: "+this.dataset.name),this.controlMapLabel.textContent="B: "+o.name,this.controlMapLabel.title=o.name,await o.getNormVectorIndex(e),this.eventBus.post($C("ControlMapLoad",this.controlDataset)),t||this.update()):FC.presentAlert('"B" map genome ('+o.genomeId+') does not match "A" map genome ('+this.genome.id+")")}finally{this.userInteractionShield.style.display="none",this.stopSpinner()}}async parseGotoInput(e){let t,i;const n=e.split(" ");if(1===n.length?(t=this.parseLocusString(n[0]),i=t):(t=this.parseLocusString(n[0]),i=this.parseLocusString(n[1]),void 0===i&&(i=t)),void 0===t){let o;if(this.genome.featureDB.has(e.toUpperCase())){const t=this.genome.featureDB.get(e.toUpperCase());o=`${t.chr}:${t.start+1}-${t.end}`}else o=await Rx(this.genome.id,n[0].trim());o?(EC.selectedGene=n[0].trim(),t=this.parseLocusString(o),i=t,this.state.selectedGene=EC.selectedGene,this.goto(t.chr,t.start,t.end,i.chr,i.start,i.end)):alert('No feature found with name "'+n[0]+'"')}else t.wholeChr&&i.wholeChr?await this.setChromosomes(t.chr,i.chr):this.goto(t.chr,t.start,t.end,i.chr,i.start,i.end)}findMatchingZoomIndex(e,t){const i=t.length>0&&void 0!==t[0].index;for(let n=t.length-1;n>0;n--){const o=i?t[n].binSize:t[n],r=i?t[n].index:n;if(o>=e)return r}return 0}parseLocusString(e){const t={},i=e.trim().split(":"),n=this.genome.getChromosome(i[0].toLowerCase());if(n){if(t.chr=n.index,1===i.length)t.start=0,t.end=this.dataset.chromosomes[t.chr].size,t.wholeChr=!0;else{const e=i[1].split("-");let n=e[0].replace(/\,/g,"");t.start=isNaN(n)?void 0:parseInt(n,10)-1,2==e.length&&(n=e[1].replace(/\,/g,""),t.end=isNaN(n)?void 0:parseInt(n,10))}return t}}async pinchZoom(e,t,i){if(0===this.state.chr1)await this.zoomAndCenter(1,e,t);else try{this.startSpinner();const n=this.getResolutions(),o=n[this.state.zoom];let r,a,s,c;if(this.resolutionLocked||this.state.zoom===n.length-1&&i>1||0===this.state.zoom&&i<1)r=o.binSize,s=Math.min(ck,this.state.pixelSize*i),a=this.state.zoom,c=!1;else{const e=o.binSize/this.state.pixelSize/i;a=this.findMatchingZoomIndex(e,n),r=n[a].binSize,c=a!==this.state.zoom,s=Math.min(ck,r/e)}const l=await this.minZoom(this.state.chr1,this.state.chr2);if(!this.resolutionLocked&&i<1&&a<l)this.setChromosomes(0,0);else{const n=await this.minPixelSize(this.state.chr1,this.state.chr2,a),l=this.state;s=Math.max(s,n);const h=(l.x+e/l.pixelSize)*o.binSize,d=(l.y+t/l.pixelSize)*o.binSize;l.x=h/r-e/s,l.y=d/r-t/s,l.zoom=a,l.pixelSize=s,this.clamp(),this.contactMatrixView.zoomIn(e,t,1/i);let f=$C("LocusChange",{state:l,resolutionChanged:c,chrChanged:!1});this.update(f)}}finally{this.stopSpinner()}}async zoomAndCenter(e,t,i){if(this.dataset)if(this.dataset.isWholeGenome(this.state.chr1)&&e>0){const e=t*this.dataset.wholeGenomeResolution/this.state.pixelSize,n=i*this.dataset.wholeGenomeResolution/this.state.pixelSize,o=this.genome.getChromosomeForCoordinate(e),r=this.genome.getChromosomeForCoordinate(n);this.setChromosomes(o.index,r.index)}else{const n=this.getResolutions(),{width:o,height:r}=this.contactMatrixView.getViewDimensions(),a=void 0===t?0:t-o/2,s=void 0===i?0:i-r/2;this.state.x+=a/this.state.pixelSize,this.state.y+=s/this.state.pixelSize;const c=e>0&&this.state.zoom===n[n.length-1].index,l=e<0&&this.state.zoom===n[0].index;if(this.resolutionLocked||c||l){const t=await this.minPixelSize(this.state.chr1,this.state.chr2,this.state.zoom),i=this.state,n=Math.max(Math.min(ck,i.pixelSize*(e>0?2:.5)),t),a=(n-i.pixelSize)/n;i.pixelSize=n,i.x+=a*(o/i.pixelSize),i.y+=a*(r/i.pixelSize),this.clamp(),this.update($C("LocusChange",{state:i,resolutionChanged:!1,chrChanged:!1}))}else{let t;for(t=0;t<n.length&&this.state.zoom!==n[t].index;t++);if(t){const i=n[t+e].index;this.setZoom(i)}}}}async setZoom(e){const{width:t,height:i}=this.contactMatrixView.getViewDimensions(),n=this.state.x+t/2/this.state.pixelSize,o=this.state.y+i/2/this.state.pixelSize,r=this.dataset.bpResolutions[this.state.zoom]/this.dataset.bpResolutions[e],a=n*r,s=o*r,c=await this.minPixelSize(this.state.chr1,this.state.chr2,e);this.state.pixelSize=Math.max(1,c);const l=this.state.zoom!==e;this.state.zoom=e,this.state.x=Math.max(0,a-t/(2*this.state.pixelSize)),this.state.y=Math.max(0,s-i/(2*this.state.pixelSize)),this.clamp(),await this.contactMatrixView.zoomIn(),this.update($C("LocusChange",{state:this.state,resolutionChanged:l,chrChanged:!1}))}async setChromosomes(e,t){try{this.startSpinner();const i=await this.minZoom(e,t);this.state.chr1=Math.min(e,t),this.state.chr2=Math.max(e,t),this.state.x=0,this.state.y=0,this.state.zoom=i;const n=await this.minPixelSize(this.state.chr1,this.state.chr2,this.state.zoom);this.state.pixelSize=Math.min(100,Math.max(1,n));let o=$C("LocusChange",{state:this.state,resolutionChanged:!0,chrChanged:!0});this.update(o)}finally{this.stopSpinner()}}async updateLayout(){this.clamp();for(const e of this.trackPairs)e.x.viewportElement.style.order=`${this.trackPairs.indexOf(e)}`,e.y.viewportElement.style.order=`${this.trackPairs.indexOf(e)}`,e.x.syncCanvas(),e.y.syncCanvas();this.layoutController.xAxisRuler.update(),this.layoutController.yAxisRuler.update(),WC(this.trackPairs),await this.update()}async setState(e){const t=!this.state||this.state.chr1!==e.chr1||this.state.chr2!==e.chr2;this.state=e;const i=await this.minPixelSize(this.state.chr1,this.state.chr2,this.state.zoom);this.state.pixelSize=Math.max(e.pixelSize,i);let n=new $C("LocusChange",{state:this.state,resolutionChanged:!0,chrChanged:t});this.update(n),this.eventBus.post(n)}getSyncState(){return{chr1Name:this.dataset.chromosomes[this.state.chr1].name,chr2Name:this.dataset.chromosomes[this.state.chr2].name,binSize:this.dataset.bpResolutions[this.state.zoom],binX:this.state.x,binY:this.state.y,pixelSize:this.state.pixelSize}}canBeSynched(e){return!1!==this.synchable&&(this.dataset&&void 0!==this.dataset.getChrIndexFromName(e.chr1Name)&&void 0!==this.dataset.getChrIndexFromName(e.chr2Name))}async syncState(e){if(!e||!1===this.synchable)return;if(!this.dataset)return;const t=this.genome.getChromosome(e.chr1Name),i=this.genome.getChromosome(e.chr2Name);if(!t||!i)return;const n=e.binSize/e.pixelSize,o=this.findMatchingZoomIndex(n,this.dataset.bpResolutions),r=this.dataset.bpResolutions[o],a=Math.min(ck,Math.max(1,r/n)),s=e.binX*(e.binSize/r),c=e.binY*(e.binSize/r),l=this.state.zoom!==o,h=this.state.chr1!==t.index||this.state.chr2!==i.index;this.state.chr1=t.index,this.state.chr2=i.index,this.state.zoom=o,this.state.x=s,this.state.y=c,this.state.pixelSize=a;const d={state:this.state,resolutionChanged:l,chrChanged:h};this.update($C("LocusChange",d,!1))}setNormalization(e){this.state.normalization=e,this.eventBus.post($C("NormalizationChange",this.state.normalization))}shiftPixels(e,t){if(!this.dataset)return;this.state.x+=e/this.state.pixelSize,this.state.y+=t/this.state.pixelSize,this.clamp();const i=$C("LocusChange",{state:this.state,resolutionChanged:!1,dragging:!0,chrChanged:!1});i.dragging=!0,this.update(i),this.eventBus.post(i)}goto(e,t,i,n,o,r,a){const{width:s,height:c}=this.contactMatrixView.getViewDimensions(),l=this.getResolutions(),{binSize:h}=l[this.state.zoom];i||(i=(t=Math.max(0,t-Math.floor(s*h/2)))+s*h),r||(r=(o=Math.max(0,o-Math.floor(c*h/2)))+c*h);let d,f,u=Math.max((i-t)/s,(r-o)/c);if(a&&u<a){const e=s*a,n=(t+i)/2,c=(o+r)/2;t=Math.max(n-e/2),o=Math.max(0,c-e/2),u=a}!0===this.resolutionLocked&&void 0===a?(d=!1,f=this.state.zoom):(f=this.findMatchingZoomIndex(u,l),d=f!==this.state.zoom);const{binSize:p}=l[f],m=Math.min(ck,Math.max(1,p/u)),g=t/p,w=o/p,F=!this.state||this.state.chr1!==e||this.state.chr2!==n;this.state.chr1=e,this.state.chr2=n,this.state.zoom=f,this.state.x=g,this.state.y=w,this.state.pixelSize=m,this.contactMatrixView.clearImageCaches();const b={state:this.state,resolutionChanged:d,chrChanged:F};this.update($C("LocusChange",b))}clamp(){var e=this.contactMatrixView.getViewDimensions(),t=this.dataset.chromosomes[this.state.chr1].size,i=this.dataset.chromosomes[this.state.chr2].size,n=this.dataset.bpResolutions[this.state.zoom],o=t/n-e.width/this.state.pixelSize,r=i/n-e.height/this.state.pixelSize;o=Math.max(0,o),r=Math.max(0,r),this.state.x=Math.min(Math.max(0,this.state.x),o),this.state.y=Math.min(Math.max(0,this.state.y),r)}async update(e){if(this.updating){const t=e?e.type:"NONE";this.pending.set(t,e)}else{this.updating=!0;try{this.startSpinner(),void 0!==e&&"LocusChange"===e.type&&(this.layoutController.xAxisRuler.locusChange(e),this.layoutController.yAxisRuler.locusChange(e));const t=[];for(let e of this.trackPairs)t.push(this.renderTrackXY(e));if(t.push(this.contactMatrixView.update(e)),await Promise.all(t),e&&e.propogate){let e=this.getSyncState();for(const t of[...this.synchedBrowsers])t.syncState(e)}}finally{if(this.updating=!1,this.pending.size>0){const e=[];for(let[t,i]of this.pending)e.push(i);this.pending.clear();for(let t of e)this.update(t)}e&&this.eventBus.post(e),this.stopSpinner()}}}repaintMatrix(){this.contactMatrixView.imageTileCache={},this.contactMatrixView.initialImage=void 0,this.contactMatrixView.update()}resolution(){return this.dataset.bpResolutions[this.state.zoom]}toJSON(){if(!this.dataset||!this.dataset.url)return"{}";const e={};e.backgroundColor=this.contactMatrixView.stringifyBackgroundColor(),e.url=this.dataset.url,this.dataset.name&&(e.name=this.dataset.name),e.stateJSON?e.stateJSON=this.state.toJSON():e.state=this.state.stringify(),e.colorScale=this.contactMatrixView.getColorScale().stringify(),EC.selectedGene&&(e.selectedGene=EC.selectedGene);let t=dk(this.dataset);if(t&&(e.nvi=t),this.controlDataset){e.controlUrl=this.controlUrl,this.controlDataset.name&&(e.controlName=this.controlDataset.name);this.getDisplayMode()&&(e.displayMode=this.getDisplayMode()),t=dk(this.controlDataset),t&&(e.controlNvi=t),void 0!==this.controlMapWidget.getDisplayModeCycle()&&(e.cycle=!0)}if(this.trackPairs.length>0||this.tracks2D.length>0){let t=[];e.tracks=t;for(let e of this.trackPairs){const i=e.x.track,n=i.config;if("string"==typeof n.url){const e={url:n.url};n.type&&(e.type=n.type),n.format&&(e.format=n.format),i.name&&(e.name=i.name),i.dataRange&&(e.min=i.dataRange.min,e.max=i.dataRange.max),i.color&&(e.color=i.color),t.push(e)}else"sequence"===n.type&&t.push({type:"sequence",format:"sequence"})}for(const e of this.tracks2D)"string"==typeof e.config.url&&t.push(e.toJSON())}return e}async minZoom(e,t){const i=this.dataset.chromosomes[e],n=this.dataset.chromosomes[t],{width:o,height:r}=this.contactMatrixView.getViewDimensions(),a=Math.max(i.size/o,n.size/r),s=await this.dataset.getMatrix(e,t);if(!s)throw new Error(`Data not avaiable for chromosomes ${i.name} - ${n.name}`);return s.findZoomForResolution(a)}async minPixelSize(e,t,i){const n=this.dataset.chromosomes[e].size,o=this.dataset.chromosomes[t].size,r=await this.dataset.getMatrix(e,t),{zoom:a}=r.getZoomDataByIndex(i,"BP"),s=n/a.binSize,c=o/a.binSize,{width:l,height:h}=this.contactMatrixView.getViewDimensions();return Math.min(l/s,h/c)}}function hk(e){if(void 0===e.name){const t=e.url;if(tx(t))return t.name;{const e=t.split("?").shift(),i=t.lastIndexOf("/");return i>0?e.substring(i+1):e}}return e.name}function dk(e){return e.hicFile.config.nvi}const fk={width:640,height:640};let uk,pk=[];function mk(e){if(void 0===e)return uk?.rootElement.classList.remove("hic-root-selected"),void(uk=e);e!==uk&&(uk?.rootElement.classList.remove("hic-root-selected"),e.rootElement.classList.add("hic-root-selected"),uk=e,NC.globalBus.post($C("BrowserSelect",e)))}function gk(e){const t=(e||pk).filter((e=>!1!==e.synchable&&void 0!==e.dataset));t.forEach((e=>{t.forEach((t=>{e!==t&&e.dataset.isCompatible(t.dataset)&&(e.synchedBrowsers.add(t),t.synchedBrowsers.add(e))}))}))}function wk(){return pk}function Fk(e){if(!0===e.figureMode)e.showLocusGoto=!1,e.showHicContactMapLabel=!1,e.showChromosomeSelector=!1;else{if(e.state){const{width:t,height:i}=e.state;e.width=t,e.height=i}else e.width=fk.width,e.height=fk.height;e.showLocusGoto=e.showLocusGoto??!0,e.showHicContactMapLabel=e.showHicContactMapLabel??!0,e.showChromosomeSelector=e.showChromosomeSelector??!0}}function bk(){const e={},t=[],i=wk();for(let e of i)t.push(e.toJSON());e.browsers=t,EC.selectedGene&&(e.selectedGene=EC.selectedGene);const n=document.getElementById("hic-caption");if(n){var o=n.textContent;o&&(o=o.trim())&&(e.caption=o)}return e}async function vk(t,i){if(function(){for(let e of pk)e.rootElement.remove();pk=[]}(),i.hasOwnProperty("selectedGene")&&(EC.selectedGene=i.selectedGene),i.hasOwnProperty("caption")){const e=i.caption;var n=document.getElementById("hic-caption");n&&(n.textContent=e)}await async function(t,i){const n=i.browsers||[i];pk=[];const o=[];for(const r of n){r.stateJSON?r.state=Tx.fromJSON(r.stateJSON):e(r.state)&&(r.state=Tx.parse(r.state)),void 0===r.state&&(r.state=Tx.default()),Fk(r),e(r.colorScale)&&(r.colorScale=Ox.parse(r.colorScale)),e(r.backgroundColor)&&(r.backgroundColor=Vx.parseBackgroundColor(r.backgroundColor)),!1===i.syncDatasets&&(r.synchable=!1);const n=new lk(t,r);pk.push(n),o.push(n.init(r))}await Promise.all(o),mk(pk[0]),pk.length>1&&pk.forEach((e=>e.browserPanelDeleteButton.style.display="block"))}(t,i),!1!==i.syncDatasets&&gk()}const yk={"*s3e/":"https://hicfiles.s3.amazonaws.com/external/","*s3/":"https://hicfiles.s3.amazonaws.com/","*s3e_/":"http://hicfiles.s3.amazonaws.com/external/","*s3_/":"http://hicfiles.s3.amazonaws.com/","*enc/":"https://www.encodeproject.org/files/"};async function _k(e){let t,i=Nk(e);if(i.hasOwnProperty("session")&&(i.session.startsWith("blob:")||i.session.startsWith("data:"))&&(t=JSON.parse(Ti(i.session.substr(5)))),i.hasOwnProperty("juiceboxURL")){i=Nk(await async function(e){const t="https://api-ssl.bitly.com/v4/expand",i={bitlink_id:e.startsWith("http://")?e.substring(7):e.substring(8)},n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${btoa("ëtá¾´ãÎtsßéÆºÙçµóf¸í¿9snéÝz")}`},body:JSON.stringify(i)});if(!n.ok)throw new Error(`Network error (${n.status}): ${n.statusText}`);let o=(await n.json()).long_url;return o=o.replace("{","%7B").replace("}","%7D"),o}(i.juiceboxURL))}if(i.hasOwnProperty("juicebox")||i.hasOwnProperty("juiceboxData")){let e;i.hasOwnProperty("juiceboxData")?e=Ti(i.juiceboxData):(e=i.juicebox,e.startsWith("%7B")&&(e=decodeURIComponent(e))),e=e.substr(1,e.length-2);const n=e.split("},{"),o=[];for(let e of n){const t=Nk(decodeURIComponent(e));o.push(xk(t))}t={browsers:o}}const n=xk(i,!0);if(n.url&&(t=n),t)if(t.browsers)for(let e of t.browsers)Ck(e);else Ck(t);return t}function Ck(e){if(e.tracks)for(let t of e.tracks)"rgb(22, 129, 198)"===t.color&&delete t.color,void 0!==t.min&&Number.isNaN(t.min)&&delete t.min,void 0!==t.max&&Number.isNaN(t.max)&&delete t.max,t.displayMode="COLLAPSED"}function xk(e,t){const i={};let n=e.hicUrl;const o=e.name;let r=e.state,a=e.colorScale,s=e.tracks;const c=e.selectedGene,l=e.nvi;let h=e.controlUrl;const d=e.controlName,f=e.displayMode,u=e.controlNvi,p=e.cycle;return n&&(n=kk(n,t),Object.keys(yk).forEach((function(e){var t=yk[e];n.startsWith(e)&&(n=n.replace(e,t))})),i.url=n),o&&(i.name=kk(o,t)),h&&(h=kk(h,t),Object.keys(yk).forEach((function(e){var t=yk[e];h.startsWith(e)&&(h=h.replace(e,t))})),i.controlUrl=h),d&&(i.controlName=kk(d,t)),r&&(r=kk(r,t),i.state=Tx.parse(r)),a&&(a=kk(a,t),i.colorScale=Ox.parse(a)),f&&(i.displayMode=kk(f,t)),s&&(s=kk(s,t),i.tracks=function(e){const t=e.split("|||"),i=[];for(let e of t){const t=e.split("|"),o=t.pop();let r=t.length>1?t[0]:e;if(r&&r.trim().length>0&&"undefined"!==r){const e=Object.keys(yk);for(let t of e){var n=yk[t];if(r.startsWith(t)){r=r.replace(t,n);break}}const a={url:r};if(t.length>1&&(a.name=Ek(t[1],"$","|")),t.length>2){const e=t[2];if(e.startsWith("-")){const t=e.substring(1).split("-");a.min=-parseFloat(t[0]),a.max=parseFloat(t[1])}else{const t=e.split("-");a.min=parseFloat(t[0]),a.max=parseFloat(t[1])}}o&&(a.color=o),i.push(a)}}return i}(s),i.tracks&&i.oauthToken&&i.tracks.forEach((function(e){e.oauthToken=i.oauthToken}))),c&&(EC.selectedGene=c),i.cycle=p,l&&(i.nvi=kk(l,t)),u&&(i.controlNvi=kk(u,t)),i}function kk(e,t){if(t)return decodeURIComponent(e);var i=Ek(e,"%26","&");return i=Ek(i,"%20"," "),i=Ek(i,"+"," "),i=Ek(i,"%7C","|"),i=Ek(i,"%23","#"),i=Ek(i,"%3F","?"),i=Ek(i,"%3D","=")}function Ek(e,t,i){return e.split(t).join(i)}function Nk(e){var t,i,n,o,r,a;r={},t=e.indexOf("?"),i=e.lastIndexOf("#");for(t>e.indexOf("=")&&(t=-1),i<0&&(i=e.length),n=t+1;n<i;)(o=e.indexOf("&",n))<0&&(o=i),2===(a=e.substring(n,o).split("=",2)).length&&(r[a[0]]=a[1]),n=o+1;return r}return{version:"2.5.1",init:async function(e,t){if(FC.init(e),!1!==t.queryParametersSupported){const e=await _k(window.location.href);e&&(t=e)}await vk(e,t);const i=wk();return 1===i.length?i[0]:i},toJSON:bk,restoreSession:vk,compressedSession:function(){return`session=blob:${function(e){const t=new Uint8Array(e.length);for(var i=0;i<e.length;i++)t[i]=e.charCodeAt(i);const n=new Ni(t),o=String.fromCharCode.apply(null,n);return btoa(o).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(bk()))}`},createBrowser:async function(t,i,n){Fk(i),e(i.state)&&(i.state=Tx.parse(i.state)),e(i.colorScale)&&(i.colorScale=Ox.parse(i.colorScale)),e(i.backgroundColor)&&(i.backgroundColor=Vx.parseBackgroundColor(i.backgroundColor));const o=new lk(t,i);return await o.init(i),"function"==typeof n&&n(),pk.push(o),mk(o),pk.length>1&&pk.forEach((e=>e.browserPanelDeleteButton.style.display="block")),o},getCurrentBrowser:function(){return uk},setCurrentBrowser:mk,getAllBrowsers:wk,igvxhr:en,EventBus:NC}}));
//# sourceMappingURL=juicebox.min.js.map
