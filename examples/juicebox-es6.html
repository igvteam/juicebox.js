<html>
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Juicebox - ES6 </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.css">

    <!-- Juicebox CSS-->
    <link rel="stylesheet" type="text/css" href="../css/juicebox.css">

</head>

<body>

<div id="app-container"></div>

<script type="module">

    import juicebox from '../js/index.js'
    // import juicebox from "../dist/juicebox.esm.js"


    const config_igv_tracks =
        {
            "backgroundColor": "0,74,136",
            "url": "https://hicfiles.s3.amazonaws.com/hiseq/imr90/in-situ/combined.hic",
            "name": "Combined",
            "state": "7,7,5,815.66029,815.66029,640,640,1,NONE",
            "colorScale": "23,255,114,110",
            "selectedGene": "egfr",
            "nvi": "13433880319,35723",
            "controlUrl": "https://s3.amazonaws.com/hicfiles/hiseq/degron/untreated/unsynchronized/HIC005.hic",
            "controlName": "Untreated, HIC005",
            "displayMode": "B",
            "controlNvi": "6846576837,36479",
            "tracks": [
                // {
                //     "url": "https://www.encodeproject.org/files/ENCFF166FMF/@@download/ENCFF166FMF.bigWig",
                //     "name": "Homo sapiens 22Rv1 CTCF ",
                //     "min": 0,
                //     "max": 4.052322006225586
                // },
                {
                    "url": "https://www.encodeproject.org/files/ENCFF386HDH/@@download/ENCFF386HDH.bigWig",
                    "name": "Homo sapiens ...",
                    "min": 0,
                    "max": 1.5872053418840681
                }
            ]
        };

    const config_2d_annotation =
        {
            "backgroundColor": "110,110,110",
            "url": "https://www.encodeproject.org/files/ENCFF799QGA/@@download/ENCFF799QGA.hic",
            "name": "in-situ agar GM12878 MboI experiment",
            "state": "7,7,8,10792.6029,10800.6029,640,640,1,NONE",
            "colorScale": "12,255,41,135",
            "selectedGene": "egfr",
            "nvi": "1228682189,36479",
            "tracks": [
                {
                    "url": "https://www.dropbox.com/s/mjjkvrkvghm1n4u/GSM1872886_GM12878_CTCF_PET_clusters.txt?dl=0",
                    "name": "GSM1872886_GM12878_CTCF_PET_clusters.txt",
                    "color": "#cefa6e"
                }
            ]
        };

    const config = {
        url: "https://www.encodeproject.org/files/ENCFF718AWL/@@download/ENCFF718AWL.hic",
        name: "GM12878",
        locus: 'ace',
        // locus: '8:128,752,711-128,753,714',
        //locus: "22:33,319,567-36,009,566",   // <= optional initial locus
        tracks: [
            // {
            //     url: "https://www.encodeproject.org/files/ENCFF000ARJ/@@download/ENCFF000ARJ.bigWig",
            //     name: "CTCF",
            //     min: 0,
            //     max: 25,
            //     color: "#ff8802"
            // }
        ]
    }

    const config_deep_map = {
        url: "https://s3.us-central-1.wasabisys.com/aiden-encode-hic-mirror/moshe/all.hic",
        name: "Deep Map Test",
        locus: '8:128,752,711-128,753,714',
        // tracks: [
        //     {
        //         url: "https://www.encodeproject.org/files/ENCFF000ARJ/@@download/ENCFF000ARJ.bigWig",
        //         name: "CTCF",
        //         min: 0,
        //         max: 25,
        //         color: "#ff8802"
        //     }
        // ]
    }


    juicebox.init(document.getElementById("app-container"), config_2d_annotation)
        .then(browser => {
            console.log(`${ browser.id } is good to go`);
        })


</script>

</body>

</html>
