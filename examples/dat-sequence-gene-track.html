<html>
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Juicebox - ES6 </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.css">

    <!-- Juicebox CSS-->
    <link rel="stylesheet" type="text/css" href="../css/juicebox.css">

</head>

<body>

<div id="app-container"></div>

<script type="module">

    import juicebox from '../js/index.js'
    // import juicebox from '../dist/juicebox.esm.js'


    const config = {
        url: "https://www.encodeproject.org/files/ENCFF718AWL/@@download/ENCFF718AWL.hic",
        name: "GM12878",
        locus: '8',
        // locus: '8:128,752,711-128,753,714',
        width: 800,
        height: 800,
    }

    const config_deep_map = {
        url: "https://s3.us-central-1.wasabisys.com/aiden-encode-hic-mirror/moshe/all.hic",
        name: "Deep Map Test",
        locus: '8',
        // locus: '8:128,752,711-128,753,714',
        width: 800,
        height: 800,
        tracks: [
            {
                "url": "https://www.encodeproject.org/files/ENCFF754TJH/@@download/ENCFF754TJH.bigWig",
                "name": "Encode bigwig",
                color: "#ff0289"
            },
            // {
            //     "url": "https://www.encodeproject.org/files/ENCFF754TJH/@@download/ENCFF754TJH.bigWig",
            //     "graphType": "points",
            //     "pointSize": 3,
            //     "name": "Encode bigwig points",
            //     color: "#65d313"
            // },
            {
                url: "https://www.encodeproject.org/files/ENCFF000ARJ/@@download/ENCFF000ARJ.bigWig",
                name: "CTCF",
                min: 0,
                max: 25,
                color: "#ff8802"
            }
        ]
    }

    const session_bug =
        {
            "backgroundColor": "255,255,255",
            "url": "https://s3.us-central-1.wasabisys.com/aiden-encode-hic-mirror/moshe/all.hic",
            "name": "all.hic",
            "state": "8,8,16,7256882.810416669,7256884.185416662,640,640,15.157894736842106,NONE",
            "colorScale": "2,255,0,0",
            "nvi": "372248688388,68157",
            "tracks": [
                {
                    "url": "https://s3.amazonaws.com/igv.org.genomes/hg38/ncbiRefSeq.txt.gz",
                    "name": "Refseq Genes",
                    "min": null,
                    "max": null
                }
            ]
        }

    juicebox.init(document.getElementById("app-container"), session_bug)
        .then(browser => {
            console.log(`${ browser.id } is good to go`);
        })


</script>

</body>

</html>
