{"version":3,"sources":["webpack://hic/webpack/universalModuleDefinition","webpack://hic/webpack/bootstrap","webpack://hic/./node_modules/regenerator-runtime/runtime.js","webpack://hic/./tmp/juicebox.js"],"names":["module","exports","regeneratorRuntime","require","$","jQuery","global","factory","window","deletedIds","document","slice","concat","push","indexOf","class2type","toString","hasOwn","hasOwnProperty","support","version","selector","context","fn","init","rtrim","rmsPrefix","rdashAlpha","fcamelCase","all","letter","toUpperCase","prototype","jquery","constructor","length","toArray","call","get","num","pushStack","elems","ret","merge","prevObject","each","callback","map","elem","i","apply","arguments","first","eq","last","len","j","end","sort","splice","extend","src","copyIsArray","copy","name","options","clone","target","deep","isFunction","isPlainObject","isArray","undefined","expando","Math","random","replace","isReady","error","msg","Error","noop","obj","type","Array","isWindow","isNumeric","realStringObj","parseFloat","isEmptyObject","key","nodeType","e","ownFirst","globalEval","data","trim","execScript","camelCase","string","nodeName","toLowerCase","isArrayLike","text","makeArray","arr","results","Object","inArray","max","second","grep","invert","callbackInverse","matches","callbackExpect","arg","value","guid","proxy","args","tmp","now","Date","Symbol","iterator","split","Sizzle","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains","preferredDoc","dirruns","done","classCache","createCache","tokenCache","compilerCache","sortOrder","a","b","MAX_NEGATIVE","pop","push_native","list","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","RegExp","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","rinputs","rheader","rnative","rquickExpr","rsibling","rescape","runescape","funescape","_","escaped","escapedWhitespace","high","String","fromCharCode","unloadHandler","childNodes","els","seed","m","nid","nidselect","match","groups","newSelector","newContext","ownerDocument","exec","getElementById","id","getElementsByTagName","getElementsByClassName","qsa","test","getAttribute","setAttribute","toSelector","join","testContext","parentNode","querySelectorAll","qsaError","removeAttribute","keys","cache","cacheLength","shift","markFunction","assert","div","createElement","removeChild","addHandle","attrs","handler","attrHandle","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","documentElement","node","hasCompare","parent","doc","defaultView","top","addEventListener","attachEvent","className","appendChild","createComment","getById","getElementsByName","find","filter","attrId","getAttributeNode","tag","innerHTML","input","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","unshift","expr","elements","attr","val","specified","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","firstChild","nodeValue","selectors","createPseudo","relative","dir","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","result","what","simple","forward","ofType","xml","uniqueCache","outerCache","nodeIndex","start","useCache","lastChild","uniqueID","pseudo","setFilters","idx","matched","matcher","unmatched","innerText","lang","elemLang","hash","location","activeElement","hasFocus","href","tabIndex","disabled","checked","selected","selectedIndex","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","tokens","soFar","preFilters","cached","addCombinator","combinator","base","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","token","compiled","div1","defaultValue","unique","isXMLDoc","until","truncate","is","siblings","n","rneedsContext","needsContext","rsingleTag","risSimple","winnow","qualifier","not","self","rootjQuery","root","charAt","parseHTML","ready","rparentsprev","guaranteedUnique","children","contents","next","prev","has","targets","closest","l","pos","index","prevAll","add","addBack","sibling","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","contentWindow","reverse","rnotwhite","createOptions","object","flag","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","remove","empty","disable","lock","fireWith","Deferred","func","tuples","state","promise","always","deferred","fail","then","fns","newDefer","tuple","returned","progress","notify","resolve","reject","pipe","stateString","when","subordinate","resolveValues","remaining","updateFunc","values","progressValues","notifyWith","resolveWith","progressContexts","resolveContexts","readyList","readyWait","holdReady","hold","wait","triggerHandler","off","detach","removeEventListener","completed","detachEvent","event","readyState","doScroll","setTimeout","frameElement","doScrollCheck","inlineBlockNeedsLayout","body","container","style","cssText","zoom","offsetWidth","deleteExpando","acceptData","noData","rbrace","rmultiDash","dataAttr","parseJSON","isEmptyDataObject","internalData","pvt","thisCache","internalKey","isNode","toJSON","internalRemoveData","cleanData","hasData","removeData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","count","defer","shrinkWrapBlocksVal","shrinkWrapBlocks","width","pnum","source","rcssNum","cssExpand","isHidden","el","css","adjustCSS","prop","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","access","chainable","emptyGet","raw","bulk","rcheckableType","rtagName","rscriptType","rleadingWhitespace","nodeNames","createSafeFragment","safeFrag","createDocumentFragment","fragment","leadingWhitespace","tbody","htmlSerialize","html5Clone","cloneNode","outerHTML","appendChecked","noCloneChecked","checkClone","noCloneEvent","wrapMap","option","legend","area","param","thead","tr","col","td","_default","optgroup","tfoot","colgroup","caption","th","getAll","found","setGlobalEval","refElements","rhtml","rtbody","fixDefaultChecked","defaultChecked","buildFragment","scripts","selection","ignored","wrap","safe","nodes","createTextNode","htmlPrefilter","eventName","change","focusin","rformElems","rkeyEvent","rmouseEvent","rfocusMorph","rtypenamespace","returnTrue","returnFalse","safeActiveElement","err","on","types","one","origFn","events","t","handleObjIn","special","eventHandle","handleObj","handlers","namespaces","origType","elemData","handle","triggered","dispatch","delegateType","bindType","namespace","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","trigger","onlyHandlers","ontype","bubbleType","eventPath","Event","isTrigger","rnamespace","noBubble","parentWindow","isPropagationStopped","preventDefault","isDefaultPrevented","fix","handlerQueue","delegateTarget","preDispatch","currentTarget","isImmediatePropagationStopped","stopPropagation","postDispatch","sel","isNaN","button","originalEvent","fixHook","fixHooks","mouseHooks","keyHooks","props","srcElement","metaKey","original","which","charCode","keyCode","eventDoc","fromElement","pageX","clientX","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","relatedTarget","toElement","load","focus","blur","click","beforeunload","returnValue","simulate","isSimulated","defaultPrevented","timeStamp","cancelBubble","stopImmediatePropagation","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","form","_submitBubble","propertyName","_justChanged","attaches","rinlinejQuery","rnoshimcache","rxhtmlTag","rnoInnerhtml","rchecked","rscriptTypeMasked","rcleanScript","safeFragment","fragmentDiv","manipulationTarget","content","disableScript","restoreScript","cloneCopyEvent","dest","oldData","curData","fixCloneNodeIssues","defaultSelected","domManip","collection","hasScripts","iNoClone","html","_evalUrl","keepData","dataAndEvents","deepDataAndEvents","destElements","srcElements","inPage","forceAcceptData","append","prepend","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","insert","iframe","elemdisplay","HTML","BODY","actualDisplay","display","defaultDisplay","write","close","rmargin","rnumnonpx","swap","old","pixelPositionVal","pixelMarginRightVal","boxSizingReliableVal","reliableHiddenOffsetsVal","reliableMarginRightVal","reliableMarginLeftVal","opacity","cssFloat","backgroundClip","clearCloneStyle","boxSizing","MozBoxSizing","WebkitBoxSizing","reliableHiddenOffsets","computeStyleTests","boxSizingReliable","pixelMarginRight","pixelPosition","reliableMarginRight","reliableMarginLeft","divStyle","getComputedStyle","marginLeft","marginRight","getClientRects","borderCollapse","offsetHeight","getStyles","curCSS","rposition","view","opener","computed","minWidth","maxWidth","getPropertyValue","currentStyle","left","rs","rsLeft","runtimeStyle","pixelLeft","addGetHookIf","conditionFn","hookFn","ralpha","ropacity","rdisplayswap","rnumsplit","cssShow","position","visibility","cssNormalTransform","letterSpacing","fontWeight","cssPrefixes","emptyStyle","vendorPropName","capName","showHide","show","hidden","setPositiveNumber","subtract","augmentWidthOrHeight","extra","isBorderBox","styles","getWidthOrHeight","valueIsBorderBox","cssHooks","cssProps","origName","set","isFinite","$1","getBoundingClientRect","margin","padding","border","prefix","suffix","expand","expanded","parts","hide","toggle","Tween","easing","propHooks","run","percent","eased","duration","step","fx","linear","p","swing","cos","PI","fxNow","timerId","rfxtypes","rrun","createFxNow","genFx","includeWidth","height","createTween","animation","Animation","tweeners","defaultPrefilter","opts","oldfire","checkDisplay","anim","dataShow","unqueued","overflow","overflowX","overflowY","propFilter","specialEasing","properties","stopped","prefilters","tick","currentTime","startTime","tweens","originalProperties","originalOptions","gotoEnd","rejectWith","timer","complete","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","interval","setInterval","clearInterval","slow","fast","delay","time","timeout","clearTimeout","getSetAttribute","hrefNormalized","checkOn","optSelected","enctype","optDisabled","radioValue","rreturn","rspaces","valHooks","optionSet","scrollHeight","nodeHook","boolHook","ruseDefault","getSetInput","removeAttr","nType","attrHooks","bool","propName","attrNames","propFix","getter","setAttributeNode","createAttribute","coords","contenteditable","rfocusable","rclickable","removeProp","tabindex","parseInt","rclass","getClass","addClass","classes","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","classNames","hasClass","hover","fnOver","fnOut","nonce","rquery","rvalidtokens","JSON","parse","requireNonComma","depth","str","comma","open","Function","parseXML","DOMParser","parseFromString","ActiveXObject","async","loadXML","rhash","rts","rheaders","rlocalProtocol","rnoContent","rprotocol","rurl","transports","allTypes","ajaxLocation","ajaxLocParts","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","s","responses","firstDataType","ct","finalDataType","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","current","conv","responseFields","dataFilter","active","lastModified","etag","url","isLocal","processData","contentType","accepts","json","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","cacheURL","responseHeadersString","timeoutTimer","fireGlobals","transport","responseHeaders","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","lname","overrideMimeType","code","status","abort","statusText","finalText","success","method","crossDomain","traditional","hasContent","ifModified","headers","beforeSend","send","nativeStatusText","modified","getJSON","getScript","wrapAll","wrapInner","unwrap","getDisplay","filterHidden","visible","r20","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","v","encodeURIComponent","serialize","serializeArray","xhr","createActiveXHR","documentMode","createStandardXHR","xhrId","xhrCallbacks","xhrSupported","cors","username","xhrFields","isAbort","onreadystatechange","responseText","XMLHttpRequest","script","head","scriptCharset","charset","onload","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","keepScripts","parsed","_load","params","animated","getWindow","offset","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","win","box","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","bind","unbind","delegate","undelegate","size","andSelf","define","ui","widgetUuid","widgetSlice","widget","existingConstructor","basePrototype","proxiedPrototype","fullName","Widget","element","_createWidget","_proto","_childConstructors","_super","_superApply","__super","__superApply","widgetEventPrefix","widgetName","widgetFullName","child","childPrototype","bridge","inputIndex","inputLength","isMethodCall","methodValue","instance","_init","defaultElement","create","uuid","eventNamespace","bindings","hoverable","focusable","classesElementLookup","_on","destroy","_getCreateOptions","_create","_setOptionDisabled","_trigger","_getCreateEventData","that","_destroy","_removeClass","curOption","_setOptions","_setOption","_setOptionClasses","classKey","currentElements","_classes","_toggleClass","enable","full","processClassString","checkOption","_untrackClassesElement","_addClass","suppressDisabledCheck","delegateElement","handlerProxy","_off","_delay","_hoverable","_focusable","focusout","defaultEffect","effect","hasOptions","effectName","effects","dataName","scrollParent","includeHidden","excludeStaticParent","overflowRegex","ie","navigator","userAgent","mouseHandled","widgetsMouse","cancel","distance","_mouseInit","_mouseDown","started","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseMoved","_mouseStarted","_mouseUp","_mouseDownEvent","btnIsLeft","elIsCancel","_mouseCapture","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseStart","_mouseMove","altKey","ctrlKey","shiftKey","ignoreMissingWhich","_mouseDrag","_mouseStop","abs","plugin","proto","plugins","allowDisconnected","safeBlur","mouse","addClasses","axis","connectToSortable","containment","cursor","cursorAt","grid","helper","iframeFix","refreshPositions","revert","revertDuration","scope","scroll","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","zIndex","drag","_setPositionRelative","_setHandleClassName","_removeHandleClassName","destroyOnClear","o","_getHandle","_blurActiveElement","_blockFrames","iframeBlocks","outerWidth","outerHeight","_unblockFrames","_createHelper","_cacheHelperProportions","ddmanager","_cacheMargins","cssPosition","hasFixedAncestor","positionAbs","_refreshOffsets","originalPosition","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_clear","dropBehaviour","prepareOffsets","dragStart","margins","_getParentOffset","_getRelativeOffset","noPropagation","_convertPositionTo","_uiHash","dropped","drop","dragStop","handleElement","helperIsFunction","helperProportions","right","bottom","_isRootNode","tagName","po","scrollIsRootNode","isUserScrollable","c","ce","relativeContainer","scrollWidth","d","mod","constrainPosition","co","round","cancelHelperRemoval","draggable","uiSortable","item","sortables","sortable","isOver","_storedCSS","placeholder","_helper","innermostIntersecting","_intersectsWith","containerCache","_parent","currentItem","fromOutside","_revert","_cursor","_opacity","scrollParentNotHidden","overflowOffset","scrolled","snapElements","items","$t","$o","inst","ts","bs","ls","r","x1","x2","y1","y2","snapping","release","snapItem","min","group","_zIndex","widgetsDraggable","USE_TYPEDARRAY","Zlib","Huffman","Util","CRC32","CompressionMethod","DEFLATE","RESERVED","Zip","opt_params","files","comment","STORE","OperatingSystem","MSDOS","UNIX","MACINTOSH","Flags","ENCRYPT","DESCRIPTOR","UTF8","FileHeaderSignature","LocalFileHeaderSignature","CentralDirectorySignature","addFile","filename","compressed","crc32","Uint8Array","calc","deflateWithOption","buffer","encrypted","setPassword","compress","output","op1","op2","op3","localFileSize","centralDirectorySize","endOfCentralDirectorySize","needVersion","flags","compressionMethod","date","plainSize","filenameLength","extraFieldLength","commentLength","extraField","il","jl","createEncryptionKey","encode","getMinutes","getSeconds","getHours","getMonth","getDate","getFullYear","deflator","RawDeflate","getByte","updateKeys","single","Uint32Array","buildHuffmanTable","lengths","listSize","maxCodeLength","minCodeLength","Number","POSITIVE_INFINITY","table","bitLength","skip","reversed","rtemp","ZLIB_RAW_INFLATE_BUFFER_SIZE","RawInflate","blocks","bufferSize","totalpos","ip","bitsbuf","bitsbuflen","op","bfinal","bufferType","BufferType","ADAPTIVE","resize","BLOCK","MaxBackwardLength","MaxCopyLength","decompress","parseBlock","concatBufferBlock","concatBufferDynamic","Order","Uint16Array","LengthCodeTable","LengthExtraTable","DistCodeTable","DistExtraTable","FixedLiteralLengthTable","FixedDistanceTable","hdr","readBits","parseUncompressedBlock","parseFixedHuffmanBlock","parseDynamicHuffmanBlock","octet","readCodeByTable","codeTable","codeWithLength","codeLength","nlen","olength","preCopy","subarray","expandBufferBlock","expandBufferAdaptive","fixRatio","decodeHuffmanAdaptive","decodeHuffmanBlock","hlit","hdist","hclen","codeLengths","codeLengthsTable","litlenTable","distTable","lengthTable","repeat","litlen","dist","currentLitlenTable","ti","codeDist","lengthCodeTable","lengthExtraTable","distCodeTable","distExtraTable","opt_param","backward","ratio","maxHuffCode","newSize","maxInflateSize","addRatio","limit","block","RawInflateStream","opt_buffersize","ZLIB_STREAM_RAW_INFLATE_BUFFER_SIZE","blockLength","sp","Status","INITIALIZED","ip_","bitsbuflen_","bitsbuf_","BlockType","UNCOMPRESSED","FIXED","DYNAMIC","BLOCK_HEADER_START","BLOCK_HEADER_END","BLOCK_BODY_START","BLOCK_BODY_END","DECODE_BLOCK_START","DECODE_BLOCK_END","newInput","readBlockHeader","currentBlockType","readUncompressedBlockHeader","decodeHuffman","concatBuffer","save_","restore_","expandBuffer","litlenLengths","distLengths","parseDynamicHuffmanBlockImpl","bits","Inflate","cmf","flg","rawinflate","verify","adler32","Adler32","InflateStream","readHeader","Gunzip","member","decompressed","getMembers","decodeMember","concatMember","GunzipMember","isize","inflated","inflen","ci","mtime","id1","id2","cm","xfl","os","Gzip","FlagsMask","FEXTRA","xlen","decodeSubField","FNAME","FCOMMENT","FHCRC","crc16","getName","getData","getMtime","deflateOptions","DefaultBufferSize","rawdeflate","UNKNOWN","charCodeAt","byteLength","FAT","AMIGA","VMS","VM_CMS","ATARI_TOS","HPFS","Z_SYSTEM","CP_M","TOPS_20","NTFS","QDOS","ACORN_RISCOS","FTEXT","Heap","getParent","getChild","heap","compressionType","CompressionType","lazy","freqsLitLen","freqsDist","NONE","Lz77MinLength","Lz77MaxLength","WindowSize","MaxCodeLength","HUFMAX","FixedHuffmanTable","blockArray","makeNocompressBlock","makeFixedHuffmanBlock","makeDynamicHuffmanBlock","isFinalBlock","btype","stream","BitStream","writeBits","lz77","fixedHuffman","hclenOrder","litLenLengths","litLenCodes","distCodes","treeSymbols","treeLengths","transLengths","treeCodes","bitlen","getLengths_","getCodesFromLengths_","getTreeSymbols_","freqs","codes","dynamicHuffman","dataArray","litLen","literal","Lz77Match","backwardDistance","getDistanceCode_","toLz77Array","codeArray","matchKey","windowSize","matchList","longestMatch","prevMatch","lz77buf","skipLength","writeMatch","lz77Array","searchLongestMatch_","currentMatch","matchMax","matchLength","dl","permatch","runLength","nResult","rpt","nSymbols","reversePackageMerge_","symbols","minimumCost","currentPosition","half","weight","takePackage","x","startCode","Unzip","eocdrOffset","numberOfThisDisk","startDisk","totalEntriesThisDisk","totalEntries","centralDirectoryOffset","fileHeaderList","filenameToIndex","FileHeader","compression","compressedSize","fileNameLength","fileCommentLength","diskNumberStart","internalFileAttributes","externalFileAttributes","relativeOffset","LocalFileHeader","searchEndOfCentralDirectoryRecord","parseEndOfCentralDirectoryRecord","parseFileHeader","filelist","filetable","fileHeader","getFileData","localFileHeader","createDecryptionKey","decode","getFilenames","filenameList","stringToByteArray","array","update","adler","s1","s2","tlen","OptimizationParameter","bufferPosition","bitindex","DefaultBlockSize","oldbuf","number","rev32_","ReverseTable","ZLIB_CRC32_COMPACT","crc","Table","Table_","Deflate","rawDeflate","rawDeflateOption","cinfo","fcheck","fdict","flevel","clevel","LOG2E","log","_wrapped","ArrayProto","ObjProto","FuncProto","nativeIsArray","nativeKeys","nativeBind","nativeCreate","Ctor","VERSION","optimizeCb","argCount","other","accumulator","cb","identity","isObject","property","iteratee","Infinity","createAssigner","keysFunc","undefinedOnly","baseCreate","MAX_ARRAY_INDEX","pow","getLength","forEach","collect","currentKey","createReduce","memo","reduce","foldl","inject","reduceRight","foldr","detect","predicate","findIndex","findKey","negate","every","some","any","includes","include","fromIndex","guard","invoke","isFunc","pluck","where","findWhere","lastComputed","shuffle","shuffled","rand","sample","sortBy","criteria","behavior","groupBy","indexBy","countBy","partition","pass","take","rest","tail","compact","flatten","shallow","strict","startIndex","isArguments","without","difference","uniq","isSorted","isBoolean","seen","union","intersection","argsLength","zip","unzip","createPredicateIndexFinder","findLastIndex","sortedIndex","low","mid","floor","createIndexFinder","predicateFind","lastIndexOf","range","ceil","executeBound","sourceFunc","boundFunc","callingContext","TypeError","bound","partial","boundArgs","bindAll","memoize","hasher","address","throttle","previous","later","leading","trailing","debounce","immediate","timestamp","callNow","wrapper","compose","times","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","collectNonEnumProps","nonEnumIdx","allKeys","mapObject","pairs","functions","methods","names","extendOwn","assign","pick","oiteratee","omit","defaults","tap","interceptor","isMatch","aStack","bStack","areArrays","aCtor","bCtor","isEqual","isEmpty","isString","isElement","Int8Array","isNumber","isNull","isUndefined","constant","propertyOf","accum","getTime","escapeMap","unescapeMap","createEscaper","escaper","testRegexp","replaceRegexp","escape","unescape","fallback","idCounter","uniqueId","templateSettings","evaluate","interpolate","noMatch","escapes","escapeChar","template","oldSettings","variable","render","chain","_chain","mixin","valueOf","Throbber","M","_extend","_animate","loops","animating","requestFrame","requestAnimationFrame","loop","elapsed","fpsInterval","fps","draw","_getRGB","color","rgb","alpha","_restore","ctx","back","translate","fade","ad","rd","_draw","clockwise","clearRect","globalAlpha","lineWidth","strokewidth","lines","strokeStyle","toFixed","beginPath","moveTo","lineTo","stroke","rotate","rotationspeed","configure","phase","getContext","Image","devicePixelRatio","Colors","Utils","rtn","paddedHex","hex","points","rgb2hex","g","hex2rgb","h","substr","hex2hsv","substring","minVal","maxVal","delta","del_R","del_G","del_B","hsv2rgb","HSV","S","V","hi","f","q","rgb2hsl","RGB","G","B","hsv2hsl","H","_H","_S","_L","hsv","r1","g1","b1","maxColor","minColor","R","name2hex","nar","name2rgb","icn","name2hsv","complement","cval","mode","chars","string_length","hexStr","rnum","hic","AnnotationWidget","browser","$parent","config","trackListRetrievalCallback","$container","class","annotationPresentationButton","title","alertMessage","annotationPanel","$root","updateBody","tracks","trackRenderers","isTrack2D","zi","$annotationPanel","Track2D","annotationPanelRow","trackRenderer","$button","igv","presentAlert","hideMenu","$panel_header","$load_container","$div","$fa","makeDraggable","track","$colorpickerContainer","$colorpickerButton","$colorpicker","$row_container","$row","$hideShowTrack","$deleteTrack","$upTrack","$downTrack","$e","hidden_color","trackList","xyTrackRendererPair","track1D","upp","dwn","trackView","isVisible","contactMatrixView","clearCaches","annotationColorSwatch","getColor","createAnnotationPanelColorpickerContainer","createColorSwatchSelector","$swatch","eventBus","post","setColor","updateLayout","layoutController","removeTrackRendererPair","trackRenderPair","rgbString","closeHandler","$header","CaptionManager","$caption","keyup","getCaption","setCaption","ChromosomeSelectorWidget","$label","$selector_container","$doit","$x_axis_selector","$y_axis_selector","chr1Index","chr2Index","setChromosomes","dataLoadConfig","receiveEvent","respondToDataLoadWithDataset","subscribe","locusChangeConfig","respondToLocusChangeWithState","dataset","$xFound","$yFound","chromosomes","chr","chr1","chr2","ssx","ssy","DRAG_THRESHOLD","DOUBLE_TAP_DIST_THRESHOLD","DOUBLE_TAP_TIME_THRESHOLD","ContactMatrixView","scrollbarWidget","ScrollbarWidget","$viewport","$canvas","$fa_spinner","sweepZoom","SweepZoom","$rulerSweeper","$x_guide","$y_guide","$y_axis_scrollbar_container","displayMode","imageTileCache","imageTileCacheKeys","imageTileCacheLimit","isMobile","colorScaleThresholdCache","colorScale","ColorScale","ratioColorScale","RatioColorScale","setInitialImage","y","initialImage","img","setColorScale","diffColorScale","colorScaleKey","threshold","setColorScaleThreshold","getColorScale","setThreshold","repaint","setDisplayMode","normalization","getViewDimensions","mouseHandlersEnabled","addTouchHandlers","addMouseHandlers","validateInitialImage","equals","pixelSize","offsetX","offsetY","viewportWidth","viewportHeight","drawStaticImage","canvasWidth","canvasHeight","drawImage","readyToPaint","ignore","catch","console","Promise","startSpinner","getMatrices","matrices","matrix","bpZoomData","zd","blockBinCount","pixelSizeInt","widthInBins","heightInBins","blockCol1","blockCol2","blockRow1","blockRow2","promises","zdControl","checkColorScale","getImageTile","stopSpinner","updating","imageTiles","controlDataset","getMatrix","row1","row2","col1","col2","colorKey","changed","row","column","sameChr","blockNumber","blockColumnCount","getNormalizedBlock","computePercentile","computeColorScale","imageTile","x0","y0","scaledWidth","scaledHeight","useImageData","binSize","transpose","getNormalizedBlocks","averageCount","ctrlAverageCount","averageAcrossMapAndControl","controlBlock","records","drawBlock","setPixel","imageData","imageSize","rec","controlRecords","controlRec","score","record","getKey","getImageData","bin1","bin2","counts","red","green","blue","fillStyle","fillRect","putImageData","save","tracks2D","track2D","features","getFeatures","w","dim","strokeRect","restore","t1","percentile","isLoadingHICFile","$user_interaction_shield","isMouseDown","isDragging","isSweepZooming","mouseDown","mouseLast","mouseOver","lastWheelTime","dblclick","mouseX","layerX","mouseY","zoomAndCenter","eFixed","$menu","initialize","xy","willShowCrosshairs","updateCrosshairs","showCrosshairs","dx","dy","shiftCurrentImage","shiftPixels","panMouseUpOrMouseOut","xAxisRuler","unhighlightWholeChromosome","yAxisRuler","figureMode","mouseWheelHandler","hideCrosshairs","commit","direction","deltaY","translateMouseCoordinates","wheelClickZoom","lastTouch","pinch","viewport","ontouchstart","ev","touchCoords","translateTouchCoordinates","targetTouches","resolved","sqrt","ontouchmove","touchCoords1","touchCoords2","ontouchend","startT","endT","dxStart","dyStart","dxEnd","dyEnd","distStart","distEnd","deltaX","anchorPx","anchorPy","pinchZoom","$target","posx","posy","getThreshold","setColorComponents","components","getColorComponents","cs","stringify","frac","lowR","lowG","lowB","positiveScale","negativeScale","plusOrMinus","logScore","destringifyColorScale","pnstr","ratioCS","startsWith","foo","ControlMapWidget","$toggle_container","$cycle_container","$select","controlMapHash","ControlMapHash","toggle_arrows_up","toggle_arrows_down","getDisplayMode","updateOptions","toggleDisplayMode","toggleDisplayModeCycle","getDisplayModeCycle","cycleID","$toggle","$cycle","$img_a","$img_b","A","Cycle","AOB","BOA","$hidden","$shown","disableDisplayModeCycle","$cycle_outline","cycle_outline","$cycle_solid","cycle_solid","displayModeOld","displayModeNew","setDisplayModeHelper","EventBus","subscribers","eventType","subscriberList","subscriber","propogate","geneSearch","genomeId","featureName","fulfill","searchServiceURL","loadString","parseSearchResults","splitLines","linesTrimmed","line","Genome","chromosomeLookupTable","genomeLength","bpLength","chrAliasTable","chromosome","alias","getChromosomeName","getChromosome","chrname","getGenomeCoordinate","getCumulativeOffset","getChromsosomeForCoordinate","queryChr","cumulativeOffsets","computeCumulativeOffsets","getGenomeLength","defaultPixelSize","defaultState","MAX_PIXEL_SIZE","DEFAULT_ANNOTATION_COLOR","defaultSize","allBrowsers","createBrowser","hic_container","loadInitialImage","setInitialDataset","loadControlFile","controlUrl","loadHicControlFile","controlName","nvi","controlNvi","isControl","$contactMaplabel","genome","initialImageImg","initialImageX","initialImageY","onerror","imageURL","$hic_container","setDefaults","apiKey","setApiKey","queryString","initFromUrl","query","extractQuery","uriDecode","Browser","decodeQuery","setCurrentBrowser","isFigureMode","$browser_panel_delete_button","trackMenuReplacement","TrackMenuReplacement","createIGV","loadHicFile","loadTracks","normVectorFiles","nv","loadNormalizationFile","cycle","controlMapWidget","deleteBrowserPanel","getCurrentBrowser","loadDataset","extractName","hicReader","HiCReader","nviArray","decodeURIComponent","readNormVectorIndex","syncBrowsers","browsers","browsersWithMaps","incompatibleDatasets","gid","canonicalGenomeId","areCompatible","b2","synchedBrowsers","$app_container","miniMode","resolutionLocked","LayoutController","navbarHeight","currentBrowser","toggleMenu","showMenu","xGuide","yGuide","$x_track_guide","$y_track_guide","genomicState","gs","bpResolution","bpResolutions","bpp","startBP","endBP","trackConfigurations","inferTypes","Google","getDriveFileInfo","originalFilename","inferTrackTypes","extractFilename","errorPrefix","trackXYPairs","promises2D","promisesNV","File","track_height","endsWith","loadTrack2D","createTrack","tracksLoaded","normVectors","presentError","readNormalizationVectorFile","normVectorCache","normalizationTypes","renderTracks","xyTrackRenderPair","renderTrackXY","removeAllTrackXYPairs","$controlMaplabel","clearSession","previousGenomeId","setState","synchState","canBeSynched","syncState","getNormVectorIndex","d1","d2","compareChromosomes","findDefaultZoom","chrLength","viewDimensions","nBins","z","parseGotoInput","loci","xLocus","parseLocusString","yLocus","selectedGene","goto","alert","wholeChr","findMatchingZoomIndex","targetResolution","resolutionArray","locus","extent","locusObject","numeric","scaleFactor","currentResolution","newResolution","newPixelSize","newZoom","zoomChanged","minZoom","minPixelSize","minPS","gx","gy","clamp","resolutionChanged","centerPX","centerPY","genomeCoordX","wholeGenomeResolution","genomeCoordY","chrX","chrY","shiftRatio","setZoom","xCenter","yCenter","newXCenter","newYCenter","sync","order","syncCanvas","chr1Length","chr2Length","findZoomForResolution","getZoomDataByIndex","nBins1","nBins2","getSyncState","chr1Name","chr2Name","binX","binY","getChrIndexFromName","getZoomIndexForBinSize","setNormalization","repaintMatrix","locusChangeEvent","dragging","bpX","bpXMax","bpY","bpYMax","minResolution","viewWidth","maxExtent","newXBin","newYBin","maxX","maxY","updateTimer","locusChange","resolution","State","showLocusGoto","showHicContactMapLabel","showChromosomeSelector","getNviString","normalizationVectorIndexRange","nviString","parseUri","parser","strictMode","uri","$0","$2","loose","gup","regexS","regex","replacement","urlShortcuts","getQueryString","trackString","paramString","dataRange","captionDiv","captionText","paramEncode","hicUrl","normVectorString","parapmDecode","destringifyStateV0","destringifyTracksV0","oauthToken","trackStringList","configList","dataRangeString","encodeArray","arrayStr","encodeArrayElement","decodeArray","decodeArrayElement","paramDecode","hicBrowser","constants","defaultColor","trackContainerDiv","$x_track_container","trackMenuItem","trackMenuItem_Replacement","trackMenuItemList","trackMenuItemList_Replacement","popover","Popover","alertDialog","AlertDialog","inputDialog","InputDialog","trackRemovalDialog","TrackRemovalDialog","dataRangeDialog","DataRangeDialog","ColorScaleWidget","getRGBString","$minusButton","colorSwatch","minusColorPicker","createColorPicker","$plusButton","plusColorPicker","presentColorPicker","$high_colorscale_input","numberUnFormatter","updateThreshold","numberFormatter","comps","Color","rgbColor","$presentingButton","colorPicker","genericContainer","colorHandler","hexString","hexToRgb","Dataset","path","matrixCache","blockCache","blockCacheKeys","blockCacheLimit","remote","colorScaleCache","reader","readMatrix","getBlock","getNormalizationVector","nv1","nv2","normRecords","normBlock","nvnv","ContactRecord","Block","readBlock","chrIdx","getNormalizationVectorKey","readNormalizationVector","fragResolutions","chrName","otherDataset","chrs","otherChrs","normVectorIndex","URL","nviKey","hostname","pathname","fetch","redirect","nviResponse","readNormExpectedValuesAndNormVectorIndex","zoomData","LocusGoto","$resolution_selector","bpPerBin","pixelsPerBin","dimensionsPixels","startBP1","startBP2","endBP1","endBP2","Short_MIN_VALUE","headPath","headURL","fragmentSitesCache","loadFragData","readFooter","loadArrayBuffer","buildOptions","binaryParser","nBpResolutions","nFragResolutions","nSites","nChrs","nAttributes","BinaryParser","DataView","magic","getString","getInt","masterIndexPos","getLong","wholeGenomeChromosome","sites","knownGenomes","matchGenome","nBytes","masterIndex","nEntries","expectedValueVectors","normExpectedValueVectorsPosition","nviStart","byteCount","skipExpectedValues","sizeEstimate","normalizedExpectedValueVectors","processEntries","p0","filePosition","sizeInBytes","available","parseNext","chunkSize","nValues","nChrScaleFactors","parseEntry","getDouble","normalizationIndexPosition","dis","c1","c2","nResolutions","zdList","p1","getSites","p2","sites1","sites2","parseMatixZoomData","Matrix","blockIndex","blockIndexMap","inflate","plain","nRecords","getFloat","binXOffset","binYOffset","useShort","rowCount","getShort","colCount","nPts","entry","fragmentSitesIndex","readSites","chr1Sites","chr2Sites","sumCounts","occupiedCellCount","stdDev","percent95","nBlocks","avgCount","blockSizeInBytes","MatrixZoomData","allNaN","NormalizationVector","chrMap","vectors","Set","NaN","zoomDataList","fragZoomData","zdArray","getZoomData","ExpectedValueFunction","normType","normFactors","ResolutionSelector","$label_container","$resolution_lock","setResolutionLock","zoomIndex","htmlString","isWholeGenome","divisor","optionListHTML","harmonizeContactAndControlResolutuionOptions","$options","resolutions","dictionary","resolutionDictionary","$option","pretty","Ruler","$axis","$wholeGenomeContainer","yAxisTransformWithContext","setAxisTransform","wholeGenomeLayout","axisName","dimen","scraps","$firstDiv","bboxes","percentage","decorate","bbox","hideWholeGenome","$d","otherRuler","hoverHandler","doHover","$child","$firstChild","fo","hitTest","$result","showWholeGenome","canvasTransform","identityTransformWithContext","labelReflectionTransform","reflectionTransformWithContext","exe","updateWidthWithCalculation","updateHeight","bin","isBrowserInWholeGenomeView","graphics","bpPerPixel","bpStart","rulerTickMarkReferencePixels","$otherRulerCanvas","rulerLengthPixels","rulerHeightPixels","fontStyle","tickSpec","majorTickSpacing","nTick","pixelLast","pixel","tickSpacingPixels","labelWidthPixels","modulo","yShim","tickHeight","rulerLabel","chrSize","textAlign","font","findSpacing","majorTick","setProperties","formatNumber","unitMultiplier","majorUnit","measureText","fillText","strokeLine","anynum","decimal","divider","workNum","workStr","dStr","dNum","pStr","dLen","retval","drawAll","lastX","chrLabel","TickSpacing","rulerLengthBP","nZeroes","log10","nMajorTicks","dn","setTransform","destringifyState","Straw","getContactRecords","region1","region2","units","binsize","getDataset","chr1idx","chr2idx","contactRecords","featureMap","featureCount","validateColor","repColor","getAltKey","parseData","isBedPE","feature","allFeatures","delimiter","colorColumn","chr1Alt","chr2Alt","urlShorteners","setURLShortener","shortenerConfigs","getShortener","shortener","provider","GoogleURL","BitlyURL","shortenURL","expandURL","urlObject","expander","shortJuiceboxURL","shortURL","decodeJBUrl","jbURL","api","fetchBitlyApiKey","devIP","getApiKey","endpoint","loadJson","status_code","status_txt","longUrl","long_url","fetchGoogleApiKey","sendData","doPlusOrMinusOrUndefined","$span","$fa_square","$fa_plus_minus","urlOrFile","isFilePath","igvSupports","threshhold","deferTimer","reflectionRotationWithContext","reflectionAboutYAxisAtOffsetWithContext","mean","k","selectElement","BinaryHeap","i1","i2","bubbleUp","sinkDown","parentN","elemScore","child2N","child1N","child1","child1Score","child2","child2Score","message","httpMessages","label","present","borderColor","createNavBar","createAllContainers","scrollbar_height","axis_height","nav_bar_label_height","nav_bar_widget_container_height","nav_bar_shim_height","$navbar_container","$map_container","$upper_widget_container","$lower_widget_container","$menuPresentDismiss","locusGoto","resolutionSelector","colorscaleWidget","normalizationSelector","NormalizationWidget","height_calc","$track_shim","$x_tracks","$content_container","createMenu","$y_tracks","$x_axis_scrollbar_container","chromosomeSelector","loadTitle","annotation2DWidget","annotation1DDWidget","trackRendererPair","doLayoutTrackXYPairCount","trackPair","TrackRenderer","indices","unused","discard","removeLastTrackXYPair","trackXYPairCount","track_aggregate_height","width_calc","doLayoutWithRootContainerSize","labels","VC","VC_SQRT","KR","INTER_VC","INTER_VC_SQRT","INTER_KR","GW_VC","GW_VC_SQRT","GW_KR","$normalization_selector","$spinner","startNotReady","stopNotReady","norm","labelPresentation","isSelected","titleString","valueString","$x_axis_scrollbar","$x_label","$y_axis_scrollbar","$y_label","css2Bin","$element","attribute","numer","denom","chromosomeLengthsBin","chromosomeLengthsPixel","pixels","widthBin","heightBin","bins","percentages","binPercentage","pixelPercentage","sweepRect","pageCoords","anchor","coordinateFrame","aspectRatio","clipped","posX","posY","xMax","yMax","minimumResolution","TrackLabel","$track","endEdit","defaultText","popoverPresentTrackGearMenuReplacement","$popoverContent","$popover","menuItems","trackRenameMenuItem","menuItemList","trackRemovalMenuItem","menuClickHandler","dialogClickHandler","$input","setTrackName","trackDiv","DEPRICATED_trackMenuItemList_Replacement","trackMenuItemListHelper","menuItemLabel","dialogLabelHandler","dialogInputValue","clickHandler","initializationHelper","doShowLabelAndGear","$x_track_label","$x_track_menu_container","spinner","throbber","$menu_container","$menu_button","presentTrackGearMenu","configTrackTransforms","tile","setDataRange","autoscale","autscale","lengthPixel","lengthBP","containsRange","visibilityWindow","drawConfiguration","pixelWidth","pixelHeight","bpEnd","viewportContainerX","viewportContainerWidth","labelTransform","Tile","checkZoomIn","drawTileWithGenomicState","offsetPixel","isLoading","loading"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA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","file":"juicebox.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"hic\"] = factory();\n\telse\n\t\troot[\"hic\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./tmp/juicebox.js\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar regeneratorRuntime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n","\nmodule.exports = (function () {\n\n    const regeneratorRuntime = require(\"regenerator-runtime\");\n\n\n/*!\n * jQuery JavaScript Library v1.12.4\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-05-20T17:17Z\n */\n\n// Modified for encapsulation in igv module\n// * no exports\n// * no global definition\n// * noConflict not supported (as _ is encapsulated its not needed)\n\nvar $, jQuery;\n\n(function (global, factory) {\n\n\n    $ = factory(global);\n    jQuery = $;\n\n\n// Pass this if window is not defined yet\n}(typeof window !== \"undefined\" ? window : this, function (window) {\n\n// Support: Firefox 18+\n// Can't be in strict mode, several libs including ASP.NET trace\n// the stack via arguments.caller.callee and Firefox dies if\n// you try to trace through \"use strict\" call chains. (#13335)\n//\"use strict\";\n    var deletedIds = [];\n\n    var document = window.document;\n\n    var slice = deletedIds.slice;\n\n    var concat = deletedIds.concat;\n\n    var push = deletedIds.push;\n\n    var indexOf = deletedIds.indexOf;\n\n    var class2type = {};\n\n    var toString = class2type.toString;\n\n    var hasOwn = class2type.hasOwnProperty;\n\n    var support = {};\n\n\n    var\n        version = \"1.12.4\",\n\n        // Define a local copy of jQuery\n        jQuery = function (selector, context) {\n\n            // The jQuery object is actually just the init constructor 'enhanced'\n            // Need init if jQuery is called (just allow error to be thrown if not included)\n            return new jQuery.fn.init(selector, context);\n        },\n\n        // Support: Android<4.1, IE<9\n        // Make sure we trim BOM and NBSP\n        rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n        // Matches dashed string for camelizing\n        rmsPrefix = /^-ms-/,\n        rdashAlpha = /-([\\da-z])/gi,\n\n        // Used by jQuery.camelCase as callback to replace()\n        fcamelCase = function (all, letter) {\n            return letter.toUpperCase();\n        };\n\n    jQuery.fn = jQuery.prototype = {\n\n        // The current version of jQuery being used\n        jquery: version,\n\n        constructor: jQuery,\n\n        // Start with an empty selector\n        selector: \"\",\n\n        // The default length of a jQuery object is 0\n        length: 0,\n\n        toArray: function () {\n            return slice.call(this);\n        },\n\n        // Get the Nth element in the matched element set OR\n        // Get the whole matched element set as a clean array\n        get: function (num) {\n            return num != null ?\n\n                // Return just the one element from the set\n                (num < 0 ? this[num + this.length] : this[num]) :\n\n                // Return all the elements in a clean array\n                slice.call(this);\n        },\n\n        // Take an array of elements and push it onto the stack\n        // (returning the new matched element set)\n        pushStack: function (elems) {\n\n            // Build a new jQuery matched element set\n            var ret = jQuery.merge(this.constructor(), elems);\n\n            // Add the old object onto the stack (as a reference)\n            ret.prevObject = this;\n            ret.context = this.context;\n\n            // Return the newly-formed element set\n            return ret;\n        },\n\n        // Execute a callback for every element in the matched set.\n        each: function (callback) {\n            return jQuery.each(this, callback);\n        },\n\n        map: function (callback) {\n            return this.pushStack(jQuery.map(this, function (elem, i) {\n                return callback.call(elem, i, elem);\n            }));\n        },\n\n        slice: function () {\n            return this.pushStack(slice.apply(this, arguments));\n        },\n\n        first: function () {\n            return this.eq(0);\n        },\n\n        last: function () {\n            return this.eq(-1);\n        },\n\n        eq: function (i) {\n            var len = this.length,\n                j = +i + (i < 0 ? len : 0);\n            return this.pushStack(j >= 0 && j < len ? [this[j]] : []);\n        },\n\n        end: function () {\n            return this.prevObject || this.constructor();\n        },\n\n        // For internal use only.\n        // Behaves like an Array's method, not like a jQuery method.\n        push: push,\n        sort: deletedIds.sort,\n        splice: deletedIds.splice\n    };\n\n    jQuery.extend = jQuery.fn.extend = function () {\n        var src, copyIsArray, copy, name, options, clone,\n            target = arguments[0] || {},\n            i = 1,\n            length = arguments.length,\n            deep = false;\n\n        // Handle a deep copy situation\n        if (typeof target === \"boolean\") {\n            deep = target;\n\n            // skip the boolean and the target\n            target = arguments[i] || {};\n            i++;\n        }\n\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== \"object\" && !jQuery.isFunction(target)) {\n            target = {};\n        }\n\n        // extend jQuery itself if only one argument is passed\n        if (i === length) {\n            target = this;\n            i--;\n        }\n\n        for (; i < length; i++) {\n\n            // Only deal with non-null/undefined values\n            if ((options = arguments[i]) != null) {\n\n                // Extend the base object\n                for (name in options) {\n                    src = target[name];\n                    copy = options[name];\n\n                    // Prevent never-ending loop\n                    if (target === copy) {\n                        continue;\n                    }\n\n                    // Recurse if we're merging plain objects or arrays\n                    if (deep && copy && (jQuery.isPlainObject(copy) ||\n                        (copyIsArray = jQuery.isArray(copy)))) {\n\n                        if (copyIsArray) {\n                            copyIsArray = false;\n                            clone = src && jQuery.isArray(src) ? src : [];\n\n                        } else {\n                            clone = src && jQuery.isPlainObject(src) ? src : {};\n                        }\n\n                        // Never move original objects, clone them\n                        target[name] = jQuery.extend(deep, clone, copy);\n\n                        // Don't bring in undefined values\n                    } else if (copy !== undefined) {\n                        target[name] = copy;\n                    }\n                }\n            }\n        }\n\n        // Return the modified object\n        return target;\n    };\n\n    jQuery.extend({\n\n        // Unique for each copy of jQuery on the page\n        expando: \"jQuery\" + (version + Math.random()).replace(/\\D/g, \"\"),\n\n        // Assume jQuery is ready without the ready module\n        isReady: true,\n\n        error: function (msg) {\n            throw new Error(msg);\n        },\n\n        noop: function () {\n        },\n\n        // See test/unit/core.js for details concerning isFunction.\n        // Since version 1.3, DOM methods and functions like alert\n        // aren't supported. They return false on IE (#2968).\n        isFunction: function (obj) {\n            return jQuery.type(obj) === \"function\";\n        },\n\n        isArray: Array.isArray || function (obj) {\n            return jQuery.type(obj) === \"array\";\n        },\n\n        isWindow: function (obj) {\n            /* jshint eqeqeq: false */\n            return obj != null && obj == obj.window;\n        },\n\n        isNumeric: function (obj) {\n\n            // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n            // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n            // subtraction forces infinities to NaN\n            // adding 1 corrects loss of precision from parseFloat (#15100)\n            var realStringObj = obj && obj.toString();\n            return !jQuery.isArray(obj) && (realStringObj - parseFloat(realStringObj) + 1) >= 0;\n        },\n\n        isEmptyObject: function (obj) {\n            var name;\n            for (name in obj) {\n                return false;\n            }\n            return true;\n        },\n\n        isPlainObject: function (obj) {\n            var key;\n\n            // Must be an Object.\n            // Because of IE, we also have to check the presence of the constructor property.\n            // Make sure that DOM nodes and window objects don't pass through, as well\n            if (!obj || jQuery.type(obj) !== \"object\" || obj.nodeType || jQuery.isWindow(obj)) {\n                return false;\n            }\n\n            try {\n\n                // Not own constructor property must be Object\n                if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n                    return false;\n                }\n            } catch (e) {\n\n                // IE8,9 Will throw exceptions on certain host objects #9897\n                return false;\n            }\n\n            // Support: IE<9\n            // Handle iteration over inherited properties before own properties.\n            if (!support.ownFirst) {\n                for (key in obj) {\n                    return hasOwn.call(obj, key);\n                }\n            }\n\n            // Own properties are enumerated firstly, so to speed up,\n            // if last one is own, then all properties are own.\n            for (key in obj) {\n            }\n\n            return key === undefined || hasOwn.call(obj, key);\n        },\n\n        type: function (obj) {\n            if (obj == null) {\n                return obj + \"\";\n            }\n            return typeof obj === \"object\" || typeof obj === \"function\" ?\n                class2type[toString.call(obj)] || \"object\" :\n                typeof obj;\n        },\n\n        // Workarounds based on findings by Jim Driscoll\n        // http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context\n        globalEval: function (data) {\n            if (data && jQuery.trim(data)) {\n\n                // We use execScript on Internet Explorer\n                // We use an anonymous function so that context is window\n                // rather than jQuery in Firefox\n                (window.execScript || function (data) {\n                    window[\"eval\"].call(window, data); // jscs:ignore requireDotNotation\n                })(data);\n            }\n        },\n\n        // Convert dashed to camelCase; used by the css and data modules\n        // Microsoft forgot to hump their vendor prefix (#9572)\n        camelCase: function (string) {\n            return string.replace(rmsPrefix, \"ms-\").replace(rdashAlpha, fcamelCase);\n        },\n\n        nodeName: function (elem, name) {\n            return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n        },\n\n        each: function (obj, callback) {\n            var length, i = 0;\n\n            if (isArrayLike(obj)) {\n                length = obj.length;\n                for (; i < length; i++) {\n                    if (callback.call(obj[i], i, obj[i]) === false) {\n                        break;\n                    }\n                }\n            } else {\n                for (i in obj) {\n                    if (callback.call(obj[i], i, obj[i]) === false) {\n                        break;\n                    }\n                }\n            }\n\n            return obj;\n        },\n\n        // Support: Android<4.1, IE<9\n        trim: function (text) {\n            return text == null ?\n                \"\" :\n                (text + \"\").replace(rtrim, \"\");\n        },\n\n        // results is for internal usage only\n        makeArray: function (arr, results) {\n            var ret = results || [];\n\n            if (arr != null) {\n                if (isArrayLike(Object(arr))) {\n                    jQuery.merge(ret,\n                        typeof arr === \"string\" ?\n                            [arr] : arr\n                    );\n                } else {\n                    push.call(ret, arr);\n                }\n            }\n\n            return ret;\n        },\n\n        inArray: function (elem, arr, i) {\n            var len;\n\n            if (arr) {\n                if (indexOf) {\n                    return indexOf.call(arr, elem, i);\n                }\n\n                len = arr.length;\n                i = i ? i < 0 ? Math.max(0, len + i) : i : 0;\n\n                for (; i < len; i++) {\n\n                    // Skip accessing in sparse arrays\n                    if (i in arr && arr[i] === elem) {\n                        return i;\n                    }\n                }\n            }\n\n            return -1;\n        },\n\n        merge: function (first, second) {\n            var len = +second.length,\n                j = 0,\n                i = first.length;\n\n            while (j < len) {\n                first[i++] = second[j++];\n            }\n\n            // Support: IE<9\n            // Workaround casting of .length to NaN on otherwise arraylike objects (e.g., NodeLists)\n            if (len !== len) {\n                while (second[j] !== undefined) {\n                    first[i++] = second[j++];\n                }\n            }\n\n            first.length = i;\n\n            return first;\n        },\n\n        grep: function (elems, callback, invert) {\n            var callbackInverse,\n                matches = [],\n                i = 0,\n                length = elems.length,\n                callbackExpect = !invert;\n\n            // Go through the array, only saving the items\n            // that pass the validator function\n            for (; i < length; i++) {\n                callbackInverse = !callback(elems[i], i);\n                if (callbackInverse !== callbackExpect) {\n                    matches.push(elems[i]);\n                }\n            }\n\n            return matches;\n        },\n\n        // arg is for internal usage only\n        map: function (elems, callback, arg) {\n            var length, value,\n                i = 0,\n                ret = [];\n\n            // Go through the array, translating each of the items to their new values\n            if (isArrayLike(elems)) {\n                length = elems.length;\n                for (; i < length; i++) {\n                    value = callback(elems[i], i, arg);\n\n                    if (value != null) {\n                        ret.push(value);\n                    }\n                }\n\n                // Go through every key on the object,\n            } else {\n                for (i in elems) {\n                    value = callback(elems[i], i, arg);\n\n                    if (value != null) {\n                        ret.push(value);\n                    }\n                }\n            }\n\n            // Flatten any nested arrays\n            return concat.apply([], ret);\n        },\n\n        // A global GUID counter for objects\n        guid: 1,\n\n        // Bind a function to a context, optionally partially applying any\n        // arguments.\n        proxy: function (fn, context) {\n            var args, proxy, tmp;\n\n            if (typeof context === \"string\") {\n                tmp = fn[context];\n                context = fn;\n                fn = tmp;\n            }\n\n            // Quick check to determine if target is callable, in the spec\n            // this throws a TypeError, but we will just return undefined.\n            if (!jQuery.isFunction(fn)) {\n                return undefined;\n            }\n\n            // Simulated bind\n            args = slice.call(arguments, 2);\n            proxy = function () {\n                return fn.apply(context || this, args.concat(slice.call(arguments)));\n            };\n\n            // Set the guid of unique handler to the same of original handler, so it can be removed\n            proxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n            return proxy;\n        },\n\n        now: function () {\n            return +(new Date());\n        },\n\n        // jQuery.support is not used in Core but other projects attach their\n        // properties to it so it needs to exist.\n        support: support\n    });\n\n// JSHint would error on this code due to the Symbol not being defined in ES5.\n// Defining this global in .jshintrc would create a danger of using the global\n// unguarded in another place, it seems safer to just disable JSHint for these\n// three lines.\n    /* jshint ignore: start */\n    if (typeof Symbol === \"function\") {\n        jQuery.fn[Symbol.iterator] = deletedIds[Symbol.iterator];\n    }\n    /* jshint ignore: end */\n\n// Populate the class2type map\n    jQuery.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),\n        function (i, name) {\n            class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n        });\n\n    function isArrayLike(obj) {\n\n        // Support: iOS 8.2 (not reproducible in simulator)\n        // `in` check used to prevent JIT error (gh-2145)\n        // hasOwn isn't used here due to false negatives\n        // regarding Nodelist length in IE\n        var length = !!obj && \"length\" in obj && obj.length,\n            type = jQuery.type(obj);\n\n        if (type === \"function\" || jQuery.isWindow(obj)) {\n            return false;\n        }\n\n        return type === \"array\" || length === 0 ||\n            typeof length === \"number\" && length > 0 && (length - 1) in obj;\n    }\n\n    var Sizzle =\n        /*!\n         * Sizzle CSS Selector Engine v2.2.1\n         * http://sizzlejs.com/\n         *\n         * Copyright jQuery Foundation and other contributors\n         * Released under the MIT license\n         * http://jquery.org/license\n         *\n         * Date: 2015-10-17\n         */\n        (function (window) {\n\n            var i,\n                support,\n                Expr,\n                getText,\n                isXML,\n                tokenize,\n                compile,\n                select,\n                outermostContext,\n                sortInput,\n                hasDuplicate,\n\n                // Local document vars\n                setDocument,\n                document,\n                docElem,\n                documentIsHTML,\n                rbuggyQSA,\n                rbuggyMatches,\n                matches,\n                contains,\n\n                // Instance-specific data\n                expando = \"sizzle\" + 1 * new Date(),\n                preferredDoc = window.document,\n                dirruns = 0,\n                done = 0,\n                classCache = createCache(),\n                tokenCache = createCache(),\n                compilerCache = createCache(),\n                sortOrder = function (a, b) {\n                    if (a === b) {\n                        hasDuplicate = true;\n                    }\n                    return 0;\n                },\n\n                // General-purpose constants\n                MAX_NEGATIVE = 1 << 31,\n\n                // Instance methods\n                hasOwn = ({}).hasOwnProperty,\n                arr = [],\n                pop = arr.pop,\n                push_native = arr.push,\n                push = arr.push,\n                slice = arr.slice,\n                // Use a stripped-down indexOf as it's faster than native\n                // http://jsperf.com/thor-indexof-vs-for/5\n                indexOf = function (list, elem) {\n                    var i = 0,\n                        len = list.length;\n                    for (; i < len; i++) {\n                        if (list[i] === elem) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                },\n\n                booleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n                // Regular expressions\n\n                // http://www.w3.org/TR/css3-selectors/#whitespace\n                whitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n                // http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n                identifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\n\n                // Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n                attributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n                    // Operator (capture 2)\n                    \"*([*^$|!~]?=)\" + whitespace +\n                    // \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n                    \"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n                    \"*\\\\]\",\n\n                pseudos = \":(\" + identifier + \")(?:\\\\((\" +\n                    // To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n                    // 1. quoted (capture 3; capture 4 or capture 5)\n                    \"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n                    // 2. simple (capture 6)\n                    \"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n                    // 3. anything else (capture 2)\n                    \".*\" +\n                    \")\\\\)|)\",\n\n                // Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n                rwhitespace = new RegExp(whitespace + \"+\", \"g\"),\n                rtrim = new RegExp(\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\"),\n\n                rcomma = new RegExp(\"^\" + whitespace + \"*,\" + whitespace + \"*\"),\n                rcombinators = new RegExp(\"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\"),\n\n                rattributeQuotes = new RegExp(\"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\"),\n\n                rpseudo = new RegExp(pseudos),\n                ridentifier = new RegExp(\"^\" + identifier + \"$\"),\n\n                matchExpr = {\n                    \"ID\": new RegExp(\"^#(\" + identifier + \")\"),\n                    \"CLASS\": new RegExp(\"^\\\\.(\" + identifier + \")\"),\n                    \"TAG\": new RegExp(\"^(\" + identifier + \"|[*])\"),\n                    \"ATTR\": new RegExp(\"^\" + attributes),\n                    \"PSEUDO\": new RegExp(\"^\" + pseudos),\n                    \"CHILD\": new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n                        \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n                        \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\"),\n                    \"bool\": new RegExp(\"^(?:\" + booleans + \")$\", \"i\"),\n                    // For use in libraries implementing .is()\n                    // We use this for POS matching in `select`\n                    \"needsContext\": new RegExp(\"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n                        whitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\")\n                },\n\n                rinputs = /^(?:input|select|textarea|button)$/i,\n                rheader = /^h\\d$/i,\n\n                rnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n                // Easily-parseable/retrievable ID or TAG or CLASS selectors\n                rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n                rsibling = /[+~]/,\n                rescape = /'|\\\\/g,\n\n                // CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n                runescape = new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\"),\n                funescape = function (_, escaped, escapedWhitespace) {\n                    var high = \"0x\" + escaped - 0x10000;\n                    // NaN means non-codepoint\n                    // Support: Firefox<24\n                    // Workaround erroneous numeric interpretation of +\"0x\"\n                    return high !== high || escapedWhitespace ?\n                        escaped :\n                        high < 0 ?\n                            // BMP codepoint\n                            String.fromCharCode(high + 0x10000) :\n                            // Supplemental Plane codepoint (surrogate pair)\n                            String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);\n                },\n\n                // Used for iframes\n                // See setDocument()\n                // Removing the function wrapper causes a \"Permission Denied\"\n                // error in IE\n                unloadHandler = function () {\n                    setDocument();\n                };\n\n// Optimize for push.apply( _, NodeList )\n            try {\n                push.apply(\n                    (arr = slice.call(preferredDoc.childNodes)),\n                    preferredDoc.childNodes\n                );\n                // Support: Android<4.0\n                // Detect silently failing push.apply\n                arr[preferredDoc.childNodes.length].nodeType;\n            } catch (e) {\n                push = {\n                    apply: arr.length ?\n\n                        // Leverage slice if possible\n                        function (target, els) {\n                            push_native.apply(target, slice.call(els));\n                        } :\n\n                        // Support: IE<9\n                        // Otherwise append directly\n                        function (target, els) {\n                            var j = target.length,\n                                i = 0;\n                            // Can't trust NodeList.length\n                            while ((target[j++] = els[i++])) {\n                            }\n                            target.length = j - 1;\n                        }\n                };\n            }\n\n            function Sizzle(selector, context, results, seed) {\n                var m, i, elem, nid, nidselect, match, groups, newSelector,\n                    newContext = context && context.ownerDocument,\n\n                    // nodeType defaults to 9, since context defaults to document\n                    nodeType = context ? context.nodeType : 9;\n\n                results = results || [];\n\n                // Return early from calls with invalid selector or context\n                if (typeof selector !== \"string\" || !selector ||\n                    nodeType !== 1 && nodeType !== 9 && nodeType !== 11) {\n\n                    return results;\n                }\n\n                // Try to shortcut find operations (as opposed to filters) in HTML documents\n                if (!seed) {\n\n                    if ((context ? context.ownerDocument || context : preferredDoc) !== document) {\n                        setDocument(context);\n                    }\n                    context = context || document;\n\n                    if (documentIsHTML) {\n\n                        // If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n                        // (excepting DocumentFragment context, where the methods don't exist)\n                        if (nodeType !== 11 && (match = rquickExpr.exec(selector))) {\n\n                            // ID selector\n                            if ((m = match[1])) {\n\n                                // Document context\n                                if (nodeType === 9) {\n                                    if ((elem = context.getElementById(m))) {\n\n                                        // Support: IE, Opera, Webkit\n                                        // TODO: identify versions\n                                        // getElementById can match elements by name instead of ID\n                                        if (elem.id === m) {\n                                            results.push(elem);\n                                            return results;\n                                        }\n                                    } else {\n                                        return results;\n                                    }\n\n                                    // Element context\n                                } else {\n\n                                    // Support: IE, Opera, Webkit\n                                    // TODO: identify versions\n                                    // getElementById can match elements by name instead of ID\n                                    if (newContext && (elem = newContext.getElementById(m)) &&\n                                        contains(context, elem) &&\n                                        elem.id === m) {\n\n                                        results.push(elem);\n                                        return results;\n                                    }\n                                }\n\n                                // Type selector\n                            } else if (match[2]) {\n                                push.apply(results, context.getElementsByTagName(selector));\n                                return results;\n\n                                // Class selector\n                            } else if ((m = match[3]) && support.getElementsByClassName &&\n                                context.getElementsByClassName) {\n\n                                push.apply(results, context.getElementsByClassName(m));\n                                return results;\n                            }\n                        }\n\n                        // Take advantage of querySelectorAll\n                        if (support.qsa && !compilerCache[selector + \" \"] &&\n                            (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n\n                            if (nodeType !== 1) {\n                                newContext = context;\n                                newSelector = selector;\n\n                                // qSA looks outside Element context, which is not what we want\n                                // Thanks to Andrew Dupont for this workaround technique\n                                // Support: IE <=8\n                                // Exclude object elements\n                            } else if (context.nodeName.toLowerCase() !== \"object\") {\n\n                                // Capture the context ID, setting it first if necessary\n                                if ((nid = context.getAttribute(\"id\"))) {\n                                    nid = nid.replace(rescape, \"\\\\$&\");\n                                } else {\n                                    context.setAttribute(\"id\", (nid = expando));\n                                }\n\n                                // Prefix every selector in the list\n                                groups = tokenize(selector);\n                                i = groups.length;\n                                nidselect = ridentifier.test(nid) ? \"#\" + nid : \"[id='\" + nid + \"']\";\n                                while (i--) {\n                                    groups[i] = nidselect + \" \" + toSelector(groups[i]);\n                                }\n                                newSelector = groups.join(\",\");\n\n                                // Expand context for sibling selectors\n                                newContext = rsibling.test(selector) && testContext(context.parentNode) ||\n                                    context;\n                            }\n\n                            if (newSelector) {\n                                try {\n                                    push.apply(results,\n                                        newContext.querySelectorAll(newSelector)\n                                    );\n                                    return results;\n                                } catch (qsaError) {\n                                } finally {\n                                    if (nid === expando) {\n                                        context.removeAttribute(\"id\");\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // All others\n                return select(selector.replace(rtrim, \"$1\"), context, results, seed);\n            }\n\n            /**\n             * Create key-value caches of limited size\n             * @returns {function(string, object)} Returns the Object data after storing it on itself with\n             *    property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n             *    deleting the oldest entry\n             */\n            function createCache() {\n                var keys = [];\n\n                function cache(key, value) {\n                    // Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n                    if (keys.push(key + \" \") > Expr.cacheLength) {\n                        // Only keep the most recent entries\n                        delete cache[keys.shift()];\n                    }\n                    return (cache[key + \" \"] = value);\n                }\n\n                return cache;\n            }\n\n            /**\n             * Mark a function for special use by Sizzle\n             * @param {Function} fn The function to mark\n             */\n            function markFunction(fn) {\n                fn[expando] = true;\n                return fn;\n            }\n\n            /**\n             * Support testing using an element\n             * @param {Function} fn Passed the created div and expects a boolean result\n             */\n            function assert(fn) {\n                var div = document.createElement(\"div\");\n\n                try {\n                    return !!fn(div);\n                } catch (e) {\n                    return false;\n                } finally {\n                    // Remove from its parent by default\n                    if (div.parentNode) {\n                        div.parentNode.removeChild(div);\n                    }\n                    // release memory in IE\n                    div = null;\n                }\n            }\n\n            /**\n             * Adds the same handler for all of the specified attrs\n             * @param {String} attrs Pipe-separated list of attributes\n             * @param {Function} handler The method that will be applied\n             */\n            function addHandle(attrs, handler) {\n                var arr = attrs.split(\"|\"),\n                    i = arr.length;\n\n                while (i--) {\n                    Expr.attrHandle[arr[i]] = handler;\n                }\n            }\n\n            /**\n             * Checks document order of two siblings\n             * @param {Element} a\n             * @param {Element} b\n             * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n             */\n            function siblingCheck(a, b) {\n                var cur = b && a,\n                    diff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n                        (~b.sourceIndex || MAX_NEGATIVE) -\n                        (~a.sourceIndex || MAX_NEGATIVE);\n\n                // Use IE sourceIndex if available on both nodes\n                if (diff) {\n                    return diff;\n                }\n\n                // Check if b follows a\n                if (cur) {\n                    while ((cur = cur.nextSibling)) {\n                        if (cur === b) {\n                            return -1;\n                        }\n                    }\n                }\n\n                return a ? 1 : -1;\n            }\n\n            /**\n             * Returns a function to use in pseudos for input types\n             * @param {String} type\n             */\n            function createInputPseudo(type) {\n                return function (elem) {\n                    var name = elem.nodeName.toLowerCase();\n                    return name === \"input\" && elem.type === type;\n                };\n            }\n\n            /**\n             * Returns a function to use in pseudos for buttons\n             * @param {String} type\n             */\n            function createButtonPseudo(type) {\n                return function (elem) {\n                    var name = elem.nodeName.toLowerCase();\n                    return (name === \"input\" || name === \"button\") && elem.type === type;\n                };\n            }\n\n            /**\n             * Returns a function to use in pseudos for positionals\n             * @param {Function} fn\n             */\n            function createPositionalPseudo(fn) {\n                return markFunction(function (argument) {\n                    argument = +argument;\n                    return markFunction(function (seed, matches) {\n                        var j,\n                            matchIndexes = fn([], seed.length, argument),\n                            i = matchIndexes.length;\n\n                        // Match elements found at the specified indexes\n                        while (i--) {\n                            if (seed[(j = matchIndexes[i])]) {\n                                seed[j] = !(matches[j] = seed[j]);\n                            }\n                        }\n                    });\n                });\n            }\n\n            /**\n             * Checks a node for validity as a Sizzle context\n             * @param {Element|Object=} context\n             * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n             */\n            function testContext(context) {\n                return context && typeof context.getElementsByTagName !== \"undefined\" && context;\n            }\n\n// Expose support vars for convenience\n            support = Sizzle.support = {};\n\n            /**\n             * Detects XML nodes\n             * @param {Element|Object} elem An element or a document\n             * @returns {Boolean} True iff elem is a non-HTML XML node\n             */\n            isXML = Sizzle.isXML = function (elem) {\n                // documentElement is verified for cases where it doesn't yet exist\n                // (such as loading iframes in IE - #4833)\n                var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n                return documentElement ? documentElement.nodeName !== \"HTML\" : false;\n            };\n\n            /**\n             * Sets document-related variables once based on the current document\n             * @param {Element|Object} [doc] An element or document object to use to set the document\n             * @returns {Object} Returns the current document\n             */\n            setDocument = Sizzle.setDocument = function (node) {\n                var hasCompare, parent,\n                    doc = node ? node.ownerDocument || node : preferredDoc;\n\n                // Return early if doc is invalid or already selected\n                if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {\n                    return document;\n                }\n\n                // Update global variables\n                document = doc;\n                docElem = document.documentElement;\n                documentIsHTML = !isXML(document);\n\n                // Support: IE 9-11, Edge\n                // Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n                if ((parent = document.defaultView) && parent.top !== parent) {\n                    // Support: IE 11\n                    if (parent.addEventListener) {\n                        parent.addEventListener(\"unload\", unloadHandler, false);\n\n                        // Support: IE 9 - 10 only\n                    } else if (parent.attachEvent) {\n                        parent.attachEvent(\"onunload\", unloadHandler);\n                    }\n                }\n\n                /* Attributes\n                 ---------------------------------------------------------------------- */\n\n                // Support: IE<8\n                // Verify that getAttribute really returns attributes and not properties\n                // (excepting IE8 booleans)\n                support.attributes = assert(function (div) {\n                    div.className = \"i\";\n                    return !div.getAttribute(\"className\");\n                });\n\n                /* getElement(s)By*\n                 ---------------------------------------------------------------------- */\n\n                // Check if getElementsByTagName(\"*\") returns only elements\n                support.getElementsByTagName = assert(function (div) {\n                    div.appendChild(document.createComment(\"\"));\n                    return !div.getElementsByTagName(\"*\").length;\n                });\n\n                // Support: IE<9\n                support.getElementsByClassName = rnative.test(document.getElementsByClassName);\n\n                // Support: IE<10\n                // Check if getElementById returns elements by name\n                // The broken getElementById methods don't pick up programatically-set names,\n                // so use a roundabout getElementsByName test\n                support.getById = assert(function (div) {\n                    docElem.appendChild(div).id = expando;\n                    return !document.getElementsByName || !document.getElementsByName(expando).length;\n                });\n\n                // ID find and filter\n                if (support.getById) {\n                    Expr.find[\"ID\"] = function (id, context) {\n                        if (typeof context.getElementById !== \"undefined\" && documentIsHTML) {\n                            var m = context.getElementById(id);\n                            return m ? [m] : [];\n                        }\n                    };\n                    Expr.filter[\"ID\"] = function (id) {\n                        var attrId = id.replace(runescape, funescape);\n                        return function (elem) {\n                            return elem.getAttribute(\"id\") === attrId;\n                        };\n                    };\n                } else {\n                    // Support: IE6/7\n                    // getElementById is not reliable as a find shortcut\n                    delete Expr.find[\"ID\"];\n\n                    Expr.filter[\"ID\"] = function (id) {\n                        var attrId = id.replace(runescape, funescape);\n                        return function (elem) {\n                            var node = typeof elem.getAttributeNode !== \"undefined\" &&\n                                elem.getAttributeNode(\"id\");\n                            return node && node.value === attrId;\n                        };\n                    };\n                }\n\n                // Tag\n                Expr.find[\"TAG\"] = support.getElementsByTagName ?\n                    function (tag, context) {\n                        if (typeof context.getElementsByTagName !== \"undefined\") {\n                            return context.getElementsByTagName(tag);\n\n                            // DocumentFragment nodes don't have gEBTN\n                        } else if (support.qsa) {\n                            return context.querySelectorAll(tag);\n                        }\n                    } :\n\n                    function (tag, context) {\n                        var elem,\n                            tmp = [],\n                            i = 0,\n                            // By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n                            results = context.getElementsByTagName(tag);\n\n                        // Filter out possible comments\n                        if (tag === \"*\") {\n                            while ((elem = results[i++])) {\n                                if (elem.nodeType === 1) {\n                                    tmp.push(elem);\n                                }\n                            }\n\n                            return tmp;\n                        }\n                        return results;\n                    };\n\n                // Class\n                Expr.find[\"CLASS\"] = support.getElementsByClassName && function (className, context) {\n                    if (typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML) {\n                        return context.getElementsByClassName(className);\n                    }\n                };\n\n                /* QSA/matchesSelector\n                 ---------------------------------------------------------------------- */\n\n                // QSA and matchesSelector support\n\n                // matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n                rbuggyMatches = [];\n\n                // qSa(:focus) reports false when true (Chrome 21)\n                // We allow this because of a bug in IE8/9 that throws an error\n                // whenever `document.activeElement` is accessed on an iframe\n                // So, we allow :focus to pass through QSA all the time to avoid the IE error\n                // See http://bugs.jquery.com/ticket/13378\n                rbuggyQSA = [];\n\n                if ((support.qsa = rnative.test(document.querySelectorAll))) {\n                    // Build QSA regex\n                    // Regex strategy adopted from Diego Perini\n                    assert(function (div) {\n                        // Select is set to empty string on purpose\n                        // This is to test IE's treatment of not explicitly\n                        // setting a boolean content attribute,\n                        // since its presence should be enough\n                        // http://bugs.jquery.com/ticket/12359\n                        docElem.appendChild(div).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n                            \"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n                            \"<option selected=''></option></select>\";\n\n                        // Support: IE8, Opera 11-12.16\n                        // Nothing should be selected when empty strings follow ^= or $= or *=\n                        // The test attribute must be unknown in Opera but \"safe\" for WinRT\n                        // http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n                        if (div.querySelectorAll(\"[msallowcapture^='']\").length) {\n                            rbuggyQSA.push(\"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\");\n                        }\n\n                        // Support: IE8\n                        // Boolean attributes and \"value\" are not treated correctly\n                        if (!div.querySelectorAll(\"[selected]\").length) {\n                            rbuggyQSA.push(\"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\");\n                        }\n\n                        // Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n                        if (!div.querySelectorAll(\"[id~=\" + expando + \"-]\").length) {\n                            rbuggyQSA.push(\"~=\");\n                        }\n\n                        // Webkit/Opera - :checked should return selected option elements\n                        // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n                        // IE8 throws error here and will not see later tests\n                        if (!div.querySelectorAll(\":checked\").length) {\n                            rbuggyQSA.push(\":checked\");\n                        }\n\n                        // Support: Safari 8+, iOS 8+\n                        // https://bugs.webkit.org/show_bug.cgi?id=136851\n                        // In-page `selector#id sibing-combinator selector` fails\n                        if (!div.querySelectorAll(\"a#\" + expando + \"+*\").length) {\n                            rbuggyQSA.push(\".#.+[+~]\");\n                        }\n                    });\n\n                    assert(function (div) {\n                        // Support: Windows 8 Native Apps\n                        // The type and name attributes are restricted during .innerHTML assignment\n                        var input = document.createElement(\"input\");\n                        input.setAttribute(\"type\", \"hidden\");\n                        div.appendChild(input).setAttribute(\"name\", \"D\");\n\n                        // Support: IE8\n                        // Enforce case-sensitivity of name attribute\n                        if (div.querySelectorAll(\"[name=d]\").length) {\n                            rbuggyQSA.push(\"name\" + whitespace + \"*[*^$|!~]?=\");\n                        }\n\n                        // FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n                        // IE8 throws error here and will not see later tests\n                        if (!div.querySelectorAll(\":enabled\").length) {\n                            rbuggyQSA.push(\":enabled\", \":disabled\");\n                        }\n\n                        // Opera 10-11 does not throw on post-comma invalid pseudos\n                        div.querySelectorAll(\"*,:x\");\n                        rbuggyQSA.push(\",.*:\");\n                    });\n                }\n\n                if ((support.matchesSelector = rnative.test((matches = docElem.matches ||\n                    docElem.webkitMatchesSelector ||\n                    docElem.mozMatchesSelector ||\n                    docElem.oMatchesSelector ||\n                    docElem.msMatchesSelector)))) {\n\n                    assert(function (div) {\n                        // Check to see if it's possible to do matchesSelector\n                        // on a disconnected node (IE 9)\n                        support.disconnectedMatch = matches.call(div, \"div\");\n\n                        // This should fail with an exception\n                        // Gecko does not error, returns false instead\n                        matches.call(div, \"[s!='']:x\");\n                        rbuggyMatches.push(\"!=\", pseudos);\n                    });\n                }\n\n                rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join(\"|\"));\n                rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join(\"|\"));\n\n                /* Contains\n                 ---------------------------------------------------------------------- */\n                hasCompare = rnative.test(docElem.compareDocumentPosition);\n\n                // Element contains another\n                // Purposefully self-exclusive\n                // As in, an element does not contain itself\n                contains = hasCompare || rnative.test(docElem.contains) ?\n                    function (a, b) {\n                        var adown = a.nodeType === 9 ? a.documentElement : a,\n                            bup = b && b.parentNode;\n                        return a === bup || !!(bup && bup.nodeType === 1 && (\n                            adown.contains ?\n                                adown.contains(bup) :\n                                a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16\n                        ));\n                    } :\n                    function (a, b) {\n                        if (b) {\n                            while ((b = b.parentNode)) {\n                                if (b === a) {\n                                    return true;\n                                }\n                            }\n                        }\n                        return false;\n                    };\n\n                /* Sorting\n                 ---------------------------------------------------------------------- */\n\n                // Document order sorting\n                sortOrder = hasCompare ?\n                    function (a, b) {\n\n                        // Flag for duplicate removal\n                        if (a === b) {\n                            hasDuplicate = true;\n                            return 0;\n                        }\n\n                        // Sort on method existence if only one input has compareDocumentPosition\n                        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n                        if (compare) {\n                            return compare;\n                        }\n\n                        // Calculate position if both inputs belong to the same document\n                        compare = (a.ownerDocument || a) === (b.ownerDocument || b) ?\n                            a.compareDocumentPosition(b) :\n\n                            // Otherwise we know they are disconnected\n                            1;\n\n                        // Disconnected nodes\n                        if (compare & 1 ||\n                            (!support.sortDetached && b.compareDocumentPosition(a) === compare)) {\n\n                            // Choose the first element that is related to our preferred document\n                            if (a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {\n                                return -1;\n                            }\n                            if (b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {\n                                return 1;\n                            }\n\n                            // Maintain original order\n                            return sortInput ?\n                                (indexOf(sortInput, a) - indexOf(sortInput, b)) :\n                                0;\n                        }\n\n                        return compare & 4 ? -1 : 1;\n                    } :\n                    function (a, b) {\n                        // Exit early if the nodes are identical\n                        if (a === b) {\n                            hasDuplicate = true;\n                            return 0;\n                        }\n\n                        var cur,\n                            i = 0,\n                            aup = a.parentNode,\n                            bup = b.parentNode,\n                            ap = [a],\n                            bp = [b];\n\n                        // Parentless nodes are either documents or disconnected\n                        if (!aup || !bup) {\n                            return a === document ? -1 :\n                                b === document ? 1 :\n                                    aup ? -1 :\n                                        bup ? 1 :\n                                            sortInput ?\n                                                (indexOf(sortInput, a) - indexOf(sortInput, b)) :\n                                                0;\n\n                            // If the nodes are siblings, we can do a quick check\n                        } else if (aup === bup) {\n                            return siblingCheck(a, b);\n                        }\n\n                        // Otherwise we need full lists of their ancestors for comparison\n                        cur = a;\n                        while ((cur = cur.parentNode)) {\n                            ap.unshift(cur);\n                        }\n                        cur = b;\n                        while ((cur = cur.parentNode)) {\n                            bp.unshift(cur);\n                        }\n\n                        // Walk down the tree looking for a discrepancy\n                        while (ap[i] === bp[i]) {\n                            i++;\n                        }\n\n                        return i ?\n                            // Do a sibling check if the nodes have a common ancestor\n                            siblingCheck(ap[i], bp[i]) :\n\n                            // Otherwise nodes in our document sort first\n                            ap[i] === preferredDoc ? -1 :\n                                bp[i] === preferredDoc ? 1 :\n                                    0;\n                    };\n\n                return document;\n            };\n\n            Sizzle.matches = function (expr, elements) {\n                return Sizzle(expr, null, null, elements);\n            };\n\n            Sizzle.matchesSelector = function (elem, expr) {\n                // Set document vars if needed\n                if ((elem.ownerDocument || elem) !== document) {\n                    setDocument(elem);\n                }\n\n                // Make sure that attribute selectors are quoted\n                expr = expr.replace(rattributeQuotes, \"='$1']\");\n\n                if (support.matchesSelector && documentIsHTML && !compilerCache[expr + \" \"] &&\n                    (!rbuggyMatches || !rbuggyMatches.test(expr)) &&\n                    (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n\n                    try {\n                        var ret = matches.call(elem, expr);\n\n                        // IE 9's matchesSelector returns false on disconnected nodes\n                        if (ret || support.disconnectedMatch ||\n                            // As well, disconnected nodes are said to be in a document\n                            // fragment in IE 9\n                            elem.document && elem.document.nodeType !== 11) {\n                            return ret;\n                        }\n                    } catch (e) {\n                    }\n                }\n\n                return Sizzle(expr, document, null, [elem]).length > 0;\n            };\n\n            Sizzle.contains = function (context, elem) {\n                // Set document vars if needed\n                if ((context.ownerDocument || context) !== document) {\n                    setDocument(context);\n                }\n                return contains(context, elem);\n            };\n\n            Sizzle.attr = function (elem, name) {\n                // Set document vars if needed\n                if ((elem.ownerDocument || elem) !== document) {\n                    setDocument(elem);\n                }\n\n                var fn = Expr.attrHandle[name.toLowerCase()],\n                    // Don't get fooled by Object.prototype properties (jQuery #13807)\n                    val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ?\n                        fn(elem, name, !documentIsHTML) :\n                        undefined;\n\n                return val !== undefined ?\n                    val :\n                    support.attributes || !documentIsHTML ?\n                        elem.getAttribute(name) :\n                        (val = elem.getAttributeNode(name)) && val.specified ?\n                            val.value :\n                            null;\n            };\n\n            Sizzle.error = function (msg) {\n                throw new Error(\"Syntax error, unrecognized expression: \" + msg);\n            };\n\n            /**\n             * Document sorting and removing duplicates\n             * @param {ArrayLike} results\n             */\n            Sizzle.uniqueSort = function (results) {\n                var elem,\n                    duplicates = [],\n                    j = 0,\n                    i = 0;\n\n                // Unless we *know* we can detect duplicates, assume their presence\n                hasDuplicate = !support.detectDuplicates;\n                sortInput = !support.sortStable && results.slice(0);\n                results.sort(sortOrder);\n\n                if (hasDuplicate) {\n                    while ((elem = results[i++])) {\n                        if (elem === results[i]) {\n                            j = duplicates.push(i);\n                        }\n                    }\n                    while (j--) {\n                        results.splice(duplicates[j], 1);\n                    }\n                }\n\n                // Clear input after sorting to release objects\n                // See https://github.com/jquery/sizzle/pull/225\n                sortInput = null;\n\n                return results;\n            };\n\n            /**\n             * Utility function for retrieving the text value of an array of DOM nodes\n             * @param {Array|Element} elem\n             */\n            getText = Sizzle.getText = function (elem) {\n                var node,\n                    ret = \"\",\n                    i = 0,\n                    nodeType = elem.nodeType;\n\n                if (!nodeType) {\n                    // If no nodeType, this is expected to be an array\n                    while ((node = elem[i++])) {\n                        // Do not traverse comment nodes\n                        ret += getText(node);\n                    }\n                } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n                    // Use textContent for elements\n                    // innerText usage removed for consistency of new lines (jQuery #11153)\n                    if (typeof elem.textContent === \"string\") {\n                        return elem.textContent;\n                    } else {\n                        // Traverse its children\n                        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n                            ret += getText(elem);\n                        }\n                    }\n                } else if (nodeType === 3 || nodeType === 4) {\n                    return elem.nodeValue;\n                }\n                // Do not include comment or processing instruction nodes\n\n                return ret;\n            };\n\n            Expr = Sizzle.selectors = {\n\n                // Can be adjusted by the user\n                cacheLength: 50,\n\n                createPseudo: markFunction,\n\n                match: matchExpr,\n\n                attrHandle: {},\n\n                find: {},\n\n                relative: {\n                    \">\": {dir: \"parentNode\", first: true},\n                    \" \": {dir: \"parentNode\"},\n                    \"+\": {dir: \"previousSibling\", first: true},\n                    \"~\": {dir: \"previousSibling\"}\n                },\n\n                preFilter: {\n                    \"ATTR\": function (match) {\n                        match[1] = match[1].replace(runescape, funescape);\n\n                        // Move the given value to match[3] whether quoted or unquoted\n                        match[3] = (match[3] || match[4] || match[5] || \"\").replace(runescape, funescape);\n\n                        if (match[2] === \"~=\") {\n                            match[3] = \" \" + match[3] + \" \";\n                        }\n\n                        return match.slice(0, 4);\n                    },\n\n                    \"CHILD\": function (match) {\n                        /* matches from matchExpr[\"CHILD\"]\n                         1 type (only|nth|...)\n                         2 what (child|of-type)\n                         3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n                         4 xn-component of xn+y argument ([+-]?\\d*n|)\n                         5 sign of xn-component\n                         6 x of xn-component\n                         7 sign of y-component\n                         8 y of y-component\n                         */\n                        match[1] = match[1].toLowerCase();\n\n                        if (match[1].slice(0, 3) === \"nth\") {\n                            // nth-* requires argument\n                            if (!match[3]) {\n                                Sizzle.error(match[0]);\n                            }\n\n                            // numeric x and y parameters for Expr.filter.CHILD\n                            // remember that false/true cast respectively to 0/1\n                            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === \"even\" || match[3] === \"odd\"));\n                            match[5] = +((match[7] + match[8]) || match[3] === \"odd\");\n\n                            // other types prohibit arguments\n                        } else if (match[3]) {\n                            Sizzle.error(match[0]);\n                        }\n\n                        return match;\n                    },\n\n                    \"PSEUDO\": function (match) {\n                        var excess,\n                            unquoted = !match[6] && match[2];\n\n                        if (matchExpr[\"CHILD\"].test(match[0])) {\n                            return null;\n                        }\n\n                        // Accept quoted arguments as-is\n                        if (match[3]) {\n                            match[2] = match[4] || match[5] || \"\";\n\n                            // Strip excess characters from unquoted arguments\n                        } else if (unquoted && rpseudo.test(unquoted) &&\n                            // Get excess from tokenize (recursively)\n                            (excess = tokenize(unquoted, true)) &&\n                            // advance to the next closing parenthesis\n                            (excess = unquoted.indexOf(\")\", unquoted.length - excess) - unquoted.length)) {\n\n                            // excess is a negative index\n                            match[0] = match[0].slice(0, excess);\n                            match[2] = unquoted.slice(0, excess);\n                        }\n\n                        // Return only captures needed by the pseudo filter method (type and argument)\n                        return match.slice(0, 3);\n                    }\n                },\n\n                filter: {\n\n                    \"TAG\": function (nodeNameSelector) {\n                        var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n                        return nodeNameSelector === \"*\" ?\n                            function () {\n                                return true;\n                            } :\n                            function (elem) {\n                                return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n                            };\n                    },\n\n                    \"CLASS\": function (className) {\n                        var pattern = classCache[className + \" \"];\n\n                        return pattern ||\n                            (pattern = new RegExp(\"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\")) &&\n                            classCache(className, function (elem) {\n                                return pattern.test(typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\");\n                            });\n                    },\n\n                    \"ATTR\": function (name, operator, check) {\n                        return function (elem) {\n                            var result = Sizzle.attr(elem, name);\n\n                            if (result == null) {\n                                return operator === \"!=\";\n                            }\n                            if (!operator) {\n                                return true;\n                            }\n\n                            result += \"\";\n\n                            return operator === \"=\" ? result === check :\n                                operator === \"!=\" ? result !== check :\n                                    operator === \"^=\" ? check && result.indexOf(check) === 0 :\n                                        operator === \"*=\" ? check && result.indexOf(check) > -1 :\n                                            operator === \"$=\" ? check && result.slice(-check.length) === check :\n                                                operator === \"~=\" ? (\" \" + result.replace(rwhitespace, \" \") + \" \").indexOf(check) > -1 :\n                                                    operator === \"|=\" ? result === check || result.slice(0, check.length + 1) === check + \"-\" :\n                                                        false;\n                        };\n                    },\n\n                    \"CHILD\": function (type, what, argument, first, last) {\n                        var simple = type.slice(0, 3) !== \"nth\",\n                            forward = type.slice(-4) !== \"last\",\n                            ofType = what === \"of-type\";\n\n                        return first === 1 && last === 0 ?\n\n                            // Shortcut for :nth-*(n)\n                            function (elem) {\n                                return !!elem.parentNode;\n                            } :\n\n                            function (elem, context, xml) {\n                                var cache, uniqueCache, outerCache, node, nodeIndex, start,\n                                    dir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n                                    parent = elem.parentNode,\n                                    name = ofType && elem.nodeName.toLowerCase(),\n                                    useCache = !xml && !ofType,\n                                    diff = false;\n\n                                if (parent) {\n\n                                    // :(first|last|only)-(child|of-type)\n                                    if (simple) {\n                                        while (dir) {\n                                            node = elem;\n                                            while ((node = node[dir])) {\n                                                if (ofType ?\n                                                    node.nodeName.toLowerCase() === name :\n                                                    node.nodeType === 1) {\n\n                                                    return false;\n                                                }\n                                            }\n                                            // Reverse direction for :only-* (if we haven't yet done so)\n                                            start = dir = type === \"only\" && !start && \"nextSibling\";\n                                        }\n                                        return true;\n                                    }\n\n                                    start = [forward ? parent.firstChild : parent.lastChild];\n\n                                    // non-xml :nth-child(...) stores cache data on `parent`\n                                    if (forward && useCache) {\n\n                                        // Seek `elem` from a previously-cached index\n\n                                        // ...in a gzip-friendly way\n                                        node = parent;\n                                        outerCache = node[expando] || (node[expando] = {});\n\n                                        // Support: IE <9 only\n                                        // Defend against cloned attroperties (jQuery gh-1709)\n                                        uniqueCache = outerCache[node.uniqueID] ||\n                                            (outerCache[node.uniqueID] = {});\n\n                                        cache = uniqueCache[type] || [];\n                                        nodeIndex = cache[0] === dirruns && cache[1];\n                                        diff = nodeIndex && cache[2];\n                                        node = nodeIndex && parent.childNodes[nodeIndex];\n\n                                        while ((node = ++nodeIndex && node && node[dir] ||\n\n                                            // Fallback to seeking `elem` from the start\n                                            (diff = nodeIndex = 0) || start.pop())) {\n\n                                            // When found, cache indexes on `parent` and break\n                                            if (node.nodeType === 1 && ++diff && node === elem) {\n                                                uniqueCache[type] = [dirruns, nodeIndex, diff];\n                                                break;\n                                            }\n                                        }\n\n                                    } else {\n                                        // Use previously-cached element index if available\n                                        if (useCache) {\n                                            // ...in a gzip-friendly way\n                                            node = elem;\n                                            outerCache = node[expando] || (node[expando] = {});\n\n                                            // Support: IE <9 only\n                                            // Defend against cloned attroperties (jQuery gh-1709)\n                                            uniqueCache = outerCache[node.uniqueID] ||\n                                                (outerCache[node.uniqueID] = {});\n\n                                            cache = uniqueCache[type] || [];\n                                            nodeIndex = cache[0] === dirruns && cache[1];\n                                            diff = nodeIndex;\n                                        }\n\n                                        // xml :nth-child(...)\n                                        // or :nth-last-child(...) or :nth(-last)?-of-type(...)\n                                        if (diff === false) {\n                                            // Use the same loop as above to seek `elem` from the start\n                                            while ((node = ++nodeIndex && node && node[dir] ||\n                                                (diff = nodeIndex = 0) || start.pop())) {\n\n                                                if ((ofType ?\n                                                    node.nodeName.toLowerCase() === name :\n                                                    node.nodeType === 1) && ++diff) {\n\n                                                    // Cache the index of each encountered element\n                                                    if (useCache) {\n                                                        outerCache = node[expando] || (node[expando] = {});\n\n                                                        // Support: IE <9 only\n                                                        // Defend against cloned attroperties (jQuery gh-1709)\n                                                        uniqueCache = outerCache[node.uniqueID] ||\n                                                            (outerCache[node.uniqueID] = {});\n\n                                                        uniqueCache[type] = [dirruns, diff];\n                                                    }\n\n                                                    if (node === elem) {\n                                                        break;\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n\n                                    // Incorporate the offset, then check against cycle size\n                                    diff -= last;\n                                    return diff === first || (diff % first === 0 && diff / first >= 0);\n                                }\n                            };\n                    },\n\n                    \"PSEUDO\": function (pseudo, argument) {\n                        // pseudo-class names are case-insensitive\n                        // http://www.w3.org/TR/selectors/#pseudo-classes\n                        // Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n                        // Remember that setFilters inherits from pseudos\n                        var args,\n                            fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] ||\n                                Sizzle.error(\"unsupported pseudo: \" + pseudo);\n\n                        // The user may use createPseudo to indicate that\n                        // arguments are needed to create the filter function\n                        // just as Sizzle does\n                        if (fn[expando]) {\n                            return fn(argument);\n                        }\n\n                        // But maintain support for old signatures\n                        if (fn.length > 1) {\n                            args = [pseudo, pseudo, \"\", argument];\n                            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ?\n                                markFunction(function (seed, matches) {\n                                    var idx,\n                                        matched = fn(seed, argument),\n                                        i = matched.length;\n                                    while (i--) {\n                                        idx = indexOf(seed, matched[i]);\n                                        seed[idx] = !(matches[idx] = matched[i]);\n                                    }\n                                }) :\n                                function (elem) {\n                                    return fn(elem, 0, args);\n                                };\n                        }\n\n                        return fn;\n                    }\n                },\n\n                pseudos: {\n                    // Potentially complex pseudos\n                    \"not\": markFunction(function (selector) {\n                        // Trim the selector passed to compile\n                        // to avoid treating leading and trailing\n                        // spaces as combinators\n                        var input = [],\n                            results = [],\n                            matcher = compile(selector.replace(rtrim, \"$1\"));\n\n                        return matcher[expando] ?\n                            markFunction(function (seed, matches, context, xml) {\n                                var elem,\n                                    unmatched = matcher(seed, null, xml, []),\n                                    i = seed.length;\n\n                                // Match elements unmatched by `matcher`\n                                while (i--) {\n                                    if ((elem = unmatched[i])) {\n                                        seed[i] = !(matches[i] = elem);\n                                    }\n                                }\n                            }) :\n                            function (elem, context, xml) {\n                                input[0] = elem;\n                                matcher(input, null, xml, results);\n                                // Don't keep the element (issue #299)\n                                input[0] = null;\n                                return !results.pop();\n                            };\n                    }),\n\n                    \"has\": markFunction(function (selector) {\n                        return function (elem) {\n                            return Sizzle(selector, elem).length > 0;\n                        };\n                    }),\n\n                    \"contains\": markFunction(function (text) {\n                        text = text.replace(runescape, funescape);\n                        return function (elem) {\n                            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n                        };\n                    }),\n\n                    // \"Whether an element is represented by a :lang() selector\n                    // is based solely on the element's language value\n                    // being equal to the identifier C,\n                    // or beginning with the identifier C immediately followed by \"-\".\n                    // The matching of C against the element's language value is performed case-insensitively.\n                    // The identifier C does not have to be a valid language name.\"\n                    // http://www.w3.org/TR/selectors/#lang-pseudo\n                    \"lang\": markFunction(function (lang) {\n                        // lang value must be a valid identifier\n                        if (!ridentifier.test(lang || \"\")) {\n                            Sizzle.error(\"unsupported lang: \" + lang);\n                        }\n                        lang = lang.replace(runescape, funescape).toLowerCase();\n                        return function (elem) {\n                            var elemLang;\n                            do {\n                                if ((elemLang = documentIsHTML ?\n                                    elem.lang :\n                                    elem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\"))) {\n\n                                    elemLang = elemLang.toLowerCase();\n                                    return elemLang === lang || elemLang.indexOf(lang + \"-\") === 0;\n                                }\n                            } while ((elem = elem.parentNode) && elem.nodeType === 1);\n                            return false;\n                        };\n                    }),\n\n                    // Miscellaneous\n                    \"target\": function (elem) {\n                        var hash = window.location && window.location.hash;\n                        return hash && hash.slice(1) === elem.id;\n                    },\n\n                    \"root\": function (elem) {\n                        return elem === docElem;\n                    },\n\n                    \"focus\": function (elem) {\n                        return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n                    },\n\n                    // Boolean properties\n                    \"enabled\": function (elem) {\n                        return elem.disabled === false;\n                    },\n\n                    \"disabled\": function (elem) {\n                        return elem.disabled === true;\n                    },\n\n                    \"checked\": function (elem) {\n                        // In CSS3, :checked should return both checked and selected elements\n                        // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n                        var nodeName = elem.nodeName.toLowerCase();\n                        return (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n                    },\n\n                    \"selected\": function (elem) {\n                        // Accessing this property makes selected-by-default\n                        // options in Safari work properly\n                        if (elem.parentNode) {\n                            elem.parentNode.selectedIndex;\n                        }\n\n                        return elem.selected === true;\n                    },\n\n                    // Contents\n                    \"empty\": function (elem) {\n                        // http://www.w3.org/TR/selectors/#empty-pseudo\n                        // :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n                        //   but not by others (comment: 8; processing instruction: 7; etc.)\n                        // nodeType < 6 works because attributes (2) do not appear as children\n                        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n                            if (elem.nodeType < 6) {\n                                return false;\n                            }\n                        }\n                        return true;\n                    },\n\n                    \"parent\": function (elem) {\n                        return !Expr.pseudos[\"empty\"](elem);\n                    },\n\n                    // Element/input types\n                    \"header\": function (elem) {\n                        return rheader.test(elem.nodeName);\n                    },\n\n                    \"input\": function (elem) {\n                        return rinputs.test(elem.nodeName);\n                    },\n\n                    \"button\": function (elem) {\n                        var name = elem.nodeName.toLowerCase();\n                        return name === \"input\" && elem.type === \"button\" || name === \"button\";\n                    },\n\n                    \"text\": function (elem) {\n                        var attr;\n                        return elem.nodeName.toLowerCase() === \"input\" &&\n                            elem.type === \"text\" &&\n\n                            // Support: IE<8\n                            // New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n                            ((attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\");\n                    },\n\n                    // Position-in-collection\n                    \"first\": createPositionalPseudo(function () {\n                        return [0];\n                    }),\n\n                    \"last\": createPositionalPseudo(function (matchIndexes, length) {\n                        return [length - 1];\n                    }),\n\n                    \"eq\": createPositionalPseudo(function (matchIndexes, length, argument) {\n                        return [argument < 0 ? argument + length : argument];\n                    }),\n\n                    \"even\": createPositionalPseudo(function (matchIndexes, length) {\n                        var i = 0;\n                        for (; i < length; i += 2) {\n                            matchIndexes.push(i);\n                        }\n                        return matchIndexes;\n                    }),\n\n                    \"odd\": createPositionalPseudo(function (matchIndexes, length) {\n                        var i = 1;\n                        for (; i < length; i += 2) {\n                            matchIndexes.push(i);\n                        }\n                        return matchIndexes;\n                    }),\n\n                    \"lt\": createPositionalPseudo(function (matchIndexes, length, argument) {\n                        var i = argument < 0 ? argument + length : argument;\n                        for (; --i >= 0;) {\n                            matchIndexes.push(i);\n                        }\n                        return matchIndexes;\n                    }),\n\n                    \"gt\": createPositionalPseudo(function (matchIndexes, length, argument) {\n                        var i = argument < 0 ? argument + length : argument;\n                        for (; ++i < length;) {\n                            matchIndexes.push(i);\n                        }\n                        return matchIndexes;\n                    })\n                }\n            };\n\n            Expr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\n            for (i in {radio: true, checkbox: true, file: true, password: true, image: true}) {\n                Expr.pseudos[i] = createInputPseudo(i);\n            }\n            for (i in {submit: true, reset: true}) {\n                Expr.pseudos[i] = createButtonPseudo(i);\n            }\n\n// Easy API for creating new setFilters\n            function setFilters() {\n            }\n\n            setFilters.prototype = Expr.filters = Expr.pseudos;\n            Expr.setFilters = new setFilters();\n\n            tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n                var matched, match, tokens, type,\n                    soFar, groups, preFilters,\n                    cached = tokenCache[selector + \" \"];\n\n                if (cached) {\n                    return parseOnly ? 0 : cached.slice(0);\n                }\n\n                soFar = selector;\n                groups = [];\n                preFilters = Expr.preFilter;\n\n                while (soFar) {\n\n                    // Comma and first run\n                    if (!matched || (match = rcomma.exec(soFar))) {\n                        if (match) {\n                            // Don't consume trailing commas as valid\n                            soFar = soFar.slice(match[0].length) || soFar;\n                        }\n                        groups.push((tokens = []));\n                    }\n\n                    matched = false;\n\n                    // Combinators\n                    if ((match = rcombinators.exec(soFar))) {\n                        matched = match.shift();\n                        tokens.push({\n                            value: matched,\n                            // Cast descendant combinators to space\n                            type: match[0].replace(rtrim, \" \")\n                        });\n                        soFar = soFar.slice(matched.length);\n                    }\n\n                    // Filters\n                    for (type in Expr.filter) {\n                        if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] ||\n                            (match = preFilters[type](match)))) {\n                            matched = match.shift();\n                            tokens.push({\n                                value: matched,\n                                type: type,\n                                matches: match\n                            });\n                            soFar = soFar.slice(matched.length);\n                        }\n                    }\n\n                    if (!matched) {\n                        break;\n                    }\n                }\n\n                // Return the length of the invalid excess\n                // if we're just parsing\n                // Otherwise, throw an error or return tokens\n                return parseOnly ?\n                    soFar.length :\n                    soFar ?\n                        Sizzle.error(selector) :\n                        // Cache the tokens\n                        tokenCache(selector, groups).slice(0);\n            };\n\n            function toSelector(tokens) {\n                var i = 0,\n                    len = tokens.length,\n                    selector = \"\";\n                for (; i < len; i++) {\n                    selector += tokens[i].value;\n                }\n                return selector;\n            }\n\n            function addCombinator(matcher, combinator, base) {\n                var dir = combinator.dir,\n                    checkNonElements = base && dir === \"parentNode\",\n                    doneName = done++;\n\n                return combinator.first ?\n                    // Check against closest ancestor/preceding element\n                    function (elem, context, xml) {\n                        while ((elem = elem[dir])) {\n                            if (elem.nodeType === 1 || checkNonElements) {\n                                return matcher(elem, context, xml);\n                            }\n                        }\n                    } :\n\n                    // Check against all ancestor/preceding elements\n                    function (elem, context, xml) {\n                        var oldCache, uniqueCache, outerCache,\n                            newCache = [dirruns, doneName];\n\n                        // We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n                        if (xml) {\n                            while ((elem = elem[dir])) {\n                                if (elem.nodeType === 1 || checkNonElements) {\n                                    if (matcher(elem, context, xml)) {\n                                        return true;\n                                    }\n                                }\n                            }\n                        } else {\n                            while ((elem = elem[dir])) {\n                                if (elem.nodeType === 1 || checkNonElements) {\n                                    outerCache = elem[expando] || (elem[expando] = {});\n\n                                    // Support: IE <9 only\n                                    // Defend against cloned attroperties (jQuery gh-1709)\n                                    uniqueCache = outerCache[elem.uniqueID] || (outerCache[elem.uniqueID] = {});\n\n                                    if ((oldCache = uniqueCache[dir]) &&\n                                        oldCache[0] === dirruns && oldCache[1] === doneName) {\n\n                                        // Assign to newCache so results back-propagate to previous elements\n                                        return (newCache[2] = oldCache[2]);\n                                    } else {\n                                        // Reuse newcache so results back-propagate to previous elements\n                                        uniqueCache[dir] = newCache;\n\n                                        // A match means we're done; a fail means we have to keep checking\n                                        if ((newCache[2] = matcher(elem, context, xml))) {\n                                            return true;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    };\n            }\n\n            function elementMatcher(matchers) {\n                return matchers.length > 1 ?\n                    function (elem, context, xml) {\n                        var i = matchers.length;\n                        while (i--) {\n                            if (!matchers[i](elem, context, xml)) {\n                                return false;\n                            }\n                        }\n                        return true;\n                    } :\n                    matchers[0];\n            }\n\n            function multipleContexts(selector, contexts, results) {\n                var i = 0,\n                    len = contexts.length;\n                for (; i < len; i++) {\n                    Sizzle(selector, contexts[i], results);\n                }\n                return results;\n            }\n\n            function condense(unmatched, map, filter, context, xml) {\n                var elem,\n                    newUnmatched = [],\n                    i = 0,\n                    len = unmatched.length,\n                    mapped = map != null;\n\n                for (; i < len; i++) {\n                    if ((elem = unmatched[i])) {\n                        if (!filter || filter(elem, context, xml)) {\n                            newUnmatched.push(elem);\n                            if (mapped) {\n                                map.push(i);\n                            }\n                        }\n                    }\n                }\n\n                return newUnmatched;\n            }\n\n            function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n                if (postFilter && !postFilter[expando]) {\n                    postFilter = setMatcher(postFilter);\n                }\n                if (postFinder && !postFinder[expando]) {\n                    postFinder = setMatcher(postFinder, postSelector);\n                }\n                return markFunction(function (seed, results, context, xml) {\n                    var temp, i, elem,\n                        preMap = [],\n                        postMap = [],\n                        preexisting = results.length,\n\n                        // Get initial elements from seed or context\n                        elems = seed || multipleContexts(selector || \"*\", context.nodeType ? [context] : context, []),\n\n                        // Prefilter to get matcher input, preserving a map for seed-results synchronization\n                        matcherIn = preFilter && (seed || !selector) ?\n                            condense(elems, preMap, preFilter, context, xml) :\n                            elems,\n\n                        matcherOut = matcher ?\n                            // If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n                            postFinder || (seed ? preFilter : preexisting || postFilter) ?\n\n                                // ...intermediate processing is necessary\n                                [] :\n\n                                // ...otherwise use results directly\n                                results :\n                            matcherIn;\n\n                    // Find primary matches\n                    if (matcher) {\n                        matcher(matcherIn, matcherOut, context, xml);\n                    }\n\n                    // Apply postFilter\n                    if (postFilter) {\n                        temp = condense(matcherOut, postMap);\n                        postFilter(temp, [], context, xml);\n\n                        // Un-match failing elements by moving them back to matcherIn\n                        i = temp.length;\n                        while (i--) {\n                            if ((elem = temp[i])) {\n                                matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n                            }\n                        }\n                    }\n\n                    if (seed) {\n                        if (postFinder || preFilter) {\n                            if (postFinder) {\n                                // Get the final matcherOut by condensing this intermediate into postFinder contexts\n                                temp = [];\n                                i = matcherOut.length;\n                                while (i--) {\n                                    if ((elem = matcherOut[i])) {\n                                        // Restore matcherIn since elem is not yet a final match\n                                        temp.push((matcherIn[i] = elem));\n                                    }\n                                }\n                                postFinder(null, (matcherOut = []), temp, xml);\n                            }\n\n                            // Move matched elements from seed to results to keep them synchronized\n                            i = matcherOut.length;\n                            while (i--) {\n                                if ((elem = matcherOut[i]) &&\n                                    (temp = postFinder ? indexOf(seed, elem) : preMap[i]) > -1) {\n\n                                    seed[temp] = !(results[temp] = elem);\n                                }\n                            }\n                        }\n\n                        // Add elements to results, through postFinder if defined\n                    } else {\n                        matcherOut = condense(\n                            matcherOut === results ?\n                                matcherOut.splice(preexisting, matcherOut.length) :\n                                matcherOut\n                        );\n                        if (postFinder) {\n                            postFinder(null, results, matcherOut, xml);\n                        } else {\n                            push.apply(results, matcherOut);\n                        }\n                    }\n                });\n            }\n\n            function matcherFromTokens(tokens) {\n                var checkContext, matcher, j,\n                    len = tokens.length,\n                    leadingRelative = Expr.relative[tokens[0].type],\n                    implicitRelative = leadingRelative || Expr.relative[\" \"],\n                    i = leadingRelative ? 1 : 0,\n\n                    // The foundational matcher ensures that elements are reachable from top-level context(s)\n                    matchContext = addCombinator(function (elem) {\n                        return elem === checkContext;\n                    }, implicitRelative, true),\n                    matchAnyContext = addCombinator(function (elem) {\n                        return indexOf(checkContext, elem) > -1;\n                    }, implicitRelative, true),\n                    matchers = [function (elem, context, xml) {\n                        var ret = (!leadingRelative && (xml || context !== outermostContext)) || (\n                            (checkContext = context).nodeType ?\n                                matchContext(elem, context, xml) :\n                                matchAnyContext(elem, context, xml));\n                        // Avoid hanging onto element (issue #299)\n                        checkContext = null;\n                        return ret;\n                    }];\n\n                for (; i < len; i++) {\n                    if ((matcher = Expr.relative[tokens[i].type])) {\n                        matchers = [addCombinator(elementMatcher(matchers), matcher)];\n                    } else {\n                        matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n\n                        // Return special upon seeing a positional matcher\n                        if (matcher[expando]) {\n                            // Find the next relative operator (if any) for proper handling\n                            j = ++i;\n                            for (; j < len; j++) {\n                                if (Expr.relative[tokens[j].type]) {\n                                    break;\n                                }\n                            }\n                            return setMatcher(\n                                i > 1 && elementMatcher(matchers),\n                                i > 1 && toSelector(\n                                // If the preceding token was a descendant combinator, insert an implicit any-element `*`\n                                tokens.slice(0, i - 1).concat({value: tokens[i - 2].type === \" \" ? \"*\" : \"\"})\n                                ).replace(rtrim, \"$1\"),\n                                matcher,\n                                i < j && matcherFromTokens(tokens.slice(i, j)),\n                                j < len && matcherFromTokens((tokens = tokens.slice(j))),\n                                j < len && toSelector(tokens)\n                            );\n                        }\n                        matchers.push(matcher);\n                    }\n                }\n\n                return elementMatcher(matchers);\n            }\n\n            function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n                var bySet = setMatchers.length > 0,\n                    byElement = elementMatchers.length > 0,\n                    superMatcher = function (seed, context, xml, results, outermost) {\n                        var elem, j, matcher,\n                            matchedCount = 0,\n                            i = \"0\",\n                            unmatched = seed && [],\n                            setMatched = [],\n                            contextBackup = outermostContext,\n                            // We must always have either seed elements or outermost context\n                            elems = seed || byElement && Expr.find[\"TAG\"](\"*\", outermost),\n                            // Use integer dirruns iff this is the outermost matcher\n                            dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n                            len = elems.length;\n\n                        if (outermost) {\n                            outermostContext = context === document || context || outermost;\n                        }\n\n                        // Add elements passing elementMatchers directly to results\n                        // Support: IE<9, Safari\n                        // Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n                        for (; i !== len && (elem = elems[i]) != null; i++) {\n                            if (byElement && elem) {\n                                j = 0;\n                                if (!context && elem.ownerDocument !== document) {\n                                    setDocument(elem);\n                                    xml = !documentIsHTML;\n                                }\n                                while ((matcher = elementMatchers[j++])) {\n                                    if (matcher(elem, context || document, xml)) {\n                                        results.push(elem);\n                                        break;\n                                    }\n                                }\n                                if (outermost) {\n                                    dirruns = dirrunsUnique;\n                                }\n                            }\n\n                            // Track unmatched elements for set filters\n                            if (bySet) {\n                                // They will have gone through all possible matchers\n                                if ((elem = !matcher && elem)) {\n                                    matchedCount--;\n                                }\n\n                                // Lengthen the array for every element, matched or not\n                                if (seed) {\n                                    unmatched.push(elem);\n                                }\n                            }\n                        }\n\n                        // `i` is now the count of elements visited above, and adding it to `matchedCount`\n                        // makes the latter nonnegative.\n                        matchedCount += i;\n\n                        // Apply set filters to unmatched elements\n                        // NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n                        // equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n                        // no element matchers and no seed.\n                        // Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n                        // case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n                        // numerically zero.\n                        if (bySet && i !== matchedCount) {\n                            j = 0;\n                            while ((matcher = setMatchers[j++])) {\n                                matcher(unmatched, setMatched, context, xml);\n                            }\n\n                            if (seed) {\n                                // Reintegrate element matches to eliminate the need for sorting\n                                if (matchedCount > 0) {\n                                    while (i--) {\n                                        if (!(unmatched[i] || setMatched[i])) {\n                                            setMatched[i] = pop.call(results);\n                                        }\n                                    }\n                                }\n\n                                // Discard index placeholder values to get only actual matches\n                                setMatched = condense(setMatched);\n                            }\n\n                            // Add matches to results\n                            push.apply(results, setMatched);\n\n                            // Seedless set matches succeeding multiple successful matchers stipulate sorting\n                            if (outermost && !seed && setMatched.length > 0 &&\n                                (matchedCount + setMatchers.length) > 1) {\n\n                                Sizzle.uniqueSort(results);\n                            }\n                        }\n\n                        // Override manipulation of globals by nested matchers\n                        if (outermost) {\n                            dirruns = dirrunsUnique;\n                            outermostContext = contextBackup;\n                        }\n\n                        return unmatched;\n                    };\n\n                return bySet ?\n                    markFunction(superMatcher) :\n                    superMatcher;\n            }\n\n            compile = Sizzle.compile = function (selector, match /* Internal Use Only */) {\n                var i,\n                    setMatchers = [],\n                    elementMatchers = [],\n                    cached = compilerCache[selector + \" \"];\n\n                if (!cached) {\n                    // Generate a function of recursive functions that can be used to check each element\n                    if (!match) {\n                        match = tokenize(selector);\n                    }\n                    i = match.length;\n                    while (i--) {\n                        cached = matcherFromTokens(match[i]);\n                        if (cached[expando]) {\n                            setMatchers.push(cached);\n                        } else {\n                            elementMatchers.push(cached);\n                        }\n                    }\n\n                    // Cache the compiled function\n                    cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n\n                    // Save selector and tokenization\n                    cached.selector = selector;\n                }\n                return cached;\n            };\n\n            /**\n             * A low-level selection function that works with Sizzle's compiled\n             *  selector functions\n             * @param {String|Function} selector A selector or a pre-compiled\n             *  selector function built with Sizzle.compile\n             * @param {Element} context\n             * @param {Array} [results]\n             * @param {Array} [seed] A set of elements to match against\n             */\n            select = Sizzle.select = function (selector, context, results, seed) {\n                var i, tokens, token, type, find,\n                    compiled = typeof selector === \"function\" && selector,\n                    match = !seed && tokenize((selector = compiled.selector || selector));\n\n                results = results || [];\n\n                // Try to minimize operations if there is only one selector in the list and no seed\n                // (the latter of which guarantees us context)\n                if (match.length === 1) {\n\n                    // Reduce context if the leading compound selector is an ID\n                    tokens = match[0] = match[0].slice(0);\n                    if (tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n                        support.getById && context.nodeType === 9 && documentIsHTML &&\n                        Expr.relative[tokens[1].type]) {\n\n                        context = (Expr.find[\"ID\"](token.matches[0].replace(runescape, funescape), context) || [])[0];\n                        if (!context) {\n                            return results;\n\n                            // Precompiled matchers will still verify ancestry, so step up a level\n                        } else if (compiled) {\n                            context = context.parentNode;\n                        }\n\n                        selector = selector.slice(tokens.shift().value.length);\n                    }\n\n                    // Fetch a seed set for right-to-left matching\n                    i = matchExpr[\"needsContext\"].test(selector) ? 0 : tokens.length;\n                    while (i--) {\n                        token = tokens[i];\n\n                        // Abort if we hit a combinator\n                        if (Expr.relative[(type = token.type)]) {\n                            break;\n                        }\n                        if ((find = Expr.find[type])) {\n                            // Search, expanding context for leading sibling combinators\n                            if ((seed = find(\n                                token.matches[0].replace(runescape, funescape),\n                                rsibling.test(tokens[0].type) && testContext(context.parentNode) || context\n                            ))) {\n\n                                // If seed is empty or no tokens remain, we can return early\n                                tokens.splice(i, 1);\n                                selector = seed.length && toSelector(tokens);\n                                if (!selector) {\n                                    push.apply(results, seed);\n                                    return results;\n                                }\n\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                // Compile and execute a filtering function if one is not provided\n                // Provide `match` to avoid retokenization if we modified the selector above\n                (compiled || compile(selector, match))(\n                    seed,\n                    context,\n                    !documentIsHTML,\n                    results,\n                    !context || rsibling.test(selector) && testContext(context.parentNode) || context\n                );\n                return results;\n            };\n\n// One-time assignments\n\n// Sort stability\n            support.sortStable = expando.split(\"\").sort(sortOrder).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\n            support.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\n            setDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\n            support.sortDetached = assert(function (div1) {\n                // Should return 1, but returns 4 (following)\n                return div1.compareDocumentPosition(document.createElement(\"div\")) & 1;\n            });\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\n            if (!assert(function (div) {\n                div.innerHTML = \"<a href='#'></a>\";\n                return div.firstChild.getAttribute(\"href\") === \"#\";\n            })) {\n                addHandle(\"type|href|height|width\", function (elem, name, isXML) {\n                    if (!isXML) {\n                        return elem.getAttribute(name, name.toLowerCase() === \"type\" ? 1 : 2);\n                    }\n                });\n            }\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\n            if (!support.attributes || !assert(function (div) {\n                div.innerHTML = \"<input/>\";\n                div.firstChild.setAttribute(\"value\", \"\");\n                return div.firstChild.getAttribute(\"value\") === \"\";\n            })) {\n                addHandle(\"value\", function (elem, name, isXML) {\n                    if (!isXML && elem.nodeName.toLowerCase() === \"input\") {\n                        return elem.defaultValue;\n                    }\n                });\n            }\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\n            if (!assert(function (div) {\n                return div.getAttribute(\"disabled\") == null;\n            })) {\n                addHandle(booleans, function (elem, name, isXML) {\n                    var val;\n                    if (!isXML) {\n                        return elem[name] === true ? name.toLowerCase() :\n                            (val = elem.getAttributeNode(name)) && val.specified ?\n                                val.value :\n                                null;\n                    }\n                });\n            }\n\n            return Sizzle;\n\n        })(window);\n\n\n    jQuery.find = Sizzle;\n    jQuery.expr = Sizzle.selectors;\n    jQuery.expr[\":\"] = jQuery.expr.pseudos;\n    jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\n    jQuery.text = Sizzle.getText;\n    jQuery.isXMLDoc = Sizzle.isXML;\n    jQuery.contains = Sizzle.contains;\n\n\n    var dir = function (elem, dir, until) {\n        var matched = [],\n            truncate = until !== undefined;\n\n        while ((elem = elem[dir]) && elem.nodeType !== 9) {\n            if (elem.nodeType === 1) {\n                if (truncate && jQuery(elem).is(until)) {\n                    break;\n                }\n                matched.push(elem);\n            }\n        }\n        return matched;\n    };\n\n\n    var siblings = function (n, elem) {\n        var matched = [];\n\n        for (; n; n = n.nextSibling) {\n            if (n.nodeType === 1 && n !== elem) {\n                matched.push(n);\n            }\n        }\n\n        return matched;\n    };\n\n\n    var rneedsContext = jQuery.expr.match.needsContext;\n\n    var rsingleTag = (/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/);\n\n\n    var risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\n    function winnow(elements, qualifier, not) {\n        if (jQuery.isFunction(qualifier)) {\n            return jQuery.grep(elements, function (elem, i) {\n                /* jshint -W018 */\n                return !!qualifier.call(elem, i, elem) !== not;\n            });\n\n        }\n\n        if (qualifier.nodeType) {\n            return jQuery.grep(elements, function (elem) {\n                return (elem === qualifier) !== not;\n            });\n\n        }\n\n        if (typeof qualifier === \"string\") {\n            if (risSimple.test(qualifier)) {\n                return jQuery.filter(qualifier, elements, not);\n            }\n\n            qualifier = jQuery.filter(qualifier, elements);\n        }\n\n        return jQuery.grep(elements, function (elem) {\n            return (jQuery.inArray(elem, qualifier) > -1) !== not;\n        });\n    }\n\n    jQuery.filter = function (expr, elems, not) {\n        var elem = elems[0];\n\n        if (not) {\n            expr = \":not(\" + expr + \")\";\n        }\n\n        return elems.length === 1 && elem.nodeType === 1 ?\n            jQuery.find.matchesSelector(elem, expr) ? [elem] : [] :\n            jQuery.find.matches(expr, jQuery.grep(elems, function (elem) {\n                return elem.nodeType === 1;\n            }));\n    };\n\n    jQuery.fn.extend({\n        find: function (selector) {\n            var i,\n                ret = [],\n                self = this,\n                len = self.length;\n\n            if (typeof selector !== \"string\") {\n                return this.pushStack(jQuery(selector).filter(function () {\n                    for (i = 0; i < len; i++) {\n                        if (jQuery.contains(self[i], this)) {\n                            return true;\n                        }\n                    }\n                }));\n            }\n\n            for (i = 0; i < len; i++) {\n                jQuery.find(selector, self[i], ret);\n            }\n\n            // Needed because $( selector, context ) becomes $( context ).find( selector )\n            ret = this.pushStack(len > 1 ? jQuery.unique(ret) : ret);\n            ret.selector = this.selector ? this.selector + \" \" + selector : selector;\n            return ret;\n        },\n        filter: function (selector) {\n            return this.pushStack(winnow(this, selector || [], false));\n        },\n        not: function (selector) {\n            return this.pushStack(winnow(this, selector || [], true));\n        },\n        is: function (selector) {\n            return !!winnow(\n                this,\n\n                // If this is a positional/relative selector, check membership in the returned set\n                // so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n                typeof selector === \"string\" && rneedsContext.test(selector) ?\n                    jQuery(selector) :\n                    selector || [],\n                false\n            ).length;\n        }\n    });\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\n    var rootjQuery,\n\n        // A simple way to check for HTML strings\n        // Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n        // Strict HTML recognition (#11290: must start with <)\n        rquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\n\n        init = jQuery.fn.init = function (selector, context, root) {\n            var match, elem;\n\n            // HANDLE: $(\"\"), $(null), $(undefined), $(false)\n            if (!selector) {\n                return this;\n            }\n\n            // init accepts an alternate rootjQuery\n            // so migrate can support jQuery.sub (gh-2101)\n            root = root || rootjQuery;\n\n            // Handle HTML strings\n            if (typeof selector === \"string\") {\n                if (selector.charAt(0) === \"<\" &&\n                    selector.charAt(selector.length - 1) === \">\" &&\n                    selector.length >= 3) {\n\n                    // Assume that strings that start and end with <> are HTML and skip the regex check\n                    match = [null, selector, null];\n\n                } else {\n                    match = rquickExpr.exec(selector);\n                }\n\n                // Match html or make sure no context is specified for #id\n                if (match && (match[1] || !context)) {\n\n                    // HANDLE: $(html) -> $(array)\n                    if (match[1]) {\n                        context = context instanceof jQuery ? context[0] : context;\n\n                        // scripts is true for back-compat\n                        // Intentionally let the error be thrown if parseHTML is not present\n                        jQuery.merge(this, jQuery.parseHTML(\n                            match[1],\n                            context && context.nodeType ? context.ownerDocument || context : document,\n                            true\n                        ));\n\n                        // HANDLE: $(html, props)\n                        if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {\n                            for (match in context) {\n\n                                // Properties of context are called as methods if possible\n                                if (jQuery.isFunction(this[match])) {\n                                    this[match](context[match]);\n\n                                    // ...and otherwise set as attributes\n                                } else {\n                                    this.attr(match, context[match]);\n                                }\n                            }\n                        }\n\n                        return this;\n\n                        // HANDLE: $(#id)\n                    } else {\n                        elem = document.getElementById(match[2]);\n\n                        // Check parentNode to catch when Blackberry 4.6 returns\n                        // nodes that are no longer in the document #6963\n                        if (elem && elem.parentNode) {\n\n                            // Handle the case where IE and Opera return items\n                            // by name instead of ID\n                            if (elem.id !== match[2]) {\n                                return rootjQuery.find(selector);\n                            }\n\n                            // Otherwise, we inject the element directly into the jQuery object\n                            this.length = 1;\n                            this[0] = elem;\n                        }\n\n                        this.context = document;\n                        this.selector = selector;\n                        return this;\n                    }\n\n                    // HANDLE: $(expr, $(...))\n                } else if (!context || context.jquery) {\n                    return (context || root).find(selector);\n\n                    // HANDLE: $(expr, context)\n                    // (which is just equivalent to: $(context).find(expr)\n                } else {\n                    return this.constructor(context).find(selector);\n                }\n\n                // HANDLE: $(DOMElement)\n            } else if (selector.nodeType) {\n                this.context = this[0] = selector;\n                this.length = 1;\n                return this;\n\n                // HANDLE: $(function)\n                // Shortcut for document ready\n            } else if (jQuery.isFunction(selector)) {\n                return typeof root.ready !== \"undefined\" ?\n                    root.ready(selector) :\n\n                    // Execute immediately if ready is not present\n                    selector(jQuery);\n            }\n\n            if (selector.selector !== undefined) {\n                this.selector = selector.selector;\n                this.context = selector.context;\n            }\n\n            return jQuery.makeArray(selector, this);\n        };\n\n// Give the init function the jQuery prototype for later instantiation\n    init.prototype = jQuery.fn;\n\n// Initialize central reference\n    rootjQuery = jQuery(document);\n\n\n    var rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n        // methods guaranteed to produce a unique set when starting from a unique set\n        guaranteedUnique = {\n            children: true,\n            contents: true,\n            next: true,\n            prev: true\n        };\n\n    jQuery.fn.extend({\n        has: function (target) {\n            var i,\n                targets = jQuery(target, this),\n                len = targets.length;\n\n            return this.filter(function () {\n                for (i = 0; i < len; i++) {\n                    if (jQuery.contains(this, targets[i])) {\n                        return true;\n                    }\n                }\n            });\n        },\n\n        closest: function (selectors, context) {\n            var cur,\n                i = 0,\n                l = this.length,\n                matched = [],\n                pos = rneedsContext.test(selectors) || typeof selectors !== \"string\" ?\n                    jQuery(selectors, context || this.context) :\n                    0;\n\n            for (; i < l; i++) {\n                for (cur = this[i]; cur && cur !== context; cur = cur.parentNode) {\n\n                    // Always skip document fragments\n                    if (cur.nodeType < 11 && (pos ?\n                        pos.index(cur) > -1 :\n\n                        // Don't pass non-elements to Sizzle\n                        cur.nodeType === 1 &&\n                        jQuery.find.matchesSelector(cur, selectors))) {\n\n                        matched.push(cur);\n                        break;\n                    }\n                }\n            }\n\n            return this.pushStack(matched.length > 1 ? jQuery.uniqueSort(matched) : matched);\n        },\n\n        // Determine the position of an element within\n        // the matched set of elements\n        index: function (elem) {\n\n            // No argument, return index in parent\n            if (!elem) {\n                return (this[0] && this[0].parentNode) ? this.first().prevAll().length : -1;\n            }\n\n            // index in selector\n            if (typeof elem === \"string\") {\n                return jQuery.inArray(this[0], jQuery(elem));\n            }\n\n            // Locate the position of the desired element\n            return jQuery.inArray(\n                // If it receives a jQuery object, the first element is used\n                elem.jquery ? elem[0] : elem, this);\n        },\n\n        add: function (selector, context) {\n            return this.pushStack(\n                jQuery.uniqueSort(\n                    jQuery.merge(this.get(), jQuery(selector, context))\n                )\n            );\n        },\n\n        addBack: function (selector) {\n            return this.add(selector == null ?\n                this.prevObject : this.prevObject.filter(selector)\n            );\n        }\n    });\n\n    function sibling(cur, dir) {\n        do {\n            cur = cur[dir];\n        } while (cur && cur.nodeType !== 1);\n\n        return cur;\n    }\n\n    jQuery.each({\n        parent: function (elem) {\n            var parent = elem.parentNode;\n            return parent && parent.nodeType !== 11 ? parent : null;\n        },\n        parents: function (elem) {\n            return dir(elem, \"parentNode\");\n        },\n        parentsUntil: function (elem, i, until) {\n            return dir(elem, \"parentNode\", until);\n        },\n        next: function (elem) {\n            return sibling(elem, \"nextSibling\");\n        },\n        prev: function (elem) {\n            return sibling(elem, \"previousSibling\");\n        },\n        nextAll: function (elem) {\n            return dir(elem, \"nextSibling\");\n        },\n        prevAll: function (elem) {\n            return dir(elem, \"previousSibling\");\n        },\n        nextUntil: function (elem, i, until) {\n            return dir(elem, \"nextSibling\", until);\n        },\n        prevUntil: function (elem, i, until) {\n            return dir(elem, \"previousSibling\", until);\n        },\n        siblings: function (elem) {\n            return siblings((elem.parentNode || {}).firstChild, elem);\n        },\n        children: function (elem) {\n            return siblings(elem.firstChild);\n        },\n        contents: function (elem) {\n            return jQuery.nodeName(elem, \"iframe\") ?\n                elem.contentDocument || elem.contentWindow.document :\n                jQuery.merge([], elem.childNodes);\n        }\n    }, function (name, fn) {\n        jQuery.fn[name] = function (until, selector) {\n            var ret = jQuery.map(this, fn, until);\n\n            if (name.slice(-5) !== \"Until\") {\n                selector = until;\n            }\n\n            if (selector && typeof selector === \"string\") {\n                ret = jQuery.filter(selector, ret);\n            }\n\n            if (this.length > 1) {\n\n                // Remove duplicates\n                if (!guaranteedUnique[name]) {\n                    ret = jQuery.uniqueSort(ret);\n                }\n\n                // Reverse order for parents* and prev-derivatives\n                if (rparentsprev.test(name)) {\n                    ret = ret.reverse();\n                }\n            }\n\n            return this.pushStack(ret);\n        };\n    });\n    var rnotwhite = (/\\S+/g);\n\n\n// Convert String-formatted options into Object-formatted ones\n    function createOptions(options) {\n        var object = {};\n        jQuery.each(options.match(rnotwhite) || [], function (_, flag) {\n            object[flag] = true;\n        });\n        return object;\n    }\n\n    /*\n     * Create a callback list using the following parameters:\n     *\n     *\toptions: an optional list of space-separated options that will change how\n     *\t\t\tthe callback list behaves or a more traditional option object\n     *\n     * By default a callback list will act like an event callback list and can be\n     * \"fired\" multiple times.\n     *\n     * Possible options:\n     *\n     *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n     *\n     *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n     *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n     *\t\t\t\t\tvalues (like a Deferred)\n     *\n     *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n     *\n     *\tstopOnFalse:\tinterrupt callings when a callback returns false\n     *\n     */\n    jQuery.Callbacks = function (options) {\n\n        // Convert options from String-formatted to Object-formatted if needed\n        // (we check in cache first)\n        options = typeof options === \"string\" ?\n            createOptions(options) :\n            jQuery.extend({}, options);\n\n        var // Flag to know if list is currently firing\n            firing,\n\n            // Last fire value for non-forgettable lists\n            memory,\n\n            // Flag to know if list was already fired\n            fired,\n\n            // Flag to prevent firing\n            locked,\n\n            // Actual callback list\n            list = [],\n\n            // Queue of execution data for repeatable lists\n            queue = [],\n\n            // Index of currently firing callback (modified by add/remove as needed)\n            firingIndex = -1,\n\n            // Fire callbacks\n            fire = function () {\n\n                // Enforce single-firing\n                locked = options.once;\n\n                // Execute callbacks for all pending executions,\n                // respecting firingIndex overrides and runtime changes\n                fired = firing = true;\n                for (; queue.length; firingIndex = -1) {\n                    memory = queue.shift();\n                    while (++firingIndex < list.length) {\n\n                        // Run callback and check for early termination\n                        if (list[firingIndex].apply(memory[0], memory[1]) === false &&\n                            options.stopOnFalse) {\n\n                            // Jump to end and forget the data so .add doesn't re-fire\n                            firingIndex = list.length;\n                            memory = false;\n                        }\n                    }\n                }\n\n                // Forget the data if we're done with it\n                if (!options.memory) {\n                    memory = false;\n                }\n\n                firing = false;\n\n                // Clean up if we're done firing for good\n                if (locked) {\n\n                    // Keep an empty list if we have data for future add calls\n                    if (memory) {\n                        list = [];\n\n                        // Otherwise, this object is spent\n                    } else {\n                        list = \"\";\n                    }\n                }\n            },\n\n            // Actual Callbacks object\n            self = {\n\n                // Add a callback or a collection of callbacks to the list\n                add: function () {\n                    if (list) {\n\n                        // If we have memory from a past run, we should fire after adding\n                        if (memory && !firing) {\n                            firingIndex = list.length - 1;\n                            queue.push(memory);\n                        }\n\n                        (function add(args) {\n                            jQuery.each(args, function (_, arg) {\n                                if (jQuery.isFunction(arg)) {\n                                    if (!options.unique || !self.has(arg)) {\n                                        list.push(arg);\n                                    }\n                                } else if (arg && arg.length && jQuery.type(arg) !== \"string\") {\n\n                                    // Inspect recursively\n                                    add(arg);\n                                }\n                            });\n                        })(arguments);\n\n                        if (memory && !firing) {\n                            fire();\n                        }\n                    }\n                    return this;\n                },\n\n                // Remove a callback from the list\n                remove: function () {\n                    jQuery.each(arguments, function (_, arg) {\n                        var index;\n                        while ((index = jQuery.inArray(arg, list, index)) > -1) {\n                            list.splice(index, 1);\n\n                            // Handle firing indexes\n                            if (index <= firingIndex) {\n                                firingIndex--;\n                            }\n                        }\n                    });\n                    return this;\n                },\n\n                // Check if a given callback is in the list.\n                // If no argument is given, return whether or not list has callbacks attached.\n                has: function (fn) {\n                    return fn ?\n                        jQuery.inArray(fn, list) > -1 :\n                        list.length > 0;\n                },\n\n                // Remove all callbacks from the list\n                empty: function () {\n                    if (list) {\n                        list = [];\n                    }\n                    return this;\n                },\n\n                // Disable .fire and .add\n                // Abort any current/pending executions\n                // Clear all callbacks and values\n                disable: function () {\n                    locked = queue = [];\n                    list = memory = \"\";\n                    return this;\n                },\n                disabled: function () {\n                    return !list;\n                },\n\n                // Disable .fire\n                // Also disable .add unless we have memory (since it would have no effect)\n                // Abort any pending executions\n                lock: function () {\n                    locked = true;\n                    if (!memory) {\n                        self.disable();\n                    }\n                    return this;\n                },\n                locked: function () {\n                    return !!locked;\n                },\n\n                // Call all callbacks with the given context and arguments\n                fireWith: function (context, args) {\n                    if (!locked) {\n                        args = args || [];\n                        args = [context, args.slice ? args.slice() : args];\n                        queue.push(args);\n                        if (!firing) {\n                            fire();\n                        }\n                    }\n                    return this;\n                },\n\n                // Call all the callbacks with the given arguments\n                fire: function () {\n                    self.fireWith(this, arguments);\n                    return this;\n                },\n\n                // To know if the callbacks have already been called at least once\n                fired: function () {\n                    return !!fired;\n                }\n            };\n\n        return self;\n    };\n\n\n    jQuery.extend({\n\n        Deferred: function (func) {\n            var tuples = [\n\n                    // action, add listener, listener list, final state\n                    [\"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\"],\n                    [\"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\"],\n                    [\"notify\", \"progress\", jQuery.Callbacks(\"memory\")]\n                ],\n                state = \"pending\",\n                promise = {\n                    state: function () {\n                        return state;\n                    },\n                    always: function () {\n                        deferred.done(arguments).fail(arguments);\n                        return this;\n                    },\n                    then: function (/* fnDone, fnFail, fnProgress */) {\n                        var fns = arguments;\n                        return jQuery.Deferred(function (newDefer) {\n                            jQuery.each(tuples, function (i, tuple) {\n                                var fn = jQuery.isFunction(fns[i]) && fns[i];\n\n                                // deferred[ done | fail | progress ] for forwarding actions to newDefer\n                                deferred[tuple[1]](function () {\n                                    var returned = fn && fn.apply(this, arguments);\n                                    if (returned && jQuery.isFunction(returned.promise)) {\n                                        returned.promise()\n                                            .progress(newDefer.notify)\n                                            .done(newDefer.resolve)\n                                            .fail(newDefer.reject);\n                                    } else {\n                                        newDefer[tuple[0] + \"With\"](\n                                            this === promise ? newDefer.promise() : this,\n                                            fn ? [returned] : arguments\n                                        );\n                                    }\n                                });\n                            });\n                            fns = null;\n                        }).promise();\n                    },\n\n                    // Get a promise for this deferred\n                    // If obj is provided, the promise aspect is added to the object\n                    promise: function (obj) {\n                        return obj != null ? jQuery.extend(obj, promise) : promise;\n                    }\n                },\n                deferred = {};\n\n            // Keep pipe for back-compat\n            promise.pipe = promise.then;\n\n            // Add list-specific methods\n            jQuery.each(tuples, function (i, tuple) {\n                var list = tuple[2],\n                    stateString = tuple[3];\n\n                // promise[ done | fail | progress ] = list.add\n                promise[tuple[1]] = list.add;\n\n                // Handle state\n                if (stateString) {\n                    list.add(function () {\n\n                        // state = [ resolved | rejected ]\n                        state = stateString;\n\n                        // [ reject_list | resolve_list ].disable; progress_list.lock\n                    }, tuples[i ^ 1][2].disable, tuples[2][2].lock);\n                }\n\n                // deferred[ resolve | reject | notify ]\n                deferred[tuple[0]] = function () {\n                    deferred[tuple[0] + \"With\"](this === deferred ? promise : this, arguments);\n                    return this;\n                };\n                deferred[tuple[0] + \"With\"] = list.fireWith;\n            });\n\n            // Make the deferred a promise\n            promise.promise(deferred);\n\n            // Call given func if any\n            if (func) {\n                func.call(deferred, deferred);\n            }\n\n            // All done!\n            return deferred;\n        },\n\n        // Deferred helper\n        when: function (subordinate /* , ..., subordinateN */) {\n            var i = 0,\n                resolveValues = slice.call(arguments),\n                length = resolveValues.length,\n\n                // the count of uncompleted subordinates\n                remaining = length !== 1 ||\n                (subordinate && jQuery.isFunction(subordinate.promise)) ? length : 0,\n\n                // the master Deferred.\n                // If resolveValues consist of only a single Deferred, just use that.\n                deferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n                // Update function for both resolve and progress values\n                updateFunc = function (i, contexts, values) {\n                    return function (value) {\n                        contexts[i] = this;\n                        values[i] = arguments.length > 1 ? slice.call(arguments) : value;\n                        if (values === progressValues) {\n                            deferred.notifyWith(contexts, values);\n\n                        } else if (!(--remaining)) {\n                            deferred.resolveWith(contexts, values);\n                        }\n                    };\n                },\n\n                progressValues, progressContexts, resolveContexts;\n\n            // add listeners to Deferred subordinates; treat others as resolved\n            if (length > 1) {\n                progressValues = new Array(length);\n                progressContexts = new Array(length);\n                resolveContexts = new Array(length);\n                for (; i < length; i++) {\n                    if (resolveValues[i] && jQuery.isFunction(resolveValues[i].promise)) {\n                        resolveValues[i].promise()\n                            .progress(updateFunc(i, progressContexts, progressValues))\n                            .done(updateFunc(i, resolveContexts, resolveValues))\n                            .fail(deferred.reject);\n                    } else {\n                        --remaining;\n                    }\n                }\n            }\n\n            // if we're not waiting on anything, resolve the master\n            if (!remaining) {\n                deferred.resolveWith(resolveContexts, resolveValues);\n            }\n\n            return deferred.promise();\n        }\n    });\n\n\n// The deferred used on DOM ready\n    var readyList;\n\n    jQuery.fn.ready = function (fn) {\n\n        // Add the callback\n        jQuery.ready.promise().done(fn);\n\n        return this;\n    };\n\n    jQuery.extend({\n\n        // Is the DOM ready to be used? Set to true once it occurs.\n        isReady: false,\n\n        // A counter to track how many items to wait for before\n        // the ready event fires. See #6781\n        readyWait: 1,\n\n        // Hold (or release) the ready event\n        holdReady: function (hold) {\n            if (hold) {\n                jQuery.readyWait++;\n            } else {\n                jQuery.ready(true);\n            }\n        },\n\n        // Handle when the DOM is ready\n        ready: function (wait) {\n\n            // Abort if there are pending holds or we're already ready\n            if (wait === true ? --jQuery.readyWait : jQuery.isReady) {\n                return;\n            }\n\n            // Remember that the DOM is ready\n            jQuery.isReady = true;\n\n            // If a normal DOM Ready event fired, decrement, and wait if need be\n            if (wait !== true && --jQuery.readyWait > 0) {\n                return;\n            }\n\n            // If there are functions bound, to execute\n            readyList.resolveWith(document, [jQuery]);\n\n            // Trigger any bound ready events\n            if (jQuery.fn.triggerHandler) {\n                jQuery(document).triggerHandler(\"ready\");\n                jQuery(document).off(\"ready\");\n            }\n        }\n    });\n\n    /**\n     * Clean-up method for dom ready events\n     */\n    function detach() {\n        if (document.addEventListener) {\n            document.removeEventListener(\"DOMContentLoaded\", completed);\n            window.removeEventListener(\"load\", completed);\n\n        } else {\n            document.detachEvent(\"onreadystatechange\", completed);\n            window.detachEvent(\"onload\", completed);\n        }\n    }\n\n    /**\n     * The ready event handler and self cleanup method\n     */\n    function completed() {\n\n        // readyState === \"complete\" is good enough for us to call the dom ready in oldIE\n        if (document.addEventListener ||\n            window.event.type === \"load\" ||\n            document.readyState === \"complete\") {\n\n            detach();\n            jQuery.ready();\n        }\n    }\n\n    jQuery.ready.promise = function (obj) {\n        if (!readyList) {\n\n            readyList = jQuery.Deferred();\n\n            // Catch cases where $(document).ready() is called\n            // after the browser event has already occurred.\n            // Support: IE6-10\n            // Older IE sometimes signals \"interactive\" too soon\n            if (document.readyState === \"complete\" ||\n                (document.readyState !== \"loading\" && !document.documentElement.doScroll)) {\n\n                // Handle it asynchronously to allow scripts the opportunity to delay ready\n                window.setTimeout(jQuery.ready);\n\n                // Standards-based browsers support DOMContentLoaded\n            } else if (document.addEventListener) {\n\n                // Use the handy event callback\n                document.addEventListener(\"DOMContentLoaded\", completed);\n\n                // A fallback to window.onload, that will always work\n                window.addEventListener(\"load\", completed);\n\n                // If IE event model is used\n            } else {\n\n                // Ensure firing before onload, maybe late but safe also for iframes\n                document.attachEvent(\"onreadystatechange\", completed);\n\n                // A fallback to window.onload, that will always work\n                window.attachEvent(\"onload\", completed);\n\n                // If IE and not a frame\n                // continually check to see if the document is ready\n                var top = false;\n\n                try {\n                    top = window.frameElement == null && document.documentElement;\n                } catch (e) {\n                }\n\n                if (top && top.doScroll) {\n                    (function doScrollCheck() {\n                        if (!jQuery.isReady) {\n\n                            try {\n\n                                // Use the trick by Diego Perini\n                                // http://javascript.nwbox.com/IEContentLoaded/\n                                top.doScroll(\"left\");\n                            } catch (e) {\n                                return window.setTimeout(doScrollCheck, 50);\n                            }\n\n                            // detach all dom ready events\n                            detach();\n\n                            // and execute any waiting functions\n                            jQuery.ready();\n                        }\n                    })();\n                }\n            }\n        }\n        return readyList.promise(obj);\n    };\n\n// Kick off the DOM ready check even if the user does not\n    jQuery.ready.promise();\n\n\n// Support: IE<9\n// Iteration over object's inherited properties before its own\n    var i;\n    for (i in jQuery(support)) {\n        break;\n    }\n    support.ownFirst = i === \"0\";\n\n// Note: most support tests are defined in their respective modules.\n// false until the test is run\n    support.inlineBlockNeedsLayout = false;\n\n// Execute ASAP in case we need to set body.style.zoom\n    jQuery(function () {\n\n        // Minified: var a,b,c,d\n        var val, div, body, container;\n\n        body = document.getElementsByTagName(\"body\")[0];\n        if (!body || !body.style) {\n\n            // Return for frameset docs that don't have a body\n            return;\n        }\n\n        // Setup\n        div = document.createElement(\"div\");\n        container = document.createElement(\"div\");\n        container.style.cssText = \"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\";\n        body.appendChild(container).appendChild(div);\n\n        if (typeof div.style.zoom !== \"undefined\") {\n\n            // Support: IE<8\n            // Check if natively block-level elements act like inline-block\n            // elements when setting their display to 'inline' and giving\n            // them layout\n            div.style.cssText = \"display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1\";\n\n            support.inlineBlockNeedsLayout = val = div.offsetWidth === 3;\n            if (val) {\n\n                // Prevent IE 6 from affecting layout for positioned elements #11048\n                // Prevent IE from shrinking the body in IE 7 mode #12869\n                // Support: IE<8\n                body.style.zoom = 1;\n            }\n        }\n\n        body.removeChild(container);\n    });\n\n\n    (function () {\n        var div = document.createElement(\"div\");\n\n        // Support: IE<9\n        support.deleteExpando = true;\n        try {\n            delete div.test;\n        } catch (e) {\n            support.deleteExpando = false;\n        }\n\n        // Null elements to avoid leaks in IE.\n        div = null;\n    })();\n    var acceptData = function (elem) {\n        var noData = jQuery.noData[(elem.nodeName + \" \").toLowerCase()],\n            nodeType = +elem.nodeType || 1;\n\n        // Do not set data on non-element DOM nodes because it will not be cleared (#8335).\n        return nodeType !== 1 && nodeType !== 9 ?\n            false :\n\n            // Nodes accept data unless otherwise specified; rejection can be conditional\n            !noData || noData !== true && elem.getAttribute(\"classid\") === noData;\n    };\n\n\n    var rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n        rmultiDash = /([A-Z])/g;\n\n    function dataAttr(elem, key, data) {\n\n        // If nothing was found internally, try to fetch any\n        // data from the HTML5 data-* attribute\n        if (data === undefined && elem.nodeType === 1) {\n\n            var name = \"data-\" + key.replace(rmultiDash, \"-$1\").toLowerCase();\n\n            data = elem.getAttribute(name);\n\n            if (typeof data === \"string\") {\n                try {\n                    data = data === \"true\" ? true :\n                        data === \"false\" ? false :\n                            data === \"null\" ? null :\n\n                                // Only convert to a number if it doesn't change the string\n                                +data + \"\" === data ? +data :\n                                    rbrace.test(data) ? jQuery.parseJSON(data) :\n                                        data;\n                } catch (e) {\n                }\n\n                // Make sure we set the data so it isn't changed later\n                jQuery.data(elem, key, data);\n\n            } else {\n                data = undefined;\n            }\n        }\n\n        return data;\n    }\n\n// checks a cache object for emptiness\n    function isEmptyDataObject(obj) {\n        var name;\n        for (name in obj) {\n\n            // if the public data object is empty, the private is still empty\n            if (name === \"data\" && jQuery.isEmptyObject(obj[name])) {\n                continue;\n            }\n            if (name !== \"toJSON\") {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function internalData(elem, name, data, pvt /* Internal Use Only */) {\n        if (!acceptData(elem)) {\n            return;\n        }\n\n        var ret, thisCache,\n            internalKey = jQuery.expando,\n\n            // We have to handle DOM nodes and JS objects differently because IE6-7\n            // can't GC object references properly across the DOM-JS boundary\n            isNode = elem.nodeType,\n\n            // Only DOM nodes need the global jQuery cache; JS object data is\n            // attached directly to the object so GC can occur automatically\n            cache = isNode ? jQuery.cache : elem,\n\n            // Only defining an ID for JS objects if its cache already exists allows\n            // the code to shortcut on the same path as a DOM node with no cache\n            id = isNode ? elem[internalKey] : elem[internalKey] && internalKey;\n\n        // Avoid doing any more work than we need to when trying to get data on an\n        // object that has no data at all\n        if ((!id || !cache[id] || (!pvt && !cache[id].data)) &&\n            data === undefined && typeof name === \"string\") {\n            return;\n        }\n\n        if (!id) {\n\n            // Only DOM nodes need a new unique ID for each element since their data\n            // ends up in the global cache\n            if (isNode) {\n                id = elem[internalKey] = deletedIds.pop() || jQuery.guid++;\n            } else {\n                id = internalKey;\n            }\n        }\n\n        if (!cache[id]) {\n\n            // Avoid exposing jQuery metadata on plain JS objects when the object\n            // is serialized using JSON.stringify\n            cache[id] = isNode ? {} : {toJSON: jQuery.noop};\n        }\n\n        // An object can be passed to jQuery.data instead of a key/value pair; this gets\n        // shallow copied over onto the existing cache\n        if (typeof name === \"object\" || typeof name === \"function\") {\n            if (pvt) {\n                cache[id] = jQuery.extend(cache[id], name);\n            } else {\n                cache[id].data = jQuery.extend(cache[id].data, name);\n            }\n        }\n\n        thisCache = cache[id];\n\n        // jQuery data() is stored in a separate object inside the object's internal data\n        // cache in order to avoid key collisions between internal data and user-defined\n        // data.\n        if (!pvt) {\n            if (!thisCache.data) {\n                thisCache.data = {};\n            }\n\n            thisCache = thisCache.data;\n        }\n\n        if (data !== undefined) {\n            thisCache[jQuery.camelCase(name)] = data;\n        }\n\n        // Check for both converted-to-camel and non-converted data property names\n        // If a data property was specified\n        if (typeof name === \"string\") {\n\n            // First Try to find as-is property data\n            ret = thisCache[name];\n\n            // Test for null|undefined property data\n            if (ret == null) {\n\n                // Try to find the camelCased property\n                ret = thisCache[jQuery.camelCase(name)];\n            }\n        } else {\n            ret = thisCache;\n        }\n\n        return ret;\n    }\n\n    function internalRemoveData(elem, name, pvt) {\n        if (!acceptData(elem)) {\n            return;\n        }\n\n        var thisCache, i,\n            isNode = elem.nodeType,\n\n            // See jQuery.data for more information\n            cache = isNode ? jQuery.cache : elem,\n            id = isNode ? elem[jQuery.expando] : jQuery.expando;\n\n        // If there is already no cache entry for this object, there is no\n        // purpose in continuing\n        if (!cache[id]) {\n            return;\n        }\n\n        if (name) {\n\n            thisCache = pvt ? cache[id] : cache[id].data;\n\n            if (thisCache) {\n\n                // Support array or space separated string names for data keys\n                if (!jQuery.isArray(name)) {\n\n                    // try the string as a key before any manipulation\n                    if (name in thisCache) {\n                        name = [name];\n                    } else {\n\n                        // split the camel cased version by spaces unless a key with the spaces exists\n                        name = jQuery.camelCase(name);\n                        if (name in thisCache) {\n                            name = [name];\n                        } else {\n                            name = name.split(\" \");\n                        }\n                    }\n                } else {\n\n                    // If \"name\" is an array of keys...\n                    // When data is initially created, via (\"key\", \"val\") signature,\n                    // keys will be converted to camelCase.\n                    // Since there is no way to tell _how_ a key was added, remove\n                    // both plain key and camelCase key. #12786\n                    // This will only penalize the array argument path.\n                    name = name.concat(jQuery.map(name, jQuery.camelCase));\n                }\n\n                i = name.length;\n                while (i--) {\n                    delete thisCache[name[i]];\n                }\n\n                // If there is no data left in the cache, we want to continue\n                // and let the cache object itself get destroyed\n                if (pvt ? !isEmptyDataObject(thisCache) : !jQuery.isEmptyObject(thisCache)) {\n                    return;\n                }\n            }\n        }\n\n        // See jQuery.data for more information\n        if (!pvt) {\n            delete cache[id].data;\n\n            // Don't destroy the parent cache unless the internal data object\n            // had been the only thing left in it\n            if (!isEmptyDataObject(cache[id])) {\n                return;\n            }\n        }\n\n        // Destroy the cache\n        if (isNode) {\n            jQuery.cleanData([elem], true);\n\n            // Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)\n            /* jshint eqeqeq: false */\n        } else if (support.deleteExpando || cache != cache.window) {\n            /* jshint eqeqeq: true */\n            delete cache[id];\n\n            // When all else fails, undefined\n        } else {\n            cache[id] = undefined;\n        }\n    }\n\n    jQuery.extend({\n        cache: {},\n\n        // The following elements (space-suffixed to avoid Object.prototype collisions)\n        // throw uncatchable exceptions if you attempt to set expando properties\n        noData: {\n            \"applet \": true,\n            \"embed \": true,\n\n            // ...but Flash objects (which have this classid) *can* handle expandos\n            \"object \": \"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n        },\n\n        hasData: function (elem) {\n            elem = elem.nodeType ? jQuery.cache[elem[jQuery.expando]] : elem[jQuery.expando];\n            return !!elem && !isEmptyDataObject(elem);\n        },\n\n        data: function (elem, name, data) {\n            return internalData(elem, name, data);\n        },\n\n        removeData: function (elem, name) {\n            return internalRemoveData(elem, name);\n        },\n\n        // For internal use only.\n        _data: function (elem, name, data) {\n            return internalData(elem, name, data, true);\n        },\n\n        _removeData: function (elem, name) {\n            return internalRemoveData(elem, name, true);\n        }\n    });\n\n    jQuery.fn.extend({\n        data: function (key, value) {\n            var i, name, data,\n                elem = this[0],\n                attrs = elem && elem.attributes;\n\n            // Special expections of .data basically thwart jQuery.access,\n            // so implement the relevant behavior ourselves\n\n            // Gets all values\n            if (key === undefined) {\n                if (this.length) {\n                    data = jQuery.data(elem);\n\n                    if (elem.nodeType === 1 && !jQuery._data(elem, \"parsedAttrs\")) {\n                        i = attrs.length;\n                        while (i--) {\n\n                            // Support: IE11+\n                            // The attrs elements can be null (#14894)\n                            if (attrs[i]) {\n                                name = attrs[i].name;\n                                if (name.indexOf(\"data-\") === 0) {\n                                    name = jQuery.camelCase(name.slice(5));\n                                    dataAttr(elem, name, data[name]);\n                                }\n                            }\n                        }\n                        jQuery._data(elem, \"parsedAttrs\", true);\n                    }\n                }\n\n                return data;\n            }\n\n            // Sets multiple values\n            if (typeof key === \"object\") {\n                return this.each(function () {\n                    jQuery.data(this, key);\n                });\n            }\n\n            return arguments.length > 1 ?\n\n                // Sets one value\n                this.each(function () {\n                    jQuery.data(this, key, value);\n                }) :\n\n                // Gets one value\n                // Try to fetch any internally stored data first\n                elem ? dataAttr(elem, key, jQuery.data(elem, key)) : undefined;\n        },\n\n        removeData: function (key) {\n            return this.each(function () {\n                jQuery.removeData(this, key);\n            });\n        }\n    });\n\n\n    jQuery.extend({\n        queue: function (elem, type, data) {\n            var queue;\n\n            if (elem) {\n                type = (type || \"fx\") + \"queue\";\n                queue = jQuery._data(elem, type);\n\n                // Speed up dequeue by getting out quickly if this is just a lookup\n                if (data) {\n                    if (!queue || jQuery.isArray(data)) {\n                        queue = jQuery._data(elem, type, jQuery.makeArray(data));\n                    } else {\n                        queue.push(data);\n                    }\n                }\n                return queue || [];\n            }\n        },\n\n        dequeue: function (elem, type) {\n            type = type || \"fx\";\n\n            var queue = jQuery.queue(elem, type),\n                startLength = queue.length,\n                fn = queue.shift(),\n                hooks = jQuery._queueHooks(elem, type),\n                next = function () {\n                    jQuery.dequeue(elem, type);\n                };\n\n            // If the fx queue is dequeued, always remove the progress sentinel\n            if (fn === \"inprogress\") {\n                fn = queue.shift();\n                startLength--;\n            }\n\n            if (fn) {\n\n                // Add a progress sentinel to prevent the fx queue from being\n                // automatically dequeued\n                if (type === \"fx\") {\n                    queue.unshift(\"inprogress\");\n                }\n\n                // clear up the last queue stop function\n                delete hooks.stop;\n                fn.call(elem, next, hooks);\n            }\n\n            if (!startLength && hooks) {\n                hooks.empty.fire();\n            }\n        },\n\n        // not intended for public consumption - generates a queueHooks object,\n        // or returns the current one\n        _queueHooks: function (elem, type) {\n            var key = type + \"queueHooks\";\n            return jQuery._data(elem, key) || jQuery._data(elem, key, {\n                empty: jQuery.Callbacks(\"once memory\").add(function () {\n                    jQuery._removeData(elem, type + \"queue\");\n                    jQuery._removeData(elem, key);\n                })\n            });\n        }\n    });\n\n    jQuery.fn.extend({\n        queue: function (type, data) {\n            var setter = 2;\n\n            if (typeof type !== \"string\") {\n                data = type;\n                type = \"fx\";\n                setter--;\n            }\n\n            if (arguments.length < setter) {\n                return jQuery.queue(this[0], type);\n            }\n\n            return data === undefined ?\n                this :\n                this.each(function () {\n                    var queue = jQuery.queue(this, type, data);\n\n                    // ensure a hooks for this queue\n                    jQuery._queueHooks(this, type);\n\n                    if (type === \"fx\" && queue[0] !== \"inprogress\") {\n                        jQuery.dequeue(this, type);\n                    }\n                });\n        },\n        dequeue: function (type) {\n            return this.each(function () {\n                jQuery.dequeue(this, type);\n            });\n        },\n        clearQueue: function (type) {\n            return this.queue(type || \"fx\", []);\n        },\n\n        // Get a promise resolved when queues of a certain type\n        // are emptied (fx is the type by default)\n        promise: function (type, obj) {\n            var tmp,\n                count = 1,\n                defer = jQuery.Deferred(),\n                elements = this,\n                i = this.length,\n                resolve = function () {\n                    if (!(--count)) {\n                        defer.resolveWith(elements, [elements]);\n                    }\n                };\n\n            if (typeof type !== \"string\") {\n                obj = type;\n                type = undefined;\n            }\n            type = type || \"fx\";\n\n            while (i--) {\n                tmp = jQuery._data(elements[i], type + \"queueHooks\");\n                if (tmp && tmp.empty) {\n                    count++;\n                    tmp.empty.add(resolve);\n                }\n            }\n            resolve();\n            return defer.promise(obj);\n        }\n    });\n\n\n    (function () {\n        var shrinkWrapBlocksVal;\n\n        support.shrinkWrapBlocks = function () {\n            if (shrinkWrapBlocksVal != null) {\n                return shrinkWrapBlocksVal;\n            }\n\n            // Will be changed later if needed.\n            shrinkWrapBlocksVal = false;\n\n            // Minified: var b,c,d\n            var div, body, container;\n\n            body = document.getElementsByTagName(\"body\")[0];\n            if (!body || !body.style) {\n\n                // Test fired too early or in an unsupported environment, exit.\n                return;\n            }\n\n            // Setup\n            div = document.createElement(\"div\");\n            container = document.createElement(\"div\");\n            container.style.cssText = \"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\";\n            body.appendChild(container).appendChild(div);\n\n            // Support: IE6\n            // Check if elements with layout shrink-wrap their children\n            if (typeof div.style.zoom !== \"undefined\") {\n\n                // Reset CSS: box-sizing; display; margin; border\n                div.style.cssText =\n\n                    // Support: Firefox<29, Android 2.3\n                    // Vendor-prefix box-sizing\n                    \"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\n                    \"box-sizing:content-box;display:block;margin:0;border:0;\" +\n                    \"padding:1px;width:1px;zoom:1\";\n                div.appendChild(document.createElement(\"div\")).style.width = \"5px\";\n                shrinkWrapBlocksVal = div.offsetWidth !== 3;\n            }\n\n            body.removeChild(container);\n\n            return shrinkWrapBlocksVal;\n        };\n\n    })();\n    var pnum = (/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/).source;\n\n    var rcssNum = new RegExp(\"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\");\n\n\n    var cssExpand = [\"Top\", \"Right\", \"Bottom\", \"Left\"];\n\n    var isHidden = function (elem, el) {\n\n        // isHidden might be called from jQuery#filter function;\n        // in that case, element will be second argument\n        elem = el || elem;\n        return jQuery.css(elem, \"display\") === \"none\" || !jQuery.contains(elem.ownerDocument, elem);\n    };\n\n\n    function adjustCSS(elem, prop, valueParts, tween) {\n        var adjusted,\n            scale = 1,\n            maxIterations = 20,\n            currentValue = tween ?\n                function () {\n                    return tween.cur();\n                } :\n                function () {\n                    return jQuery.css(elem, prop, \"\");\n                },\n            initial = currentValue(),\n            unit = valueParts && valueParts[3] || (jQuery.cssNumber[prop] ? \"\" : \"px\"),\n\n            // Starting value computation is required for potential unit mismatches\n            initialInUnit = (jQuery.cssNumber[prop] || unit !== \"px\" && +initial) &&\n                rcssNum.exec(jQuery.css(elem, prop));\n\n        if (initialInUnit && initialInUnit[3] !== unit) {\n\n            // Trust units reported by jQuery.css\n            unit = unit || initialInUnit[3];\n\n            // Make sure we update the tween properties later on\n            valueParts = valueParts || [];\n\n            // Iteratively approximate from a nonzero starting point\n            initialInUnit = +initial || 1;\n\n            do {\n\n                // If previous iteration zeroed out, double until we get *something*.\n                // Use string for doubling so we don't accidentally see scale as unchanged below\n                scale = scale || \".5\";\n\n                // Adjust and apply\n                initialInUnit = initialInUnit / scale;\n                jQuery.style(elem, prop, initialInUnit + unit);\n\n                // Update scale, tolerating zero or NaN from tween.cur()\n                // Break the loop if scale is unchanged or perfect, or if we've just had enough.\n            } while (\n                scale !== (scale = currentValue() / initial) && scale !== 1 && --maxIterations\n                );\n        }\n\n        if (valueParts) {\n            initialInUnit = +initialInUnit || +initial || 0;\n\n            // Apply relative offset (+=/-=) if specified\n            adjusted = valueParts[1] ?\n                initialInUnit + (valueParts[1] + 1) * valueParts[2] :\n                +valueParts[2];\n            if (tween) {\n                tween.unit = unit;\n                tween.start = initialInUnit;\n                tween.end = adjusted;\n            }\n        }\n        return adjusted;\n    }\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\n    var access = function (elems, fn, key, value, chainable, emptyGet, raw) {\n        var i = 0,\n            length = elems.length,\n            bulk = key == null;\n\n        // Sets many values\n        if (jQuery.type(key) === \"object\") {\n            chainable = true;\n            for (i in key) {\n                access(elems, fn, i, key[i], true, emptyGet, raw);\n            }\n\n            // Sets one value\n        } else if (value !== undefined) {\n            chainable = true;\n\n            if (!jQuery.isFunction(value)) {\n                raw = true;\n            }\n\n            if (bulk) {\n\n                // Bulk operations run against the entire set\n                if (raw) {\n                    fn.call(elems, value);\n                    fn = null;\n\n                    // ...except when executing function values\n                } else {\n                    bulk = fn;\n                    fn = function (elem, key, value) {\n                        return bulk.call(jQuery(elem), value);\n                    };\n                }\n            }\n\n            if (fn) {\n                for (; i < length; i++) {\n                    fn(\n                        elems[i],\n                        key,\n                        raw ? value : value.call(elems[i], i, fn(elems[i], key))\n                    );\n                }\n            }\n        }\n\n        return chainable ?\n            elems :\n\n            // Gets\n            bulk ?\n                fn.call(elems) :\n                length ? fn(elems[0], key) : emptyGet;\n    };\n    var rcheckableType = (/^(?:checkbox|radio)$/i);\n\n    var rtagName = (/<([\\w:-]+)/);\n\n    var rscriptType = (/^$|\\/(?:java|ecma)script/i);\n\n    var rleadingWhitespace = (/^\\s+/);\n\n    var nodeNames = \"abbr|article|aside|audio|bdi|canvas|data|datalist|\" +\n        \"details|dialog|figcaption|figure|footer|header|hgroup|main|\" +\n        \"mark|meter|nav|output|picture|progress|section|summary|template|time|video\";\n\n\n    function createSafeFragment(document) {\n        var list = nodeNames.split(\"|\"),\n            safeFrag = document.createDocumentFragment();\n\n        if (safeFrag.createElement) {\n            while (list.length) {\n                safeFrag.createElement(\n                    list.pop()\n                );\n            }\n        }\n        return safeFrag;\n    }\n\n\n    (function () {\n        var div = document.createElement(\"div\"),\n            fragment = document.createDocumentFragment(),\n            input = document.createElement(\"input\");\n\n        // Setup\n        div.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n\n        // IE strips leading whitespace when .innerHTML is used\n        support.leadingWhitespace = div.firstChild.nodeType === 3;\n\n        // Make sure that tbody elements aren't automatically inserted\n        // IE will insert them into empty tables\n        support.tbody = !div.getElementsByTagName(\"tbody\").length;\n\n        // Make sure that link elements get serialized correctly by innerHTML\n        // This requires a wrapper element in IE\n        support.htmlSerialize = !!div.getElementsByTagName(\"link\").length;\n\n        // Makes sure cloning an html5 element does not cause problems\n        // Where outerHTML is undefined, this still works\n        support.html5Clone =\n            document.createElement(\"nav\").cloneNode(true).outerHTML !== \"<:nav></:nav>\";\n\n        // Check if a disconnected checkbox will retain its checked\n        // value of true after appended to the DOM (IE6/7)\n        input.type = \"checkbox\";\n        input.checked = true;\n        fragment.appendChild(input);\n        support.appendChecked = input.checked;\n\n        // Make sure textarea (and checkbox) defaultValue is properly cloned\n        // Support: IE6-IE11+\n        div.innerHTML = \"<textarea>x</textarea>\";\n        support.noCloneChecked = !!div.cloneNode(true).lastChild.defaultValue;\n\n        // #11217 - WebKit loses check when the name is after the checked attribute\n        fragment.appendChild(div);\n\n        // Support: Windows Web Apps (WWA)\n        // `name` and `type` must use .setAttribute for WWA (#14901)\n        input = document.createElement(\"input\");\n        input.setAttribute(\"type\", \"radio\");\n        input.setAttribute(\"checked\", \"checked\");\n        input.setAttribute(\"name\", \"t\");\n\n        div.appendChild(input);\n\n        // Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3\n        // old WebKit doesn't clone checked state correctly in fragments\n        support.checkClone = div.cloneNode(true).cloneNode(true).lastChild.checked;\n\n        // Support: IE<9\n        // Cloned elements keep attachEvent handlers, we use addEventListener on IE9+\n        support.noCloneEvent = !!div.addEventListener;\n\n        // Support: IE<9\n        // Since attributes and properties are the same in IE,\n        // cleanData must set properties to undefined rather than use removeAttribute\n        div[jQuery.expando] = 1;\n        support.attributes = !div.getAttribute(jQuery.expando);\n    })();\n\n\n// We have to close these tags to support XHTML (#13200)\n    var wrapMap = {\n        option: [1, \"<select multiple='multiple'>\", \"</select>\"],\n        legend: [1, \"<fieldset>\", \"</fieldset>\"],\n        area: [1, \"<map>\", \"</map>\"],\n\n        // Support: IE8\n        param: [1, \"<object>\", \"</object>\"],\n        thead: [1, \"<table>\", \"</table>\"],\n        tr: [2, \"<table><tbody>\", \"</tbody></table>\"],\n        col: [2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\"],\n        td: [3, \"<table><tbody><tr>\", \"</tr></tbody></table>\"],\n\n        // IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,\n        // unless wrapped in a div with non-breaking characters in front of it.\n        _default: support.htmlSerialize ? [0, \"\", \"\"] : [1, \"X<div>\", \"</div>\"]\n    };\n\n// Support: IE8-IE9\n    wrapMap.optgroup = wrapMap.option;\n\n    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\n    wrapMap.th = wrapMap.td;\n\n\n    function getAll(context, tag) {\n        var elems, elem,\n            i = 0,\n            found = typeof context.getElementsByTagName !== \"undefined\" ?\n                context.getElementsByTagName(tag || \"*\") :\n                typeof context.querySelectorAll !== \"undefined\" ?\n                    context.querySelectorAll(tag || \"*\") :\n                    undefined;\n\n        if (!found) {\n            for (found = [], elems = context.childNodes || context;\n                 (elem = elems[i]) != null;\n                 i++\n            ) {\n                if (!tag || jQuery.nodeName(elem, tag)) {\n                    found.push(elem);\n                } else {\n                    jQuery.merge(found, getAll(elem, tag));\n                }\n            }\n        }\n\n        return tag === undefined || tag && jQuery.nodeName(context, tag) ?\n            jQuery.merge([context], found) :\n            found;\n    }\n\n\n// Mark scripts as having already been evaluated\n    function setGlobalEval(elems, refElements) {\n        var elem,\n            i = 0;\n        for (; (elem = elems[i]) != null; i++) {\n            jQuery._data(\n                elem,\n                \"globalEval\",\n                !refElements || jQuery._data(refElements[i], \"globalEval\")\n            );\n        }\n    }\n\n\n    var rhtml = /<|&#?\\w+;/,\n        rtbody = /<tbody/i;\n\n    function fixDefaultChecked(elem) {\n        if (rcheckableType.test(elem.type)) {\n            elem.defaultChecked = elem.checked;\n        }\n    }\n\n    function buildFragment(elems, context, scripts, selection, ignored) {\n        var j, elem, contains,\n            tmp, tag, tbody, wrap,\n            l = elems.length,\n\n            // Ensure a safe fragment\n            safe = createSafeFragment(context),\n\n            nodes = [],\n            i = 0;\n\n        for (; i < l; i++) {\n            elem = elems[i];\n\n            if (elem || elem === 0) {\n\n                // Add nodes directly\n                if (jQuery.type(elem) === \"object\") {\n                    jQuery.merge(nodes, elem.nodeType ? [elem] : elem);\n\n                    // Convert non-html into a text node\n                } else if (!rhtml.test(elem)) {\n                    nodes.push(context.createTextNode(elem));\n\n                    // Convert html into DOM nodes\n                } else {\n                    tmp = tmp || safe.appendChild(context.createElement(\"div\"));\n\n                    // Deserialize a standard representation\n                    tag = (rtagName.exec(elem) || [\"\", \"\"])[1].toLowerCase();\n                    wrap = wrapMap[tag] || wrapMap._default;\n\n                    tmp.innerHTML = wrap[1] + jQuery.htmlPrefilter(elem) + wrap[2];\n\n                    // Descend through wrappers to the right content\n                    j = wrap[0];\n                    while (j--) {\n                        tmp = tmp.lastChild;\n                    }\n\n                    // Manually add leading whitespace removed by IE\n                    if (!support.leadingWhitespace && rleadingWhitespace.test(elem)) {\n                        nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]));\n                    }\n\n                    // Remove IE's autoinserted <tbody> from table fragments\n                    if (!support.tbody) {\n\n                        // String was a <table>, *may* have spurious <tbody>\n                        elem = tag === \"table\" && !rtbody.test(elem) ?\n                            tmp.firstChild :\n\n                            // String was a bare <thead> or <tfoot>\n                            wrap[1] === \"<table>\" && !rtbody.test(elem) ?\n                                tmp :\n                                0;\n\n                        j = elem && elem.childNodes.length;\n                        while (j--) {\n                            if (jQuery.nodeName((tbody = elem.childNodes[j]), \"tbody\") && !tbody.childNodes.length) {\n\n                                elem.removeChild(tbody);\n                            }\n                        }\n                    }\n\n                    jQuery.merge(nodes, tmp.childNodes);\n\n                    // Fix #12392 for WebKit and IE > 9\n                    tmp.textContent = \"\";\n\n                    // Fix #12392 for oldIE\n                    while (tmp.firstChild) {\n                        tmp.removeChild(tmp.firstChild);\n                    }\n\n                    // Remember the top-level container for proper cleanup\n                    tmp = safe.lastChild;\n                }\n            }\n        }\n\n        // Fix #11356: Clear elements from fragment\n        if (tmp) {\n            safe.removeChild(tmp);\n        }\n\n        // Reset defaultChecked for any radios and checkboxes\n        // about to be appended to the DOM in IE 6/7 (#8060)\n        if (!support.appendChecked) {\n            jQuery.grep(getAll(nodes, \"input\"), fixDefaultChecked);\n        }\n\n        i = 0;\n        while ((elem = nodes[i++])) {\n\n            // Skip elements already in the context collection (trac-4087)\n            if (selection && jQuery.inArray(elem, selection) > -1) {\n                if (ignored) {\n                    ignored.push(elem);\n                }\n\n                continue;\n            }\n\n            contains = jQuery.contains(elem.ownerDocument, elem);\n\n            // Append to fragment\n            tmp = getAll(safe.appendChild(elem), \"script\");\n\n            // Preserve script evaluation history\n            if (contains) {\n                setGlobalEval(tmp);\n            }\n\n            // Capture executables\n            if (scripts) {\n                j = 0;\n                while ((elem = tmp[j++])) {\n                    if (rscriptType.test(elem.type || \"\")) {\n                        scripts.push(elem);\n                    }\n                }\n            }\n        }\n\n        tmp = null;\n\n        return safe;\n    }\n\n\n    (function () {\n        var i, eventName,\n            div = document.createElement(\"div\");\n\n        // Support: IE<9 (lack submit/change bubble), Firefox (lack focus(in | out) events)\n        for (i in {submit: true, change: true, focusin: true}) {\n            eventName = \"on\" + i;\n\n            if (!(support[i] = eventName in window)) {\n\n                // Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP)\n                div.setAttribute(eventName, \"t\");\n                support[i] = div.attributes[eventName].expando === false;\n            }\n        }\n\n        // Null elements to avoid leaks in IE.\n        div = null;\n    })();\n\n\n    var rformElems = /^(?:input|select|textarea)$/i,\n        rkeyEvent = /^key/,\n        rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n        rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n        rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\n    function returnTrue() {\n        return true;\n    }\n\n    function returnFalse() {\n        return false;\n    }\n\n// Support: IE9\n// See #13393 for more info\n    function safeActiveElement() {\n        try {\n            return document.activeElement;\n        } catch (err) {\n        }\n    }\n\n    function on(elem, types, selector, data, fn, one) {\n        var origFn, type;\n\n        // Types can be a map of types/handlers\n        if (typeof types === \"object\") {\n\n            // ( types-Object, selector, data )\n            if (typeof selector !== \"string\") {\n\n                // ( types-Object, data )\n                data = data || selector;\n                selector = undefined;\n            }\n            for (type in types) {\n                on(elem, type, selector, data, types[type], one);\n            }\n            return elem;\n        }\n\n        if (data == null && fn == null) {\n\n            // ( types, fn )\n            fn = selector;\n            data = selector = undefined;\n        } else if (fn == null) {\n            if (typeof selector === \"string\") {\n\n                // ( types, selector, fn )\n                fn = data;\n                data = undefined;\n            } else {\n\n                // ( types, data, fn )\n                fn = data;\n                data = selector;\n                selector = undefined;\n            }\n        }\n        if (fn === false) {\n            fn = returnFalse;\n        } else if (!fn) {\n            return elem;\n        }\n\n        if (one === 1) {\n            origFn = fn;\n            fn = function (event) {\n\n                // Can use an empty set, since event contains the info\n                jQuery().off(event);\n                return origFn.apply(this, arguments);\n            };\n\n            // Use same guid so caller can remove using origFn\n            fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);\n        }\n        return elem.each(function () {\n            jQuery.event.add(this, types, fn, data, selector);\n        });\n    }\n\n    /*\n     * Helper functions for managing events -- not part of the public interface.\n     * Props to Dean Edwards' addEvent library for many of the ideas.\n     */\n    jQuery.event = {\n\n        global: {},\n\n        add: function (elem, types, handler, data, selector) {\n            var tmp, events, t, handleObjIn,\n                special, eventHandle, handleObj,\n                handlers, type, namespaces, origType,\n                elemData = jQuery._data(elem);\n\n            // Don't attach events to noData or text/comment nodes (but allow plain objects)\n            if (!elemData) {\n                return;\n            }\n\n            // Caller can pass in an object of custom data in lieu of the handler\n            if (handler.handler) {\n                handleObjIn = handler;\n                handler = handleObjIn.handler;\n                selector = handleObjIn.selector;\n            }\n\n            // Make sure that the handler has a unique ID, used to find/remove it later\n            if (!handler.guid) {\n                handler.guid = jQuery.guid++;\n            }\n\n            // Init the element's event structure and main handler, if this is the first\n            if (!(events = elemData.events)) {\n                events = elemData.events = {};\n            }\n            if (!(eventHandle = elemData.handle)) {\n                eventHandle = elemData.handle = function (e) {\n\n                    // Discard the second event of a jQuery.event.trigger() and\n                    // when an event is called after a page has unloaded\n                    return typeof jQuery !== \"undefined\" &&\n                    (!e || jQuery.event.triggered !== e.type) ?\n                        jQuery.event.dispatch.apply(eventHandle.elem, arguments) :\n                        undefined;\n                };\n\n                // Add elem as a property of the handle fn to prevent a memory leak\n                // with IE non-native events\n                eventHandle.elem = elem;\n            }\n\n            // Handle multiple events separated by a space\n            types = (types || \"\").match(rnotwhite) || [\"\"];\n            t = types.length;\n            while (t--) {\n                tmp = rtypenamespace.exec(types[t]) || [];\n                type = origType = tmp[1];\n                namespaces = (tmp[2] || \"\").split(\".\").sort();\n\n                // There *must* be a type, no attaching namespace-only handlers\n                if (!type) {\n                    continue;\n                }\n\n                // If event changes its type, use the special event handlers for the changed type\n                special = jQuery.event.special[type] || {};\n\n                // If selector defined, determine special event api type, otherwise given type\n                type = (selector ? special.delegateType : special.bindType) || type;\n\n                // Update special based on newly reset type\n                special = jQuery.event.special[type] || {};\n\n                // handleObj is passed to all event handlers\n                handleObj = jQuery.extend({\n                    type: type,\n                    origType: origType,\n                    data: data,\n                    handler: handler,\n                    guid: handler.guid,\n                    selector: selector,\n                    needsContext: selector && jQuery.expr.match.needsContext.test(selector),\n                    namespace: namespaces.join(\".\")\n                }, handleObjIn);\n\n                // Init the event handler queue if we're the first\n                if (!(handlers = events[type])) {\n                    handlers = events[type] = [];\n                    handlers.delegateCount = 0;\n\n                    // Only use addEventListener/attachEvent if the special events handler returns false\n                    if (!special.setup ||\n                        special.setup.call(elem, data, namespaces, eventHandle) === false) {\n\n                        // Bind the global event handler to the element\n                        if (elem.addEventListener) {\n                            elem.addEventListener(type, eventHandle, false);\n\n                        } else if (elem.attachEvent) {\n                            elem.attachEvent(\"on\" + type, eventHandle);\n                        }\n                    }\n                }\n\n                if (special.add) {\n                    special.add.call(elem, handleObj);\n\n                    if (!handleObj.handler.guid) {\n                        handleObj.handler.guid = handler.guid;\n                    }\n                }\n\n                // Add to the element's handler list, delegates in front\n                if (selector) {\n                    handlers.splice(handlers.delegateCount++, 0, handleObj);\n                } else {\n                    handlers.push(handleObj);\n                }\n\n                // Keep track of which events have ever been used, for event optimization\n                jQuery.event.global[type] = true;\n            }\n\n            // Nullify elem to prevent memory leaks in IE\n            elem = null;\n        },\n\n        // Detach an event or set of events from an element\n        remove: function (elem, types, handler, selector, mappedTypes) {\n            var j, handleObj, tmp,\n                origCount, t, events,\n                special, handlers, type,\n                namespaces, origType,\n                elemData = jQuery.hasData(elem) && jQuery._data(elem);\n\n            if (!elemData || !(events = elemData.events)) {\n                return;\n            }\n\n            // Once for each type.namespace in types; type may be omitted\n            types = (types || \"\").match(rnotwhite) || [\"\"];\n            t = types.length;\n            while (t--) {\n                tmp = rtypenamespace.exec(types[t]) || [];\n                type = origType = tmp[1];\n                namespaces = (tmp[2] || \"\").split(\".\").sort();\n\n                // Unbind all events (on this namespace, if provided) for the element\n                if (!type) {\n                    for (type in events) {\n                        jQuery.event.remove(elem, type + types[t], handler, selector, true);\n                    }\n                    continue;\n                }\n\n                special = jQuery.event.special[type] || {};\n                type = (selector ? special.delegateType : special.bindType) || type;\n                handlers = events[type] || [];\n                tmp = tmp[2] &&\n                    new RegExp(\"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\");\n\n                // Remove matching events\n                origCount = j = handlers.length;\n                while (j--) {\n                    handleObj = handlers[j];\n\n                    if ((mappedTypes || origType === handleObj.origType) &&\n                        (!handler || handler.guid === handleObj.guid) &&\n                        (!tmp || tmp.test(handleObj.namespace)) &&\n                        (!selector || selector === handleObj.selector ||\n                            selector === \"**\" && handleObj.selector)) {\n                        handlers.splice(j, 1);\n\n                        if (handleObj.selector) {\n                            handlers.delegateCount--;\n                        }\n                        if (special.remove) {\n                            special.remove.call(elem, handleObj);\n                        }\n                    }\n                }\n\n                // Remove generic event handler if we removed something and no more handlers exist\n                // (avoids potential for endless recursion during removal of special event handlers)\n                if (origCount && !handlers.length) {\n                    if (!special.teardown ||\n                        special.teardown.call(elem, namespaces, elemData.handle) === false) {\n\n                        jQuery.removeEvent(elem, type, elemData.handle);\n                    }\n\n                    delete events[type];\n                }\n            }\n\n            // Remove the expando if it's no longer used\n            if (jQuery.isEmptyObject(events)) {\n                delete elemData.handle;\n\n                // removeData also checks for emptiness and clears the expando if empty\n                // so use it instead of delete\n                jQuery._removeData(elem, \"events\");\n            }\n        },\n\n        trigger: function (event, data, elem, onlyHandlers) {\n            var handle, ontype, cur,\n                bubbleType, special, tmp, i,\n                eventPath = [elem || document],\n                type = hasOwn.call(event, \"type\") ? event.type : event,\n                namespaces = hasOwn.call(event, \"namespace\") ? event.namespace.split(\".\") : [];\n\n            cur = tmp = elem = elem || document;\n\n            // Don't do events on text and comment nodes\n            if (elem.nodeType === 3 || elem.nodeType === 8) {\n                return;\n            }\n\n            // focus/blur morphs to focusin/out; ensure we're not firing them right now\n            if (rfocusMorph.test(type + jQuery.event.triggered)) {\n                return;\n            }\n\n            if (type.indexOf(\".\") > -1) {\n\n                // Namespaced trigger; create a regexp to match event type in handle()\n                namespaces = type.split(\".\");\n                type = namespaces.shift();\n                namespaces.sort();\n            }\n            ontype = type.indexOf(\":\") < 0 && \"on\" + type;\n\n            // Caller can pass in a jQuery.Event object, Object, or just an event type string\n            event = event[jQuery.expando] ?\n                event :\n                new jQuery.Event(type, typeof event === \"object\" && event);\n\n            // Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n            event.isTrigger = onlyHandlers ? 2 : 3;\n            event.namespace = namespaces.join(\".\");\n            event.rnamespace = event.namespace ?\n                new RegExp(\"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\") :\n                null;\n\n            // Clean up the event in case it is being reused\n            event.result = undefined;\n            if (!event.target) {\n                event.target = elem;\n            }\n\n            // Clone any incoming data and prepend the event, creating the handler arg list\n            data = data == null ?\n                [event] :\n                jQuery.makeArray(data, [event]);\n\n            // Allow special events to draw outside the lines\n            special = jQuery.event.special[type] || {};\n            if (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {\n                return;\n            }\n\n            // Determine event propagation path in advance, per W3C events spec (#9951)\n            // Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n            if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {\n\n                bubbleType = special.delegateType || type;\n                if (!rfocusMorph.test(bubbleType + type)) {\n                    cur = cur.parentNode;\n                }\n                for (; cur; cur = cur.parentNode) {\n                    eventPath.push(cur);\n                    tmp = cur;\n                }\n\n                // Only add window if we got to document (e.g., not plain obj or detached DOM)\n                if (tmp === (elem.ownerDocument || document)) {\n                    eventPath.push(tmp.defaultView || tmp.parentWindow || window);\n                }\n            }\n\n            // Fire handlers on the event path\n            i = 0;\n            while ((cur = eventPath[i++]) && !event.isPropagationStopped()) {\n\n                event.type = i > 1 ?\n                    bubbleType :\n                    special.bindType || type;\n\n                // jQuery handler\n                handle = (jQuery._data(cur, \"events\") || {})[event.type] &&\n                    jQuery._data(cur, \"handle\");\n\n                if (handle) {\n                    handle.apply(cur, data);\n                }\n\n                // Native handler\n                handle = ontype && cur[ontype];\n                if (handle && handle.apply && acceptData(cur)) {\n                    event.result = handle.apply(cur, data);\n                    if (event.result === false) {\n                        event.preventDefault();\n                    }\n                }\n            }\n            event.type = type;\n\n            // If nobody prevented the default action, do it now\n            if (!onlyHandlers && !event.isDefaultPrevented()) {\n\n                if (\n                    (!special._default ||\n                        special._default.apply(eventPath.pop(), data) === false\n                    ) && acceptData(elem)\n                ) {\n\n                    // Call a native DOM method on the target with the same name name as the event.\n                    // Can't use an .isFunction() check here because IE6/7 fails that test.\n                    // Don't do default actions on window, that's where global variables be (#6170)\n                    if (ontype && elem[type] && !jQuery.isWindow(elem)) {\n\n                        // Don't re-trigger an onFOO event when we call its FOO() method\n                        tmp = elem[ontype];\n\n                        if (tmp) {\n                            elem[ontype] = null;\n                        }\n\n                        // Prevent re-triggering of the same event, since we already bubbled it above\n                        jQuery.event.triggered = type;\n                        try {\n                            elem[type]();\n                        } catch (e) {\n\n                            // IE<9 dies on focus/blur to hidden element (#1486,#12518)\n                            // only reproducible on winXP IE8 native, not IE9 in IE8 mode\n                        }\n                        jQuery.event.triggered = undefined;\n\n                        if (tmp) {\n                            elem[ontype] = tmp;\n                        }\n                    }\n                }\n            }\n\n            return event.result;\n        },\n\n        dispatch: function (event) {\n\n            // Make a writable jQuery.Event from the native event object\n            event = jQuery.event.fix(event);\n\n            var i, j, ret, matched, handleObj,\n                handlerQueue = [],\n                args = slice.call(arguments),\n                handlers = (jQuery._data(this, \"events\") || {})[event.type] || [],\n                special = jQuery.event.special[event.type] || {};\n\n            // Use the fix-ed jQuery.Event rather than the (read-only) native event\n            args[0] = event;\n            event.delegateTarget = this;\n\n            // Call the preDispatch hook for the mapped type, and let it bail if desired\n            if (special.preDispatch && special.preDispatch.call(this, event) === false) {\n                return;\n            }\n\n            // Determine handlers\n            handlerQueue = jQuery.event.handlers.call(this, event, handlers);\n\n            // Run delegates first; they may want to stop propagation beneath us\n            i = 0;\n            while ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {\n                event.currentTarget = matched.elem;\n\n                j = 0;\n                while ((handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped()) {\n\n                    // Triggered event must either 1) have no namespace, or 2) have namespace(s)\n                    // a subset or equal to those in the bound event (both can have no namespace).\n                    if (!event.rnamespace || event.rnamespace.test(handleObj.namespace)) {\n\n                        event.handleObj = handleObj;\n                        event.data = handleObj.data;\n\n                        ret = ((jQuery.event.special[handleObj.origType] || {}).handle ||\n                            handleObj.handler).apply(matched.elem, args);\n\n                        if (ret !== undefined) {\n                            if ((event.result = ret) === false) {\n                                event.preventDefault();\n                                event.stopPropagation();\n                            }\n                        }\n                    }\n                }\n            }\n\n            // Call the postDispatch hook for the mapped type\n            if (special.postDispatch) {\n                special.postDispatch.call(this, event);\n            }\n\n            return event.result;\n        },\n\n        handlers: function (event, handlers) {\n            var i, matches, sel, handleObj,\n                handlerQueue = [],\n                delegateCount = handlers.delegateCount,\n                cur = event.target;\n\n            // Support (at least): Chrome, IE9\n            // Find delegate handlers\n            // Black-hole SVG <use> instance trees (#13180)\n            //\n            // Support: Firefox<=42+\n            // Avoid non-left-click in FF but don't block IE radio events (#3861, gh-2343)\n            if (delegateCount && cur.nodeType &&\n                (event.type !== \"click\" || isNaN(event.button) || event.button < 1)) {\n\n                /* jshint eqeqeq: false */\n                for (; cur != this; cur = cur.parentNode || this) {\n                    /* jshint eqeqeq: true */\n\n                    // Don't check non-elements (#13208)\n                    // Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n                    if (cur.nodeType === 1 && (cur.disabled !== true || event.type !== \"click\")) {\n                        matches = [];\n                        for (i = 0; i < delegateCount; i++) {\n                            handleObj = handlers[i];\n\n                            // Don't conflict with Object.prototype properties (#13203)\n                            sel = handleObj.selector + \" \";\n\n                            if (matches[sel] === undefined) {\n                                matches[sel] = handleObj.needsContext ?\n                                    jQuery(sel, this).index(cur) > -1 :\n                                    jQuery.find(sel, this, null, [cur]).length;\n                            }\n                            if (matches[sel]) {\n                                matches.push(handleObj);\n                            }\n                        }\n                        if (matches.length) {\n                            handlerQueue.push({elem: cur, handlers: matches});\n                        }\n                    }\n                }\n            }\n\n            // Add the remaining (directly-bound) handlers\n            if (delegateCount < handlers.length) {\n                handlerQueue.push({elem: this, handlers: handlers.slice(delegateCount)});\n            }\n\n            return handlerQueue;\n        },\n\n        fix: function (event) {\n            if (event[jQuery.expando]) {\n                return event;\n            }\n\n            // Create a writable copy of the event object and normalize some properties\n            var i, prop, copy,\n                type = event.type,\n                originalEvent = event,\n                fixHook = this.fixHooks[type];\n\n            if (!fixHook) {\n                this.fixHooks[type] = fixHook =\n                    rmouseEvent.test(type) ? this.mouseHooks :\n                        rkeyEvent.test(type) ? this.keyHooks :\n                            {};\n            }\n            copy = fixHook.props ? this.props.concat(fixHook.props) : this.props;\n\n            event = new jQuery.Event(originalEvent);\n\n            i = copy.length;\n            while (i--) {\n                prop = copy[i];\n                event[prop] = originalEvent[prop];\n            }\n\n            // Support: IE<9\n            // Fix target property (#1925)\n            if (!event.target) {\n                event.target = originalEvent.srcElement || document;\n            }\n\n            // Support: Safari 6-8+\n            // Target should not be a text node (#504, #13143)\n            if (event.target.nodeType === 3) {\n                event.target = event.target.parentNode;\n            }\n\n            // Support: IE<9\n            // For mouse/key events, metaKey==false if it's undefined (#3368, #11328)\n            event.metaKey = !!event.metaKey;\n\n            return fixHook.filter ? fixHook.filter(event, originalEvent) : event;\n        },\n\n        // Includes some event props shared by KeyEvent and MouseEvent\n        props: (\"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase \" +\n            \"metaKey relatedTarget shiftKey target timeStamp view which\").split(\" \"),\n\n        fixHooks: {},\n\n        keyHooks: {\n            props: \"char charCode key keyCode\".split(\" \"),\n            filter: function (event, original) {\n\n                // Add which for key events\n                if (event.which == null) {\n                    event.which = original.charCode != null ? original.charCode : original.keyCode;\n                }\n\n                return event;\n            }\n        },\n\n        mouseHooks: {\n            props: (\"button buttons clientX clientY fromElement offsetX offsetY \" +\n                \"pageX pageY screenX screenY toElement\").split(\" \"),\n            filter: function (event, original) {\n                var body, eventDoc, doc,\n                    button = original.button,\n                    fromElement = original.fromElement;\n\n                // Calculate pageX/Y if missing and clientX/Y available\n                if (event.pageX == null && original.clientX != null) {\n                    eventDoc = event.target.ownerDocument || document;\n                    doc = eventDoc.documentElement;\n                    body = eventDoc.body;\n\n                    event.pageX = original.clientX +\n                        (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\n                        (doc && doc.clientLeft || body && body.clientLeft || 0);\n                    event.pageY = original.clientY +\n                        (doc && doc.scrollTop || body && body.scrollTop || 0) -\n                        (doc && doc.clientTop || body && body.clientTop || 0);\n                }\n\n                // Add relatedTarget, if necessary\n                if (!event.relatedTarget && fromElement) {\n                    event.relatedTarget = fromElement === event.target ?\n                        original.toElement :\n                        fromElement;\n                }\n\n                // Add which for click: 1 === left; 2 === middle; 3 === right\n                // Note: button is not normalized, so don't use it\n                if (!event.which && button !== undefined) {\n                    event.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n                }\n\n                return event;\n            }\n        },\n\n        special: {\n            load: {\n\n                // Prevent triggered image.load events from bubbling to window.load\n                noBubble: true\n            },\n            focus: {\n\n                // Fire native event if possible so blur/focus sequence is correct\n                trigger: function () {\n                    if (this !== safeActiveElement() && this.focus) {\n                        try {\n                            this.focus();\n                            return false;\n                        } catch (e) {\n\n                            // Support: IE<9\n                            // If we error on focus to hidden element (#1486, #12518),\n                            // let .trigger() run the handlers\n                        }\n                    }\n                },\n                delegateType: \"focusin\"\n            },\n            blur: {\n                trigger: function () {\n                    if (this === safeActiveElement() && this.blur) {\n                        this.blur();\n                        return false;\n                    }\n                },\n                delegateType: \"focusout\"\n            },\n            click: {\n\n                // For checkbox, fire native event so checked state will be right\n                trigger: function () {\n                    if (jQuery.nodeName(this, \"input\") && this.type === \"checkbox\" && this.click) {\n                        this.click();\n                        return false;\n                    }\n                },\n\n                // For cross-browser consistency, don't fire native .click() on links\n                _default: function (event) {\n                    return jQuery.nodeName(event.target, \"a\");\n                }\n            },\n\n            beforeunload: {\n                postDispatch: function (event) {\n\n                    // Support: Firefox 20+\n                    // Firefox doesn't alert if the returnValue field is not set.\n                    if (event.result !== undefined && event.originalEvent) {\n                        event.originalEvent.returnValue = event.result;\n                    }\n                }\n            }\n        },\n\n        // Piggyback on a donor event to simulate a different one\n        simulate: function (type, elem, event) {\n            var e = jQuery.extend(\n                new jQuery.Event(),\n                event,\n                {\n                    type: type,\n                    isSimulated: true\n\n                    // Previously, `originalEvent: {}` was set here, so stopPropagation call\n                    // would not be triggered on donor event, since in our own\n                    // jQuery.event.stopPropagation function we had a check for existence of\n                    // originalEvent.stopPropagation method, so, consequently it would be a noop.\n                    //\n                    // Guard for simulated events was moved to jQuery.event.stopPropagation function\n                    // since `originalEvent` should point to the original event for the\n                    // constancy with other events and for more focused logic\n                }\n            );\n\n            jQuery.event.trigger(e, null, elem);\n\n            if (e.isDefaultPrevented()) {\n                event.preventDefault();\n            }\n        }\n    };\n\n    jQuery.removeEvent = document.removeEventListener ?\n        function (elem, type, handle) {\n\n            // This \"if\" is needed for plain objects\n            if (elem.removeEventListener) {\n                elem.removeEventListener(type, handle);\n            }\n        } :\n        function (elem, type, handle) {\n            var name = \"on\" + type;\n\n            if (elem.detachEvent) {\n\n                // #8545, #7054, preventing memory leaks for custom events in IE6-8\n                // detachEvent needed property on element, by name of that event,\n                // to properly expose it to GC\n                if (typeof elem[name] === \"undefined\") {\n                    elem[name] = null;\n                }\n\n                elem.detachEvent(name, handle);\n            }\n        };\n\n    jQuery.Event = function (src, props) {\n\n        // Allow instantiation without the 'new' keyword\n        if (!(this instanceof jQuery.Event)) {\n            return new jQuery.Event(src, props);\n        }\n\n        // Event object\n        if (src && src.type) {\n            this.originalEvent = src;\n            this.type = src.type;\n\n            // Events bubbling up the document may have been marked as prevented\n            // by a handler lower down the tree; reflect the correct value.\n            this.isDefaultPrevented = src.defaultPrevented ||\n            src.defaultPrevented === undefined &&\n\n            // Support: IE < 9, Android < 4.0\n            src.returnValue === false ?\n                returnTrue :\n                returnFalse;\n\n            // Event type\n        } else {\n            this.type = src;\n        }\n\n        // Put explicitly provided properties onto the event object\n        if (props) {\n            jQuery.extend(this, props);\n        }\n\n        // Create a timestamp if incoming event doesn't have one\n        this.timeStamp = src && src.timeStamp || jQuery.now();\n\n        // Mark it as fixed\n        this[jQuery.expando] = true;\n    };\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\n    jQuery.Event.prototype = {\n        constructor: jQuery.Event,\n        isDefaultPrevented: returnFalse,\n        isPropagationStopped: returnFalse,\n        isImmediatePropagationStopped: returnFalse,\n\n        preventDefault: function () {\n            var e = this.originalEvent;\n\n            this.isDefaultPrevented = returnTrue;\n            if (!e) {\n                return;\n            }\n\n            // If preventDefault exists, run it on the original event\n            if (e.preventDefault) {\n                e.preventDefault();\n\n                // Support: IE\n                // Otherwise set the returnValue property of the original event to false\n            } else {\n                e.returnValue = false;\n            }\n        },\n        stopPropagation: function () {\n            var e = this.originalEvent;\n\n            this.isPropagationStopped = returnTrue;\n\n            if (!e || this.isSimulated) {\n                return;\n            }\n\n            // If stopPropagation exists, run it on the original event\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n\n            // Support: IE\n            // Set the cancelBubble property of the original event to true\n            e.cancelBubble = true;\n        },\n        stopImmediatePropagation: function () {\n            var e = this.originalEvent;\n\n            this.isImmediatePropagationStopped = returnTrue;\n\n            if (e && e.stopImmediatePropagation) {\n                e.stopImmediatePropagation();\n            }\n\n            this.stopPropagation();\n        }\n    };\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://code.google.com/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\n    jQuery.each({\n        mouseenter: \"mouseover\",\n        mouseleave: \"mouseout\",\n        pointerenter: \"pointerover\",\n        pointerleave: \"pointerout\"\n    }, function (orig, fix) {\n        jQuery.event.special[orig] = {\n            delegateType: fix,\n            bindType: fix,\n\n            handle: function (event) {\n                var ret,\n                    target = this,\n                    related = event.relatedTarget,\n                    handleObj = event.handleObj;\n\n                // For mouseenter/leave call the handler if related is outside the target.\n                // NB: No relatedTarget if the mouse left/entered the browser window\n                if (!related || (related !== target && !jQuery.contains(target, related))) {\n                    event.type = handleObj.origType;\n                    ret = handleObj.handler.apply(this, arguments);\n                    event.type = fix;\n                }\n                return ret;\n            }\n        };\n    });\n\n// IE submit delegation\n    if (!support.submit) {\n\n        jQuery.event.special.submit = {\n            setup: function () {\n\n                // Only need this for delegated form submit events\n                if (jQuery.nodeName(this, \"form\")) {\n                    return false;\n                }\n\n                // Lazy-add a submit handler when a descendant form may potentially be submitted\n                jQuery.event.add(this, \"click._submit keypress._submit\", function (e) {\n\n                    // Node name check avoids a VML-related crash in IE (#9807)\n                    var elem = e.target,\n                        form = jQuery.nodeName(elem, \"input\") || jQuery.nodeName(elem, \"button\") ?\n\n                            // Support: IE <=8\n                            // We use jQuery.prop instead of elem.form\n                            // to allow fixing the IE8 delegated submit issue (gh-2332)\n                            // by 3rd party polyfills/workarounds.\n                            jQuery.prop(elem, \"form\") :\n                            undefined;\n\n                    if (form && !jQuery._data(form, \"submit\")) {\n                        jQuery.event.add(form, \"submit._submit\", function (event) {\n                            event._submitBubble = true;\n                        });\n                        jQuery._data(form, \"submit\", true);\n                    }\n                });\n\n                // return undefined since we don't need an event listener\n            },\n\n            postDispatch: function (event) {\n\n                // If form was submitted by the user, bubble the event up the tree\n                if (event._submitBubble) {\n                    delete event._submitBubble;\n                    if (this.parentNode && !event.isTrigger) {\n                        jQuery.event.simulate(\"submit\", this.parentNode, event);\n                    }\n                }\n            },\n\n            teardown: function () {\n\n                // Only need this for delegated form submit events\n                if (jQuery.nodeName(this, \"form\")) {\n                    return false;\n                }\n\n                // Remove delegated handlers; cleanData eventually reaps submit handlers attached above\n                jQuery.event.remove(this, \"._submit\");\n            }\n        };\n    }\n\n// IE change delegation and checkbox/radio fix\n    if (!support.change) {\n\n        jQuery.event.special.change = {\n\n            setup: function () {\n\n                if (rformElems.test(this.nodeName)) {\n\n                    // IE doesn't fire change on a check/radio until blur; trigger it on click\n                    // after a propertychange. Eat the blur-change in special.change.handle.\n                    // This still fires onchange a second time for check/radio after blur.\n                    if (this.type === \"checkbox\" || this.type === \"radio\") {\n                        jQuery.event.add(this, \"propertychange._change\", function (event) {\n                            if (event.originalEvent.propertyName === \"checked\") {\n                                this._justChanged = true;\n                            }\n                        });\n                        jQuery.event.add(this, \"click._change\", function (event) {\n                            if (this._justChanged && !event.isTrigger) {\n                                this._justChanged = false;\n                            }\n\n                            // Allow triggered, simulated change events (#11500)\n                            jQuery.event.simulate(\"change\", this, event);\n                        });\n                    }\n                    return false;\n                }\n\n                // Delegated event; lazy-add a change handler on descendant inputs\n                jQuery.event.add(this, \"beforeactivate._change\", function (e) {\n                    var elem = e.target;\n\n                    if (rformElems.test(elem.nodeName) && !jQuery._data(elem, \"change\")) {\n                        jQuery.event.add(elem, \"change._change\", function (event) {\n                            if (this.parentNode && !event.isSimulated && !event.isTrigger) {\n                                jQuery.event.simulate(\"change\", this.parentNode, event);\n                            }\n                        });\n                        jQuery._data(elem, \"change\", true);\n                    }\n                });\n            },\n\n            handle: function (event) {\n                var elem = event.target;\n\n                // Swallow native change events from checkbox/radio, we already triggered them above\n                if (this !== elem || event.isSimulated || event.isTrigger ||\n                    (elem.type !== \"radio\" && elem.type !== \"checkbox\")) {\n\n                    return event.handleObj.handler.apply(this, arguments);\n                }\n            },\n\n            teardown: function () {\n                jQuery.event.remove(this, \"._change\");\n\n                return !rformElems.test(this.nodeName);\n            }\n        };\n    }\n\n// Support: Firefox\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome, Safari\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://code.google.com/p/chromium/issues/detail?id=449857\n    if (!support.focusin) {\n        jQuery.each({focus: \"focusin\", blur: \"focusout\"}, function (orig, fix) {\n\n            // Attach a single capturing handler on the document while someone wants focusin/focusout\n            var handler = function (event) {\n                jQuery.event.simulate(fix, event.target, jQuery.event.fix(event));\n            };\n\n            jQuery.event.special[fix] = {\n                setup: function () {\n                    var doc = this.ownerDocument || this,\n                        attaches = jQuery._data(doc, fix);\n\n                    if (!attaches) {\n                        doc.addEventListener(orig, handler, true);\n                    }\n                    jQuery._data(doc, fix, (attaches || 0) + 1);\n                },\n                teardown: function () {\n                    var doc = this.ownerDocument || this,\n                        attaches = jQuery._data(doc, fix) - 1;\n\n                    if (!attaches) {\n                        doc.removeEventListener(orig, handler, true);\n                        jQuery._removeData(doc, fix);\n                    } else {\n                        jQuery._data(doc, fix, attaches);\n                    }\n                }\n            };\n        });\n    }\n\n    jQuery.fn.extend({\n\n        on: function (types, selector, data, fn) {\n            return on(this, types, selector, data, fn);\n        },\n        one: function (types, selector, data, fn) {\n            return on(this, types, selector, data, fn, 1);\n        },\n        off: function (types, selector, fn) {\n            var handleObj, type;\n            if (types && types.preventDefault && types.handleObj) {\n\n                // ( event )  dispatched jQuery.Event\n                handleObj = types.handleObj;\n                jQuery(types.delegateTarget).off(\n                    handleObj.namespace ?\n                        handleObj.origType + \".\" + handleObj.namespace :\n                        handleObj.origType,\n                    handleObj.selector,\n                    handleObj.handler\n                );\n                return this;\n            }\n            if (typeof types === \"object\") {\n\n                // ( types-object [, selector] )\n                for (type in types) {\n                    this.off(type, selector, types[type]);\n                }\n                return this;\n            }\n            if (selector === false || typeof selector === \"function\") {\n\n                // ( types [, fn] )\n                fn = selector;\n                selector = undefined;\n            }\n            if (fn === false) {\n                fn = returnFalse;\n            }\n            return this.each(function () {\n                jQuery.event.remove(this, types, fn, selector);\n            });\n        },\n\n        trigger: function (type, data) {\n            return this.each(function () {\n                jQuery.event.trigger(type, data, this);\n            });\n        },\n        triggerHandler: function (type, data) {\n            var elem = this[0];\n            if (elem) {\n                return jQuery.event.trigger(type, data, elem, true);\n            }\n        }\n    });\n\n\n    var rinlinejQuery = / jQuery\\d+=\"(?:null|\\d+)\"/g,\n        rnoshimcache = new RegExp(\"<(?:\" + nodeNames + \")[\\\\s/>]\", \"i\"),\n        rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,\n\n        // Support: IE 10-11, Edge 10240+\n        // In IE/Edge using regex groups here causes severe slowdowns.\n        // See https://connect.microsoft.com/IE/feedback/details/1736512/\n        rnoInnerhtml = /<script|<style|<link/i,\n\n        // checked=\"checked\" or checked\n        rchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n        rscriptTypeMasked = /^true\\/(.*)/,\n        rcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n        safeFragment = createSafeFragment(document),\n        fragmentDiv = safeFragment.appendChild(document.createElement(\"div\"));\n\n// Support: IE<8\n// Manipulating tables requires a tbody\n    function manipulationTarget(elem, content) {\n        return jQuery.nodeName(elem, \"table\") &&\n        jQuery.nodeName(content.nodeType !== 11 ? content : content.firstChild, \"tr\") ?\n\n            elem.getElementsByTagName(\"tbody\")[0] ||\n            elem.appendChild(elem.ownerDocument.createElement(\"tbody\")) :\n            elem;\n    }\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\n    function disableScript(elem) {\n        elem.type = (jQuery.find.attr(elem, \"type\") !== null) + \"/\" + elem.type;\n        return elem;\n    }\n\n    function restoreScript(elem) {\n        var match = rscriptTypeMasked.exec(elem.type);\n        if (match) {\n            elem.type = match[1];\n        } else {\n            elem.removeAttribute(\"type\");\n        }\n        return elem;\n    }\n\n    function cloneCopyEvent(src, dest) {\n        if (dest.nodeType !== 1 || !jQuery.hasData(src)) {\n            return;\n        }\n\n        var type, i, l,\n            oldData = jQuery._data(src),\n            curData = jQuery._data(dest, oldData),\n            events = oldData.events;\n\n        if (events) {\n            delete curData.handle;\n            curData.events = {};\n\n            for (type in events) {\n                for (i = 0, l = events[type].length; i < l; i++) {\n                    jQuery.event.add(dest, type, events[type][i]);\n                }\n            }\n        }\n\n        // make the cloned public data object a copy from the original\n        if (curData.data) {\n            curData.data = jQuery.extend({}, curData.data);\n        }\n    }\n\n    function fixCloneNodeIssues(src, dest) {\n        var nodeName, e, data;\n\n        // We do not need to do anything for non-Elements\n        if (dest.nodeType !== 1) {\n            return;\n        }\n\n        nodeName = dest.nodeName.toLowerCase();\n\n        // IE6-8 copies events bound via attachEvent when using cloneNode.\n        if (!support.noCloneEvent && dest[jQuery.expando]) {\n            data = jQuery._data(dest);\n\n            for (e in data.events) {\n                jQuery.removeEvent(dest, e, data.handle);\n            }\n\n            // Event data gets referenced instead of copied if the expando gets copied too\n            dest.removeAttribute(jQuery.expando);\n        }\n\n        // IE blanks contents when cloning scripts, and tries to evaluate newly-set text\n        if (nodeName === \"script\" && dest.text !== src.text) {\n            disableScript(dest).text = src.text;\n            restoreScript(dest);\n\n            // IE6-10 improperly clones children of object elements using classid.\n            // IE10 throws NoModificationAllowedError if parent is null, #12132.\n        } else if (nodeName === \"object\") {\n            if (dest.parentNode) {\n                dest.outerHTML = src.outerHTML;\n            }\n\n            // This path appears unavoidable for IE9. When cloning an object\n            // element in IE9, the outerHTML strategy above is not sufficient.\n            // If the src has innerHTML and the destination does not,\n            // copy the src.innerHTML into the dest.innerHTML. #10324\n            if (support.html5Clone && (src.innerHTML && !jQuery.trim(dest.innerHTML))) {\n                dest.innerHTML = src.innerHTML;\n            }\n\n        } else if (nodeName === \"input\" && rcheckableType.test(src.type)) {\n\n            // IE6-8 fails to persist the checked state of a cloned checkbox\n            // or radio button. Worse, IE6-7 fail to give the cloned element\n            // a checked appearance if the defaultChecked value isn't also set\n\n            dest.defaultChecked = dest.checked = src.checked;\n\n            // IE6-7 get confused and end up setting the value of a cloned\n            // checkbox/radio button to an empty string instead of \"on\"\n            if (dest.value !== src.value) {\n                dest.value = src.value;\n            }\n\n            // IE6-8 fails to return the selected option to the default selected\n            // state when cloning options\n        } else if (nodeName === \"option\") {\n            dest.defaultSelected = dest.selected = src.defaultSelected;\n\n            // IE6-8 fails to set the defaultValue to the correct value when\n            // cloning other types of input fields\n        } else if (nodeName === \"input\" || nodeName === \"textarea\") {\n            dest.defaultValue = src.defaultValue;\n        }\n    }\n\n    function domManip(collection, args, callback, ignored) {\n\n        // Flatten any nested arrays\n        args = concat.apply([], args);\n\n        var first, node, hasScripts,\n            scripts, doc, fragment,\n            i = 0,\n            l = collection.length,\n            iNoClone = l - 1,\n            value = args[0],\n            isFunction = jQuery.isFunction(value);\n\n        // We can't cloneNode fragments that contain checked, in WebKit\n        if (isFunction ||\n            (l > 1 && typeof value === \"string\" && !support.checkClone && rchecked.test(value))) {\n            return collection.each(function (index) {\n                var self = collection.eq(index);\n                if (isFunction) {\n                    args[0] = value.call(this, index, self.html());\n                }\n                domManip(self, args, callback, ignored);\n            });\n        }\n\n        if (l) {\n            fragment = buildFragment(args, collection[0].ownerDocument, false, collection, ignored);\n            first = fragment.firstChild;\n\n            if (fragment.childNodes.length === 1) {\n                fragment = first;\n            }\n\n            // Require either new content or an interest in ignored elements to invoke the callback\n            if (first || ignored) {\n                scripts = jQuery.map(getAll(fragment, \"script\"), disableScript);\n                hasScripts = scripts.length;\n\n                // Use the original fragment for the last item\n                // instead of the first because it can end up\n                // being emptied incorrectly in certain situations (#8070).\n                for (; i < l; i++) {\n                    node = fragment;\n\n                    if (i !== iNoClone) {\n                        node = jQuery.clone(node, true, true);\n\n                        // Keep references to cloned scripts for later restoration\n                        if (hasScripts) {\n\n                            // Support: Android<4.1, PhantomJS<2\n                            // push.apply(_, arraylike) throws on ancient WebKit\n                            jQuery.merge(scripts, getAll(node, \"script\"));\n                        }\n                    }\n\n                    callback.call(collection[i], node, i);\n                }\n\n                if (hasScripts) {\n                    doc = scripts[scripts.length - 1].ownerDocument;\n\n                    // Reenable scripts\n                    jQuery.map(scripts, restoreScript);\n\n                    // Evaluate executable scripts on first document insertion\n                    for (i = 0; i < hasScripts; i++) {\n                        node = scripts[i];\n                        if (rscriptType.test(node.type || \"\") && !jQuery._data(node, \"globalEval\") &&\n                            jQuery.contains(doc, node)) {\n\n                            if (node.src) {\n\n                                // Optional AJAX dependency, but won't run scripts if not present\n                                if (jQuery._evalUrl) {\n                                    jQuery._evalUrl(node.src);\n                                }\n                            } else {\n                                jQuery.globalEval(\n                                    (node.text || node.textContent || node.innerHTML || \"\")\n                                        .replace(rcleanScript, \"\")\n                                );\n                            }\n                        }\n                    }\n                }\n\n                // Fix #11809: Avoid leaking memory\n                fragment = first = null;\n            }\n        }\n\n        return collection;\n    }\n\n    function remove(elem, selector, keepData) {\n        var node,\n            elems = selector ? jQuery.filter(selector, elem) : elem,\n            i = 0;\n\n        for (; (node = elems[i]) != null; i++) {\n\n            if (!keepData && node.nodeType === 1) {\n                jQuery.cleanData(getAll(node));\n            }\n\n            if (node.parentNode) {\n                if (keepData && jQuery.contains(node.ownerDocument, node)) {\n                    setGlobalEval(getAll(node, \"script\"));\n                }\n                node.parentNode.removeChild(node);\n            }\n        }\n\n        return elem;\n    }\n\n    jQuery.extend({\n        htmlPrefilter: function (html) {\n            return html.replace(rxhtmlTag, \"<$1></$2>\");\n        },\n\n        clone: function (elem, dataAndEvents, deepDataAndEvents) {\n            var destElements, node, clone, i, srcElements,\n                inPage = jQuery.contains(elem.ownerDocument, elem);\n\n            if (support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test(\"<\" + elem.nodeName + \">\")) {\n\n                clone = elem.cloneNode(true);\n\n                // IE<=8 does not properly clone detached, unknown element nodes\n            } else {\n                fragmentDiv.innerHTML = elem.outerHTML;\n                fragmentDiv.removeChild(clone = fragmentDiv.firstChild);\n            }\n\n            if ((!support.noCloneEvent || !support.noCloneChecked) &&\n                (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {\n\n                // We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\n                destElements = getAll(clone);\n                srcElements = getAll(elem);\n\n                // Fix all IE cloning issues\n                for (i = 0; (node = srcElements[i]) != null; ++i) {\n\n                    // Ensure that the destination node is not null; Fixes #9587\n                    if (destElements[i]) {\n                        fixCloneNodeIssues(node, destElements[i]);\n                    }\n                }\n            }\n\n            // Copy the events from the original to the clone\n            if (dataAndEvents) {\n                if (deepDataAndEvents) {\n                    srcElements = srcElements || getAll(elem);\n                    destElements = destElements || getAll(clone);\n\n                    for (i = 0; (node = srcElements[i]) != null; i++) {\n                        cloneCopyEvent(node, destElements[i]);\n                    }\n                } else {\n                    cloneCopyEvent(elem, clone);\n                }\n            }\n\n            // Preserve script evaluation history\n            destElements = getAll(clone, \"script\");\n            if (destElements.length > 0) {\n                setGlobalEval(destElements, !inPage && getAll(elem, \"script\"));\n            }\n\n            destElements = srcElements = node = null;\n\n            // Return the cloned set\n            return clone;\n        },\n\n        cleanData: function (elems, /* internal */ forceAcceptData) {\n            var elem, type, id, data,\n                i = 0,\n                internalKey = jQuery.expando,\n                cache = jQuery.cache,\n                attributes = support.attributes,\n                special = jQuery.event.special;\n\n            for (; (elem = elems[i]) != null; i++) {\n                if (forceAcceptData || acceptData(elem)) {\n\n                    id = elem[internalKey];\n                    data = id && cache[id];\n\n                    if (data) {\n                        if (data.events) {\n                            for (type in data.events) {\n                                if (special[type]) {\n                                    jQuery.event.remove(elem, type);\n\n                                    // This is a shortcut to avoid jQuery.event.remove's overhead\n                                } else {\n                                    jQuery.removeEvent(elem, type, data.handle);\n                                }\n                            }\n                        }\n\n                        // Remove cache only if it was not already removed by jQuery.event.remove\n                        if (cache[id]) {\n\n                            delete cache[id];\n\n                            // Support: IE<9\n                            // IE does not allow us to delete expando properties from nodes\n                            // IE creates expando attributes along with the property\n                            // IE does not have a removeAttribute function on Document nodes\n                            if (!attributes && typeof elem.removeAttribute !== \"undefined\") {\n                                elem.removeAttribute(internalKey);\n\n                                // Webkit & Blink performance suffers when deleting properties\n                                // from DOM nodes, so set to undefined instead\n                                // https://code.google.com/p/chromium/issues/detail?id=378607\n                            } else {\n                                elem[internalKey] = undefined;\n                            }\n\n                            deletedIds.push(id);\n                        }\n                    }\n                }\n            }\n        }\n    });\n\n    jQuery.fn.extend({\n\n        // Keep domManip exposed until 3.0 (gh-2225)\n        domManip: domManip,\n\n        detach: function (selector) {\n            return remove(this, selector, true);\n        },\n\n        remove: function (selector) {\n            return remove(this, selector);\n        },\n\n        text: function (value) {\n            return access(this, function (value) {\n                return value === undefined ?\n                    jQuery.text(this) :\n                    this.empty().append(\n                        (this[0] && this[0].ownerDocument || document).createTextNode(value)\n                    );\n            }, null, value, arguments.length);\n        },\n\n        append: function () {\n            return domManip(this, arguments, function (elem) {\n                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n                    var target = manipulationTarget(this, elem);\n                    target.appendChild(elem);\n                }\n            });\n        },\n\n        prepend: function () {\n            return domManip(this, arguments, function (elem) {\n                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n                    var target = manipulationTarget(this, elem);\n                    target.insertBefore(elem, target.firstChild);\n                }\n            });\n        },\n\n        before: function () {\n            return domManip(this, arguments, function (elem) {\n                if (this.parentNode) {\n                    this.parentNode.insertBefore(elem, this);\n                }\n            });\n        },\n\n        after: function () {\n            return domManip(this, arguments, function (elem) {\n                if (this.parentNode) {\n                    this.parentNode.insertBefore(elem, this.nextSibling);\n                }\n            });\n        },\n\n        empty: function () {\n            var elem,\n                i = 0;\n\n            for (; (elem = this[i]) != null; i++) {\n\n                // Remove element nodes and prevent memory leaks\n                if (elem.nodeType === 1) {\n                    jQuery.cleanData(getAll(elem, false));\n                }\n\n                // Remove any remaining nodes\n                while (elem.firstChild) {\n                    elem.removeChild(elem.firstChild);\n                }\n\n                // If this is a select, ensure that it displays empty (#12336)\n                // Support: IE<9\n                if (elem.options && jQuery.nodeName(elem, \"select\")) {\n                    elem.options.length = 0;\n                }\n            }\n\n            return this;\n        },\n\n        clone: function (dataAndEvents, deepDataAndEvents) {\n            dataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n            deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n            return this.map(function () {\n                return jQuery.clone(this, dataAndEvents, deepDataAndEvents);\n            });\n        },\n\n        html: function (value) {\n            return access(this, function (value) {\n                var elem = this[0] || {},\n                    i = 0,\n                    l = this.length;\n\n                if (value === undefined) {\n                    return elem.nodeType === 1 ?\n                        elem.innerHTML.replace(rinlinejQuery, \"\") :\n                        undefined;\n                }\n\n                // See if we can take a shortcut and just use innerHTML\n                if (typeof value === \"string\" && !rnoInnerhtml.test(value) &&\n                    (support.htmlSerialize || !rnoshimcache.test(value)) &&\n                    (support.leadingWhitespace || !rleadingWhitespace.test(value)) && !wrapMap[(rtagName.exec(value) || [\"\", \"\"])[1].toLowerCase()]) {\n\n                    value = jQuery.htmlPrefilter(value);\n\n                    try {\n                        for (; i < l; i++) {\n\n                            // Remove element nodes and prevent memory leaks\n                            elem = this[i] || {};\n                            if (elem.nodeType === 1) {\n                                jQuery.cleanData(getAll(elem, false));\n                                elem.innerHTML = value;\n                            }\n                        }\n\n                        elem = 0;\n\n                        // If using innerHTML throws an exception, use the fallback method\n                    } catch (e) {\n                    }\n                }\n\n                if (elem) {\n                    this.empty().append(value);\n                }\n            }, null, value, arguments.length);\n        },\n\n        replaceWith: function () {\n            var ignored = [];\n\n            // Make the changes, replacing each non-ignored context element with the new content\n            return domManip(this, arguments, function (elem) {\n                var parent = this.parentNode;\n\n                if (jQuery.inArray(this, ignored) < 0) {\n                    jQuery.cleanData(getAll(this));\n                    if (parent) {\n                        parent.replaceChild(elem, this);\n                    }\n                }\n\n                // Force callback invocation\n            }, ignored);\n        }\n    });\n\n    jQuery.each({\n        appendTo: \"append\",\n        prependTo: \"prepend\",\n        insertBefore: \"before\",\n        insertAfter: \"after\",\n        replaceAll: \"replaceWith\"\n    }, function (name, original) {\n        jQuery.fn[name] = function (selector) {\n            var elems,\n                i = 0,\n                ret = [],\n                insert = jQuery(selector),\n                last = insert.length - 1;\n\n            for (; i <= last; i++) {\n                elems = i === last ? this : this.clone(true);\n                jQuery(insert[i])[original](elems);\n\n                // Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()\n                push.apply(ret, elems.get());\n            }\n\n            return this.pushStack(ret);\n        };\n    });\n\n\n    var iframe,\n        elemdisplay = {\n\n            // Support: Firefox\n            // We have to pre-define these values for FF (#10227)\n            HTML: \"block\",\n            BODY: \"block\"\n        };\n\n    /**\n     * Retrieve the actual display of a element\n     * @param {String} name nodeName of the element\n     * @param {Object} doc Document object\n     */\n\n// Called only from within defaultDisplay\n    function actualDisplay(name, doc) {\n        var elem = jQuery(doc.createElement(name)).appendTo(doc.body),\n\n            display = jQuery.css(elem[0], \"display\");\n\n        // We don't have any data stored on the element,\n        // so use \"detach\" method as fast way to get rid of the element\n        elem.detach();\n\n        return display;\n    }\n\n    /**\n     * Try to determine the default display value of an element\n     * @param {String} nodeName\n     */\n    function defaultDisplay(nodeName) {\n        var doc = document,\n            display = elemdisplay[nodeName];\n\n        if (!display) {\n            display = actualDisplay(nodeName, doc);\n\n            // If the simple way fails, read from inside an iframe\n            if (display === \"none\" || !display) {\n\n                // Use the already-created iframe if possible\n                iframe = (iframe || jQuery(\"<iframe frameborder='0' width='0' height='0'/>\"))\n                    .appendTo(doc.documentElement);\n\n                // Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\n                doc = (iframe[0].contentWindow || iframe[0].contentDocument).document;\n\n                // Support: IE\n                doc.write();\n                doc.close();\n\n                display = actualDisplay(nodeName, doc);\n                iframe.detach();\n            }\n\n            // Store the correct default display\n            elemdisplay[nodeName] = display;\n        }\n\n        return display;\n    }\n\n    var rmargin = (/^margin/);\n\n    var rnumnonpx = new RegExp(\"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\");\n\n    var swap = function (elem, options, callback, args) {\n        var ret, name,\n            old = {};\n\n        // Remember the old values, and insert the new ones\n        for (name in options) {\n            old[name] = elem.style[name];\n            elem.style[name] = options[name];\n        }\n\n        ret = callback.apply(elem, args || []);\n\n        // Revert the old values\n        for (name in options) {\n            elem.style[name] = old[name];\n        }\n\n        return ret;\n    };\n\n\n    var documentElement = document.documentElement;\n\n\n    (function () {\n        var pixelPositionVal, pixelMarginRightVal, boxSizingReliableVal,\n            reliableHiddenOffsetsVal, reliableMarginRightVal, reliableMarginLeftVal,\n            container = document.createElement(\"div\"),\n            div = document.createElement(\"div\");\n\n        // Finish early in limited (non-browser) environments\n        if (!div.style) {\n            return;\n        }\n\n        div.style.cssText = \"float:left;opacity:.5\";\n\n        // Support: IE<9\n        // Make sure that element opacity exists (as opposed to filter)\n        support.opacity = div.style.opacity === \"0.5\";\n\n        // Verify style float existence\n        // (IE uses styleFloat instead of cssFloat)\n        support.cssFloat = !!div.style.cssFloat;\n\n        div.style.backgroundClip = \"content-box\";\n        div.cloneNode(true).style.backgroundClip = \"\";\n        support.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n        container = document.createElement(\"div\");\n        container.style.cssText = \"border:0;width:8px;height:0;top:0;left:-9999px;\" +\n            \"padding:0;margin-top:1px;position:absolute\";\n        div.innerHTML = \"\";\n        container.appendChild(div);\n\n        // Support: Firefox<29, Android 2.3\n        // Vendor-prefix box-sizing\n        support.boxSizing = div.style.boxSizing === \"\" || div.style.MozBoxSizing === \"\" ||\n            div.style.WebkitBoxSizing === \"\";\n\n        jQuery.extend(support, {\n            reliableHiddenOffsets: function () {\n                if (pixelPositionVal == null) {\n                    computeStyleTests();\n                }\n                return reliableHiddenOffsetsVal;\n            },\n\n            boxSizingReliable: function () {\n\n                // We're checking for pixelPositionVal here instead of boxSizingReliableVal\n                // since that compresses better and they're computed together anyway.\n                if (pixelPositionVal == null) {\n                    computeStyleTests();\n                }\n                return boxSizingReliableVal;\n            },\n\n            pixelMarginRight: function () {\n\n                // Support: Android 4.0-4.3\n                if (pixelPositionVal == null) {\n                    computeStyleTests();\n                }\n                return pixelMarginRightVal;\n            },\n\n            pixelPosition: function () {\n                if (pixelPositionVal == null) {\n                    computeStyleTests();\n                }\n                return pixelPositionVal;\n            },\n\n            reliableMarginRight: function () {\n\n                // Support: Android 2.3\n                if (pixelPositionVal == null) {\n                    computeStyleTests();\n                }\n                return reliableMarginRightVal;\n            },\n\n            reliableMarginLeft: function () {\n\n                // Support: IE <=8 only, Android 4.0 - 4.3 only, Firefox <=3 - 37\n                if (pixelPositionVal == null) {\n                    computeStyleTests();\n                }\n                return reliableMarginLeftVal;\n            }\n        });\n\n        function computeStyleTests() {\n            var contents, divStyle,\n                documentElement = document.documentElement;\n\n            // Setup\n            documentElement.appendChild(container);\n\n            div.style.cssText =\n\n                // Support: Android 2.3\n                // Vendor-prefix box-sizing\n                \"-webkit-box-sizing:border-box;box-sizing:border-box;\" +\n                \"position:relative;display:block;\" +\n                \"margin:auto;border:1px;padding:1px;\" +\n                \"top:1%;width:50%\";\n\n            // Support: IE<9\n            // Assume reasonable values in the absence of getComputedStyle\n            pixelPositionVal = boxSizingReliableVal = reliableMarginLeftVal = false;\n            pixelMarginRightVal = reliableMarginRightVal = true;\n\n            // Check for getComputedStyle so that this code is not run in IE<9.\n            if (window.getComputedStyle) {\n                divStyle = window.getComputedStyle(div);\n                pixelPositionVal = (divStyle || {}).top !== \"1%\";\n                reliableMarginLeftVal = (divStyle || {}).marginLeft === \"2px\";\n                boxSizingReliableVal = (divStyle || {width: \"4px\"}).width === \"4px\";\n\n                // Support: Android 4.0 - 4.3 only\n                // Some styles come back with percentage values, even though they shouldn't\n                div.style.marginRight = \"50%\";\n                pixelMarginRightVal = (divStyle || {marginRight: \"4px\"}).marginRight === \"4px\";\n\n                // Support: Android 2.3 only\n                // Div with explicit width and no margin-right incorrectly\n                // gets computed margin-right based on width of container (#3333)\n                // WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n                contents = div.appendChild(document.createElement(\"div\"));\n\n                // Reset CSS: box-sizing; display; margin; border; padding\n                contents.style.cssText = div.style.cssText =\n\n                    // Support: Android 2.3\n                    // Vendor-prefix box-sizing\n                    \"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\n                    \"box-sizing:content-box;display:block;margin:0;border:0;padding:0\";\n                contents.style.marginRight = contents.style.width = \"0\";\n                div.style.width = \"1px\";\n\n                reliableMarginRightVal = !parseFloat((window.getComputedStyle(contents) || {}).marginRight);\n\n                div.removeChild(contents);\n            }\n\n            // Support: IE6-8\n            // First check that getClientRects works as expected\n            // Check if table cells still have offsetWidth/Height when they are set\n            // to display:none and there are still other visible table cells in a\n            // table row; if so, offsetWidth/Height are not reliable for use when\n            // determining if an element has been hidden directly using\n            // display:none (it is still safe to use offsets if a parent element is\n            // hidden; don safety goggles and see bug #4512 for more information).\n            div.style.display = \"none\";\n            reliableHiddenOffsetsVal = div.getClientRects().length === 0;\n            if (reliableHiddenOffsetsVal) {\n                div.style.display = \"\";\n                div.innerHTML = \"<table><tr><td></td><td>t</td></tr></table>\";\n                div.childNodes[0].style.borderCollapse = \"separate\";\n                contents = div.getElementsByTagName(\"td\");\n                contents[0].style.cssText = \"margin:0;border:0;padding:0;display:none\";\n                reliableHiddenOffsetsVal = contents[0].offsetHeight === 0;\n                if (reliableHiddenOffsetsVal) {\n                    contents[0].style.display = \"\";\n                    contents[1].style.display = \"none\";\n                    reliableHiddenOffsetsVal = contents[0].offsetHeight === 0;\n                }\n            }\n\n            // Teardown\n            documentElement.removeChild(container);\n        }\n\n    })();\n\n\n    var getStyles, curCSS,\n        rposition = /^(top|right|bottom|left)$/;\n\n    if (window.getComputedStyle) {\n        getStyles = function (elem) {\n\n            // Support: IE<=11+, Firefox<=30+ (#15098, #14150)\n            // IE throws on elements created in popups\n            // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n            var view = elem.ownerDocument.defaultView;\n\n            if (!view || !view.opener) {\n                view = window;\n            }\n\n            return view.getComputedStyle(elem);\n        };\n\n        curCSS = function (elem, name, computed) {\n            var width, minWidth, maxWidth, ret,\n                style = elem.style;\n\n            computed = computed || getStyles(elem);\n\n            // getPropertyValue is only needed for .css('filter') in IE9, see #12537\n            ret = computed ? computed.getPropertyValue(name) || computed[name] : undefined;\n\n            // Support: Opera 12.1x only\n            // Fall back to style even without computed\n            // computed is undefined for elems on document fragments\n            if ((ret === \"\" || ret === undefined) && !jQuery.contains(elem.ownerDocument, elem)) {\n                ret = jQuery.style(elem, name);\n            }\n\n            if (computed) {\n\n                // A tribute to the \"awesome hack by Dean Edwards\"\n                // Chrome < 17 and Safari 5.0 uses \"computed value\"\n                // instead of \"used value\" for margin-right\n                // Safari 5.1.7 (at least) returns percentage for a larger set of values,\n                // but width seems to be reliably pixels\n                // this is against the CSSOM draft spec:\n                // http://dev.w3.org/csswg/cssom/#resolved-values\n                if (!support.pixelMarginRight() && rnumnonpx.test(ret) && rmargin.test(name)) {\n\n                    // Remember the original values\n                    width = style.width;\n                    minWidth = style.minWidth;\n                    maxWidth = style.maxWidth;\n\n                    // Put in the new values to get a computed value out\n                    style.minWidth = style.maxWidth = style.width = ret;\n                    ret = computed.width;\n\n                    // Revert the changed values\n                    style.width = width;\n                    style.minWidth = minWidth;\n                    style.maxWidth = maxWidth;\n                }\n            }\n\n            // Support: IE\n            // IE returns zIndex value as an integer.\n            return ret === undefined ?\n                ret :\n                ret + \"\";\n        };\n    } else if (documentElement.currentStyle) {\n        getStyles = function (elem) {\n            return elem.currentStyle;\n        };\n\n        curCSS = function (elem, name, computed) {\n            var left, rs, rsLeft, ret,\n                style = elem.style;\n\n            computed = computed || getStyles(elem);\n            ret = computed ? computed[name] : undefined;\n\n            // Avoid setting ret to empty string here\n            // so we don't default to auto\n            if (ret == null && style && style[name]) {\n                ret = style[name];\n            }\n\n            // From the awesome hack by Dean Edwards\n            // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n\n            // If we're not dealing with a regular pixel number\n            // but a number that has a weird ending, we need to convert it to pixels\n            // but not position css attributes, as those are\n            // proportional to the parent element instead\n            // and we can't measure the parent instead because it\n            // might trigger a \"stacking dolls\" problem\n            if (rnumnonpx.test(ret) && !rposition.test(name)) {\n\n                // Remember the original values\n                left = style.left;\n                rs = elem.runtimeStyle;\n                rsLeft = rs && rs.left;\n\n                // Put in the new values to get a computed value out\n                if (rsLeft) {\n                    rs.left = elem.currentStyle.left;\n                }\n                style.left = name === \"fontSize\" ? \"1em\" : ret;\n                ret = style.pixelLeft + \"px\";\n\n                // Revert the changed values\n                style.left = left;\n                if (rsLeft) {\n                    rs.left = rsLeft;\n                }\n            }\n\n            // Support: IE\n            // IE returns zIndex value as an integer.\n            return ret === undefined ?\n                ret :\n                ret + \"\" || \"auto\";\n        };\n    }\n\n\n    function addGetHookIf(conditionFn, hookFn) {\n\n        // Define the hook, we'll check on the first run if it's really needed.\n        return {\n            get: function () {\n                if (conditionFn()) {\n\n                    // Hook not needed (or it's not possible to use it due\n                    // to missing dependency), remove it.\n                    delete this.get;\n                    return;\n                }\n\n                // Hook needed; redefine it so that the support test is not executed again.\n                return (this.get = hookFn).apply(this, arguments);\n            }\n        };\n    }\n\n\n    var\n\n        ralpha = /alpha\\([^)]*\\)/i,\n        ropacity = /opacity\\s*=\\s*([^)]*)/i,\n\n        // swappable if display is none or starts with table except\n        // \"table\", \"table-cell\", or \"table-caption\"\n        // see here for display values:\n        // https://developer.mozilla.org/en-US/docs/CSS/display\n        rdisplayswap = /^(none|table(?!-c[ea]).+)/,\n        rnumsplit = new RegExp(\"^(\" + pnum + \")(.*)$\", \"i\"),\n\n        cssShow = {position: \"absolute\", visibility: \"hidden\", display: \"block\"},\n        cssNormalTransform = {\n            letterSpacing: \"0\",\n            fontWeight: \"400\"\n        },\n\n        cssPrefixes = [\"Webkit\", \"O\", \"Moz\", \"ms\"],\n        emptyStyle = document.createElement(\"div\").style;\n\n\n// return a css property mapped to a potentially vendor prefixed property\n    function vendorPropName(name) {\n\n        // shortcut for names that are not vendor prefixed\n        if (name in emptyStyle) {\n            return name;\n        }\n\n        // check for vendor prefixed names\n        var capName = name.charAt(0).toUpperCase() + name.slice(1),\n            i = cssPrefixes.length;\n\n        while (i--) {\n            name = cssPrefixes[i] + capName;\n            if (name in emptyStyle) {\n                return name;\n            }\n        }\n    }\n\n    function showHide(elements, show) {\n        var display, elem, hidden,\n            values = [],\n            index = 0,\n            length = elements.length;\n\n        for (; index < length; index++) {\n            elem = elements[index];\n            if (!elem.style) {\n                continue;\n            }\n\n            values[index] = jQuery._data(elem, \"olddisplay\");\n            display = elem.style.display;\n            if (show) {\n\n                // Reset the inline display of this element to learn if it is\n                // being hidden by cascaded rules or not\n                if (!values[index] && display === \"none\") {\n                    elem.style.display = \"\";\n                }\n\n                // Set elements which have been overridden with display: none\n                // in a stylesheet to whatever the default browser style is\n                // for such an element\n                if (elem.style.display === \"\" && isHidden(elem)) {\n                    values[index] =\n                        jQuery._data(elem, \"olddisplay\", defaultDisplay(elem.nodeName));\n                }\n            } else {\n                hidden = isHidden(elem);\n\n                if (display && display !== \"none\" || !hidden) {\n                    jQuery._data(\n                        elem,\n                        \"olddisplay\",\n                        hidden ? display : jQuery.css(elem, \"display\")\n                    );\n                }\n            }\n        }\n\n        // Set the display of most of the elements in a second loop\n        // to avoid the constant reflow\n        for (index = 0; index < length; index++) {\n            elem = elements[index];\n            if (!elem.style) {\n                continue;\n            }\n            if (!show || elem.style.display === \"none\" || elem.style.display === \"\") {\n                elem.style.display = show ? values[index] || \"\" : \"none\";\n            }\n        }\n\n        return elements;\n    }\n\n    function setPositiveNumber(elem, value, subtract) {\n        var matches = rnumsplit.exec(value);\n        return matches ?\n\n            // Guard against undefined \"subtract\", e.g., when used as in cssHooks\n            Math.max(0, matches[1] - (subtract || 0)) + (matches[2] || \"px\") :\n            value;\n    }\n\n    function augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {\n        var i = extra === (isBorderBox ? \"border\" : \"content\") ?\n\n            // If we already have the right measurement, avoid augmentation\n            4 :\n\n            // Otherwise initialize for horizontal or vertical properties\n            name === \"width\" ? 1 : 0,\n\n            val = 0;\n\n        for (; i < 4; i += 2) {\n\n            // both box models exclude margin, so add it if we want it\n            if (extra === \"margin\") {\n                val += jQuery.css(elem, extra + cssExpand[i], true, styles);\n            }\n\n            if (isBorderBox) {\n\n                // border-box includes padding, so remove it if we want content\n                if (extra === \"content\") {\n                    val -= jQuery.css(elem, \"padding\" + cssExpand[i], true, styles);\n                }\n\n                // at this point, extra isn't border nor margin, so remove border\n                if (extra !== \"margin\") {\n                    val -= jQuery.css(elem, \"border\" + cssExpand[i] + \"Width\", true, styles);\n                }\n            } else {\n\n                // at this point, extra isn't content, so add padding\n                val += jQuery.css(elem, \"padding\" + cssExpand[i], true, styles);\n\n                // at this point, extra isn't content nor padding, so add border\n                if (extra !== \"padding\") {\n                    val += jQuery.css(elem, \"border\" + cssExpand[i] + \"Width\", true, styles);\n                }\n            }\n        }\n\n        return val;\n    }\n\n    function getWidthOrHeight(elem, name, extra) {\n\n        // Start with offset property, which is equivalent to the border-box value\n        var valueIsBorderBox = true,\n            val = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\n            styles = getStyles(elem),\n            isBorderBox = support.boxSizing &&\n                jQuery.css(elem, \"boxSizing\", false, styles) === \"border-box\";\n\n        // some non-html elements return undefined for offsetWidth, so check for null/undefined\n        // svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n        // MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n        if (val <= 0 || val == null) {\n\n            // Fall back to computed then uncomputed css if necessary\n            val = curCSS(elem, name, styles);\n            if (val < 0 || val == null) {\n                val = elem.style[name];\n            }\n\n            // Computed unit is not pixels. Stop here and return.\n            if (rnumnonpx.test(val)) {\n                return val;\n            }\n\n            // we need the check for style in case a browser which returns unreliable values\n            // for getComputedStyle silently falls back to the reliable elem.style\n            valueIsBorderBox = isBorderBox &&\n                (support.boxSizingReliable() || val === elem.style[name]);\n\n            // Normalize \"\", auto, and prepare for extra\n            val = parseFloat(val) || 0;\n        }\n\n        // use the active box-sizing model to add/subtract irrelevant styles\n        return (val +\n            augmentWidthOrHeight(\n                elem,\n                name,\n                extra || (isBorderBox ? \"border\" : \"content\"),\n                valueIsBorderBox,\n                styles\n            )\n        ) + \"px\";\n    }\n\n    jQuery.extend({\n\n        // Add in style property hooks for overriding the default\n        // behavior of getting and setting a style property\n        cssHooks: {\n            opacity: {\n                get: function (elem, computed) {\n                    if (computed) {\n\n                        // We should always get a number back from opacity\n                        var ret = curCSS(elem, \"opacity\");\n                        return ret === \"\" ? \"1\" : ret;\n                    }\n                }\n            }\n        },\n\n        // Don't automatically add \"px\" to these possibly-unitless properties\n        cssNumber: {\n            \"animationIterationCount\": true,\n            \"columnCount\": true,\n            \"fillOpacity\": true,\n            \"flexGrow\": true,\n            \"flexShrink\": true,\n            \"fontWeight\": true,\n            \"lineHeight\": true,\n            \"opacity\": true,\n            \"order\": true,\n            \"orphans\": true,\n            \"widows\": true,\n            \"zIndex\": true,\n            \"zoom\": true\n        },\n\n        // Add in properties whose names you wish to fix before\n        // setting or getting the value\n        cssProps: {\n\n            // normalize float css property\n            \"float\": support.cssFloat ? \"cssFloat\" : \"styleFloat\"\n        },\n\n        // Get and set the style property on a DOM Node\n        style: function (elem, name, value, extra) {\n\n            // Don't set styles on text and comment nodes\n            if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {\n                return;\n            }\n\n            // Make sure that we're working with the right name\n            var ret, type, hooks,\n                origName = jQuery.camelCase(name),\n                style = elem.style;\n\n            name = jQuery.cssProps[origName] ||\n                (jQuery.cssProps[origName] = vendorPropName(origName) || origName);\n\n            // gets hook for the prefixed version\n            // followed by the unprefixed version\n            hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];\n\n            // Check if we're setting a value\n            if (value !== undefined) {\n                type = typeof value;\n\n                // Convert \"+=\" or \"-=\" to relative numbers (#7345)\n                if (type === \"string\" && (ret = rcssNum.exec(value)) && ret[1]) {\n                    value = adjustCSS(elem, name, ret);\n\n                    // Fixes bug #9237\n                    type = \"number\";\n                }\n\n                // Make sure that null and NaN values aren't set. See: #7116\n                if (value == null || value !== value) {\n                    return;\n                }\n\n                // If a number was passed in, add the unit (except for certain CSS properties)\n                if (type === \"number\") {\n                    value += ret && ret[3] || (jQuery.cssNumber[origName] ? \"\" : \"px\");\n                }\n\n                // Fixes #8908, it can be done more correctly by specifing setters in cssHooks,\n                // but it would mean to define eight\n                // (for every problematic property) identical functions\n                if (!support.clearCloneStyle && value === \"\" && name.indexOf(\"background\") === 0) {\n                    style[name] = \"inherit\";\n                }\n\n                // If a hook was provided, use that value, otherwise just set the specified value\n                if (!hooks || !(\"set\" in hooks) ||\n                    (value = hooks.set(elem, value, extra)) !== undefined) {\n\n                    // Support: IE\n                    // Swallow errors from 'invalid' CSS values (#5509)\n                    try {\n                        style[name] = value;\n                    } catch (e) {\n                    }\n                }\n\n            } else {\n\n                // If a hook was provided get the non-computed value from there\n                if (hooks && \"get\" in hooks &&\n                    (ret = hooks.get(elem, false, extra)) !== undefined) {\n\n                    return ret;\n                }\n\n                // Otherwise just get the value from the style object\n                return style[name];\n            }\n        },\n\n        css: function (elem, name, extra, styles) {\n            var num, val, hooks,\n                origName = jQuery.camelCase(name);\n\n            // Make sure that we're working with the right name\n            name = jQuery.cssProps[origName] ||\n                (jQuery.cssProps[origName] = vendorPropName(origName) || origName);\n\n            // gets hook for the prefixed version\n            // followed by the unprefixed version\n            hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];\n\n            // If a hook was provided get the computed value from there\n            if (hooks && \"get\" in hooks) {\n                val = hooks.get(elem, true, extra);\n            }\n\n            // Otherwise, if a way to get the computed value exists, use that\n            if (val === undefined) {\n                val = curCSS(elem, name, styles);\n            }\n\n            //convert \"normal\" to computed value\n            if (val === \"normal\" && name in cssNormalTransform) {\n                val = cssNormalTransform[name];\n            }\n\n            // Return, converting to number if forced or a qualifier was provided and val looks numeric\n            if (extra === \"\" || extra) {\n                num = parseFloat(val);\n                return extra === true || isFinite(num) ? num || 0 : val;\n            }\n            return val;\n        }\n    });\n\n    jQuery.each([\"height\", \"width\"], function (i, name) {\n        jQuery.cssHooks[name] = {\n            get: function (elem, computed, extra) {\n                if (computed) {\n\n                    // certain elements can have dimension info if we invisibly show them\n                    // however, it must have a current display style that would benefit from this\n                    return rdisplayswap.test(jQuery.css(elem, \"display\")) &&\n                    elem.offsetWidth === 0 ?\n                        swap(elem, cssShow, function () {\n                            return getWidthOrHeight(elem, name, extra);\n                        }) :\n                        getWidthOrHeight(elem, name, extra);\n                }\n            },\n\n            set: function (elem, value, extra) {\n                var styles = extra && getStyles(elem);\n                return setPositiveNumber(elem, value, extra ?\n                    augmentWidthOrHeight(\n                        elem,\n                        name,\n                        extra,\n                        support.boxSizing &&\n                        jQuery.css(elem, \"boxSizing\", false, styles) === \"border-box\",\n                        styles\n                    ) : 0\n                );\n            }\n        };\n    });\n\n    if (!support.opacity) {\n        jQuery.cssHooks.opacity = {\n            get: function (elem, computed) {\n\n                // IE uses filters for opacity\n                return ropacity.test((computed && elem.currentStyle ?\n                    elem.currentStyle.filter :\n                    elem.style.filter) || \"\") ?\n                    (0.01 * parseFloat(RegExp.$1)) + \"\" :\n                    computed ? \"1\" : \"\";\n            },\n\n            set: function (elem, value) {\n                var style = elem.style,\n                    currentStyle = elem.currentStyle,\n                    opacity = jQuery.isNumeric(value) ? \"alpha(opacity=\" + value * 100 + \")\" : \"\",\n                    filter = currentStyle && currentStyle.filter || style.filter || \"\";\n\n                // IE has trouble with opacity if it does not have layout\n                // Force it by setting the zoom level\n                style.zoom = 1;\n\n                // if setting opacity to 1, and no other filters exist -\n                // attempt to remove filter attribute #6652\n                // if value === \"\", then remove inline opacity #12685\n                if ((value >= 1 || value === \"\") &&\n                    jQuery.trim(filter.replace(ralpha, \"\")) === \"\" &&\n                    style.removeAttribute) {\n\n                    // Setting style.filter to null, \"\" & \" \" still leave \"filter:\" in the cssText\n                    // if \"filter:\" is present at all, clearType is disabled, we want to avoid this\n                    // style.removeAttribute is IE Only, but so apparently is this code path...\n                    style.removeAttribute(\"filter\");\n\n                    // if there is no filter style applied in a css rule\n                    // or unset inline opacity, we are done\n                    if (value === \"\" || currentStyle && !currentStyle.filter) {\n                        return;\n                    }\n                }\n\n                // otherwise, set new filter values\n                style.filter = ralpha.test(filter) ?\n                    filter.replace(ralpha, opacity) :\n                    filter + \" \" + opacity;\n            }\n        };\n    }\n\n    jQuery.cssHooks.marginRight = addGetHookIf(support.reliableMarginRight,\n        function (elem, computed) {\n            if (computed) {\n                return swap(elem, {\"display\": \"inline-block\"},\n                    curCSS, [elem, \"marginRight\"]);\n            }\n        }\n    );\n\n    jQuery.cssHooks.marginLeft = addGetHookIf(support.reliableMarginLeft,\n        function (elem, computed) {\n            if (computed) {\n                return (\n                    parseFloat(curCSS(elem, \"marginLeft\")) ||\n\n                    // Support: IE<=11+\n                    // Running getBoundingClientRect on a disconnected node in IE throws an error\n                    // Support: IE8 only\n                    // getClientRects() errors on disconnected elems\n                    (jQuery.contains(elem.ownerDocument, elem) ?\n                            elem.getBoundingClientRect().left -\n                            swap(elem, {marginLeft: 0}, function () {\n                                return elem.getBoundingClientRect().left;\n                            }) :\n                            0\n                    )\n                ) + \"px\";\n            }\n        }\n    );\n\n// These hooks are used by animate to expand properties\n    jQuery.each({\n        margin: \"\",\n        padding: \"\",\n        border: \"Width\"\n    }, function (prefix, suffix) {\n        jQuery.cssHooks[prefix + suffix] = {\n            expand: function (value) {\n                var i = 0,\n                    expanded = {},\n\n                    // assumes a single number if not a string\n                    parts = typeof value === \"string\" ? value.split(\" \") : [value];\n\n                for (; i < 4; i++) {\n                    expanded[prefix + cssExpand[i] + suffix] =\n                        parts[i] || parts[i - 2] || parts[0];\n                }\n\n                return expanded;\n            }\n        };\n\n        if (!rmargin.test(prefix)) {\n            jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;\n        }\n    });\n\n    jQuery.fn.extend({\n        css: function (name, value) {\n            return access(this, function (elem, name, value) {\n                var styles, len,\n                    map = {},\n                    i = 0;\n\n                if (jQuery.isArray(name)) {\n                    styles = getStyles(elem);\n                    len = name.length;\n\n                    for (; i < len; i++) {\n                        map[name[i]] = jQuery.css(elem, name[i], false, styles);\n                    }\n\n                    return map;\n                }\n\n                return value !== undefined ?\n                    jQuery.style(elem, name, value) :\n                    jQuery.css(elem, name);\n            }, name, value, arguments.length > 1);\n        },\n        show: function () {\n            return showHide(this, true);\n        },\n        hide: function () {\n            return showHide(this);\n        },\n        toggle: function (state) {\n            if (typeof state === \"boolean\") {\n                return state ? this.show() : this.hide();\n            }\n\n            return this.each(function () {\n                if (isHidden(this)) {\n                    jQuery(this).show();\n                } else {\n                    jQuery(this).hide();\n                }\n            });\n        }\n    });\n\n\n    function Tween(elem, options, prop, end, easing) {\n        return new Tween.prototype.init(elem, options, prop, end, easing);\n    }\n\n    jQuery.Tween = Tween;\n\n    Tween.prototype = {\n        constructor: Tween,\n        init: function (elem, options, prop, end, easing, unit) {\n            this.elem = elem;\n            this.prop = prop;\n            this.easing = easing || jQuery.easing._default;\n            this.options = options;\n            this.start = this.now = this.cur();\n            this.end = end;\n            this.unit = unit || (jQuery.cssNumber[prop] ? \"\" : \"px\");\n        },\n        cur: function () {\n            var hooks = Tween.propHooks[this.prop];\n\n            return hooks && hooks.get ?\n                hooks.get(this) :\n                Tween.propHooks._default.get(this);\n        },\n        run: function (percent) {\n            var eased,\n                hooks = Tween.propHooks[this.prop];\n\n            if (this.options.duration) {\n                this.pos = eased = jQuery.easing[this.easing](\n                    percent, this.options.duration * percent, 0, 1, this.options.duration\n                );\n            } else {\n                this.pos = eased = percent;\n            }\n            this.now = (this.end - this.start) * eased + this.start;\n\n            if (this.options.step) {\n                this.options.step.call(this.elem, this.now, this);\n            }\n\n            if (hooks && hooks.set) {\n                hooks.set(this);\n            } else {\n                Tween.propHooks._default.set(this);\n            }\n            return this;\n        }\n    };\n\n    Tween.prototype.init.prototype = Tween.prototype;\n\n    Tween.propHooks = {\n        _default: {\n            get: function (tween) {\n                var result;\n\n                // Use a property on the element directly when it is not a DOM element,\n                // or when there is no matching style property that exists.\n                if (tween.elem.nodeType !== 1 ||\n                    tween.elem[tween.prop] != null && tween.elem.style[tween.prop] == null) {\n                    return tween.elem[tween.prop];\n                }\n\n                // passing an empty string as a 3rd parameter to .css will automatically\n                // attempt a parseFloat and fallback to a string if the parse fails\n                // so, simple values such as \"10px\" are parsed to Float.\n                // complex values such as \"rotate(1rad)\" are returned as is.\n                result = jQuery.css(tween.elem, tween.prop, \"\");\n\n                // Empty strings, null, undefined and \"auto\" are converted to 0.\n                return !result || result === \"auto\" ? 0 : result;\n            },\n            set: function (tween) {\n\n                // use step hook for back compat - use cssHook if its there - use .style if its\n                // available and use plain properties where available\n                if (jQuery.fx.step[tween.prop]) {\n                    jQuery.fx.step[tween.prop](tween);\n                } else if (tween.elem.nodeType === 1 &&\n                    (tween.elem.style[jQuery.cssProps[tween.prop]] != null ||\n                        jQuery.cssHooks[tween.prop])) {\n                    jQuery.style(tween.elem, tween.prop, tween.now + tween.unit);\n                } else {\n                    tween.elem[tween.prop] = tween.now;\n                }\n            }\n        }\n    };\n\n// Support: IE <=9\n// Panic based approach to setting things on disconnected nodes\n\n    Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n        set: function (tween) {\n            if (tween.elem.nodeType && tween.elem.parentNode) {\n                tween.elem[tween.prop] = tween.now;\n            }\n        }\n    };\n\n    jQuery.easing = {\n        linear: function (p) {\n            return p;\n        },\n        swing: function (p) {\n            return 0.5 - Math.cos(p * Math.PI) / 2;\n        },\n        _default: \"swing\"\n    };\n\n    jQuery.fx = Tween.prototype.init;\n\n// Back Compat <1.8 extension point\n    jQuery.fx.step = {};\n\n\n    var\n        fxNow, timerId,\n        rfxtypes = /^(?:toggle|show|hide)$/,\n        rrun = /queueHooks$/;\n\n// Animations created synchronously will run synchronously\n    function createFxNow() {\n        window.setTimeout(function () {\n            fxNow = undefined;\n        });\n        return (fxNow = jQuery.now());\n    }\n\n// Generate parameters to create a standard animation\n    function genFx(type, includeWidth) {\n        var which,\n            attrs = {height: type},\n            i = 0;\n\n        // if we include width, step value is 1 to do all cssExpand values,\n        // if we don't include width, step value is 2 to skip over Left and Right\n        includeWidth = includeWidth ? 1 : 0;\n        for (; i < 4; i += 2 - includeWidth) {\n            which = cssExpand[i];\n            attrs[\"margin\" + which] = attrs[\"padding\" + which] = type;\n        }\n\n        if (includeWidth) {\n            attrs.opacity = attrs.width = type;\n        }\n\n        return attrs;\n    }\n\n    function createTween(value, prop, animation) {\n        var tween,\n            collection = (Animation.tweeners[prop] || []).concat(Animation.tweeners[\"*\"]),\n            index = 0,\n            length = collection.length;\n        for (; index < length; index++) {\n            if ((tween = collection[index].call(animation, prop, value))) {\n\n                // we're done with this property\n                return tween;\n            }\n        }\n    }\n\n    function defaultPrefilter(elem, props, opts) {\n        /* jshint validthis: true */\n        var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,\n            anim = this,\n            orig = {},\n            style = elem.style,\n            hidden = elem.nodeType && isHidden(elem),\n            dataShow = jQuery._data(elem, \"fxshow\");\n\n        // handle queue: false promises\n        if (!opts.queue) {\n            hooks = jQuery._queueHooks(elem, \"fx\");\n            if (hooks.unqueued == null) {\n                hooks.unqueued = 0;\n                oldfire = hooks.empty.fire;\n                hooks.empty.fire = function () {\n                    if (!hooks.unqueued) {\n                        oldfire();\n                    }\n                };\n            }\n            hooks.unqueued++;\n\n            anim.always(function () {\n\n                // doing this makes sure that the complete handler will be called\n                // before this completes\n                anim.always(function () {\n                    hooks.unqueued--;\n                    if (!jQuery.queue(elem, \"fx\").length) {\n                        hooks.empty.fire();\n                    }\n                });\n            });\n        }\n\n        // height/width overflow pass\n        if (elem.nodeType === 1 && (\"height\" in props || \"width\" in props)) {\n\n            // Make sure that nothing sneaks out\n            // Record all 3 overflow attributes because IE does not\n            // change the overflow attribute when overflowX and\n            // overflowY are set to the same value\n            opts.overflow = [style.overflow, style.overflowX, style.overflowY];\n\n            // Set display property to inline-block for height/width\n            // animations on inline elements that are having width/height animated\n            display = jQuery.css(elem, \"display\");\n\n            // Test default display if display is currently \"none\"\n            checkDisplay = display === \"none\" ?\n                jQuery._data(elem, \"olddisplay\") || defaultDisplay(elem.nodeName) : display;\n\n            if (checkDisplay === \"inline\" && jQuery.css(elem, \"float\") === \"none\") {\n\n                // inline-level elements accept inline-block;\n                // block-level elements need to be inline with layout\n                if (!support.inlineBlockNeedsLayout || defaultDisplay(elem.nodeName) === \"inline\") {\n                    style.display = \"inline-block\";\n                } else {\n                    style.zoom = 1;\n                }\n            }\n        }\n\n        if (opts.overflow) {\n            style.overflow = \"hidden\";\n            if (!support.shrinkWrapBlocks()) {\n                anim.always(function () {\n                    style.overflow = opts.overflow[0];\n                    style.overflowX = opts.overflow[1];\n                    style.overflowY = opts.overflow[2];\n                });\n            }\n        }\n\n        // show/hide pass\n        for (prop in props) {\n            value = props[prop];\n            if (rfxtypes.exec(value)) {\n                delete props[prop];\n                toggle = toggle || value === \"toggle\";\n                if (value === (hidden ? \"hide\" : \"show\")) {\n\n                    // If there is dataShow left over from a stopped hide or show\n                    // and we are going to proceed with show, we should pretend to be hidden\n                    if (value === \"show\" && dataShow && dataShow[prop] !== undefined) {\n                        hidden = true;\n                    } else {\n                        continue;\n                    }\n                }\n                orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop);\n\n                // Any non-fx value stops us from restoring the original display value\n            } else {\n                display = undefined;\n            }\n        }\n\n        if (!jQuery.isEmptyObject(orig)) {\n            if (dataShow) {\n                if (\"hidden\" in dataShow) {\n                    hidden = dataShow.hidden;\n                }\n            } else {\n                dataShow = jQuery._data(elem, \"fxshow\", {});\n            }\n\n            // store state if its toggle - enables .stop().toggle() to \"reverse\"\n            if (toggle) {\n                dataShow.hidden = !hidden;\n            }\n            if (hidden) {\n                jQuery(elem).show();\n            } else {\n                anim.done(function () {\n                    jQuery(elem).hide();\n                });\n            }\n            anim.done(function () {\n                var prop;\n                jQuery._removeData(elem, \"fxshow\");\n                for (prop in orig) {\n                    jQuery.style(elem, prop, orig[prop]);\n                }\n            });\n            for (prop in orig) {\n                tween = createTween(hidden ? dataShow[prop] : 0, prop, anim);\n\n                if (!(prop in dataShow)) {\n                    dataShow[prop] = tween.start;\n                    if (hidden) {\n                        tween.end = tween.start;\n                        tween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\n                    }\n                }\n            }\n\n            // If this is a noop like .hide().hide(), restore an overwritten display value\n        } else if ((display === \"none\" ? defaultDisplay(elem.nodeName) : display) === \"inline\") {\n            style.display = display;\n        }\n    }\n\n    function propFilter(props, specialEasing) {\n        var index, name, easing, value, hooks;\n\n        // camelCase, specialEasing and expand cssHook pass\n        for (index in props) {\n            name = jQuery.camelCase(index);\n            easing = specialEasing[name];\n            value = props[index];\n            if (jQuery.isArray(value)) {\n                easing = value[1];\n                value = props[index] = value[0];\n            }\n\n            if (index !== name) {\n                props[name] = value;\n                delete props[index];\n            }\n\n            hooks = jQuery.cssHooks[name];\n            if (hooks && \"expand\" in hooks) {\n                value = hooks.expand(value);\n                delete props[name];\n\n                // not quite $.extend, this wont overwrite keys already present.\n                // also - reusing 'index' from above because we have the correct \"name\"\n                for (index in value) {\n                    if (!(index in props)) {\n                        props[index] = value[index];\n                        specialEasing[index] = easing;\n                    }\n                }\n            } else {\n                specialEasing[name] = easing;\n            }\n        }\n    }\n\n    function Animation(elem, properties, options) {\n        var result,\n            stopped,\n            index = 0,\n            length = Animation.prefilters.length,\n            deferred = jQuery.Deferred().always(function () {\n\n                // don't match elem in the :animated selector\n                delete tick.elem;\n            }),\n            tick = function () {\n                if (stopped) {\n                    return false;\n                }\n                var currentTime = fxNow || createFxNow(),\n                    remaining = Math.max(0, animation.startTime + animation.duration - currentTime),\n\n                    // Support: Android 2.3\n                    // Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n                    temp = remaining / animation.duration || 0,\n                    percent = 1 - temp,\n                    index = 0,\n                    length = animation.tweens.length;\n\n                for (; index < length; index++) {\n                    animation.tweens[index].run(percent);\n                }\n\n                deferred.notifyWith(elem, [animation, percent, remaining]);\n\n                if (percent < 1 && length) {\n                    return remaining;\n                } else {\n                    deferred.resolveWith(elem, [animation]);\n                    return false;\n                }\n            },\n            animation = deferred.promise({\n                elem: elem,\n                props: jQuery.extend({}, properties),\n                opts: jQuery.extend(true, {\n                    specialEasing: {},\n                    easing: jQuery.easing._default\n                }, options),\n                originalProperties: properties,\n                originalOptions: options,\n                startTime: fxNow || createFxNow(),\n                duration: options.duration,\n                tweens: [],\n                createTween: function (prop, end) {\n                    var tween = jQuery.Tween(elem, animation.opts, prop, end,\n                        animation.opts.specialEasing[prop] || animation.opts.easing);\n                    animation.tweens.push(tween);\n                    return tween;\n                },\n                stop: function (gotoEnd) {\n                    var index = 0,\n\n                        // if we are going to the end, we want to run all the tweens\n                        // otherwise we skip this part\n                        length = gotoEnd ? animation.tweens.length : 0;\n                    if (stopped) {\n                        return this;\n                    }\n                    stopped = true;\n                    for (; index < length; index++) {\n                        animation.tweens[index].run(1);\n                    }\n\n                    // resolve when we played the last frame\n                    // otherwise, reject\n                    if (gotoEnd) {\n                        deferred.notifyWith(elem, [animation, 1, 0]);\n                        deferred.resolveWith(elem, [animation, gotoEnd]);\n                    } else {\n                        deferred.rejectWith(elem, [animation, gotoEnd]);\n                    }\n                    return this;\n                }\n            }),\n            props = animation.props;\n\n        propFilter(props, animation.opts.specialEasing);\n\n        for (; index < length; index++) {\n            result = Animation.prefilters[index].call(animation, elem, props, animation.opts);\n            if (result) {\n                if (jQuery.isFunction(result.stop)) {\n                    jQuery._queueHooks(animation.elem, animation.opts.queue).stop =\n                        jQuery.proxy(result.stop, result);\n                }\n                return result;\n            }\n        }\n\n        jQuery.map(props, createTween, animation);\n\n        if (jQuery.isFunction(animation.opts.start)) {\n            animation.opts.start.call(elem, animation);\n        }\n\n        jQuery.fx.timer(\n            jQuery.extend(tick, {\n                elem: elem,\n                anim: animation,\n                queue: animation.opts.queue\n            })\n        );\n\n        // attach callbacks from options\n        return animation.progress(animation.opts.progress)\n            .done(animation.opts.done, animation.opts.complete)\n            .fail(animation.opts.fail)\n            .always(animation.opts.always);\n    }\n\n    jQuery.Animation = jQuery.extend(Animation, {\n\n        tweeners: {\n            \"*\": [function (prop, value) {\n                var tween = this.createTween(prop, value);\n                adjustCSS(tween.elem, prop, rcssNum.exec(value), tween);\n                return tween;\n            }]\n        },\n\n        tweener: function (props, callback) {\n            if (jQuery.isFunction(props)) {\n                callback = props;\n                props = [\"*\"];\n            } else {\n                props = props.match(rnotwhite);\n            }\n\n            var prop,\n                index = 0,\n                length = props.length;\n\n            for (; index < length; index++) {\n                prop = props[index];\n                Animation.tweeners[prop] = Animation.tweeners[prop] || [];\n                Animation.tweeners[prop].unshift(callback);\n            }\n        },\n\n        prefilters: [defaultPrefilter],\n\n        prefilter: function (callback, prepend) {\n            if (prepend) {\n                Animation.prefilters.unshift(callback);\n            } else {\n                Animation.prefilters.push(callback);\n            }\n        }\n    });\n\n    jQuery.speed = function (speed, easing, fn) {\n        var opt = speed && typeof speed === \"object\" ? jQuery.extend({}, speed) : {\n            complete: fn || !fn && easing ||\n                jQuery.isFunction(speed) && speed,\n            duration: speed,\n            easing: fn && easing || easing && !jQuery.isFunction(easing) && easing\n        };\n\n        opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\n            opt.duration in jQuery.fx.speeds ?\n                jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default;\n\n        // normalize opt.queue - true/undefined/null -> \"fx\"\n        if (opt.queue == null || opt.queue === true) {\n            opt.queue = \"fx\";\n        }\n\n        // Queueing\n        opt.old = opt.complete;\n\n        opt.complete = function () {\n            if (jQuery.isFunction(opt.old)) {\n                opt.old.call(this);\n            }\n\n            if (opt.queue) {\n                jQuery.dequeue(this, opt.queue);\n            }\n        };\n\n        return opt;\n    };\n\n    jQuery.fn.extend({\n        fadeTo: function (speed, to, easing, callback) {\n\n            // show any hidden elements after setting opacity to 0\n            return this.filter(isHidden).css(\"opacity\", 0).show()\n\n            // animate to the value specified\n                .end().animate({opacity: to}, speed, easing, callback);\n        },\n        animate: function (prop, speed, easing, callback) {\n            var empty = jQuery.isEmptyObject(prop),\n                optall = jQuery.speed(speed, easing, callback),\n                doAnimation = function () {\n\n                    // Operate on a copy of prop so per-property easing won't be lost\n                    var anim = Animation(this, jQuery.extend({}, prop), optall);\n\n                    // Empty animations, or finishing resolves immediately\n                    if (empty || jQuery._data(this, \"finish\")) {\n                        anim.stop(true);\n                    }\n                };\n            doAnimation.finish = doAnimation;\n\n            return empty || optall.queue === false ?\n                this.each(doAnimation) :\n                this.queue(optall.queue, doAnimation);\n        },\n        stop: function (type, clearQueue, gotoEnd) {\n            var stopQueue = function (hooks) {\n                var stop = hooks.stop;\n                delete hooks.stop;\n                stop(gotoEnd);\n            };\n\n            if (typeof type !== \"string\") {\n                gotoEnd = clearQueue;\n                clearQueue = type;\n                type = undefined;\n            }\n            if (clearQueue && type !== false) {\n                this.queue(type || \"fx\", []);\n            }\n\n            return this.each(function () {\n                var dequeue = true,\n                    index = type != null && type + \"queueHooks\",\n                    timers = jQuery.timers,\n                    data = jQuery._data(this);\n\n                if (index) {\n                    if (data[index] && data[index].stop) {\n                        stopQueue(data[index]);\n                    }\n                } else {\n                    for (index in data) {\n                        if (data[index] && data[index].stop && rrun.test(index)) {\n                            stopQueue(data[index]);\n                        }\n                    }\n                }\n\n                for (index = timers.length; index--;) {\n                    if (timers[index].elem === this &&\n                        (type == null || timers[index].queue === type)) {\n\n                        timers[index].anim.stop(gotoEnd);\n                        dequeue = false;\n                        timers.splice(index, 1);\n                    }\n                }\n\n                // start the next in the queue if the last step wasn't forced\n                // timers currently will call their complete callbacks, which will dequeue\n                // but only if they were gotoEnd\n                if (dequeue || !gotoEnd) {\n                    jQuery.dequeue(this, type);\n                }\n            });\n        },\n        finish: function (type) {\n            if (type !== false) {\n                type = type || \"fx\";\n            }\n            return this.each(function () {\n                var index,\n                    data = jQuery._data(this),\n                    queue = data[type + \"queue\"],\n                    hooks = data[type + \"queueHooks\"],\n                    timers = jQuery.timers,\n                    length = queue ? queue.length : 0;\n\n                // enable finishing flag on private data\n                data.finish = true;\n\n                // empty the queue first\n                jQuery.queue(this, type, []);\n\n                if (hooks && hooks.stop) {\n                    hooks.stop.call(this, true);\n                }\n\n                // look for any active animations, and finish them\n                for (index = timers.length; index--;) {\n                    if (timers[index].elem === this && timers[index].queue === type) {\n                        timers[index].anim.stop(true);\n                        timers.splice(index, 1);\n                    }\n                }\n\n                // look for any animations in the old queue and finish them\n                for (index = 0; index < length; index++) {\n                    if (queue[index] && queue[index].finish) {\n                        queue[index].finish.call(this);\n                    }\n                }\n\n                // turn off finishing flag\n                delete data.finish;\n            });\n        }\n    });\n\n    jQuery.each([\"toggle\", \"show\", \"hide\"], function (i, name) {\n        var cssFn = jQuery.fn[name];\n        jQuery.fn[name] = function (speed, easing, callback) {\n            return speed == null || typeof speed === \"boolean\" ?\n                cssFn.apply(this, arguments) :\n                this.animate(genFx(name, true), speed, easing, callback);\n        };\n    });\n\n// Generate shortcuts for custom animations\n    jQuery.each({\n        slideDown: genFx(\"show\"),\n        slideUp: genFx(\"hide\"),\n        slideToggle: genFx(\"toggle\"),\n        fadeIn: {opacity: \"show\"},\n        fadeOut: {opacity: \"hide\"},\n        fadeToggle: {opacity: \"toggle\"}\n    }, function (name, props) {\n        jQuery.fn[name] = function (speed, easing, callback) {\n            return this.animate(props, speed, easing, callback);\n        };\n    });\n\n    jQuery.timers = [];\n    jQuery.fx.tick = function () {\n        var timer,\n            timers = jQuery.timers,\n            i = 0;\n\n        fxNow = jQuery.now();\n\n        for (; i < timers.length; i++) {\n            timer = timers[i];\n\n            // Checks the timer has not already been removed\n            if (!timer() && timers[i] === timer) {\n                timers.splice(i--, 1);\n            }\n        }\n\n        if (!timers.length) {\n            jQuery.fx.stop();\n        }\n        fxNow = undefined;\n    };\n\n    jQuery.fx.timer = function (timer) {\n        jQuery.timers.push(timer);\n        if (timer()) {\n            jQuery.fx.start();\n        } else {\n            jQuery.timers.pop();\n        }\n    };\n\n    jQuery.fx.interval = 13;\n\n    jQuery.fx.start = function () {\n        if (!timerId) {\n            timerId = window.setInterval(jQuery.fx.tick, jQuery.fx.interval);\n        }\n    };\n\n    jQuery.fx.stop = function () {\n        window.clearInterval(timerId);\n        timerId = null;\n    };\n\n    jQuery.fx.speeds = {\n        slow: 600,\n        fast: 200,\n\n        // Default speed\n        _default: 400\n    };\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// http://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\n    jQuery.fn.delay = function (time, type) {\n        time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;\n        type = type || \"fx\";\n\n        return this.queue(type, function (next, hooks) {\n            var timeout = window.setTimeout(next, time);\n            hooks.stop = function () {\n                window.clearTimeout(timeout);\n            };\n        });\n    };\n\n\n    (function () {\n        var a,\n            input = document.createElement(\"input\"),\n            div = document.createElement(\"div\"),\n            select = document.createElement(\"select\"),\n            opt = select.appendChild(document.createElement(\"option\"));\n\n        // Setup\n        div = document.createElement(\"div\");\n        div.setAttribute(\"className\", \"t\");\n        div.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n        a = div.getElementsByTagName(\"a\")[0];\n\n        // Support: Windows Web Apps (WWA)\n        // `type` must use .setAttribute for WWA (#14901)\n        input.setAttribute(\"type\", \"checkbox\");\n        div.appendChild(input);\n\n        a = div.getElementsByTagName(\"a\")[0];\n\n        // First batch of tests.\n        a.style.cssText = \"top:1px\";\n\n        // Test setAttribute on camelCase class.\n        // If it works, we need attrFixes when doing get/setAttribute (ie6/7)\n        support.getSetAttribute = div.className !== \"t\";\n\n        // Get the style information from getAttribute\n        // (IE uses .cssText instead)\n        support.style = /top/.test(a.getAttribute(\"style\"));\n\n        // Make sure that URLs aren't manipulated\n        // (IE normalizes it by default)\n        support.hrefNormalized = a.getAttribute(\"href\") === \"/a\";\n\n        // Check the default checkbox/radio value (\"\" on WebKit; \"on\" elsewhere)\n        support.checkOn = !!input.value;\n\n        // Make sure that a selected-by-default option has a working selected property.\n        // (WebKit defaults to false instead of true, IE too, if it's in an optgroup)\n        support.optSelected = opt.selected;\n\n        // Tests for enctype support on a form (#6743)\n        support.enctype = !!document.createElement(\"form\").enctype;\n\n        // Make sure that the options inside disabled selects aren't marked as disabled\n        // (WebKit marks them as disabled)\n        select.disabled = true;\n        support.optDisabled = !opt.disabled;\n\n        // Support: IE8 only\n        // Check if we can trust getAttribute(\"value\")\n        input = document.createElement(\"input\");\n        input.setAttribute(\"value\", \"\");\n        support.input = input.getAttribute(\"value\") === \"\";\n\n        // Check if an input maintains its value after becoming a radio\n        input.value = \"t\";\n        input.setAttribute(\"type\", \"radio\");\n        support.radioValue = input.value === \"t\";\n    })();\n\n\n    var rreturn = /\\r/g,\n        rspaces = /[\\x20\\t\\r\\n\\f]+/g;\n\n    jQuery.fn.extend({\n        val: function (value) {\n            var hooks, ret, isFunction,\n                elem = this[0];\n\n            if (!arguments.length) {\n                if (elem) {\n                    hooks = jQuery.valHooks[elem.type] ||\n                        jQuery.valHooks[elem.nodeName.toLowerCase()];\n\n                    if (\n                        hooks &&\n                        \"get\" in hooks &&\n                        (ret = hooks.get(elem, \"value\")) !== undefined\n                    ) {\n                        return ret;\n                    }\n\n                    ret = elem.value;\n\n                    return typeof ret === \"string\" ?\n\n                        // handle most common string cases\n                        ret.replace(rreturn, \"\") :\n\n                        // handle cases where value is null/undef or number\n                        ret == null ? \"\" : ret;\n                }\n\n                return;\n            }\n\n            isFunction = jQuery.isFunction(value);\n\n            return this.each(function (i) {\n                var val;\n\n                if (this.nodeType !== 1) {\n                    return;\n                }\n\n                if (isFunction) {\n                    val = value.call(this, i, jQuery(this).val());\n                } else {\n                    val = value;\n                }\n\n                // Treat null/undefined as \"\"; convert numbers to string\n                if (val == null) {\n                    val = \"\";\n                } else if (typeof val === \"number\") {\n                    val += \"\";\n                } else if (jQuery.isArray(val)) {\n                    val = jQuery.map(val, function (value) {\n                        return value == null ? \"\" : value + \"\";\n                    });\n                }\n\n                hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];\n\n                // If set returns undefined, fall back to normal setting\n                if (!hooks || !(\"set\" in hooks) || hooks.set(this, val, \"value\") === undefined) {\n                    this.value = val;\n                }\n            });\n        }\n    });\n\n    jQuery.extend({\n        valHooks: {\n            option: {\n                get: function (elem) {\n                    var val = jQuery.find.attr(elem, \"value\");\n                    return val != null ?\n                        val :\n\n                        // Support: IE10-11+\n                        // option.text throws exceptions (#14686, #14858)\n                        // Strip and collapse whitespace\n                        // https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n                        jQuery.trim(jQuery.text(elem)).replace(rspaces, \" \");\n                }\n            },\n            select: {\n                get: function (elem) {\n                    var value, option,\n                        options = elem.options,\n                        index = elem.selectedIndex,\n                        one = elem.type === \"select-one\" || index < 0,\n                        values = one ? null : [],\n                        max = one ? index + 1 : options.length,\n                        i = index < 0 ?\n                            max :\n                            one ? index : 0;\n\n                    // Loop through all the selected options\n                    for (; i < max; i++) {\n                        option = options[i];\n\n                        // oldIE doesn't update selected after form reset (#2551)\n                        if ((option.selected || i === index) &&\n\n                            // Don't return options that are disabled or in a disabled optgroup\n                            (support.optDisabled ?\n                                !option.disabled :\n                                option.getAttribute(\"disabled\") === null) &&\n                            (!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, \"optgroup\"))) {\n\n                            // Get the specific value for the option\n                            value = jQuery(option).val();\n\n                            // We don't need an array for one selects\n                            if (one) {\n                                return value;\n                            }\n\n                            // Multi-Selects return an array\n                            values.push(value);\n                        }\n                    }\n\n                    return values;\n                },\n\n                set: function (elem, value) {\n                    var optionSet, option,\n                        options = elem.options,\n                        values = jQuery.makeArray(value),\n                        i = options.length;\n\n                    while (i--) {\n                        option = options[i];\n\n                        if (jQuery.inArray(jQuery.valHooks.option.get(option), values) > -1) {\n\n                            // Support: IE6\n                            // When new option element is added to select box we need to\n                            // force reflow of newly added node in order to workaround delay\n                            // of initialization properties\n                            try {\n                                option.selected = optionSet = true;\n\n                            } catch (_) {\n\n                                // Will be executed only in IE6\n                                option.scrollHeight;\n                            }\n\n                        } else {\n                            option.selected = false;\n                        }\n                    }\n\n                    // Force browsers to behave consistently when non-matching value is set\n                    if (!optionSet) {\n                        elem.selectedIndex = -1;\n                    }\n\n                    return options;\n                }\n            }\n        }\n    });\n\n// Radios and checkboxes getter/setter\n    jQuery.each([\"radio\", \"checkbox\"], function () {\n        jQuery.valHooks[this] = {\n            set: function (elem, value) {\n                if (jQuery.isArray(value)) {\n                    return (elem.checked = jQuery.inArray(jQuery(elem).val(), value) > -1);\n                }\n            }\n        };\n        if (!support.checkOn) {\n            jQuery.valHooks[this].get = function (elem) {\n                return elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\n            };\n        }\n    });\n\n\n    var nodeHook, boolHook,\n        attrHandle = jQuery.expr.attrHandle,\n        ruseDefault = /^(?:checked|selected)$/i,\n        getSetAttribute = support.getSetAttribute,\n        getSetInput = support.input;\n\n    jQuery.fn.extend({\n        attr: function (name, value) {\n            return access(this, jQuery.attr, name, value, arguments.length > 1);\n        },\n\n        removeAttr: function (name) {\n            return this.each(function () {\n                jQuery.removeAttr(this, name);\n            });\n        }\n    });\n\n    jQuery.extend({\n        attr: function (elem, name, value) {\n            var ret, hooks,\n                nType = elem.nodeType;\n\n            // Don't get/set attributes on text, comment and attribute nodes\n            if (nType === 3 || nType === 8 || nType === 2) {\n                return;\n            }\n\n            // Fallback to prop when attributes are not supported\n            if (typeof elem.getAttribute === \"undefined\") {\n                return jQuery.prop(elem, name, value);\n            }\n\n            // All attributes are lowercase\n            // Grab necessary hook if one is defined\n            if (nType !== 1 || !jQuery.isXMLDoc(elem)) {\n                name = name.toLowerCase();\n                hooks = jQuery.attrHooks[name] ||\n                    (jQuery.expr.match.bool.test(name) ? boolHook : nodeHook);\n            }\n\n            if (value !== undefined) {\n                if (value === null) {\n                    jQuery.removeAttr(elem, name);\n                    return;\n                }\n\n                if (hooks && \"set\" in hooks &&\n                    (ret = hooks.set(elem, value, name)) !== undefined) {\n                    return ret;\n                }\n\n                elem.setAttribute(name, value + \"\");\n                return value;\n            }\n\n            if (hooks && \"get\" in hooks && (ret = hooks.get(elem, name)) !== null) {\n                return ret;\n            }\n\n            ret = jQuery.find.attr(elem, name);\n\n            // Non-existent attributes return null, we normalize to undefined\n            return ret == null ? undefined : ret;\n        },\n\n        attrHooks: {\n            type: {\n                set: function (elem, value) {\n                    if (!support.radioValue && value === \"radio\" &&\n                        jQuery.nodeName(elem, \"input\")) {\n\n                        // Setting the type on a radio button after the value resets the value in IE8-9\n                        // Reset value to default in case type is set after value during creation\n                        var val = elem.value;\n                        elem.setAttribute(\"type\", value);\n                        if (val) {\n                            elem.value = val;\n                        }\n                        return value;\n                    }\n                }\n            }\n        },\n\n        removeAttr: function (elem, value) {\n            var name, propName,\n                i = 0,\n                attrNames = value && value.match(rnotwhite);\n\n            if (attrNames && elem.nodeType === 1) {\n                while ((name = attrNames[i++])) {\n                    propName = jQuery.propFix[name] || name;\n\n                    // Boolean attributes get special treatment (#10870)\n                    if (jQuery.expr.match.bool.test(name)) {\n\n                        // Set corresponding property to false\n                        if (getSetInput && getSetAttribute || !ruseDefault.test(name)) {\n                            elem[propName] = false;\n\n                            // Support: IE<9\n                            // Also clear defaultChecked/defaultSelected (if appropriate)\n                        } else {\n                            elem[jQuery.camelCase(\"default-\" + name)] =\n                                elem[propName] = false;\n                        }\n\n                        // See #9699 for explanation of this approach (setting first, then removal)\n                    } else {\n                        jQuery.attr(elem, name, \"\");\n                    }\n\n                    elem.removeAttribute(getSetAttribute ? name : propName);\n                }\n            }\n        }\n    });\n\n// Hooks for boolean attributes\n    boolHook = {\n        set: function (elem, value, name) {\n            if (value === false) {\n\n                // Remove boolean attributes when set to false\n                jQuery.removeAttr(elem, name);\n            } else if (getSetInput && getSetAttribute || !ruseDefault.test(name)) {\n\n                // IE<8 needs the *property* name\n                elem.setAttribute(!getSetAttribute && jQuery.propFix[name] || name, name);\n\n            } else {\n\n                // Support: IE<9\n                // Use defaultChecked and defaultSelected for oldIE\n                elem[jQuery.camelCase(\"default-\" + name)] = elem[name] = true;\n            }\n            return name;\n        }\n    };\n\n    jQuery.each(jQuery.expr.match.bool.source.match(/\\w+/g), function (i, name) {\n        var getter = attrHandle[name] || jQuery.find.attr;\n\n        if (getSetInput && getSetAttribute || !ruseDefault.test(name)) {\n            attrHandle[name] = function (elem, name, isXML) {\n                var ret, handle;\n                if (!isXML) {\n\n                    // Avoid an infinite loop by temporarily removing this function from the getter\n                    handle = attrHandle[name];\n                    attrHandle[name] = ret;\n                    ret = getter(elem, name, isXML) != null ?\n                        name.toLowerCase() :\n                        null;\n                    attrHandle[name] = handle;\n                }\n                return ret;\n            };\n        } else {\n            attrHandle[name] = function (elem, name, isXML) {\n                if (!isXML) {\n                    return elem[jQuery.camelCase(\"default-\" + name)] ?\n                        name.toLowerCase() :\n                        null;\n                }\n            };\n        }\n    });\n\n// fix oldIE attroperties\n    if (!getSetInput || !getSetAttribute) {\n        jQuery.attrHooks.value = {\n            set: function (elem, value, name) {\n                if (jQuery.nodeName(elem, \"input\")) {\n\n                    // Does not return so that setAttribute is also used\n                    elem.defaultValue = value;\n                } else {\n\n                    // Use nodeHook if defined (#1954); otherwise setAttribute is fine\n                    return nodeHook && nodeHook.set(elem, value, name);\n                }\n            }\n        };\n    }\n\n// IE6/7 do not support getting/setting some attributes with get/setAttribute\n    if (!getSetAttribute) {\n\n        // Use this for any attribute in IE6/7\n        // This fixes almost every IE6/7 issue\n        nodeHook = {\n            set: function (elem, value, name) {\n\n                // Set the existing or create a new attribute node\n                var ret = elem.getAttributeNode(name);\n                if (!ret) {\n                    elem.setAttributeNode(\n                        (ret = elem.ownerDocument.createAttribute(name))\n                    );\n                }\n\n                ret.value = value += \"\";\n\n                // Break association with cloned elements by also using setAttribute (#9646)\n                if (name === \"value\" || value === elem.getAttribute(name)) {\n                    return value;\n                }\n            }\n        };\n\n        // Some attributes are constructed with empty-string values when not defined\n        attrHandle.id = attrHandle.name = attrHandle.coords =\n            function (elem, name, isXML) {\n                var ret;\n                if (!isXML) {\n                    return (ret = elem.getAttributeNode(name)) && ret.value !== \"\" ?\n                        ret.value :\n                        null;\n                }\n            };\n\n        // Fixing value retrieval on a button requires this module\n        jQuery.valHooks.button = {\n            get: function (elem, name) {\n                var ret = elem.getAttributeNode(name);\n                if (ret && ret.specified) {\n                    return ret.value;\n                }\n            },\n            set: nodeHook.set\n        };\n\n        // Set contenteditable to false on removals(#10429)\n        // Setting to empty string throws an error as an invalid value\n        jQuery.attrHooks.contenteditable = {\n            set: function (elem, value, name) {\n                nodeHook.set(elem, value === \"\" ? false : value, name);\n            }\n        };\n\n        // Set width and height to auto instead of 0 on empty string( Bug #8150 )\n        // This is for removals\n        jQuery.each([\"width\", \"height\"], function (i, name) {\n            jQuery.attrHooks[name] = {\n                set: function (elem, value) {\n                    if (value === \"\") {\n                        elem.setAttribute(name, \"auto\");\n                        return value;\n                    }\n                }\n            };\n        });\n    }\n\n    if (!support.style) {\n        jQuery.attrHooks.style = {\n            get: function (elem) {\n\n                // Return undefined in the case of empty string\n                // Note: IE uppercases css property names, but if we were to .toLowerCase()\n                // .cssText, that would destroy case sensitivity in URL's, like in \"background\"\n                return elem.style.cssText || undefined;\n            },\n            set: function (elem, value) {\n                return (elem.style.cssText = value + \"\");\n            }\n        };\n    }\n\n\n    var rfocusable = /^(?:input|select|textarea|button|object)$/i,\n        rclickable = /^(?:a|area)$/i;\n\n    jQuery.fn.extend({\n        prop: function (name, value) {\n            return access(this, jQuery.prop, name, value, arguments.length > 1);\n        },\n\n        removeProp: function (name) {\n            name = jQuery.propFix[name] || name;\n            return this.each(function () {\n\n                // try/catch handles cases where IE balks (such as removing a property on window)\n                try {\n                    this[name] = undefined;\n                    delete this[name];\n                } catch (e) {\n                }\n            });\n        }\n    });\n\n    jQuery.extend({\n        prop: function (elem, name, value) {\n            var ret, hooks,\n                nType = elem.nodeType;\n\n            // Don't get/set properties on text, comment and attribute nodes\n            if (nType === 3 || nType === 8 || nType === 2) {\n                return;\n            }\n\n            if (nType !== 1 || !jQuery.isXMLDoc(elem)) {\n\n                // Fix name and attach hooks\n                name = jQuery.propFix[name] || name;\n                hooks = jQuery.propHooks[name];\n            }\n\n            if (value !== undefined) {\n                if (hooks && \"set\" in hooks &&\n                    (ret = hooks.set(elem, value, name)) !== undefined) {\n                    return ret;\n                }\n\n                return (elem[name] = value);\n            }\n\n            if (hooks && \"get\" in hooks && (ret = hooks.get(elem, name)) !== null) {\n                return ret;\n            }\n\n            return elem[name];\n        },\n\n        propHooks: {\n            tabIndex: {\n                get: function (elem) {\n\n                    // elem.tabIndex doesn't always return the\n                    // correct value when it hasn't been explicitly set\n                    // http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n                    // Use proper attribute retrieval(#12072)\n                    var tabindex = jQuery.find.attr(elem, \"tabindex\");\n\n                    return tabindex ?\n                        parseInt(tabindex, 10) :\n                        rfocusable.test(elem.nodeName) ||\n                        rclickable.test(elem.nodeName) && elem.href ?\n                            0 :\n                            -1;\n                }\n            }\n        },\n\n        propFix: {\n            \"for\": \"htmlFor\",\n            \"class\": \"className\"\n        }\n    });\n\n// Some attributes require a special call on IE\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\n    if (!support.hrefNormalized) {\n\n        // href/src property should get the full normalized URL (#10299/#12915)\n        jQuery.each([\"href\", \"src\"], function (i, name) {\n            jQuery.propHooks[name] = {\n                get: function (elem) {\n                    return elem.getAttribute(name, 4);\n                }\n            };\n        });\n    }\n\n// Support: Safari, IE9+\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n    if (!support.optSelected) {\n        jQuery.propHooks.selected = {\n            get: function (elem) {\n                var parent = elem.parentNode;\n\n                if (parent) {\n                    parent.selectedIndex;\n\n                    // Make sure that it also works with optgroups, see #5701\n                    if (parent.parentNode) {\n                        parent.parentNode.selectedIndex;\n                    }\n                }\n                return null;\n            },\n            set: function (elem) {\n                var parent = elem.parentNode;\n                if (parent) {\n                    parent.selectedIndex;\n\n                    if (parent.parentNode) {\n                        parent.parentNode.selectedIndex;\n                    }\n                }\n            }\n        };\n    }\n\n    jQuery.each([\n        \"tabIndex\",\n        \"readOnly\",\n        \"maxLength\",\n        \"cellSpacing\",\n        \"cellPadding\",\n        \"rowSpan\",\n        \"colSpan\",\n        \"useMap\",\n        \"frameBorder\",\n        \"contentEditable\"\n    ], function () {\n        jQuery.propFix[this.toLowerCase()] = this;\n    });\n\n// IE6/7 call enctype encoding\n    if (!support.enctype) {\n        jQuery.propFix.enctype = \"encoding\";\n    }\n\n\n    var rclass = /[\\t\\r\\n\\f]/g;\n\n    function getClass(elem) {\n        return jQuery.attr(elem, \"class\") || \"\";\n    }\n\n    jQuery.fn.extend({\n        addClass: function (value) {\n            var classes, elem, cur, curValue, clazz, j, finalValue,\n                i = 0;\n\n            if (jQuery.isFunction(value)) {\n                return this.each(function (j) {\n                    jQuery(this).addClass(value.call(this, j, getClass(this)));\n                });\n            }\n\n            if (typeof value === \"string\" && value) {\n                classes = value.match(rnotwhite) || [];\n\n                while ((elem = this[i++])) {\n                    curValue = getClass(elem);\n                    cur = elem.nodeType === 1 &&\n                        (\" \" + curValue + \" \").replace(rclass, \" \");\n\n                    if (cur) {\n                        j = 0;\n                        while ((clazz = classes[j++])) {\n                            if (cur.indexOf(\" \" + clazz + \" \") < 0) {\n                                cur += clazz + \" \";\n                            }\n                        }\n\n                        // only assign if different to avoid unneeded rendering.\n                        finalValue = jQuery.trim(cur);\n                        if (curValue !== finalValue) {\n                            jQuery.attr(elem, \"class\", finalValue);\n                        }\n                    }\n                }\n            }\n\n            return this;\n        },\n\n        removeClass: function (value) {\n            var classes, elem, cur, curValue, clazz, j, finalValue,\n                i = 0;\n\n            if (jQuery.isFunction(value)) {\n                return this.each(function (j) {\n                    jQuery(this).removeClass(value.call(this, j, getClass(this)));\n                });\n            }\n\n            if (!arguments.length) {\n                return this.attr(\"class\", \"\");\n            }\n\n            if (typeof value === \"string\" && value) {\n                classes = value.match(rnotwhite) || [];\n\n                while ((elem = this[i++])) {\n                    curValue = getClass(elem);\n\n                    // This expression is here for better compressibility (see addClass)\n                    cur = elem.nodeType === 1 &&\n                        (\" \" + curValue + \" \").replace(rclass, \" \");\n\n                    if (cur) {\n                        j = 0;\n                        while ((clazz = classes[j++])) {\n\n                            // Remove *all* instances\n                            while (cur.indexOf(\" \" + clazz + \" \") > -1) {\n                                cur = cur.replace(\" \" + clazz + \" \", \" \");\n                            }\n                        }\n\n                        // Only assign if different to avoid unneeded rendering.\n                        finalValue = jQuery.trim(cur);\n                        if (curValue !== finalValue) {\n                            jQuery.attr(elem, \"class\", finalValue);\n                        }\n                    }\n                }\n            }\n\n            return this;\n        },\n\n        toggleClass: function (value, stateVal) {\n            var type = typeof value;\n\n            if (typeof stateVal === \"boolean\" && type === \"string\") {\n                return stateVal ? this.addClass(value) : this.removeClass(value);\n            }\n\n            if (jQuery.isFunction(value)) {\n                return this.each(function (i) {\n                    jQuery(this).toggleClass(\n                        value.call(this, i, getClass(this), stateVal),\n                        stateVal\n                    );\n                });\n            }\n\n            return this.each(function () {\n                var className, i, self, classNames;\n\n                if (type === \"string\") {\n\n                    // Toggle individual class names\n                    i = 0;\n                    self = jQuery(this);\n                    classNames = value.match(rnotwhite) || [];\n\n                    while ((className = classNames[i++])) {\n\n                        // Check each className given, space separated list\n                        if (self.hasClass(className)) {\n                            self.removeClass(className);\n                        } else {\n                            self.addClass(className);\n                        }\n                    }\n\n                    // Toggle whole class name\n                } else if (value === undefined || type === \"boolean\") {\n                    className = getClass(this);\n                    if (className) {\n\n                        // store className if set\n                        jQuery._data(this, \"__className__\", className);\n                    }\n\n                    // If the element has a class name or if we're passed \"false\",\n                    // then remove the whole classname (if there was one, the above saved it).\n                    // Otherwise bring back whatever was previously saved (if anything),\n                    // falling back to the empty string if nothing was stored.\n                    jQuery.attr(this, \"class\",\n                        className || value === false ?\n                            \"\" :\n                            jQuery._data(this, \"__className__\") || \"\"\n                    );\n                }\n            });\n        },\n\n        hasClass: function (selector) {\n            var className, elem,\n                i = 0;\n\n            className = \" \" + selector + \" \";\n            while ((elem = this[i++])) {\n                if (elem.nodeType === 1 &&\n                    (\" \" + getClass(elem) + \" \").replace(rclass, \" \")\n                        .indexOf(className) > -1\n                ) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    });\n\n\n// Return jQuery for attributes-only inclusion\n\n\n    jQuery.each((\"blur focus focusin focusout load resize scroll unload click dblclick \" +\n        \"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n        \"change select submit keydown keypress keyup error contextmenu\").split(\" \"),\n        function (i, name) {\n\n            // Handle event binding\n            jQuery.fn[name] = function (data, fn) {\n                return arguments.length > 0 ?\n                    this.on(name, null, data, fn) :\n                    this.trigger(name);\n            };\n        });\n\n    jQuery.fn.extend({\n        hover: function (fnOver, fnOut) {\n            return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);\n        }\n    });\n\n\n    var location = window.location;\n\n    var nonce = jQuery.now();\n\n    var rquery = (/\\?/);\n\n\n    var rvalidtokens = /(,)|(\\[|{)|(}|])|\"(?:[^\"\\\\\\r\\n]|\\\\[\"\\\\\\/bfnrt]|\\\\u[\\da-fA-F]{4})*\"\\s*:?|true|false|null|-?(?!0\\d)\\d+(?:\\.\\d+|)(?:[eE][+-]?\\d+|)/g;\n\n    jQuery.parseJSON = function (data) {\n\n        // Attempt to parse using the native JSON parser first\n        if (window.JSON && window.JSON.parse) {\n\n            // Support: Android 2.3\n            // Workaround failure to string-cast null input\n            return window.JSON.parse(data + \"\");\n        }\n\n        var requireNonComma,\n            depth = null,\n            str = jQuery.trim(data + \"\");\n\n        // Guard against invalid (and possibly dangerous) input by ensuring that nothing remains\n        // after removing valid tokens\n        return str && !jQuery.trim(str.replace(rvalidtokens, function (token, comma, open, close) {\n\n            // Force termination if we see a misplaced comma\n            if (requireNonComma && comma) {\n                depth = 0;\n            }\n\n            // Perform no more replacements after returning to outermost depth\n            if (depth === 0) {\n                return token;\n            }\n\n            // Commas must not follow \"[\", \"{\", or \",\"\n            requireNonComma = open || comma;\n\n            // Determine new depth\n            // array/object open (\"[\" or \"{\"): depth += true - false (increment)\n            // array/object close (\"]\" or \"}\"): depth += false - true (decrement)\n            // other cases (\",\" or primitive): depth += true - true (numeric cast)\n            depth += !close - !open;\n\n            // Remove this token\n            return \"\";\n        })) ?\n            (Function(\"return \" + str))() :\n            jQuery.error(\"Invalid JSON: \" + data);\n    };\n\n\n// Cross-browser xml parsing\n    jQuery.parseXML = function (data) {\n        var xml, tmp;\n        if (!data || typeof data !== \"string\") {\n            return null;\n        }\n        try {\n            if (window.DOMParser) { // Standard\n                tmp = new window.DOMParser();\n                xml = tmp.parseFromString(data, \"text/xml\");\n            } else { // IE\n                xml = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n                xml.async = \"false\";\n                xml.loadXML(data);\n            }\n        } catch (e) {\n            xml = undefined;\n        }\n        if (!xml || !xml.documentElement || xml.getElementsByTagName(\"parsererror\").length) {\n            jQuery.error(\"Invalid XML: \" + data);\n        }\n        return xml;\n    };\n\n\n    var\n        rhash = /#.*$/,\n        rts = /([?&])_=[^&]*/,\n\n        // IE leaves an \\r character at EOL\n        rheaders = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,\n\n        // #7653, #8125, #8152: local protocol detection\n        rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n        rnoContent = /^(?:GET|HEAD)$/,\n        rprotocol = /^\\/\\//,\n        rurl = /^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,\n\n        /* Prefilters\n         * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n         * 2) These are called:\n         *    - BEFORE asking for a transport\n         *    - AFTER param serialization (s.data is a string if s.processData is true)\n         * 3) key is the dataType\n         * 4) the catchall symbol \"*\" can be used\n         * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n         */\n        prefilters = {},\n\n        /* Transports bindings\n         * 1) key is the dataType\n         * 2) the catchall symbol \"*\" can be used\n         * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n         */\n        transports = {},\n\n        // Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n        allTypes = \"*/\".concat(\"*\"),\n\n        // Document location\n        ajaxLocation = location.href,\n\n        // Segment location into parts\n        ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\n    function addToPrefiltersOrTransports(structure) {\n\n        // dataTypeExpression is optional and defaults to \"*\"\n        return function (dataTypeExpression, func) {\n\n            if (typeof dataTypeExpression !== \"string\") {\n                func = dataTypeExpression;\n                dataTypeExpression = \"*\";\n            }\n\n            var dataType,\n                i = 0,\n                dataTypes = dataTypeExpression.toLowerCase().match(rnotwhite) || [];\n\n            if (jQuery.isFunction(func)) {\n\n                // For each dataType in the dataTypeExpression\n                while ((dataType = dataTypes[i++])) {\n\n                    // Prepend if requested\n                    if (dataType.charAt(0) === \"+\") {\n                        dataType = dataType.slice(1) || \"*\";\n                        (structure[dataType] = structure[dataType] || []).unshift(func);\n\n                        // Otherwise append\n                    } else {\n                        (structure[dataType] = structure[dataType] || []).push(func);\n                    }\n                }\n            }\n        };\n    }\n\n// Base inspection function for prefilters and transports\n    function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {\n\n        var inspected = {},\n            seekingTransport = (structure === transports);\n\n        function inspect(dataType) {\n            var selected;\n            inspected[dataType] = true;\n            jQuery.each(structure[dataType] || [], function (_, prefilterOrFactory) {\n                var dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);\n                if (typeof dataTypeOrTransport === \"string\" && !seekingTransport && !inspected[dataTypeOrTransport]) {\n\n                    options.dataTypes.unshift(dataTypeOrTransport);\n                    inspect(dataTypeOrTransport);\n                    return false;\n                } else if (seekingTransport) {\n                    return !(selected = dataTypeOrTransport);\n                }\n            });\n            return selected;\n        }\n\n        return inspect(options.dataTypes[0]) || !inspected[\"*\"] && inspect(\"*\");\n    }\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\n    function ajaxExtend(target, src) {\n        var deep, key,\n            flatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n        for (key in src) {\n            if (src[key] !== undefined) {\n                (flatOptions[key] ? target : (deep || (deep = {})))[key] = src[key];\n            }\n        }\n        if (deep) {\n            jQuery.extend(true, target, deep);\n        }\n\n        return target;\n    }\n\n    /* Handles responses to an ajax request:\n     * - finds the right dataType (mediates between content-type and expected dataType)\n     * - returns the corresponding response\n     */\n    function ajaxHandleResponses(s, jqXHR, responses) {\n        var firstDataType, ct, finalDataType, type,\n            contents = s.contents,\n            dataTypes = s.dataTypes;\n\n        // Remove auto dataType and get content-type in the process\n        while (dataTypes[0] === \"*\") {\n            dataTypes.shift();\n            if (ct === undefined) {\n                ct = s.mimeType || jqXHR.getResponseHeader(\"Content-Type\");\n            }\n        }\n\n        // Check if we're dealing with a known content-type\n        if (ct) {\n            for (type in contents) {\n                if (contents[type] && contents[type].test(ct)) {\n                    dataTypes.unshift(type);\n                    break;\n                }\n            }\n        }\n\n        // Check to see if we have a response for the expected dataType\n        if (dataTypes[0] in responses) {\n            finalDataType = dataTypes[0];\n        } else {\n\n            // Try convertible dataTypes\n            for (type in responses) {\n                if (!dataTypes[0] || s.converters[type + \" \" + dataTypes[0]]) {\n                    finalDataType = type;\n                    break;\n                }\n                if (!firstDataType) {\n                    firstDataType = type;\n                }\n            }\n\n            // Or just use first one\n            finalDataType = finalDataType || firstDataType;\n        }\n\n        // If we found a dataType\n        // We add the dataType to the list if needed\n        // and return the corresponding response\n        if (finalDataType) {\n            if (finalDataType !== dataTypes[0]) {\n                dataTypes.unshift(finalDataType);\n            }\n            return responses[finalDataType];\n        }\n    }\n\n    /* Chain conversions given the request and the original response\n     * Also sets the responseXXX fields on the jqXHR instance\n     */\n    function ajaxConvert(s, response, jqXHR, isSuccess) {\n        var conv2, current, conv, tmp, prev,\n            converters = {},\n\n            // Work with a copy of dataTypes in case we need to modify it for conversion\n            dataTypes = s.dataTypes.slice();\n\n        // Create converters map with lowercased keys\n        if (dataTypes[1]) {\n            for (conv in s.converters) {\n                converters[conv.toLowerCase()] = s.converters[conv];\n            }\n        }\n\n        current = dataTypes.shift();\n\n        // Convert to each sequential dataType\n        while (current) {\n\n            if (s.responseFields[current]) {\n                jqXHR[s.responseFields[current]] = response;\n            }\n\n            // Apply the dataFilter if provided\n            if (!prev && isSuccess && s.dataFilter) {\n                response = s.dataFilter(response, s.dataType);\n            }\n\n            prev = current;\n            current = dataTypes.shift();\n\n            if (current) {\n\n                // There's only work to do if current dataType is non-auto\n                if (current === \"*\") {\n\n                    current = prev;\n\n                    // Convert response if prev dataType is non-auto and differs from current\n                } else if (prev !== \"*\" && prev !== current) {\n\n                    // Seek a direct converter\n                    conv = converters[prev + \" \" + current] || converters[\"* \" + current];\n\n                    // If none found, seek a pair\n                    if (!conv) {\n                        for (conv2 in converters) {\n\n                            // If conv2 outputs current\n                            tmp = conv2.split(\" \");\n                            if (tmp[1] === current) {\n\n                                // If prev can be converted to accepted input\n                                conv = converters[prev + \" \" + tmp[0]] ||\n                                    converters[\"* \" + tmp[0]];\n                                if (conv) {\n\n                                    // Condense equivalence converters\n                                    if (conv === true) {\n                                        conv = converters[conv2];\n\n                                        // Otherwise, insert the intermediate dataType\n                                    } else if (converters[conv2] !== true) {\n                                        current = tmp[0];\n                                        dataTypes.unshift(tmp[1]);\n                                    }\n                                    break;\n                                }\n                            }\n                        }\n                    }\n\n                    // Apply converter (if not an equivalence)\n                    if (conv !== true) {\n\n                        // Unless errors are allowed to bubble, catch and return them\n                        if (conv && s[\"throws\"]) { // jscs:ignore requireDotNotation\n                            response = conv(response);\n                        } else {\n                            try {\n                                response = conv(response);\n                            } catch (e) {\n                                return {\n                                    state: \"parsererror\",\n                                    error: conv ? e : \"No conversion from \" + prev + \" to \" + current\n                                };\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        return {state: \"success\", data: response};\n    }\n\n    jQuery.extend({\n\n        // Counter for holding the number of active queries\n        active: 0,\n\n        // Last-Modified header cache for next request\n        lastModified: {},\n        etag: {},\n\n        ajaxSettings: {\n            url: ajaxLocation,\n            type: \"GET\",\n            isLocal: rlocalProtocol.test(ajaxLocParts[1]),\n            global: true,\n            processData: true,\n            async: true,\n            contentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n            /*\n             timeout: 0,\n             data: null,\n             dataType: null,\n             username: null,\n             password: null,\n             cache: null,\n             throws: false,\n             traditional: false,\n             headers: {},\n             */\n\n            accepts: {\n                \"*\": allTypes,\n                text: \"text/plain\",\n                html: \"text/html\",\n                xml: \"application/xml, text/xml\",\n                json: \"application/json, text/javascript\"\n            },\n\n            contents: {\n                xml: /\\bxml\\b/,\n                html: /\\bhtml/,\n                json: /\\bjson\\b/\n            },\n\n            responseFields: {\n                xml: \"responseXML\",\n                text: \"responseText\",\n                json: \"responseJSON\"\n            },\n\n            // Data converters\n            // Keys separate source (or catchall \"*\") and destination types with a single space\n            converters: {\n\n                // Convert anything to text\n                \"* text\": String,\n\n                // Text to html (true = no transformation)\n                \"text html\": true,\n\n                // Evaluate text as a json expression\n                \"text json\": jQuery.parseJSON,\n\n                // Parse text as xml\n                \"text xml\": jQuery.parseXML\n            },\n\n            // For options that shouldn't be deep extended:\n            // you can add your own custom options here if\n            // and when you create one that shouldn't be\n            // deep extended (see ajaxExtend)\n            flatOptions: {\n                url: true,\n                context: true\n            }\n        },\n\n        // Creates a full fledged settings object into target\n        // with both ajaxSettings and settings fields.\n        // If target is omitted, writes into ajaxSettings.\n        ajaxSetup: function (target, settings) {\n            return settings ?\n\n                // Building a settings object\n                ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) :\n\n                // Extending ajaxSettings\n                ajaxExtend(jQuery.ajaxSettings, target);\n        },\n\n        ajaxPrefilter: addToPrefiltersOrTransports(prefilters),\n        ajaxTransport: addToPrefiltersOrTransports(transports),\n\n        // Main method\n        ajax: function (url, options) {\n\n            // If url is an object, simulate pre-1.5 signature\n            if (typeof url === \"object\") {\n                options = url;\n                url = undefined;\n            }\n\n            // Force options to be an object\n            options = options || {};\n\n            var\n\n                // Cross-domain detection vars\n                parts,\n\n                // Loop variable\n                i,\n\n                // URL without anti-cache param\n                cacheURL,\n\n                // Response headers as string\n                responseHeadersString,\n\n                // timeout handle\n                timeoutTimer,\n\n                // To know if global events are to be dispatched\n                fireGlobals,\n\n                transport,\n\n                // Response headers\n                responseHeaders,\n\n                // Create the final options object\n                s = jQuery.ajaxSetup({}, options),\n\n                // Callbacks context\n                callbackContext = s.context || s,\n\n                // Context for global events is callbackContext if it is a DOM node or jQuery collection\n                globalEventContext = s.context &&\n                (callbackContext.nodeType || callbackContext.jquery) ?\n                    jQuery(callbackContext) :\n                    jQuery.event,\n\n                // Deferreds\n                deferred = jQuery.Deferred(),\n                completeDeferred = jQuery.Callbacks(\"once memory\"),\n\n                // Status-dependent callbacks\n                statusCode = s.statusCode || {},\n\n                // Headers (they are sent all at once)\n                requestHeaders = {},\n                requestHeadersNames = {},\n\n                // The jqXHR state\n                state = 0,\n\n                // Default abort message\n                strAbort = \"canceled\",\n\n                // Fake xhr\n                jqXHR = {\n                    readyState: 0,\n\n                    // Builds headers hashtable if needed\n                    getResponseHeader: function (key) {\n                        var match;\n                        if (state === 2) {\n                            if (!responseHeaders) {\n                                responseHeaders = {};\n                                while ((match = rheaders.exec(responseHeadersString))) {\n                                    responseHeaders[match[1].toLowerCase()] = match[2];\n                                }\n                            }\n                            match = responseHeaders[key.toLowerCase()];\n                        }\n                        return match == null ? null : match;\n                    },\n\n                    // Raw string\n                    getAllResponseHeaders: function () {\n                        return state === 2 ? responseHeadersString : null;\n                    },\n\n                    // Caches the header\n                    setRequestHeader: function (name, value) {\n                        var lname = name.toLowerCase();\n                        if (!state) {\n                            name = requestHeadersNames[lname] = requestHeadersNames[lname] || name;\n                            requestHeaders[name] = value;\n                        }\n                        return this;\n                    },\n\n                    // Overrides response content-type header\n                    overrideMimeType: function (type) {\n                        if (!state) {\n                            s.mimeType = type;\n                        }\n                        return this;\n                    },\n\n                    // Status-dependent callbacks\n                    statusCode: function (map) {\n                        var code;\n                        if (map) {\n                            if (state < 2) {\n                                for (code in map) {\n\n                                    // Lazy-add the new callback in a way that preserves old ones\n                                    statusCode[code] = [statusCode[code], map[code]];\n                                }\n                            } else {\n\n                                // Execute the appropriate callbacks\n                                jqXHR.always(map[jqXHR.status]);\n                            }\n                        }\n                        return this;\n                    },\n\n                    // Cancel the request\n                    abort: function (statusText) {\n                        var finalText = statusText || strAbort;\n                        if (transport) {\n                            transport.abort(finalText);\n                        }\n                        done(0, finalText);\n                        return this;\n                    }\n                };\n\n            // Attach deferreds\n            deferred.promise(jqXHR).complete = completeDeferred.add;\n            jqXHR.success = jqXHR.done;\n            jqXHR.error = jqXHR.fail;\n\n            // Remove hash character (#7531: and string promotion)\n            // Add protocol if not provided (#5866: IE7 issue with protocol-less urls)\n            // Handle falsy url in the settings object (#10093: consistency with old signature)\n            // We also use the url parameter if available\n            s.url = ((url || s.url || ajaxLocation) + \"\")\n                .replace(rhash, \"\")\n                .replace(rprotocol, ajaxLocParts[1] + \"//\");\n\n            // Alias method option to type as per ticket #12004\n            s.type = options.method || options.type || s.method || s.type;\n\n            // Extract dataTypes list\n            s.dataTypes = jQuery.trim(s.dataType || \"*\").toLowerCase().match(rnotwhite) || [\"\"];\n\n            // A cross-domain request is in order when we have a protocol:host:port mismatch\n            if (s.crossDomain == null) {\n                parts = rurl.exec(s.url.toLowerCase());\n                s.crossDomain = !!(parts &&\n                    (parts[1] !== ajaxLocParts[1] || parts[2] !== ajaxLocParts[2] ||\n                        (parts[3] || (parts[1] === \"http:\" ? \"80\" : \"443\")) !==\n                        (ajaxLocParts[3] || (ajaxLocParts[1] === \"http:\" ? \"80\" : \"443\")))\n                );\n            }\n\n            // Convert data if not already a string\n            if (s.data && s.processData && typeof s.data !== \"string\") {\n                s.data = jQuery.param(s.data, s.traditional);\n            }\n\n            // Apply prefilters\n            inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);\n\n            // If request was aborted inside a prefilter, stop there\n            if (state === 2) {\n                return jqXHR;\n            }\n\n            // We can fire global events as of now if asked to\n            // Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n            fireGlobals = jQuery.event && s.global;\n\n            // Watch for a new set of requests\n            if (fireGlobals && jQuery.active++ === 0) {\n                jQuery.event.trigger(\"ajaxStart\");\n            }\n\n            // Uppercase the type\n            s.type = s.type.toUpperCase();\n\n            // Determine if request has content\n            s.hasContent = !rnoContent.test(s.type);\n\n            // Save the URL in case we're toying with the If-Modified-Since\n            // and/or If-None-Match header later on\n            cacheURL = s.url;\n\n            // More options handling for requests with no content\n            if (!s.hasContent) {\n\n                // If data is available, append data to url\n                if (s.data) {\n                    cacheURL = (s.url += (rquery.test(cacheURL) ? \"&\" : \"?\") + s.data);\n\n                    // #9682: remove data so that it's not used in an eventual retry\n                    delete s.data;\n                }\n\n                // Add anti-cache in url if needed\n                if (s.cache === false) {\n                    s.url = rts.test(cacheURL) ?\n\n                        // If there is already a '_' parameter, set its value\n                        cacheURL.replace(rts, \"$1_=\" + nonce++) :\n\n                        // Otherwise add one to the end\n                        cacheURL + (rquery.test(cacheURL) ? \"&\" : \"?\") + \"_=\" + nonce++;\n                }\n            }\n\n            // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n            if (s.ifModified) {\n                if (jQuery.lastModified[cacheURL]) {\n                    jqXHR.setRequestHeader(\"If-Modified-Since\", jQuery.lastModified[cacheURL]);\n                }\n                if (jQuery.etag[cacheURL]) {\n                    jqXHR.setRequestHeader(\"If-None-Match\", jQuery.etag[cacheURL]);\n                }\n            }\n\n            // Set the correct header, if data is being sent\n            if (s.data && s.hasContent && s.contentType !== false || options.contentType) {\n                jqXHR.setRequestHeader(\"Content-Type\", s.contentType);\n            }\n\n            // Set the Accepts header for the server, depending on the dataType\n            jqXHR.setRequestHeader(\n                \"Accept\",\n                s.dataTypes[0] && s.accepts[s.dataTypes[0]] ?\n                    s.accepts[s.dataTypes[0]] +\n                    (s.dataTypes[0] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\") :\n                    s.accepts[\"*\"]\n            );\n\n            // Check for headers option\n            for (i in s.headers) {\n                jqXHR.setRequestHeader(i, s.headers[i]);\n            }\n\n            // Allow custom headers/mimetypes and early abort\n            if (s.beforeSend &&\n                (s.beforeSend.call(callbackContext, jqXHR, s) === false || state === 2)) {\n\n                // Abort if not done already and return\n                return jqXHR.abort();\n            }\n\n            // aborting is no longer a cancellation\n            strAbort = \"abort\";\n\n            // Install callbacks on deferreds\n            for (i in {success: 1, error: 1, complete: 1}) {\n                jqXHR[i](s[i]);\n            }\n\n            // Get transport\n            transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);\n\n            // If no transport, we auto-abort\n            if (!transport) {\n                done(-1, \"No Transport\");\n            } else {\n                jqXHR.readyState = 1;\n\n                // Send global event\n                if (fireGlobals) {\n                    globalEventContext.trigger(\"ajaxSend\", [jqXHR, s]);\n                }\n\n                // If request was aborted inside ajaxSend, stop there\n                if (state === 2) {\n                    return jqXHR;\n                }\n\n                // Timeout\n                if (s.async && s.timeout > 0) {\n                    timeoutTimer = window.setTimeout(function () {\n                        jqXHR.abort(\"timeout\");\n                    }, s.timeout);\n                }\n\n                try {\n                    state = 1;\n                    transport.send(requestHeaders, done);\n                } catch (e) {\n\n                    // Propagate exception as error if not done\n                    if (state < 2) {\n                        done(-1, e);\n\n                        // Simply rethrow otherwise\n                    } else {\n                        throw e;\n                    }\n                }\n            }\n\n            // Callback for when everything is done\n            function done(status, nativeStatusText, responses, headers) {\n                var isSuccess, success, error, response, modified,\n                    statusText = nativeStatusText;\n\n                // Called once\n                if (state === 2) {\n                    return;\n                }\n\n                // State is \"done\" now\n                state = 2;\n\n                // Clear timeout if it exists\n                if (timeoutTimer) {\n                    window.clearTimeout(timeoutTimer);\n                }\n\n                // Dereference transport for early garbage collection\n                // (no matter how long the jqXHR object will be used)\n                transport = undefined;\n\n                // Cache response headers\n                responseHeadersString = headers || \"\";\n\n                // Set readyState\n                jqXHR.readyState = status > 0 ? 4 : 0;\n\n                // Determine if successful\n                isSuccess = status >= 200 && status < 300 || status === 304;\n\n                // Get response data\n                if (responses) {\n                    response = ajaxHandleResponses(s, jqXHR, responses);\n                }\n\n                // Convert no matter what (that way responseXXX fields are always set)\n                response = ajaxConvert(s, response, jqXHR, isSuccess);\n\n                // If successful, handle type chaining\n                if (isSuccess) {\n\n                    // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n                    if (s.ifModified) {\n                        modified = jqXHR.getResponseHeader(\"Last-Modified\");\n                        if (modified) {\n                            jQuery.lastModified[cacheURL] = modified;\n                        }\n                        modified = jqXHR.getResponseHeader(\"etag\");\n                        if (modified) {\n                            jQuery.etag[cacheURL] = modified;\n                        }\n                    }\n\n                    // if no content\n                    if (status === 204 || s.type === \"HEAD\") {\n                        statusText = \"nocontent\";\n\n                        // if not modified\n                    } else if (status === 304) {\n                        statusText = \"notmodified\";\n\n                        // If we have data, let's convert it\n                    } else {\n                        statusText = response.state;\n                        success = response.data;\n                        error = response.error;\n                        isSuccess = !error;\n                    }\n                } else {\n\n                    // We extract error from statusText\n                    // then normalize statusText and status for non-aborts\n                    error = statusText;\n                    if (status || !statusText) {\n                        statusText = \"error\";\n                        if (status < 0) {\n                            status = 0;\n                        }\n                    }\n                }\n\n                // Set data for the fake xhr object\n                jqXHR.status = status;\n                jqXHR.statusText = (nativeStatusText || statusText) + \"\";\n\n                // Success/Error\n                if (isSuccess) {\n                    deferred.resolveWith(callbackContext, [success, statusText, jqXHR]);\n                } else {\n                    deferred.rejectWith(callbackContext, [jqXHR, statusText, error]);\n                }\n\n                // Status-dependent callbacks\n                jqXHR.statusCode(statusCode);\n                statusCode = undefined;\n\n                if (fireGlobals) {\n                    globalEventContext.trigger(isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n                        [jqXHR, s, isSuccess ? success : error]);\n                }\n\n                // Complete\n                completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);\n\n                if (fireGlobals) {\n                    globalEventContext.trigger(\"ajaxComplete\", [jqXHR, s]);\n\n                    // Handle the global AJAX counter\n                    if (!(--jQuery.active)) {\n                        jQuery.event.trigger(\"ajaxStop\");\n                    }\n                }\n            }\n\n            return jqXHR;\n        },\n\n        getJSON: function (url, data, callback) {\n            return jQuery.get(url, data, callback, \"json\");\n        },\n\n        getScript: function (url, callback) {\n            return jQuery.get(url, undefined, callback, \"script\");\n        }\n    });\n\n    jQuery.each([\"get\", \"post\"], function (i, method) {\n        jQuery[method] = function (url, data, callback, type) {\n\n            // shift arguments if data argument was omitted\n            if (jQuery.isFunction(data)) {\n                type = type || callback;\n                callback = data;\n                data = undefined;\n            }\n\n            // The url can be an options object (which then must have .url)\n            return jQuery.ajax(jQuery.extend({\n                url: url,\n                type: method,\n                dataType: type,\n                data: data,\n                success: callback\n            }, jQuery.isPlainObject(url) && url));\n        };\n    });\n\n\n    jQuery._evalUrl = function (url) {\n        return jQuery.ajax({\n            url: url,\n\n            // Make this explicit, since user can override this through ajaxSetup (#11264)\n            type: \"GET\",\n            dataType: \"script\",\n            cache: true,\n            async: false,\n            global: false,\n            \"throws\": true\n        });\n    };\n\n\n    jQuery.fn.extend({\n        wrapAll: function (html) {\n            if (jQuery.isFunction(html)) {\n                return this.each(function (i) {\n                    jQuery(this).wrapAll(html.call(this, i));\n                });\n            }\n\n            if (this[0]) {\n\n                // The elements to wrap the target around\n                var wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);\n\n                if (this[0].parentNode) {\n                    wrap.insertBefore(this[0]);\n                }\n\n                wrap.map(function () {\n                    var elem = this;\n\n                    while (elem.firstChild && elem.firstChild.nodeType === 1) {\n                        elem = elem.firstChild;\n                    }\n\n                    return elem;\n                }).append(this);\n            }\n\n            return this;\n        },\n\n        wrapInner: function (html) {\n            if (jQuery.isFunction(html)) {\n                return this.each(function (i) {\n                    jQuery(this).wrapInner(html.call(this, i));\n                });\n            }\n\n            return this.each(function () {\n                var self = jQuery(this),\n                    contents = self.contents();\n\n                if (contents.length) {\n                    contents.wrapAll(html);\n\n                } else {\n                    self.append(html);\n                }\n            });\n        },\n\n        wrap: function (html) {\n            var isFunction = jQuery.isFunction(html);\n\n            return this.each(function (i) {\n                jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);\n            });\n        },\n\n        unwrap: function () {\n            return this.parent().each(function () {\n                if (!jQuery.nodeName(this, \"body\")) {\n                    jQuery(this).replaceWith(this.childNodes);\n                }\n            }).end();\n        }\n    });\n\n\n    function getDisplay(elem) {\n        return elem.style && elem.style.display || jQuery.css(elem, \"display\");\n    }\n\n    function filterHidden(elem) {\n\n        // Disconnected elements are considered hidden\n        if (!jQuery.contains(elem.ownerDocument || document, elem)) {\n            return true;\n        }\n        while (elem && elem.nodeType === 1) {\n            if (getDisplay(elem) === \"none\" || elem.type === \"hidden\") {\n                return true;\n            }\n            elem = elem.parentNode;\n        }\n        return false;\n    }\n\n    jQuery.expr.filters.hidden = function (elem) {\n\n        // Support: Opera <= 12.12\n        // Opera reports offsetWidths and offsetHeights less than zero on some elements\n        return support.reliableHiddenOffsets() ?\n            (elem.offsetWidth <= 0 && elem.offsetHeight <= 0 && !elem.getClientRects().length) :\n            filterHidden(elem);\n    };\n\n    jQuery.expr.filters.visible = function (elem) {\n        return !jQuery.expr.filters.hidden(elem);\n    };\n\n\n    var r20 = /%20/g,\n        rbracket = /\\[\\]$/,\n        rCRLF = /\\r?\\n/g,\n        rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n        rsubmittable = /^(?:input|select|textarea|keygen)/i;\n\n    function buildParams(prefix, obj, traditional, add) {\n        var name;\n\n        if (jQuery.isArray(obj)) {\n\n            // Serialize array item.\n            jQuery.each(obj, function (i, v) {\n                if (traditional || rbracket.test(prefix)) {\n\n                    // Treat each array item as a scalar.\n                    add(prefix, v);\n\n                } else {\n\n                    // Item is non-scalar (array or object), encode its numeric index.\n                    buildParams(\n                        prefix + \"[\" + (typeof v === \"object\" && v != null ? i : \"\") + \"]\",\n                        v,\n                        traditional,\n                        add\n                    );\n                }\n            });\n\n        } else if (!traditional && jQuery.type(obj) === \"object\") {\n\n            // Serialize object item.\n            for (name in obj) {\n                buildParams(prefix + \"[\" + name + \"]\", obj[name], traditional, add);\n            }\n\n        } else {\n\n            // Serialize scalar item.\n            add(prefix, obj);\n        }\n    }\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\n    jQuery.param = function (a, traditional) {\n        var prefix,\n            s = [],\n            add = function (key, value) {\n\n                // If value is a function, invoke it and return its value\n                value = jQuery.isFunction(value) ? value() : (value == null ? \"\" : value);\n                s[s.length] = encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n            };\n\n        // Set traditional to true for jQuery <= 1.3.2 behavior.\n        if (traditional === undefined) {\n            traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n        }\n\n        // If an array was passed in, assume that it is an array of form elements.\n        if (jQuery.isArray(a) || (a.jquery && !jQuery.isPlainObject(a))) {\n\n            // Serialize the form elements\n            jQuery.each(a, function () {\n                add(this.name, this.value);\n            });\n\n        } else {\n\n            // If traditional, encode the \"old\" way (the way 1.3.2 or older\n            // did it), otherwise encode params recursively.\n            for (prefix in a) {\n                buildParams(prefix, a[prefix], traditional, add);\n            }\n        }\n\n        // Return the resulting serialization\n        return s.join(\"&\").replace(r20, \"+\");\n    };\n\n    jQuery.fn.extend({\n        serialize: function () {\n            return jQuery.param(this.serializeArray());\n        },\n        serializeArray: function () {\n            return this.map(function () {\n\n                // Can add propHook for \"elements\" to filter or add form elements\n                var elements = jQuery.prop(this, \"elements\");\n                return elements ? jQuery.makeArray(elements) : this;\n            })\n                .filter(function () {\n                    var type = this.type;\n\n                    // Use .is(\":disabled\") so that fieldset[disabled] works\n                    return this.name && !jQuery(this).is(\":disabled\") &&\n                        rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) &&\n                        (this.checked || !rcheckableType.test(type));\n                })\n                .map(function (i, elem) {\n                    var val = jQuery(this).val();\n\n                    return val == null ?\n                        null :\n                        jQuery.isArray(val) ?\n                            jQuery.map(val, function (val) {\n                                return {name: elem.name, value: val.replace(rCRLF, \"\\r\\n\")};\n                            }) :\n                            {name: elem.name, value: val.replace(rCRLF, \"\\r\\n\")};\n                }).get();\n        }\n    });\n\n\n// Create the request object\n// (This is still attached to ajaxSettings for backward compatibility)\n    jQuery.ajaxSettings.xhr = window.ActiveXObject !== undefined ?\n\n        // Support: IE6-IE8\n        function () {\n\n            // XHR cannot access local files, always use ActiveX for that case\n            if (this.isLocal) {\n                return createActiveXHR();\n            }\n\n            // Support: IE 9-11\n            // IE seems to error on cross-domain PATCH requests when ActiveX XHR\n            // is used. In IE 9+ always use the native XHR.\n            // Note: this condition won't catch Edge as it doesn't define\n            // document.documentMode but it also doesn't support ActiveX so it won't\n            // reach this code.\n            if (document.documentMode > 8) {\n                return createStandardXHR();\n            }\n\n            // Support: IE<9\n            // oldIE XHR does not support non-RFC2616 methods (#13240)\n            // See http://msdn.microsoft.com/en-us/library/ie/ms536648(v=vs.85).aspx\n            // and http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9\n            // Although this check for six methods instead of eight\n            // since IE also does not support \"trace\" and \"connect\"\n            return /^(get|post|head|put|delete|options)$/i.test(this.type) &&\n                createStandardXHR() || createActiveXHR();\n        } :\n\n        // For all other browsers, use the standard XMLHttpRequest object\n        createStandardXHR;\n\n    var xhrId = 0,\n        xhrCallbacks = {},\n        xhrSupported = jQuery.ajaxSettings.xhr();\n\n// Support: IE<10\n// Open requests must be manually aborted on unload (#5280)\n// See https://support.microsoft.com/kb/2856746 for more info\n    if (window.attachEvent) {\n        window.attachEvent(\"onunload\", function () {\n            for (var key in xhrCallbacks) {\n                xhrCallbacks[key](undefined, true);\n            }\n        });\n    }\n\n// Determine support properties\n    support.cors = !!xhrSupported && (\"withCredentials\" in xhrSupported);\n    xhrSupported = support.ajax = !!xhrSupported;\n\n// Create transport if the browser can provide an xhr\n    if (xhrSupported) {\n\n        jQuery.ajaxTransport(function (options) {\n\n            // Cross domain only allowed if supported through XMLHttpRequest\n            if (!options.crossDomain || support.cors) {\n\n                var callback;\n\n                return {\n                    send: function (headers, complete) {\n                        var i,\n                            xhr = options.xhr(),\n                            id = ++xhrId;\n\n                        // Open the socket\n                        xhr.open(\n                            options.type,\n                            options.url,\n                            options.async,\n                            options.username,\n                            options.password\n                        );\n\n                        // Apply custom fields if provided\n                        if (options.xhrFields) {\n                            for (i in options.xhrFields) {\n                                xhr[i] = options.xhrFields[i];\n                            }\n                        }\n\n                        // Override mime type if needed\n                        if (options.mimeType && xhr.overrideMimeType) {\n                            xhr.overrideMimeType(options.mimeType);\n                        }\n\n                        // X-Requested-With header\n                        // For cross-domain requests, seeing as conditions for a preflight are\n                        // akin to a jigsaw puzzle, we simply never set it to be sure.\n                        // (it can always be set on a per-request basis or even using ajaxSetup)\n                        // For same-domain requests, won't change header if already provided.\n                        if (!options.crossDomain && !headers[\"X-Requested-With\"]) {\n                            headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n                        }\n\n                        // Set headers\n                        for (i in headers) {\n\n                            // Support: IE<9\n                            // IE's ActiveXObject throws a 'Type Mismatch' exception when setting\n                            // request header to a null-value.\n                            //\n                            // To keep consistent with other XHR implementations, cast the value\n                            // to string and ignore `undefined`.\n                            if (headers[i] !== undefined) {\n                                xhr.setRequestHeader(i, headers[i] + \"\");\n                            }\n                        }\n\n                        // Do send the request\n                        // This may raise an exception which is actually\n                        // handled in jQuery.ajax (so no try/catch here)\n                        xhr.send((options.hasContent && options.data) || null);\n\n                        // Listener\n                        callback = function (_, isAbort) {\n                            var status, statusText, responses;\n\n                            // Was never called and is aborted or complete\n                            if (callback && (isAbort || xhr.readyState === 4)) {\n\n                                // Clean up\n                                delete xhrCallbacks[id];\n                                callback = undefined;\n                                xhr.onreadystatechange = jQuery.noop;\n\n                                // Abort manually if needed\n                                if (isAbort) {\n                                    if (xhr.readyState !== 4) {\n                                        xhr.abort();\n                                    }\n                                } else {\n                                    responses = {};\n                                    status = xhr.status;\n\n                                    // Support: IE<10\n                                    // Accessing binary-data responseText throws an exception\n                                    // (#11426)\n                                    if (typeof xhr.responseText === \"string\") {\n                                        responses.text = xhr.responseText;\n                                    }\n\n                                    // Firefox throws an exception when accessing\n                                    // statusText for faulty cross-domain requests\n                                    try {\n                                        statusText = xhr.statusText;\n                                    } catch (e) {\n\n                                        // We normalize with Webkit giving an empty statusText\n                                        statusText = \"\";\n                                    }\n\n                                    // Filter status for non standard behaviors\n\n                                    // If the request is local and we have data: assume a success\n                                    // (success with no data won't get notified, that's the best we\n                                    // can do given current implementations)\n                                    if (!status && options.isLocal && !options.crossDomain) {\n                                        status = responses.text ? 200 : 404;\n\n                                        // IE - #1450: sometimes returns 1223 when it should be 204\n                                    } else if (status === 1223) {\n                                        status = 204;\n                                    }\n                                }\n                            }\n\n                            // Call complete if needed\n                            if (responses) {\n                                complete(status, statusText, responses, xhr.getAllResponseHeaders());\n                            }\n                        };\n\n                        // Do send the request\n                        // `xhr.send` may raise an exception, but it will be\n                        // handled in jQuery.ajax (so no try/catch here)\n                        if (!options.async) {\n\n                            // If we're in sync mode we fire the callback\n                            callback();\n                        } else if (xhr.readyState === 4) {\n\n                            // (IE6 & IE7) if it's in cache and has been\n                            // retrieved directly we need to fire the callback\n                            window.setTimeout(callback);\n                        } else {\n\n                            // Register the callback, but delay it in case `xhr.send` throws\n                            // Add to the list of active xhr callbacks\n                            xhr.onreadystatechange = xhrCallbacks[id] = callback;\n                        }\n                    },\n\n                    abort: function () {\n                        if (callback) {\n                            callback(undefined, true);\n                        }\n                    }\n                };\n            }\n        });\n    }\n\n// Functions to create xhrs\n    function createStandardXHR() {\n        try {\n            return new window.XMLHttpRequest();\n        } catch (e) {\n        }\n    }\n\n    function createActiveXHR() {\n        try {\n            return new window.ActiveXObject(\"Microsoft.XMLHTTP\");\n        } catch (e) {\n        }\n    }\n\n\n// Install script dataType\n    jQuery.ajaxSetup({\n        accepts: {\n            script: \"text/javascript, application/javascript, \" +\n                \"application/ecmascript, application/x-ecmascript\"\n        },\n        contents: {\n            script: /\\b(?:java|ecma)script\\b/\n        },\n        converters: {\n            \"text script\": function (text) {\n                jQuery.globalEval(text);\n                return text;\n            }\n        }\n    });\n\n// Handle cache's special case and global\n    jQuery.ajaxPrefilter(\"script\", function (s) {\n        if (s.cache === undefined) {\n            s.cache = false;\n        }\n        if (s.crossDomain) {\n            s.type = \"GET\";\n            s.global = false;\n        }\n    });\n\n// Bind script tag hack transport\n    jQuery.ajaxTransport(\"script\", function (s) {\n\n        // This transport only deals with cross domain requests\n        if (s.crossDomain) {\n\n            var script,\n                head = document.head || jQuery(\"head\")[0] || document.documentElement;\n\n            return {\n\n                send: function (_, callback) {\n\n                    script = document.createElement(\"script\");\n\n                    script.async = true;\n\n                    if (s.scriptCharset) {\n                        script.charset = s.scriptCharset;\n                    }\n\n                    script.src = s.url;\n\n                    // Attach handlers for all browsers\n                    script.onload = script.onreadystatechange = function (_, isAbort) {\n\n                        if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {\n\n                            // Handle memory leak in IE\n                            script.onload = script.onreadystatechange = null;\n\n                            // Remove the script\n                            if (script.parentNode) {\n                                script.parentNode.removeChild(script);\n                            }\n\n                            // Dereference the script\n                            script = null;\n\n                            // Callback if not abort\n                            if (!isAbort) {\n                                callback(200, \"success\");\n                            }\n                        }\n                    };\n\n                    // Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending\n                    // Use native DOM manipulation to avoid our domManip AJAX trickery\n                    head.insertBefore(script, head.firstChild);\n                },\n\n                abort: function () {\n                    if (script) {\n                        script.onload(undefined, true);\n                    }\n                }\n            };\n        }\n    });\n\n\n    var oldCallbacks = [],\n        rjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\n    jQuery.ajaxSetup({\n        jsonp: \"callback\",\n        jsonpCallback: function () {\n            var callback = oldCallbacks.pop() || (jQuery.expando + \"_\" + (nonce++));\n            this[callback] = true;\n            return callback;\n        }\n    });\n\n// Detect, normalize options and install callbacks for jsonp requests\n    jQuery.ajaxPrefilter(\"json jsonp\", function (s, originalSettings, jqXHR) {\n\n        var callbackName, overwritten, responseContainer,\n            jsonProp = s.jsonp !== false && (rjsonp.test(s.url) ?\n                    \"url\" :\n                    typeof s.data === \"string\" &&\n                    (s.contentType || \"\")\n                        .indexOf(\"application/x-www-form-urlencoded\") === 0 &&\n                    rjsonp.test(s.data) && \"data\"\n            );\n\n        // Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n        if (jsonProp || s.dataTypes[0] === \"jsonp\") {\n\n            // Get callback name, remembering preexisting value associated with it\n            callbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ?\n                s.jsonpCallback() :\n                s.jsonpCallback;\n\n            // Insert callback into url or form data\n            if (jsonProp) {\n                s[jsonProp] = s[jsonProp].replace(rjsonp, \"$1\" + callbackName);\n            } else if (s.jsonp !== false) {\n                s.url += (rquery.test(s.url) ? \"&\" : \"?\") + s.jsonp + \"=\" + callbackName;\n            }\n\n            // Use data converter to retrieve json after script execution\n            s.converters[\"script json\"] = function () {\n                if (!responseContainer) {\n                    jQuery.error(callbackName + \" was not called\");\n                }\n                return responseContainer[0];\n            };\n\n            // force json dataType\n            s.dataTypes[0] = \"json\";\n\n            // Install callback\n            overwritten = window[callbackName];\n            window[callbackName] = function () {\n                responseContainer = arguments;\n            };\n\n            // Clean-up function (fires after converters)\n            jqXHR.always(function () {\n\n                // If previous value didn't exist - remove it\n                if (overwritten === undefined) {\n                    jQuery(window).removeProp(callbackName);\n\n                    // Otherwise restore preexisting value\n                } else {\n                    window[callbackName] = overwritten;\n                }\n\n                // Save back as free\n                if (s[callbackName]) {\n\n                    // make sure that re-using the options doesn't screw things around\n                    s.jsonpCallback = originalSettings.jsonpCallback;\n\n                    // save the callback name for future use\n                    oldCallbacks.push(callbackName);\n                }\n\n                // Call if it was a function and we have a response\n                if (responseContainer && jQuery.isFunction(overwritten)) {\n                    overwritten(responseContainer[0]);\n                }\n\n                responseContainer = overwritten = undefined;\n            });\n\n            // Delegate to script\n            return \"script\";\n        }\n    });\n\n\n// data: string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\n    jQuery.parseHTML = function (data, context, keepScripts) {\n        if (!data || typeof data !== \"string\") {\n            return null;\n        }\n        if (typeof context === \"boolean\") {\n            keepScripts = context;\n            context = false;\n        }\n        context = context || document;\n\n        var parsed = rsingleTag.exec(data),\n            scripts = !keepScripts && [];\n\n        // Single tag\n        if (parsed) {\n            return [context.createElement(parsed[1])];\n        }\n\n        parsed = buildFragment([data], context, scripts);\n\n        if (scripts && scripts.length) {\n            jQuery(scripts).remove();\n        }\n\n        return jQuery.merge([], parsed.childNodes);\n    };\n\n\n// Keep a copy of the old load method\n    var _load = jQuery.fn.load;\n\n    /**\n     * Load a url into a page\n     */\n    jQuery.fn.load = function (url, params, callback) {\n        if (typeof url !== \"string\" && _load) {\n            return _load.apply(this, arguments);\n        }\n\n        var selector, type, response,\n            self = this,\n            off = url.indexOf(\" \");\n\n        if (off > -1) {\n            selector = jQuery.trim(url.slice(off, url.length));\n            url = url.slice(0, off);\n        }\n\n        // If it's a function\n        if (jQuery.isFunction(params)) {\n\n            // We assume that it's the callback\n            callback = params;\n            params = undefined;\n\n            // Otherwise, build a param string\n        } else if (params && typeof params === \"object\") {\n            type = \"POST\";\n        }\n\n        // If we have elements to modify, make the request\n        if (self.length > 0) {\n            jQuery.ajax({\n                url: url,\n\n                // If \"type\" variable is undefined, then \"GET\" method will be used.\n                // Make value of this field explicit since\n                // user can override it through ajaxSetup method\n                type: type || \"GET\",\n                dataType: \"html\",\n                data: params\n            }).done(function (responseText) {\n\n                // Save response for use in complete callback\n                response = arguments;\n\n                self.html(selector ?\n\n                    // If a selector was specified, locate the right elements in a dummy div\n                    // Exclude scripts to avoid IE 'Permission Denied' errors\n                    jQuery(\"<div>\").append(jQuery.parseHTML(responseText)).find(selector) :\n\n                    // Otherwise use the full result\n                    responseText);\n\n                // If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n                // but they are ignored because response was set above.\n                // If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n            }).always(callback && function (jqXHR, status) {\n                self.each(function () {\n                    callback.apply(this, response || [jqXHR.responseText, status, jqXHR]);\n                });\n            });\n        }\n\n        return this;\n    };\n\n\n// Attach a bunch of functions for handling common AJAX events\n    jQuery.each([\n        \"ajaxStart\",\n        \"ajaxStop\",\n        \"ajaxComplete\",\n        \"ajaxError\",\n        \"ajaxSuccess\",\n        \"ajaxSend\"\n    ], function (i, type) {\n        jQuery.fn[type] = function (fn) {\n            return this.on(type, fn);\n        };\n    });\n\n\n    jQuery.expr.filters.animated = function (elem) {\n        return jQuery.grep(jQuery.timers, function (fn) {\n            return elem === fn.elem;\n        }).length;\n    };\n\n\n    /**\n     * Gets a window from an element\n     */\n    function getWindow(elem) {\n        return jQuery.isWindow(elem) ?\n            elem :\n            elem.nodeType === 9 ?\n                elem.defaultView || elem.parentWindow :\n                false;\n    }\n\n    jQuery.offset = {\n        setOffset: function (elem, options, i) {\n            var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n                position = jQuery.css(elem, \"position\"),\n                curElem = jQuery(elem),\n                props = {};\n\n            // set position first, in-case top/left are set even on static elem\n            if (position === \"static\") {\n                elem.style.position = \"relative\";\n            }\n\n            curOffset = curElem.offset();\n            curCSSTop = jQuery.css(elem, \"top\");\n            curCSSLeft = jQuery.css(elem, \"left\");\n            calculatePosition = (position === \"absolute\" || position === \"fixed\") &&\n                jQuery.inArray(\"auto\", [curCSSTop, curCSSLeft]) > -1;\n\n            // need to be able to calculate position if either top or left\n            // is auto and position is either absolute or fixed\n            if (calculatePosition) {\n                curPosition = curElem.position();\n                curTop = curPosition.top;\n                curLeft = curPosition.left;\n            } else {\n                curTop = parseFloat(curCSSTop) || 0;\n                curLeft = parseFloat(curCSSLeft) || 0;\n            }\n\n            if (jQuery.isFunction(options)) {\n\n                // Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n                options = options.call(elem, i, jQuery.extend({}, curOffset));\n            }\n\n            if (options.top != null) {\n                props.top = (options.top - curOffset.top) + curTop;\n            }\n            if (options.left != null) {\n                props.left = (options.left - curOffset.left) + curLeft;\n            }\n\n            if (\"using\" in options) {\n                options.using.call(elem, props);\n            } else {\n                curElem.css(props);\n            }\n        }\n    };\n\n    jQuery.fn.extend({\n        offset: function (options) {\n            if (arguments.length) {\n                return options === undefined ?\n                    this :\n                    this.each(function (i) {\n                        jQuery.offset.setOffset(this, options, i);\n                    });\n            }\n\n            var docElem, win,\n                box = {top: 0, left: 0},\n                elem = this[0],\n                doc = elem && elem.ownerDocument;\n\n            if (!doc) {\n                return;\n            }\n\n            docElem = doc.documentElement;\n\n            // Make sure it's not a disconnected DOM node\n            if (!jQuery.contains(docElem, elem)) {\n                return box;\n            }\n\n            // If we don't have gBCR, just use 0,0 rather than error\n            // BlackBerry 5, iOS 3 (original iPhone)\n            if (typeof elem.getBoundingClientRect !== \"undefined\") {\n                box = elem.getBoundingClientRect();\n            }\n            win = getWindow(doc);\n            return {\n                top: box.top + (win.pageYOffset || docElem.scrollTop) - (docElem.clientTop || 0),\n                left: box.left + (win.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || 0)\n            };\n        },\n\n        position: function () {\n            if (!this[0]) {\n                return;\n            }\n\n            var offsetParent, offset,\n                parentOffset = {top: 0, left: 0},\n                elem = this[0];\n\n            // Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n            // because it is its only offset parent\n            if (jQuery.css(elem, \"position\") === \"fixed\") {\n\n                // we assume that getBoundingClientRect is available when computed position is fixed\n                offset = elem.getBoundingClientRect();\n            } else {\n\n                // Get *real* offsetParent\n                offsetParent = this.offsetParent();\n\n                // Get correct offsets\n                offset = this.offset();\n                if (!jQuery.nodeName(offsetParent[0], \"html\")) {\n                    parentOffset = offsetParent.offset();\n                }\n\n                // Add offsetParent borders\n                parentOffset.top += jQuery.css(offsetParent[0], \"borderTopWidth\", true);\n                parentOffset.left += jQuery.css(offsetParent[0], \"borderLeftWidth\", true);\n            }\n\n            // Subtract parent offsets and element margins\n            // note: when an element has margin: auto the offsetLeft and marginLeft\n            // are the same in Safari causing offset.left to incorrectly be 0\n            return {\n                top: offset.top - parentOffset.top - jQuery.css(elem, \"marginTop\", true),\n                left: offset.left - parentOffset.left - jQuery.css(elem, \"marginLeft\", true)\n            };\n        },\n\n        offsetParent: function () {\n            return this.map(function () {\n                var offsetParent = this.offsetParent;\n\n                while (offsetParent && (!jQuery.nodeName(offsetParent, \"html\") &&\n                    jQuery.css(offsetParent, \"position\") === \"static\")) {\n                    offsetParent = offsetParent.offsetParent;\n                }\n                return offsetParent || documentElement;\n            });\n        }\n    });\n\n// Create scrollLeft and scrollTop methods\n    jQuery.each({scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\"}, function (method, prop) {\n        var top = /Y/.test(prop);\n\n        jQuery.fn[method] = function (val) {\n            return access(this, function (elem, method, val) {\n                var win = getWindow(elem);\n\n                if (val === undefined) {\n                    return win ? (prop in win) ? win[prop] :\n                        win.document.documentElement[method] :\n                        elem[method];\n                }\n\n                if (win) {\n                    win.scrollTo(\n                        !top ? val : jQuery(win).scrollLeft(),\n                        top ? val : jQuery(win).scrollTop()\n                    );\n\n                } else {\n                    elem[method] = val;\n                }\n            }, method, val, arguments.length, null);\n        };\n    });\n\n// Support: Safari<7-8+, Chrome<37-44+\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// getComputedStyle returns percent when specified for top/left/bottom/right\n// rather than make the css module depend on the offset module, we just check for it here\n    jQuery.each([\"top\", \"left\"], function (i, prop) {\n        jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition,\n            function (elem, computed) {\n                if (computed) {\n                    computed = curCSS(elem, prop);\n\n                    // if curCSS returns percentage, fallback to offset\n                    return rnumnonpx.test(computed) ?\n                        jQuery(elem).position()[prop] + \"px\" :\n                        computed;\n                }\n            }\n        );\n    });\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\n    jQuery.each({Height: \"height\", Width: \"width\"}, function (name, type) {\n        jQuery.each({padding: \"inner\" + name, content: type, \"\": \"outer\" + name},\n            function (defaultExtra, funcName) {\n\n                // margin is only for outerHeight, outerWidth\n                jQuery.fn[funcName] = function (margin, value) {\n                    var chainable = arguments.length && (defaultExtra || typeof margin !== \"boolean\"),\n                        extra = defaultExtra || (margin === true || value === true ? \"margin\" : \"border\");\n\n                    return access(this, function (elem, type, value) {\n                        var doc;\n\n                        if (jQuery.isWindow(elem)) {\n\n                            // As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\n                            // isn't a whole lot we can do. See pull request at this URL for discussion:\n                            // https://github.com/jquery/jquery/pull/764\n                            return elem.document.documentElement[\"client\" + name];\n                        }\n\n                        // Get document width or height\n                        if (elem.nodeType === 9) {\n                            doc = elem.documentElement;\n\n                            // Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n                            // whichever is greatest\n                            // unfortunately, this causes bug #3838 in IE6/8 only,\n                            // but there is currently no good, small way to fix it.\n                            return Math.max(\n                                elem.body[\"scroll\" + name], doc[\"scroll\" + name],\n                                elem.body[\"offset\" + name], doc[\"offset\" + name],\n                                doc[\"client\" + name]\n                            );\n                        }\n\n                        return value === undefined ?\n\n                            // Get width or height on the element, requesting but not forcing parseFloat\n                            jQuery.css(elem, type, extra) :\n\n                            // Set width or height on the element\n                            jQuery.style(elem, type, value, extra);\n                    }, type, chainable ? margin : undefined, chainable, null);\n                };\n            });\n    });\n\n\n    jQuery.fn.extend({\n\n        bind: function (types, data, fn) {\n            return this.on(types, null, data, fn);\n        },\n        unbind: function (types, fn) {\n            return this.off(types, null, fn);\n        },\n\n        delegate: function (selector, types, data, fn) {\n            return this.on(types, selector, data, fn);\n        },\n        undelegate: function (selector, types, fn) {\n\n            // ( namespace ) or ( selector, types [, fn] )\n            return arguments.length === 1 ?\n                this.off(selector, \"**\") :\n                this.off(types, selector || \"**\", fn);\n        }\n    });\n\n// The number of elements contained in the matched element set\n    jQuery.fn.size = function () {\n        return this.length;\n    };\n\n    jQuery.fn.andSelf = jQuery.fn.addBack;\n\n\n    // Register as a named AMD module, since jQuery can be concatenated with other\n    // files that may use define, but not via a proper concatenation script that\n    // understands anonymous AMD modules. A named AMD is safest and most robust\n    // way to register. Lowercase jquery is used because AMD module names are\n    // derived from file names, and jQuery is normally delivered in a lowercase\n    // file name. Do this after creating the global so that if an AMD module wants\n    // to call noConflict to hide this version of jQuery, it will work.\n\n    // Note that for maximum portability, libraries that are not jQuery should\n    // declare themselves as anonymous modules, and avoid setting a global if an\n    // AMD loader is present. jQuery is a special case. For more information, see\n    // https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\n    if (typeof define === \"function\" && define.amd) {\n        define(\"jquery\", [], function () {\n            return jQuery;\n        });\n    }\n\n    /*\n         var\n\n         // Map over jQuery in case of overwrite\n         _jQuery = window.jQuery,\n\n         // Map over the $ in case of overwrite\n         _$ = window.$;\n\n         jQuery.noConflict = function (deep) {\n         if (window.$ === jQuery) {\n         window.$ = _$;\n         }\n\n         if (deep && window.jQuery === jQuery) {\n         window.jQuery = _jQuery;\n         }\n\n         return jQuery;\n         };\n\n         // Expose jQuery and $ identifiers, even in\n         // AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n         // and CommonJS for browser emulators (#13566)\n         if (!noGlobal) {\n         window.jQuery = window.$ = jQuery;\n         }\n         */\n\n    return jQuery;\n}));\n\n/*! jQuery UI - v1.12.1 - 2017-10-03\n* http://jqueryui.com\n* Includes: widget.js, data.js, scroll-parent.js, widgets/draggable.js, widgets/mouse.js\n* Copyright jQuery Foundation and other contributors; Licensed MIT */\n\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([ \"jquery\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n$.ui = $.ui || {};\n\nvar version = $.ui.version = \"1.12.1\";\n\n\n/*!\n * jQuery UI Widget 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Widget\n//>>group: Core\n//>>description: Provides a factory for creating stateful widgets with a common API.\n//>>docs: http://api.jqueryui.com/jQuery.widget/\n//>>demos: http://jqueryui.com/widget/\n\n\n\nvar widgetUuid = 0;\nvar widgetSlice = Array.prototype.slice;\n\n$.cleanData = ( function( orig ) {\n\treturn function( elems ) {\n\t\tvar events, elem, i;\n\t\tfor ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\ttry {\n\n\t\t\t\t// Only trigger remove when necessary to save time\n\t\t\t\tevents = $._data( elem, \"events\" );\n\t\t\t\tif ( events && events.remove ) {\n\t\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\t}\n\n\t\t\t// Http://bugs.jquery.com/ticket/8235\n\t\t\t} catch ( e ) {}\n\t\t}\n\t\torig( elems );\n\t};\n} )( $.cleanData );\n\n$.widget = function( name, base, prototype ) {\n\tvar existingConstructor, constructor, basePrototype;\n\n\t// ProxiedPrototype allows the provided prototype to remain unmodified\n\t// so that it can be used as a mixin for multiple widgets (#8876)\n\tvar proxiedPrototype = {};\n\n\tvar namespace = name.split( \".\" )[ 0 ];\n\tname = name.split( \".\" )[ 1 ];\n\tvar fullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\tif ( $.isArray( prototype ) ) {\n\t\tprototype = $.extend.apply( null, [ {} ].concat( prototype ) );\n\t}\n\n\t// Create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\n\t\t// Allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// Allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\t// Extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\n\t\t// Copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\n\t\t// Track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t} );\n\n\tbasePrototype = new base();\n\n\t// We need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = ( function() {\n\t\t\tfunction _super() {\n\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t}\n\n\t\t\tfunction _superApply( args ) {\n\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t}\n\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super;\n\t\t\t\tvar __superApply = this._superApply;\n\t\t\t\tvar returnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t} )();\n\t} );\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t} );\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// Redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor,\n\t\t\t\tchild._proto );\n\t\t} );\n\n\t\t// Remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = widgetSlice.call( arguments, 1 );\n\tvar inputIndex = 0;\n\tvar inputLength = input.length;\n\tvar key;\n\tvar value;\n\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\";\n\t\tvar args = widgetSlice.call( arguments, 1 );\n\t\tvar returnValue = this;\n\n\t\tif ( isMethodCall ) {\n\n\t\t\t// If this is an empty collection, we need to have the instance method\n\t\t\t// return undefined instead of the jQuery instance\n\t\t\tif ( !this.length && options === \"instance\" ) {\n\t\t\t\treturnValue = undefined;\n\t\t\t} else {\n\t\t\t\tthis.each( function() {\n\t\t\t\t\tvar methodValue;\n\t\t\t\t\tvar instance = $.data( this, fullName );\n\n\t\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\t\treturnValue = instance;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !instance ) {\n\t\t\t\t\t\treturn $.error( \"cannot call methods on \" + name +\n\t\t\t\t\t\t\t\" prior to initialization; \" +\n\t\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name +\n\t\t\t\t\t\t\t\" widget instance\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\n\t\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\t\tmethodValue;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Allow multiple hashes to be passed on init\n\t\t\tif ( args.length ) {\n\t\t\t\toptions = $.widget.extend.apply( null, [ options ].concat( args ) );\n\t\t\t}\n\n\t\t\tthis.each( function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} );\n\t\t\t\t\tif ( instance._init ) {\n\t\t\t\t\t\tinstance._init();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\n\toptions: {\n\t\tclasses: {},\n\t\tdisabled: false,\n\n\t\t// Callbacks\n\t\tcreate: null\n\t},\n\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = widgetUuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\t\tthis.classesElementLookup = {};\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t\tthis.document = $( element.style ?\n\n\t\t\t\t// Element within the document\n\t\t\t\telement.ownerDocument :\n\n\t\t\t\t// Element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );\n\t\t}\n\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis._create();\n\n\t\tif ( this.options.disabled ) {\n\t\t\tthis._setOptionDisabled( this.options.disabled );\n\t\t}\n\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\n\t_getCreateOptions: function() {\n\t\treturn {};\n\t},\n\n\t_getCreateEventData: $.noop,\n\n\t_create: $.noop,\n\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tvar that = this;\n\n\t\tthis._destroy();\n\t\t$.each( this.classesElementLookup, function( key, value ) {\n\t\t\tthat._removeClass( value, key );\n\t\t} );\n\n\t\t// We can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName );\n\t\tthis.widget()\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" );\n\n\t\t// Clean up events and states\n\t\tthis.bindings.off( this.eventNamespace );\n\t},\n\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\t\tvar parts;\n\t\tvar curOption;\n\t\tvar i;\n\n\t\tif ( arguments.length === 0 ) {\n\n\t\t\t// Don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\n\t\t\t// Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"classes\" ) {\n\t\t\tthis._setOptionClasses( value );\n\t\t}\n\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis._setOptionDisabled( value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOptionClasses: function( value ) {\n\t\tvar classKey, elements, currentElements;\n\n\t\tfor ( classKey in value ) {\n\t\t\tcurrentElements = this.classesElementLookup[ classKey ];\n\t\t\tif ( value[ classKey ] === this.options.classes[ classKey ] ||\n\t\t\t\t\t!currentElements ||\n\t\t\t\t\t!currentElements.length ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// We are doing this to create a new jQuery object because the _removeClass() call\n\t\t\t// on the next line is going to destroy the reference to the current elements being\n\t\t\t// tracked. We need to save a copy of this collection so that we can add the new classes\n\t\t\t// below.\n\t\t\telements = $( currentElements.get() );\n\t\t\tthis._removeClass( currentElements, classKey );\n\n\t\t\t// We don't use _addClass() here, because that uses this.options.classes\n\t\t\t// for generating the string of classes. We want to use the value passed in from\n\t\t\t// _setOption(), this is the new value of the classes option which was passed to\n\t\t\t// _setOption(). We pass this value directly to _classes().\n\t\t\telements.addClass( this._classes( {\n\t\t\t\telement: elements,\n\t\t\t\tkeys: classKey,\n\t\t\t\tclasses: value,\n\t\t\t\tadd: true\n\t\t\t} ) );\n\t\t}\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._toggleClass( this.widget(), this.widgetFullName + \"-disabled\", null, !!value );\n\n\t\t// If the widget is becoming disabled, then nothing is interactive\n\t\tif ( value ) {\n\t\t\tthis._removeClass( this.hoverable, null, \"ui-state-hover\" );\n\t\t\tthis._removeClass( this.focusable, null, \"ui-state-focus\" );\n\t\t}\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions( { disabled: false } );\n\t},\n\n\tdisable: function() {\n\t\treturn this._setOptions( { disabled: true } );\n\t},\n\n\t_classes: function( options ) {\n\t\tvar full = [];\n\t\tvar that = this;\n\n\t\toptions = $.extend( {\n\t\t\telement: this.element,\n\t\t\tclasses: this.options.classes || {}\n\t\t}, options );\n\n\t\tfunction processClassString( classes, checkOption ) {\n\t\t\tvar current, i;\n\t\t\tfor ( i = 0; i < classes.length; i++ ) {\n\t\t\t\tcurrent = that.classesElementLookup[ classes[ i ] ] || $();\n\t\t\t\tif ( options.add ) {\n\t\t\t\t\tcurrent = $( $.unique( current.get().concat( options.element.get() ) ) );\n\t\t\t\t} else {\n\t\t\t\t\tcurrent = $( current.not( options.element ).get() );\n\t\t\t\t}\n\t\t\t\tthat.classesElementLookup[ classes[ i ] ] = current;\n\t\t\t\tfull.push( classes[ i ] );\n\t\t\t\tif ( checkOption && options.classes[ classes[ i ] ] ) {\n\t\t\t\t\tfull.push( options.classes[ classes[ i ] ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._on( options.element, {\n\t\t\t\"remove\": \"_untrackClassesElement\"\n\t\t} );\n\n\t\tif ( options.keys ) {\n\t\t\tprocessClassString( options.keys.match( /\\S+/g ) || [], true );\n\t\t}\n\t\tif ( options.extra ) {\n\t\t\tprocessClassString( options.extra.match( /\\S+/g ) || [] );\n\t\t}\n\n\t\treturn full.join( \" \" );\n\t},\n\n\t_untrackClassesElement: function( event ) {\n\t\tvar that = this;\n\t\t$.each( that.classesElementLookup, function( key, value ) {\n\t\t\tif ( $.inArray( event.target, value ) !== -1 ) {\n\t\t\t\tthat.classesElementLookup[ key ] = $( value.not( event.target ).get() );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_removeClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, false );\n\t},\n\n\t_addClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, true );\n\t},\n\n\t_toggleClass: function( element, keys, extra, add ) {\n\t\tadd = ( typeof add === \"boolean\" ) ? add : extra;\n\t\tvar shift = ( typeof element === \"string\" || element === null ),\n\t\t\toptions = {\n\t\t\t\textra: shift ? keys : extra,\n\t\t\t\tkeys: shift ? element : keys,\n\t\t\t\telement: shift ? this.element : element,\n\t\t\t\tadd: add\n\t\t\t};\n\t\toptions.element.toggleClass( this._classes( options ), add );\n\t\treturn this;\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement;\n\t\tvar instance = this;\n\n\t\t// No suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// No element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\n\t\t\t\t// Allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// Copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ );\n\t\t\tvar eventName = match[ 1 ] + instance.eventNamespace;\n\t\t\tvar selector = match[ 2 ];\n\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.on( eventName, selector, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.on( eventName, handlerProxy );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = ( eventName || \"\" ).split( \" \" ).join( this.eventNamespace + \" \" ) +\n\t\t\tthis.eventNamespace;\n\t\telement.off( eventName ).off( eventName );\n\n\t\t// Clear the stack to avoid memory leaks (#10056)\n\t\tthis.bindings = $( this.bindings.not( element ).get() );\n\t\tthis.focusable = $( this.focusable.not( element ).get() );\n\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig;\n\t\tvar callback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\n\t\t// The original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// Copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\n\t\tvar hasOptions;\n\t\tvar effectName = !options ?\n\t\t\tmethod :\n\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\tdefaultEffect :\n\t\t\t\toptions.effect || defaultEffect;\n\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue( function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t} );\n\t\t}\n\t};\n} );\n\nvar widget = $.widget;\n\n\n/*!\n * jQuery UI :data 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: :data Selector\n//>>group: Core\n//>>description: Selects elements which have data stored under the specified key.\n//>>docs: http://api.jqueryui.com/data-selector/\n\n\nvar data = $.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo( function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t} ) :\n\n\t\t// Support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t}\n} );\n\n/*!\n * jQuery UI Scroll Parent 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n\n\nvar scrollParent = $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n\n\n\n// This file is deprecated\nvar ie = $.ui.ie = !!/msie [\\w.]+/.exec( navigator.userAgent.toLowerCase() );\n\n/*!\n * jQuery UI Mouse 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Mouse\n//>>group: Widgets\n//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.\n//>>docs: http://api.jqueryui.com/mouse/\n\n\n\nvar mouseHandled = false;\n$( document ).on( \"mouseup\", function() {\n\tmouseHandled = false;\n} );\n\nvar widgetsMouse = $.widget( \"ui.mouse\", {\n\tversion: \"1.12.1\",\n\toptions: {\n\t\tcancel: \"input, textarea, button, select, option\",\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar that = this;\n\n\t\tthis.element\n\t\t\t.on( \"mousedown.\" + this.widgetName, function( event ) {\n\t\t\t\treturn that._mouseDown( event );\n\t\t\t} )\n\t\t\t.on( \"click.\" + this.widgetName, function( event ) {\n\t\t\t\tif ( true === $.data( event.target, that.widgetName + \".preventClickEvent\" ) ) {\n\t\t\t\t\t$.removeData( event.target, that.widgetName + \".preventClickEvent\" );\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\tthis.started = false;\n\t},\n\n\t// TODO: make sure destroying one instance of mouse doesn't mess with\n\t// other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.off( \".\" + this.widgetName );\n\t\tif ( this._mouseMoveDelegate ) {\n\t\t\tthis.document\n\t\t\t\t.off( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t\t.off( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\t\t}\n\t},\n\n\t_mouseDown: function( event ) {\n\n\t\t// don't let more than one widget handle mouseStart\n\t\tif ( mouseHandled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._mouseMoved = false;\n\n\t\t// We may have missed mouseup (out of window)\n\t\t( this._mouseStarted && this._mouseUp( event ) );\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar that = this,\n\t\t\tbtnIsLeft = ( event.which === 1 ),\n\n\t\t\t// event.target.nodeName works around a bug in IE 8 with\n\t\t\t// disabled inputs (#7620)\n\t\t\telIsCancel = ( typeof this.options.cancel === \"string\" && event.target.nodeName ?\n\t\t\t\t$( event.target ).closest( this.options.cancel ).length : false );\n\t\tif ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif ( !this.mouseDelayMet ) {\n\t\t\tthis._mouseDelayTimer = setTimeout( function() {\n\t\t\t\tthat.mouseDelayMet = true;\n\t\t\t}, this.options.delay );\n\t\t}\n\n\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\n\t\t\tthis._mouseStarted = ( this._mouseStart( event ) !== false );\n\t\t\tif ( !this._mouseStarted ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Click event may never have fired (Gecko & Opera)\n\t\tif ( true === $.data( event.target, this.widgetName + \".preventClickEvent\" ) ) {\n\t\t\t$.removeData( event.target, this.widgetName + \".preventClickEvent\" );\n\t\t}\n\n\t\t// These delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function( event ) {\n\t\t\treturn that._mouseMove( event );\n\t\t};\n\t\tthis._mouseUpDelegate = function( event ) {\n\t\t\treturn that._mouseUp( event );\n\t\t};\n\n\t\tthis.document\n\t\t\t.on( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t.on( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\n\t\tevent.preventDefault();\n\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function( event ) {\n\n\t\t// Only check for mouseups outside the document if you've moved inside the document\n\t\t// at least once. This prevents the firing of mouseup in the case of IE<9, which will\n\t\t// fire a mousemove event if content is placed under the cursor. See #7778\n\t\t// Support: IE <9\n\t\tif ( this._mouseMoved ) {\n\n\t\t\t// IE mouseup check - mouseup happened when mouse was out of window\n\t\t\tif ( $.ui.ie && ( !document.documentMode || document.documentMode < 9 ) &&\n\t\t\t\t\t!event.button ) {\n\t\t\t\treturn this._mouseUp( event );\n\n\t\t\t// Iframe mouseup check - mouseup occurred in another document\n\t\t\t} else if ( !event.which ) {\n\n\t\t\t\t// Support: Safari <=8 - 9\n\t\t\t\t// Safari sets which to 0 if you press any of the following keys\n\t\t\t\t// during a drag (#14461)\n\t\t\t\tif ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||\n\t\t\t\t\t\tevent.originalEvent.metaKey || event.originalEvent.shiftKey ) {\n\t\t\t\t\tthis.ignoreMissingWhich = true;\n\t\t\t\t} else if ( !this.ignoreMissingWhich ) {\n\t\t\t\t\treturn this._mouseUp( event );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( event.which || event.button ) {\n\t\t\tthis._mouseMoved = true;\n\t\t}\n\n\t\tif ( this._mouseStarted ) {\n\t\t\tthis._mouseDrag( event );\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t( this._mouseStart( this._mouseDownEvent, event ) !== false );\n\t\t\t( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis.document\n\t\t\t.off( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t.off( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\n\t\tif ( this._mouseStarted ) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif ( event.target === this._mouseDownEvent.target ) {\n\t\t\t\t$.data( event.target, this.widgetName + \".preventClickEvent\", true );\n\t\t\t}\n\n\t\t\tthis._mouseStop( event );\n\t\t}\n\n\t\tif ( this._mouseDelayTimer ) {\n\t\t\tclearTimeout( this._mouseDelayTimer );\n\t\t\tdelete this._mouseDelayTimer;\n\t\t}\n\n\t\tthis.ignoreMissingWhich = false;\n\t\tmouseHandled = false;\n\t\tevent.preventDefault();\n\t},\n\n\t_mouseDistanceMet: function( event ) {\n\t\treturn ( Math.max(\n\t\t\t\tMath.abs( this._mouseDownEvent.pageX - event.pageX ),\n\t\t\t\tMath.abs( this._mouseDownEvent.pageY - event.pageY )\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function( /* event */ ) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t// These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function( /* event */ ) {},\n\t_mouseDrag: function( /* event */ ) {},\n\t_mouseStop: function( /* event */ ) {},\n\t_mouseCapture: function( /* event */ ) { return true; }\n} );\n\n\n\n\n// $.ui.plugin is deprecated. Use $.widget() extensions instead.\nvar plugin = $.ui.plugin = {\n\tadd: function( module, option, set ) {\n\t\tvar i,\n\t\t\tproto = $.ui[ module ].prototype;\n\t\tfor ( i in set ) {\n\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t}\n\t},\n\tcall: function( instance, name, args, allowDisconnected ) {\n\t\tvar i,\n\t\t\tset = instance.plugins[ name ];\n\n\t\tif ( !set ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !allowDisconnected && ( !instance.element[ 0 ].parentNode ||\n\t\t\t\tinstance.element[ 0 ].parentNode.nodeType === 11 ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( i = 0; i < set.length; i++ ) {\n\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t}\n\t\t}\n\t}\n};\n\n\n\nvar safeActiveElement = $.ui.safeActiveElement = function( document ) {\n\tvar activeElement;\n\n\t// Support: IE 9 only\n\t// IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\n\ttry {\n\t\tactiveElement = document.activeElement;\n\t} catch ( error ) {\n\t\tactiveElement = document.body;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE may return null instead of an element\n\t// Interestingly, this only seems to occur when NOT in an iframe\n\tif ( !activeElement ) {\n\t\tactiveElement = document.body;\n\t}\n\n\t// Support: IE 11 only\n\t// IE11 returns a seemingly empty object in some cases when accessing\n\t// document.activeElement from an <iframe>\n\tif ( !activeElement.nodeName ) {\n\t\tactiveElement = document.body;\n\t}\n\n\treturn activeElement;\n};\n\n\n\nvar safeBlur = $.ui.safeBlur = function( element ) {\n\n\t// Support: IE9 - 10 only\n\t// If the <body> is blurred, IE will switch windows, see #9420\n\tif ( element && element.nodeName.toLowerCase() !== \"body\" ) {\n\t\t$( element ).trigger( \"blur\" );\n\t}\n};\n\n\n/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Draggable\n//>>group: Interactions\n//>>description: Enables dragging functionality for any element.\n//>>docs: http://api.jqueryui.com/draggable/\n//>>demos: http://jqueryui.com/draggable/\n//>>css.structure: ../../themes/base/draggable.css\n\n\n\n$.widget( \"ui.draggable\", $.ui.mouse, {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false,\n\n\t\t// Callbacks\n\t\tdrag: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\t_create: function() {\n\n\t\tif ( this.options.helper === \"original\" ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\t\tif ( this.options.addClasses ) {\n\t\t\tthis._addClass( \"ui-draggable\" );\n\t\t}\n\t\tthis._setHandleClassName();\n\n\t\tthis._mouseInit();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"handle\" ) {\n\t\t\tthis._removeHandleClassName();\n\t\t\tthis._setHandleClassName();\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tif ( ( this.helper || this.element ).is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis.destroyOnClear = true;\n\t\t\treturn;\n\t\t}\n\t\tthis._removeHandleClassName();\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar o = this.options;\n\n\t\t// Among others, prevent a drag on a resizable-handle\n\t\tif ( this.helper || o.disabled ||\n\t\t\t\t$( event.target ).closest( \".ui-resizable-handle\" ).length > 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle( event );\n\t\tif ( !this.handle ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis._blurActiveElement( event );\n\n\t\tthis._blockFrames( o.iframeFix === true ? \"iframe\" : o.iframeFix );\n\n\t\treturn true;\n\n\t},\n\n\t_blockFrames: function( selector ) {\n\t\tthis.iframeBlocks = this.document.find( selector ).map( function() {\n\t\t\tvar iframe = $( this );\n\n\t\t\treturn $( \"<div>\" )\n\t\t\t\t.css( \"position\", \"absolute\" )\n\t\t\t\t.appendTo( iframe.parent() )\n\t\t\t\t.outerWidth( iframe.outerWidth() )\n\t\t\t\t.outerHeight( iframe.outerHeight() )\n\t\t\t\t.offset( iframe.offset() )[ 0 ];\n\t\t} );\n\t},\n\n\t_unblockFrames: function() {\n\t\tif ( this.iframeBlocks ) {\n\t\t\tthis.iframeBlocks.remove();\n\t\t\tdelete this.iframeBlocks;\n\t\t}\n\t},\n\n\t_blurActiveElement: function( event ) {\n\t\tvar activeElement = $.ui.safeActiveElement( this.document[ 0 ] ),\n\t\t\ttarget = $( event.target );\n\n\t\t// Don't blur if the event occurred on an element that is within\n\t\t// the currently focused element\n\t\t// See #10527, #12472\n\t\tif ( target.closest( activeElement ).length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Blur any element that currently has focus, see #4261\n\t\t$.ui.safeBlur( activeElement );\n\t},\n\n\t_mouseStart: function( event ) {\n\n\t\tvar o = this.options;\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper( event );\n\n\t\tthis._addClass( this.helper, \"ui-draggable-dragging\" );\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//If ddmanager is used for droppables, set the global draggable\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Store the helper's css position\n\t\tthis.cssPosition = this.helper.css( \"position\" );\n\t\tthis.scrollParent = this.helper.scrollParent( true );\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tthis.hasFixedAncestor = this.helper.parents().filter( function() {\n\t\t\t\treturn $( this ).css( \"position\" ) === \"fixed\";\n\t\t\t} ).length > 0;\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.positionAbs = this.element.offset();\n\t\tthis._refreshOffsets( event );\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition( event, false );\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\n\n\t\t//Set a containment if given in the options\n\t\tthis._setContainment();\n\n\t\t//Trigger event + callbacks\n\t\tif ( this._trigger( \"start\", event ) === false ) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t//Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//Prepare the droppable offsets\n\t\tif ( $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t}\n\n\t\t// Execute the drag once - this causes the helper not to be visible before getting its\n\t\t// correct position\n\t\tthis._mouseDrag( event, true );\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has started\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStart( this, event );\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t_refreshOffsets: function( event ) {\n\t\tthis.offset = {\n\t\t\ttop: this.positionAbs.top - this.margins.top,\n\t\t\tleft: this.positionAbs.left - this.margins.left,\n\t\t\tscroll: false,\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset()\n\t\t};\n\n\t\tthis.offset.click = {\n\t\t\tleft: event.pageX - this.offset.left,\n\t\t\ttop: event.pageY - this.offset.top\n\t\t};\n\t},\n\n\t_mouseDrag: function( event, noPropagation ) {\n\n\t\t// reset any necessary cached properties (see #5009)\n\t\tif ( this.hasFixedAncestor ) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition( event, true );\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\t//Call plugins and callbacks and use the resulting position if something is returned\n\t\tif ( !noPropagation ) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif ( this._trigger( \"drag\", event, ui ) === false ) {\n\t\t\t\tthis._mouseUp( new $.Event( \"mouseup\", event ) );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\n\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\n\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.drag( this, event );\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tvar that = this,\n\t\t\tdropped = false;\n\t\tif ( $.ui.ddmanager && !this.options.dropBehaviour ) {\n\t\t\tdropped = $.ui.ddmanager.drop( this, event );\n\t\t}\n\n\t\t//if a drop comes from outside (a sortable)\n\t\tif ( this.dropped ) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\n\t\tif ( ( this.options.revert === \"invalid\" && !dropped ) ||\n\t\t\t\t( this.options.revert === \"valid\" && dropped ) ||\n\t\t\t\tthis.options.revert === true || ( $.isFunction( this.options.revert ) &&\n\t\t\t\tthis.options.revert.call( this.element, dropped ) )\n\t\t) {\n\t\t\t$( this.helper ).animate(\n\t\t\t\tthis.originalPosition,\n\t\t\t\tparseInt( this.options.revertDuration, 10 ),\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( that._trigger( \"stop\", event ) !== false ) {\n\t\t\t\t\t\tthat._clear();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tif ( this._trigger( \"stop\", event ) !== false ) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis._unblockFrames();\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has stopped\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStop( this, event );\n\t\t}\n\n\t\t// Only need to focus if the event occurred on the draggable itself, see #10527\n\t\tif ( this.handleElement.is( event.target ) ) {\n\n\t\t\t// The interaction is over; whether or not the click resulted in a drag,\n\t\t\t// focus the element\n\t\t\tthis.element.trigger( \"focus\" );\n\t\t}\n\n\t\treturn $.ui.mouse.prototype._mouseUp.call( this, event );\n\t},\n\n\tcancel: function() {\n\n\t\tif ( this.helper.is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis._mouseUp( new $.Event( \"mouseup\", { target: this.element[ 0 ] } ) );\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t_getHandle: function( event ) {\n\t\treturn this.options.handle ?\n\t\t\t!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :\n\t\t\ttrue;\n\t},\n\n\t_setHandleClassName: function() {\n\t\tthis.handleElement = this.options.handle ?\n\t\t\tthis.element.find( this.options.handle ) : this.element;\n\t\tthis._addClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_removeHandleClassName: function() {\n\t\tthis._removeClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_createHelper: function( event ) {\n\n\t\tvar o = this.options,\n\t\t\thelperIsFunction = $.isFunction( o.helper ),\n\t\t\thelper = helperIsFunction ?\n\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :\n\t\t\t\t( o.helper === \"clone\" ?\n\t\t\t\t\tthis.element.clone().removeAttr( \"id\" ) :\n\t\t\t\t\tthis.element );\n\n\t\tif ( !helper.parents( \"body\" ).length ) {\n\t\t\thelper.appendTo( ( o.appendTo === \"parent\" ?\n\t\t\t\tthis.element[ 0 ].parentNode :\n\t\t\t\to.appendTo ) );\n\t\t}\n\n\t\t// Http://bugs.jqueryui.com/ticket/9446\n\t\t// a helper function can return the original element\n\t\t// which wouldn't have been set to relative in _create\n\t\tif ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\n\t\tif ( helper[ 0 ] !== this.element[ 0 ] &&\n\t\t\t\t!( /(fixed|absolute)/ ).test( helper.css( \"position\" ) ) ) {\n\t\t\thelper.css( \"position\", \"absolute\" );\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_setPositionRelative: function() {\n\t\tif ( !( /^(?:r|a|f)/ ).test( this.element.css( \"position\" ) ) ) {\n\t\t\tthis.element[ 0 ].style.position = \"relative\";\n\t\t}\n\t},\n\n\t_adjustOffsetFromHelper: function( obj ) {\n\t\tif ( typeof obj === \"string\" ) {\n\t\t\tobj = obj.split( \" \" );\n\t\t}\n\t\tif ( $.isArray( obj ) ) {\n\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\n\t\t}\n\t\tif ( \"left\" in obj ) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ( \"right\" in obj ) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ( \"top\" in obj ) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ( \"bottom\" in obj ) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_isRootNode: function( element ) {\n\t\treturn ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tvar po = this.offsetParent.offset(),\n\t\t\tdocument = this.document[ 0 ];\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the\n\t\t// following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\n\t\t// next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n\t\t// the document, which means that the scroll is included in the initial calculation of the\n\t\t// offset of the parent, and never recalculated upon drag\n\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== document &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif ( this._isRootNode( this.offsetParent[ 0 ] ) ) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\n\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\t\tif ( this.cssPosition !== \"relative\" ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\tvar p = this.element.position(),\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),\n\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )\n\t\t};\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: ( parseInt( this.element.css( \"marginLeft\" ), 10 ) || 0 ),\n\t\t\ttop: ( parseInt( this.element.css( \"marginTop\" ), 10 ) || 0 ),\n\t\t\tright: ( parseInt( this.element.css( \"marginRight\" ), 10 ) || 0 ),\n\t\t\tbottom: ( parseInt( this.element.css( \"marginBottom\" ), 10 ) || 0 )\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar isUserScrollable, c, ce,\n\t\t\to = this.options,\n\t\t\tdocument = this.document[ 0 ];\n\n\t\tthis.relativeContainer = null;\n\n\t\tif ( !o.containment ) {\n\t\t\tthis.containment = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"window\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\t$( window ).scrollLeft() + $( window ).width() -\n\t\t\t\t\tthis.helperProportions.width - this.margins.left,\n\t\t\t\t$( window ).scrollTop() +\n\t\t\t\t\t( $( window ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"document\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t$( document ).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t( $( document ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment.constructor === Array ) {\n\t\t\tthis.containment = o.containment;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"parent\" ) {\n\t\t\to.containment = this.helper[ 0 ].parentNode;\n\t\t}\n\n\t\tc = $( o.containment );\n\t\tce = c[ 0 ];\n\n\t\tif ( !ce ) {\n\t\t\treturn;\n\t\t}\n\n\t\tisUserScrollable = /(scroll|auto)/.test( c.css( \"overflow\" ) );\n\n\t\tthis.containment = [\n\t\t\t( parseInt( c.css( \"borderLeftWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingLeft\" ), 10 ) || 0 ),\n\t\t\t( parseInt( c.css( \"borderTopWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingTop\" ), 10 ) || 0 ),\n\t\t\t( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\n\t\t\t\t( parseInt( c.css( \"borderRightWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingRight\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.width -\n\t\t\t\tthis.margins.left -\n\t\t\t\tthis.margins.right,\n\t\t\t( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\n\t\t\t\t( parseInt( c.css( \"borderBottomWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingBottom\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.height -\n\t\t\t\tthis.margins.top -\n\t\t\t\tthis.margins.bottom\n\t\t];\n\t\tthis.relativeContainer = c;\n\t},\n\n\t_convertPositionTo: function( d, pos ) {\n\n\t\tif ( !pos ) {\n\t\t\tpos = this.position;\n\t\t}\n\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.top\t+\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top * mod -\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.left +\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left * mod\t-\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function( event, constrainPosition ) {\n\n\t\tvar containment, co, top, left,\n\t\t\to = this.options,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY;\n\n\t\t// Cache the scroll\n\t\tif ( !scrollIsRootNode || !this.offset.scroll ) {\n\t\t\tthis.offset.scroll = {\n\t\t\t\ttop: this.scrollParent.scrollTop(),\n\t\t\t\tleft: this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\t// If we are not dragging yet, we won't check for options\n\t\tif ( constrainPosition ) {\n\t\t\tif ( this.containment ) {\n\t\t\t\tif ( this.relativeContainer ) {\n\t\t\t\t\tco = this.relativeContainer.offset();\n\t\t\t\t\tcontainment = [\n\t\t\t\t\t\tthis.containment[ 0 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 1 ] + co.top,\n\t\t\t\t\t\tthis.containment[ 2 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 3 ] + co.top\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcontainment = this.containment;\n\t\t\t\t}\n\n\t\t\t\tif ( event.pageX - this.offset.click.left < containment[ 0 ] ) {\n\t\t\t\t\tpageX = containment[ 0 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top < containment[ 1 ] ) {\n\t\t\t\t\tpageY = containment[ 1 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif ( event.pageX - this.offset.click.left > containment[ 2 ] ) {\n\t\t\t\t\tpageX = containment[ 2 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top > containment[ 3 ] ) {\n\t\t\t\t\tpageY = containment[ 3 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( o.grid ) {\n\n\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid\n\t\t\t\t// argument errors in IE (see ticket #6950)\n\t\t\t\ttop = o.grid[ 1 ] ? this.originalPageY + Math.round( ( pageY -\n\t\t\t\t\tthis.originalPageY ) / o.grid[ 1 ] ) * o.grid[ 1 ] : this.originalPageY;\n\t\t\t\tpageY = containment ? ( ( top - this.offset.click.top >= containment[ 1 ] ||\n\t\t\t\t\ttop - this.offset.click.top > containment[ 3 ] ) ?\n\t\t\t\t\t\ttop :\n\t\t\t\t\t\t( ( top - this.offset.click.top >= containment[ 1 ] ) ?\n\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) : top;\n\n\t\t\t\tleft = o.grid[ 0 ] ? this.originalPageX +\n\t\t\t\t\tMath.round( ( pageX - this.originalPageX ) / o.grid[ 0 ] ) * o.grid[ 0 ] :\n\t\t\t\t\tthis.originalPageX;\n\t\t\t\tpageX = containment ? ( ( left - this.offset.click.left >= containment[ 0 ] ||\n\t\t\t\t\tleft - this.offset.click.left > containment[ 2 ] ) ?\n\t\t\t\t\t\tleft :\n\t\t\t\t\t\t( ( left - this.offset.click.left >= containment[ 0 ] ) ?\n\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) : left;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"y\" ) {\n\t\t\t\tpageX = this.originalPageX;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"x\" ) {\n\t\t\t\tpageY = this.originalPageY;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageY -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.top -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageX -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.left -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis._removeClass( this.helper, \"ui-draggable-dragging\" );\n\t\tif ( this.helper[ 0 ] !== this.element[ 0 ] && !this.cancelHelperRemoval ) {\n\t\t\tthis.helper.remove();\n\t\t}\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t\tif ( this.destroyOnClear ) {\n\t\t\tthis.destroy();\n\t\t}\n\t},\n\n\t// From now on bulk stuff - mainly helpers\n\n\t_trigger: function( type, event, ui ) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call( this, type, [ event, ui, this ], true );\n\n\t\t// Absolute position and offset (see #6884 ) have to be recalculated after plugins\n\t\tif ( /^(drag|start|stop)/.test( type ) ) {\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\t\t\tui.offset = this.positionAbs;\n\t\t}\n\t\treturn $.Widget.prototype._trigger.call( this, type, event, ui );\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function() {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n} );\n\n$.ui.plugin.add( \"draggable\", \"connectToSortable\", {\n\tstart: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.sortables = [];\n\t\t$( draggable.options.connectToSortable ).each( function() {\n\t\t\tvar sortable = $( this ).sortable( \"instance\" );\n\n\t\t\tif ( sortable && !sortable.options.disabled ) {\n\t\t\t\tdraggable.sortables.push( sortable );\n\n\t\t\t\t// RefreshPositions is called at drag start to refresh the containerCache\n\t\t\t\t// which is used in drag. This ensures it's initialized and synchronized\n\t\t\t\t// with any changes that might have happened on the page since initialization.\n\t\t\t\tsortable.refreshPositions();\n\t\t\t\tsortable._trigger( \"activate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tstop: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.cancelHelperRemoval = false;\n\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar sortable = this;\n\n\t\t\tif ( sortable.isOver ) {\n\t\t\t\tsortable.isOver = 0;\n\n\t\t\t\t// Allow this sortable to handle removing the helper\n\t\t\t\tdraggable.cancelHelperRemoval = true;\n\t\t\t\tsortable.cancelHelperRemoval = false;\n\n\t\t\t\t// Use _storedCSS To restore properties in the sortable,\n\t\t\t\t// as this also handles revert (#9675) since the draggable\n\t\t\t\t// may have modified them in unexpected ways (#8809)\n\t\t\t\tsortable._storedCSS = {\n\t\t\t\t\tposition: sortable.placeholder.css( \"position\" ),\n\t\t\t\t\ttop: sortable.placeholder.css( \"top\" ),\n\t\t\t\t\tleft: sortable.placeholder.css( \"left\" )\n\t\t\t\t};\n\n\t\t\t\tsortable._mouseStop( event );\n\n\t\t\t\t// Once drag has ended, the sortable should return to using\n\t\t\t\t// its original helper, not the shared helper from draggable\n\t\t\t\tsortable.options.helper = sortable.options._helper;\n\t\t\t} else {\n\n\t\t\t\t// Prevent this Sortable from removing the helper.\n\t\t\t\t// However, don't set the draggable to remove the helper\n\t\t\t\t// either as another connected Sortable may yet handle the removal.\n\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\tsortable._trigger( \"deactivate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tdrag: function( event, ui, draggable ) {\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar innermostIntersecting = false,\n\t\t\t\tsortable = this;\n\n\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\tsortable.positionAbs = draggable.positionAbs;\n\t\t\tsortable.helperProportions = draggable.helperProportions;\n\t\t\tsortable.offset.click = draggable.offset.click;\n\n\t\t\tif ( sortable._intersectsWith( sortable.containerCache ) ) {\n\t\t\t\tinnermostIntersecting = true;\n\n\t\t\t\t$.each( draggable.sortables, function() {\n\n\t\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\t\t\tthis.positionAbs = draggable.positionAbs;\n\t\t\t\t\tthis.helperProportions = draggable.helperProportions;\n\t\t\t\t\tthis.offset.click = draggable.offset.click;\n\n\t\t\t\t\tif ( this !== sortable &&\n\t\t\t\t\t\t\tthis._intersectsWith( this.containerCache ) &&\n\t\t\t\t\t\t\t$.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {\n\t\t\t\t\t\tinnermostIntersecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn innermostIntersecting;\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( innermostIntersecting ) {\n\n\t\t\t\t// If it intersects, we use a little isOver variable and set it once,\n\t\t\t\t// so that the move-in stuff gets fired only once.\n\t\t\t\tif ( !sortable.isOver ) {\n\t\t\t\t\tsortable.isOver = 1;\n\n\t\t\t\t\t// Store draggable's parent in case we need to reappend to it later.\n\t\t\t\t\tdraggable._parent = ui.helper.parent();\n\n\t\t\t\t\tsortable.currentItem = ui.helper\n\t\t\t\t\t\t.appendTo( sortable.element )\n\t\t\t\t\t\t.data( \"ui-sortable-item\", true );\n\n\t\t\t\t\t// Store helper option to later restore it\n\t\t\t\t\tsortable.options._helper = sortable.options.helper;\n\n\t\t\t\t\tsortable.options.helper = function() {\n\t\t\t\t\t\treturn ui.helper[ 0 ];\n\t\t\t\t\t};\n\n\t\t\t\t\t// Fire the start events of the sortable with our passed browser event,\n\t\t\t\t\t// and our own helper (so it doesn't create a new one)\n\t\t\t\t\tevent.target = sortable.currentItem[ 0 ];\n\t\t\t\t\tsortable._mouseCapture( event, true );\n\t\t\t\t\tsortable._mouseStart( event, true, true );\n\n\t\t\t\t\t// Because the browser event is way off the new appended portlet,\n\t\t\t\t\t// modify necessary variables to reflect the changes\n\t\t\t\t\tsortable.offset.click.top = draggable.offset.click.top;\n\t\t\t\t\tsortable.offset.click.left = draggable.offset.click.left;\n\t\t\t\t\tsortable.offset.parent.left -= draggable.offset.parent.left -\n\t\t\t\t\t\tsortable.offset.parent.left;\n\t\t\t\t\tsortable.offset.parent.top -= draggable.offset.parent.top -\n\t\t\t\t\t\tsortable.offset.parent.top;\n\n\t\t\t\t\tdraggable._trigger( \"toSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is in a valid drop zone,\n\t\t\t\t\t// used solely in the revert option to handle \"valid/invalid\".\n\t\t\t\t\tdraggable.dropped = sortable.element;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables in the case that\n\t\t\t\t\t// adding to one sortable changes the location of the other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Hack so receive/update callbacks work (mostly)\n\t\t\t\t\tdraggable.currentItem = draggable.element;\n\t\t\t\t\tsortable.fromOutside = draggable;\n\t\t\t\t}\n\n\t\t\t\tif ( sortable.currentItem ) {\n\t\t\t\t\tsortable._mouseDrag( event );\n\n\t\t\t\t\t// Copy the sortable's position because the draggable's can potentially reflect\n\t\t\t\t\t// a relative position, while sortable is always absolute, which the dragged\n\t\t\t\t\t// element has now become. (#8809)\n\t\t\t\t\tui.position = sortable.position;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t// we fake the drag stop of the sortable, but make sure it doesn't remove\n\t\t\t\t// the helper by using cancelHelperRemoval.\n\t\t\t\tif ( sortable.isOver ) {\n\n\t\t\t\t\tsortable.isOver = 0;\n\t\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\t\t// Calling sortable's mouseStop would trigger a revert,\n\t\t\t\t\t// so revert must be temporarily false until after mouseStop is called.\n\t\t\t\t\tsortable.options._revert = sortable.options.revert;\n\t\t\t\t\tsortable.options.revert = false;\n\n\t\t\t\t\tsortable._trigger( \"out\", event, sortable._uiHash( sortable ) );\n\t\t\t\t\tsortable._mouseStop( event, true );\n\n\t\t\t\t\t// Restore sortable behaviors that were modfied\n\t\t\t\t\t// when the draggable entered the sortable area (#9481)\n\t\t\t\t\tsortable.options.revert = sortable.options._revert;\n\t\t\t\t\tsortable.options.helper = sortable.options._helper;\n\n\t\t\t\t\tif ( sortable.placeholder ) {\n\t\t\t\t\t\tsortable.placeholder.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Restore and recalculate the draggable's offset considering the sortable\n\t\t\t\t\t// may have modified them in unexpected ways. (#8809, #10669)\n\t\t\t\t\tui.helper.appendTo( draggable._parent );\n\t\t\t\t\tdraggable._refreshOffsets( event );\n\t\t\t\t\tui.position = draggable._generatePosition( event, true );\n\n\t\t\t\t\tdraggable._trigger( \"fromSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is no longer in a valid drop zone\n\t\t\t\t\tdraggable.dropped = false;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables just in case removing\n\t\t\t\t\t// from one sortable changes the location of other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"cursor\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( \"body\" ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"cursor\" ) ) {\n\t\t\to._cursor = t.css( \"cursor\" );\n\t\t}\n\t\tt.css( \"cursor\", o.cursor );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._cursor ) {\n\t\t\t$( \"body\" ).css( \"cursor\", o._cursor );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"opacity\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\t\tif ( t.css( \"opacity\" ) ) {\n\t\t\to._opacity = t.css( \"opacity\" );\n\t\t}\n\t\tt.css( \"opacity\", o.opacity );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._opacity ) {\n\t\t\t$( ui.helper ).css( \"opacity\", o._opacity );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"scroll\", {\n\tstart: function( event, ui, i ) {\n\t\tif ( !i.scrollParentNotHidden ) {\n\t\t\ti.scrollParentNotHidden = i.helper.scrollParent( false );\n\t\t}\n\n\t\tif ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] &&\n\t\t\t\ti.scrollParentNotHidden[ 0 ].tagName !== \"HTML\" ) {\n\t\t\ti.overflowOffset = i.scrollParentNotHidden.offset();\n\t\t}\n\t},\n\tdrag: function( event, ui, i  ) {\n\n\t\tvar o = i.options,\n\t\t\tscrolled = false,\n\t\t\tscrollParent = i.scrollParentNotHidden[ 0 ],\n\t\t\tdocument = i.document[ 0 ];\n\n\t\tif ( scrollParent !== document && scrollParent.tagName !== \"HTML\" ) {\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( event.pageY - $( document ).scrollTop() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() - o.scrollSpeed );\n\t\t\t\t} else if ( $( window ).height() - ( event.pageY - $( document ).scrollTop() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() + o.scrollSpeed );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( event.pageX - $( document ).scrollLeft() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() - o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t} else if ( $( window ).width() - ( event.pageX - $( document ).scrollLeft() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() + o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif ( scrolled !== false && $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( i, event );\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"snap\", {\n\tstart: function( event, ui, i ) {\n\n\t\tvar o = i.options;\n\n\t\ti.snapElements = [];\n\n\t\t$( o.snap.constructor !== String ? ( o.snap.items || \":data(ui-draggable)\" ) : o.snap )\n\t\t\t.each( function() {\n\t\t\t\tvar $t = $( this ),\n\t\t\t\t\t$o = $t.offset();\n\t\t\t\tif ( this !== i.element[ 0 ] ) {\n\t\t\t\t\ti.snapElements.push( {\n\t\t\t\t\t\titem: this,\n\t\t\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t},\n\tdrag: function( event, ui, inst ) {\n\n\t\tvar ts, bs, ls, rs, l, r, t, b, i, first,\n\t\t\to = inst.options,\n\t\t\td = o.snapTolerance,\n\t\t\tx1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor ( i = inst.snapElements.length - 1; i >= 0; i-- ) {\n\n\t\t\tl = inst.snapElements[ i ].left - inst.margins.left;\n\t\t\tr = l + inst.snapElements[ i ].width;\n\t\t\tt = inst.snapElements[ i ].top - inst.margins.top;\n\t\t\tb = t + inst.snapElements[ i ].height;\n\n\t\t\tif ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d ||\n\t\t\t\t\t!$.contains( inst.snapElements[ i ].item.ownerDocument,\n\t\t\t\t\tinst.snapElements[ i ].item ) ) {\n\t\t\t\tif ( inst.snapElements[ i ].snapping ) {\n\t\t\t\t\t( inst.options.snap.release &&\n\t\t\t\t\t\tinst.options.snap.release.call(\n\t\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\t\tevent,\n\t\t\t\t\t\t\t$.extend( inst._uiHash(), { snapItem: inst.snapElements[ i ].item } )\n\t\t\t\t\t\t) );\n\t\t\t\t}\n\t\t\t\tinst.snapElements[ i ].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( o.snapMode !== \"inner\" ) {\n\t\t\t\tts = Math.abs( t - y2 ) <= d;\n\t\t\t\tbs = Math.abs( b - y1 ) <= d;\n\t\t\t\tls = Math.abs( l - x2 ) <= d;\n\t\t\t\trs = Math.abs( r - x1 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirst = ( ts || bs || ls || rs );\n\n\t\t\tif ( o.snapMode !== \"outer\" ) {\n\t\t\t\tts = Math.abs( t - y1 ) <= d;\n\t\t\t\tbs = Math.abs( b - y2 ) <= d;\n\t\t\t\tls = Math.abs( l - x1 ) <= d;\n\t\t\t\trs = Math.abs( r - x2 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !inst.snapElements[ i ].snapping && ( ts || bs || ls || rs || first ) ) {\n\t\t\t\t( inst.options.snap.snap &&\n\t\t\t\t\tinst.options.snap.snap.call(\n\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\tevent,\n\t\t\t\t\t\t$.extend( inst._uiHash(), {\n\t\t\t\t\t\t\tsnapItem: inst.snapElements[ i ].item\n\t\t\t\t\t\t} ) ) );\n\t\t\t}\n\t\t\tinst.snapElements[ i ].snapping = ( ts || bs || ls || rs || first );\n\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"stack\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar min,\n\t\t\to = instance.options,\n\t\t\tgroup = $.makeArray( $( o.stack ) ).sort( function( a, b ) {\n\t\t\t\treturn ( parseInt( $( a ).css( \"zIndex\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( b ).css( \"zIndex\" ), 10 ) || 0 );\n\t\t\t} );\n\n\t\tif ( !group.length ) { return; }\n\n\t\tmin = parseInt( $( group[ 0 ] ).css( \"zIndex\" ), 10 ) || 0;\n\t\t$( group ).each( function( i ) {\n\t\t\t$( this ).css( \"zIndex\", min + i );\n\t\t} );\n\t\tthis.css( \"zIndex\", ( min + group.length ) );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"zIndex\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"zIndex\" ) ) {\n\t\t\to._zIndex = t.css( \"zIndex\" );\n\t\t}\n\t\tt.css( \"zIndex\", o.zIndex );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\n\t\tif ( o._zIndex ) {\n\t\t\t$( ui.helper ).css( \"zIndex\", o._zIndex );\n\t\t}\n\t}\n} );\n\nvar widgetsDraggable = $.ui.draggable;\n\n\n\n\n}));\n/**\n * @fileoverview Zlib namespace. Zlib  Zlib.Deflate \n * .  Inflate .\n */\n\nvar USE_TYPEDARRAY = true;\n\nvar Zlib = {\n  Huffman: {},\n  Util: {},\n  CRC32: {}\n};\n\n\n/**\n * Compression Method\n * @enum {number}\n */\nZlib.CompressionMethod = {\n  DEFLATE: 8,\n  RESERVED: 15\n};\n\n\n\n\n/**\n * @param {Object=} opt_params options.\n * @constructor\n */\nZlib.Zip = function(opt_params) {\n  opt_params = opt_params || {};\n  /** @type {Array.<{\n   *   buffer: !(Array.<number>|Uint8Array),\n   *   option: Object,\n   *   compressed: boolean,\n   *   encrypted: boolean,\n   *   size: number,\n   *   crc32: number\n   * }>} */\n  this.files = [];\n  /** @type {(Array.<number>|Uint8Array)} */\n  this.comment = opt_params['comment'];\n  /** @type {(Array.<number>|Uint8Array)} */\n  this.password;\n};\n\n\n/**\n * @enum {number}\n */\nZlib.Zip.CompressionMethod = {\n  STORE: 0,\n  DEFLATE: 8\n};\n\n/**\n * @enum {number}\n */\nZlib.Zip.OperatingSystem = {\n  MSDOS: 0,\n  UNIX: 3,\n  MACINTOSH: 7\n};\n\n/**\n * @enum {number}\n */\nZlib.Zip.Flags = {\n  ENCRYPT:    0x0001,\n  DESCRIPTOR: 0x0008,\n  UTF8:       0x0800\n};\n\n/**\n * @type {Array.<number>}\n * @const\n */\nZlib.Zip.FileHeaderSignature = [0x50, 0x4b, 0x01, 0x02];\n\n/**\n * @type {Array.<number>}\n * @const\n */\nZlib.Zip.LocalFileHeaderSignature = [0x50, 0x4b, 0x03, 0x04];\n\n/**\n * @type {Array.<number>}\n * @const\n */\nZlib.Zip.CentralDirectorySignature = [0x50, 0x4b, 0x05, 0x06];\n\n/**\n * @param {Array.<number>|Uint8Array} input\n * @param {Object=} opt_params options.\n */\nZlib.Zip.prototype.addFile = function(input, opt_params) {\n  opt_params = opt_params || {};\n  /** @type {string} */\n  var filename = '' || opt_params['filename'];\n  /** @type {boolean} */\n  var compressed;\n  /** @type {number} */\n  var size = input.length;\n  /** @type {number} */\n  var crc32 = 0;\n\n  if (USE_TYPEDARRAY && input instanceof Array) {\n    input = new Uint8Array(input);\n  }\n\n  // default\n  if (typeof opt_params['compressionMethod'] !== 'number') {\n    opt_params['compressionMethod'] = Zlib.Zip.CompressionMethod.DEFLATE;\n  }\n\n  // \n  if (opt_params['compress']) {\n    switch (opt_params['compressionMethod']) {\n      case Zlib.Zip.CompressionMethod.STORE:\n        break;\n      case Zlib.Zip.CompressionMethod.DEFLATE:\n        crc32 = Zlib.CRC32.calc(input);\n        input = this.deflateWithOption(input, opt_params);\n        compressed = true;\n        break;\n      default:\n        throw new Error('unknown compression method:' + opt_params['compressionMethod']);\n    }\n  }\n\n  this.files.push({\n    buffer: input,\n    option: opt_params,\n    compressed: compressed,\n    encrypted: false,\n    size: size,\n    crc32: crc32\n  });\n};\n\n/**\n * @param {(Array.<number>|Uint8Array)} password\n */\nZlib.Zip.prototype.setPassword = function(password) {\n  this.password = password;\n};\n\nZlib.Zip.prototype.compress = function() {\n  /** @type {Array.<{\n   *   buffer: !(Array.<number>|Uint8Array),\n   *   option: Object,\n   *   compressed: boolean,\n   *   encrypted: boolean,\n   *   size: number,\n   *   crc32: number\n   * }>} */\n  var files = this.files;\n  /** @type {{\n   *   buffer: !(Array.<number>|Uint8Array),\n   *   option: Object,\n   *   compressed: boolean,\n   *   encrypted: boolean,\n   *   size: number,\n   *   crc32: number\n   * }} */\n  var file;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var output;\n  /** @type {number} */\n  var op1;\n  /** @type {number} */\n  var op2;\n  /** @type {number} */\n  var op3;\n  /** @type {number} */\n  var localFileSize = 0;\n  /** @type {number} */\n  var centralDirectorySize = 0;\n  /** @type {number} */\n  var endOfCentralDirectorySize;\n  /** @type {number} */\n  var offset;\n  /** @type {number} */\n  var needVersion;\n  /** @type {number} */\n  var flags;\n  /** @type {Zlib.Zip.CompressionMethod} */\n  var compressionMethod;\n  /** @type {Date} */\n  var date;\n  /** @type {number} */\n  var crc32;\n  /** @type {number} */\n  var size;\n  /** @type {number} */\n  var plainSize;\n  /** @type {number} */\n  var filenameLength;\n  /** @type {number} */\n  var extraFieldLength;\n  /** @type {number} */\n  var commentLength;\n  /** @type {(Array.<number>|Uint8Array)} */\n  var filename;\n  /** @type {(Array.<number>|Uint8Array)} */\n  var extraField;\n  /** @type {(Array.<number>|Uint8Array)} */\n  var comment;\n  /** @type {(Array.<number>|Uint8Array)} */\n  var buffer;\n  /** @type {*} */\n  var tmp;\n  /** @type {Array.<number>|Uint32Array|Object} */\n  var key;\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var il;\n  /** @type {number} */\n  var j;\n  /** @type {number} */\n  var jl;\n\n  // \n  for (i = 0, il = files.length; i < il; ++i) {\n    file = files[i];\n    filenameLength =\n      (file.option['filename']) ? file.option['filename'].length : 0;\n    extraFieldLength =\n      (file.option['extraField']) ? file.option['extraField'].length : 0;\n    commentLength =\n      (file.option['comment']) ? file.option['comment'].length : 0;\n\n    // \n    if (!file.compressed) {\n      //  CRC32 \n      file.crc32 = Zlib.CRC32.calc(file.buffer);\n\n      switch (file.option['compressionMethod']) {\n        case Zlib.Zip.CompressionMethod.STORE:\n          break;\n        case Zlib.Zip.CompressionMethod.DEFLATE:\n          file.buffer = this.deflateWithOption(file.buffer, file.option);\n          file.compressed = true;\n          break;\n        default:\n          throw new Error('unknown compression method:' + file.option['compressionMethod']);\n      }\n    }\n\n    // encryption\n    if (file.option['password'] !== void 0|| this.password !== void 0) {\n      // init encryption\n      key = this.createEncryptionKey(file.option['password'] || this.password);\n\n      // add header\n      buffer = file.buffer;\n      if (USE_TYPEDARRAY) {\n        tmp = new Uint8Array(buffer.length + 12);\n        tmp.set(buffer, 12);\n        buffer = tmp;\n      } else {\n        buffer.unshift(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n      }\n\n      for (j = 0; j < 12; ++j) {\n        buffer[j] = this.encode(\n          key,\n          i === 11 ? (file.crc32 & 0xff) : (Math.random() * 256 | 0)\n        );\n      }\n\n      // data encryption\n      for (jl = buffer.length; j < jl; ++j) {\n        buffer[j] = this.encode(key, buffer[j]);\n      }\n      file.buffer = buffer;\n    }\n\n    // \n    localFileSize +=\n      // local file header\n      30 + filenameLength +\n      // file data\n      file.buffer.length;\n\n    centralDirectorySize +=\n      // file header\n      46 + filenameLength + commentLength;\n  }\n\n  // end of central directory\n  endOfCentralDirectorySize = 22 + (this.comment ? this.comment.length : 0);\n  output = new (USE_TYPEDARRAY ? Uint8Array : Array)(\n    localFileSize + centralDirectorySize + endOfCentralDirectorySize\n  );\n  op1 = 0;\n  op2 = localFileSize;\n  op3 = op2 + centralDirectorySize;\n\n  // \n  for (i = 0, il = files.length; i < il; ++i) {\n    file = files[i];\n    filenameLength =\n      file.option['filename'] ? file.option['filename'].length :  0;\n    extraFieldLength = 0; // TODO\n    commentLength =\n      file.option['comment'] ? file.option['comment'].length : 0;\n\n    //-------------------------------------------------------------------------\n    // local file header & file header\n    //-------------------------------------------------------------------------\n\n    offset = op1;\n\n    // signature\n    // local file header\n    output[op1++] = Zlib.Zip.LocalFileHeaderSignature[0];\n    output[op1++] = Zlib.Zip.LocalFileHeaderSignature[1];\n    output[op1++] = Zlib.Zip.LocalFileHeaderSignature[2];\n    output[op1++] = Zlib.Zip.LocalFileHeaderSignature[3];\n    // file header\n    output[op2++] = Zlib.Zip.FileHeaderSignature[0];\n    output[op2++] = Zlib.Zip.FileHeaderSignature[1];\n    output[op2++] = Zlib.Zip.FileHeaderSignature[2];\n    output[op2++] = Zlib.Zip.FileHeaderSignature[3];\n\n    // compressor info\n    needVersion = 20;\n    output[op2++] = needVersion & 0xff;\n    output[op2++] =\n      /** @type {Zlib.Zip.OperatingSystem} */\n      (file.option['os']) ||\n      Zlib.Zip.OperatingSystem.MSDOS;\n\n    // need version\n    output[op1++] = output[op2++] =  needVersion       & 0xff;\n    output[op1++] = output[op2++] = (needVersion >> 8) & 0xff;\n\n    // general purpose bit flag\n    flags = 0;\n    if (file.option['password'] || this.password) {\n      flags |= Zlib.Zip.Flags.ENCRYPT;\n    }\n    output[op1++] = output[op2++] =  flags       & 0xff;\n    output[op1++] = output[op2++] = (flags >> 8) & 0xff;\n\n    // compression method\n    compressionMethod =\n      /** @type {Zlib.Zip.CompressionMethod} */\n      (file.option['compressionMethod']);\n    output[op1++] = output[op2++] =  compressionMethod       & 0xff;\n    output[op1++] = output[op2++] = (compressionMethod >> 8) & 0xff;\n\n    // date\n    date = /** @type {(Date|undefined)} */(file.option['date']) || new Date();\n    output[op1++] = output[op2++] =\n      ((date.getMinutes() & 0x7) << 5) |\n      (date.getSeconds() / 2 | 0);\n    output[op1++] = output[op2++] =\n      (date.getHours()   << 3) |\n      (date.getMinutes() >> 3);\n    //\n    output[op1++] = output[op2++] =\n      ((date.getMonth() + 1 & 0x7) << 5) |\n      (date.getDate());\n    output[op1++] = output[op2++] =\n      ((date.getFullYear() - 1980 & 0x7f) << 1) |\n      (date.getMonth() + 1 >> 3);\n\n    // CRC-32\n    crc32 = file.crc32;\n    output[op1++] = output[op2++] =  crc32        & 0xff;\n    output[op1++] = output[op2++] = (crc32 >>  8) & 0xff;\n    output[op1++] = output[op2++] = (crc32 >> 16) & 0xff;\n    output[op1++] = output[op2++] = (crc32 >> 24) & 0xff;\n\n    // compressed size\n    size = file.buffer.length;\n    output[op1++] = output[op2++] =  size        & 0xff;\n    output[op1++] = output[op2++] = (size >>  8) & 0xff;\n    output[op1++] = output[op2++] = (size >> 16) & 0xff;\n    output[op1++] = output[op2++] = (size >> 24) & 0xff;\n\n    // uncompressed size\n    plainSize = file.size;\n    output[op1++] = output[op2++] =  plainSize        & 0xff;\n    output[op1++] = output[op2++] = (plainSize >>  8) & 0xff;\n    output[op1++] = output[op2++] = (plainSize >> 16) & 0xff;\n    output[op1++] = output[op2++] = (plainSize >> 24) & 0xff;\n\n    // filename length\n    output[op1++] = output[op2++] =  filenameLength       & 0xff;\n    output[op1++] = output[op2++] = (filenameLength >> 8) & 0xff;\n\n    // extra field length\n    output[op1++] = output[op2++] =  extraFieldLength       & 0xff;\n    output[op1++] = output[op2++] = (extraFieldLength >> 8) & 0xff;\n\n    // file comment length\n    output[op2++] =  commentLength       & 0xff;\n    output[op2++] = (commentLength >> 8) & 0xff;\n\n    // disk number start\n    output[op2++] = 0;\n    output[op2++] = 0;\n\n    // internal file attributes\n    output[op2++] = 0;\n    output[op2++] = 0;\n\n    // external file attributes\n    output[op2++] = 0;\n    output[op2++] = 0;\n    output[op2++] = 0;\n    output[op2++] = 0;\n\n    // relative offset of local header\n    output[op2++] =  offset        & 0xff;\n    output[op2++] = (offset >>  8) & 0xff;\n    output[op2++] = (offset >> 16) & 0xff;\n    output[op2++] = (offset >> 24) & 0xff;\n\n    // filename\n    filename = file.option['filename'];\n    if (filename) {\n      if (USE_TYPEDARRAY) {\n        output.set(filename, op1);\n        output.set(filename, op2);\n        op1 += filenameLength;\n        op2 += filenameLength;\n      } else {\n        for (j = 0; j < filenameLength; ++j) {\n          output[op1++] = output[op2++] = filename[j];\n        }\n      }\n    }\n\n    // extra field\n    extraField = file.option['extraField'];\n    if (extraField) {\n      if (USE_TYPEDARRAY) {\n        output.set(extraField, op1);\n        output.set(extraField, op2);\n        op1 += extraFieldLength;\n        op2 += extraFieldLength;\n      } else {\n        for (j = 0; j < commentLength; ++j) {\n          output[op1++] = output[op2++] = extraField[j];\n        }\n      }\n    }\n\n    // comment\n    comment = file.option['comment'];\n    if (comment) {\n      if (USE_TYPEDARRAY) {\n        output.set(comment, op2);\n        op2 += commentLength;\n      } else {\n        for (j = 0; j < commentLength; ++j) {\n          output[op2++] = comment[j];\n        }\n      }\n    }\n\n    //-------------------------------------------------------------------------\n    // file data\n    //-------------------------------------------------------------------------\n\n    if (USE_TYPEDARRAY) {\n      output.set(file.buffer, op1);\n      op1 += file.buffer.length;\n    } else {\n      for (j = 0, jl = file.buffer.length; j < jl; ++j) {\n        output[op1++] = file.buffer[j];\n      }\n    }\n  }\n\n  //-------------------------------------------------------------------------\n  // end of central directory\n  //-------------------------------------------------------------------------\n\n  // signature\n  output[op3++] = Zlib.Zip.CentralDirectorySignature[0];\n  output[op3++] = Zlib.Zip.CentralDirectorySignature[1];\n  output[op3++] = Zlib.Zip.CentralDirectorySignature[2];\n  output[op3++] = Zlib.Zip.CentralDirectorySignature[3];\n\n  // number of this disk\n  output[op3++] = 0;\n  output[op3++] = 0;\n\n  // number of the disk with the start of the central directory\n  output[op3++] = 0;\n  output[op3++] = 0;\n\n  // total number of entries in the central directory on this disk\n  output[op3++] =  il       & 0xff;\n  output[op3++] = (il >> 8) & 0xff;\n\n  // total number of entries in the central directory\n  output[op3++] =  il       & 0xff;\n  output[op3++] = (il >> 8) & 0xff;\n\n  // size of the central directory\n  output[op3++] =  centralDirectorySize        & 0xff;\n  output[op3++] = (centralDirectorySize >>  8) & 0xff;\n  output[op3++] = (centralDirectorySize >> 16) & 0xff;\n  output[op3++] = (centralDirectorySize >> 24) & 0xff;\n\n  // offset of start of central directory with respect to the starting disk number\n  output[op3++] =  localFileSize        & 0xff;\n  output[op3++] = (localFileSize >>  8) & 0xff;\n  output[op3++] = (localFileSize >> 16) & 0xff;\n  output[op3++] = (localFileSize >> 24) & 0xff;\n\n  // .ZIP file comment length\n  commentLength = this.comment ? this.comment.length : 0;\n  output[op3++] =  commentLength       & 0xff;\n  output[op3++] = (commentLength >> 8) & 0xff;\n\n  // .ZIP file comment\n  if (this.comment) {\n    if (USE_TYPEDARRAY) {\n      output.set(this.comment, op3);\n      op3 += commentLength;\n    } else {\n      for (j = 0, jl = commentLength; j < jl; ++j) {\n        output[op3++] = this.comment[j];\n      }\n    }\n  }\n\n  return output;\n};\n\n/**\n * @param {!(Array.<number>|Uint8Array)} input\n * @param {Object=} opt_params options.\n * @return {!(Array.<number>|Uint8Array)}\n */\nZlib.Zip.prototype.deflateWithOption = function(input, opt_params) {\n  /** @type {Zlib.RawDeflate} */\n  var deflator = new Zlib.RawDeflate(input, opt_params['deflateOption']);\n\n  return deflator.compress();\n};\n\n/**\n * @param {(Array.<number>|Uint32Array)} key\n * @return {number}\n */\nZlib.Zip.prototype.getByte = function(key) {\n  /** @type {number} */\n  var tmp = ((key[2] & 0xffff) | 2);\n\n  return ((tmp * (tmp ^ 1)) >> 8) & 0xff;\n};\n\n/**\n * @param {(Array.<number>|Uint32Array|Object)} key\n * @param {number} n\n * @return {number}\n */\nZlib.Zip.prototype.encode = function(key, n) {\n  /** @type {number} */\n  var tmp = this.getByte(/** @type {(Array.<number>|Uint32Array)} */(key));\n\n  this.updateKeys(/** @type {(Array.<number>|Uint32Array)} */(key), n);\n\n  return tmp ^ n;\n};\n\n/**\n * @param {(Array.<number>|Uint32Array)} key\n * @param {number} n\n */\nZlib.Zip.prototype.updateKeys = function(key, n) {\n  key[0] = Zlib.CRC32.single(key[0], n);\n  key[1] =\n    (((((key[1] + (key[0] & 0xff)) * 20173 >>> 0) * 6681) >>> 0) + 1) >>> 0;\n  key[2] = Zlib.CRC32.single(key[2], key[1] >>> 24);\n};\n\n/**\n * @param {(Array.<number>|Uint8Array)} password\n * @return {!(Array.<number>|Uint32Array|Object)}\n */\nZlib.Zip.prototype.createEncryptionKey = function(password) {\n  /** @type {!(Array.<number>|Uint32Array)} */\n  var key = [305419896, 591751049, 878082192];\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var il;\n\n  if (USE_TYPEDARRAY) {\n    key = new Uint32Array(key);\n  }\n\n  for (i = 0, il = password.length; i < il; ++i) {\n    this.updateKeys(key, password[i] & 0xff);\n  }\n\n  return key;\n};\n\n\n\n/**\n * build huffman table from length list.\n * @param {!(Array.<number>|Uint8Array)} lengths length list.\n * @return {!Array} huffman table.\n */\nZlib.Huffman.buildHuffmanTable = function(lengths) {\n  /** @type {number} length list size. */\n  var listSize = lengths.length;\n  /** @type {number} max code length for table size. */\n  var maxCodeLength = 0;\n  /** @type {number} min code length for table size. */\n  var minCodeLength = Number.POSITIVE_INFINITY;\n  /** @type {number} table size. */\n  var size;\n  /** @type {!(Array|Uint8Array)} huffman code table. */\n  var table;\n  /** @type {number} bit length. */\n  var bitLength;\n  /** @type {number} huffman code. */\n  var code;\n  /**\n   *  2^maxlength .\n   * @type {number} skip length for table filling.\n   */\n  var skip;\n  /** @type {number} reversed code. */\n  var reversed;\n  /** @type {number} reverse temp. */\n  var rtemp;\n  /** @type {number} loop counter. */\n  var i;\n  /** @type {number} loop limit. */\n  var il;\n  /** @type {number} loop counter. */\n  var j;\n  /** @type {number} table value. */\n  var value;\n\n  // Math.max  for-loop \n  for (i = 0, il = listSize; i < il; ++i) {\n    if (lengths[i] > maxCodeLength) {\n      maxCodeLength = lengths[i];\n    }\n    if (lengths[i] < minCodeLength) {\n      minCodeLength = lengths[i];\n    }\n  }\n\n  size = 1 << maxCodeLength;\n  table = new (USE_TYPEDARRAY ? Uint32Array : Array)(size);\n\n  // \n  for (bitLength = 1, code = 0, skip = 2; bitLength <= maxCodeLength;) {\n    for (i = 0; i < listSize; ++i) {\n      if (lengths[i] === bitLength) {\n        // \n        for (reversed = 0, rtemp = code, j = 0; j < bitLength; ++j) {\n          reversed = (reversed << 1) | (rtemp & 1);\n          rtemp >>= 1;\n        }\n\n        // \n        //  0 / 1 \n        // \n        // \n        value = (bitLength << 16) | i;\n        for (j = reversed; j < size; j += skip) {\n          table[j] = value;\n        }\n\n        ++code;\n      }\n    }\n\n    // \n    ++bitLength;\n    code <<= 1;\n    skip <<= 1;\n  }\n\n  return [table, maxCodeLength, minCodeLength];\n};\n\n\n\n\n//-----------------------------------------------------------------------------\n\n/** @define {number} buffer block size. */\nvar ZLIB_RAW_INFLATE_BUFFER_SIZE = 0x8000; // [ 0x8000 >= ZLIB_BUFFER_BLOCK_SIZE ]\n\n//-----------------------------------------------------------------------------\n\n\nvar buildHuffmanTable = Zlib.Huffman.buildHuffmanTable;\n\n/**\n * @constructor\n * @param {!(Uint8Array|Array.<number>)} input input buffer.\n * @param {Object} opt_params option parameter.\n *\n * opt_params \n *   - index: input buffer  deflate .\n *   - blockSize: .\n *   - bufferType: Zlib.RawInflate.BufferType .\n *   - resize: .\n */\nZlib.RawInflate = function(input, opt_params) {\n  /** @type {!(Array.<number>|Uint8Array)} inflated buffer */\n  this.buffer;\n  /** @type {!Array.<(Array.<number>|Uint8Array)>} */\n  this.blocks = [];\n  /** @type {number} block size. */\n  this.bufferSize = ZLIB_RAW_INFLATE_BUFFER_SIZE;\n  /** @type {!number} total output buffer pointer. */\n  this.totalpos = 0;\n  /** @type {!number} input buffer pointer. */\n  this.ip = 0;\n  /** @type {!number} bit stream reader buffer. */\n  this.bitsbuf = 0;\n  /** @type {!number} bit stream reader buffer size. */\n  this.bitsbuflen = 0;\n  /** @type {!(Array.<number>|Uint8Array)} input buffer. */\n  this.input = USE_TYPEDARRAY ? new Uint8Array(input) : input;\n  /** @type {!(Uint8Array|Array.<number>)} output buffer. */\n  this.output;\n  /** @type {!number} output buffer pointer. */\n  this.op;\n  /** @type {boolean} is final block flag. */\n  this.bfinal = false;\n  /** @type {Zlib.RawInflate.BufferType} buffer management. */\n  this.bufferType = Zlib.RawInflate.BufferType.ADAPTIVE;\n  /** @type {boolean} resize flag for memory size optimization. */\n  this.resize = false;\n\n  // option parameters\n  if (opt_params || !(opt_params = {})) {\n    if (opt_params['index']) {\n      this.ip = opt_params['index'];\n    }\n    if (opt_params['bufferSize']) {\n      this.bufferSize = opt_params['bufferSize'];\n    }\n    if (opt_params['bufferType']) {\n      this.bufferType = opt_params['bufferType'];\n    }\n    if (opt_params['resize']) {\n      this.resize = opt_params['resize'];\n    }\n  }\n\n  // initialize\n  switch (this.bufferType) {\n    case Zlib.RawInflate.BufferType.BLOCK:\n      this.op = Zlib.RawInflate.MaxBackwardLength;\n      this.output =\n        new (USE_TYPEDARRAY ? Uint8Array : Array)(\n          Zlib.RawInflate.MaxBackwardLength +\n          this.bufferSize +\n          Zlib.RawInflate.MaxCopyLength\n        );\n      break;\n    case Zlib.RawInflate.BufferType.ADAPTIVE:\n      this.op = 0;\n      this.output = new (USE_TYPEDARRAY ? Uint8Array : Array)(this.bufferSize);\n      break;\n    default:\n      throw new Error('invalid inflate mode');\n  }\n};\n\n/**\n * @enum {number}\n */\nZlib.RawInflate.BufferType = {\n  BLOCK: 0,\n  ADAPTIVE: 1\n};\n\n/**\n * decompress.\n * @return {!(Uint8Array|Array.<number>)} inflated buffer.\n */\nZlib.RawInflate.prototype.decompress = function() {\n  while (!this.bfinal) {\n    this.parseBlock();\n  }\n\n  switch (this.bufferType) {\n    case Zlib.RawInflate.BufferType.BLOCK:\n      return this.concatBufferBlock();\n    case Zlib.RawInflate.BufferType.ADAPTIVE:\n      return this.concatBufferDynamic();\n    default:\n      throw new Error('invalid inflate mode');\n  }\n};\n\n/**\n * @const\n * @type {number} max backward length for LZ77.\n */\nZlib.RawInflate.MaxBackwardLength = 32768;\n\n/**\n * @const\n * @type {number} max copy length for LZ77.\n */\nZlib.RawInflate.MaxCopyLength = 258;\n\n/**\n * huffman order\n * @const\n * @type {!(Array.<number>|Uint8Array)}\n */\nZlib.RawInflate.Order = (function(table) {\n  return USE_TYPEDARRAY ? new Uint16Array(table) : table;\n})([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n\n/**\n * huffman length code table.\n * @const\n * @type {!(Array.<number>|Uint16Array)}\n */\nZlib.RawInflate.LengthCodeTable = (function(table) {\n  return USE_TYPEDARRAY ? new Uint16Array(table) : table;\n})([\n  0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008, 0x0009, 0x000a, 0x000b,\n  0x000d, 0x000f, 0x0011, 0x0013, 0x0017, 0x001b, 0x001f, 0x0023, 0x002b,\n  0x0033, 0x003b, 0x0043, 0x0053, 0x0063, 0x0073, 0x0083, 0x00a3, 0x00c3,\n  0x00e3, 0x0102, 0x0102, 0x0102\n]);\n\n/**\n * huffman length extra-bits table.\n * @const\n * @type {!(Array.<number>|Uint8Array)}\n */\nZlib.RawInflate.LengthExtraTable = (function(table) {\n  return USE_TYPEDARRAY ? new Uint8Array(table) : table;\n})([\n  0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5,\n  5, 5, 0, 0, 0\n]);\n\n/**\n * huffman dist code table.\n * @const\n * @type {!(Array.<number>|Uint16Array)}\n */\nZlib.RawInflate.DistCodeTable = (function(table) {\n  return USE_TYPEDARRAY ? new Uint16Array(table) : table;\n})([\n  0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0007, 0x0009, 0x000d, 0x0011,\n  0x0019, 0x0021, 0x0031, 0x0041, 0x0061, 0x0081, 0x00c1, 0x0101, 0x0181,\n  0x0201, 0x0301, 0x0401, 0x0601, 0x0801, 0x0c01, 0x1001, 0x1801, 0x2001,\n  0x3001, 0x4001, 0x6001\n]);\n\n/**\n * huffman dist extra-bits table.\n * @const\n * @type {!(Array.<number>|Uint8Array)}\n */\nZlib.RawInflate.DistExtraTable = (function(table) {\n  return USE_TYPEDARRAY ? new Uint8Array(table) : table;\n})([\n  0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11,\n  11, 12, 12, 13, 13\n]);\n\n/**\n * fixed huffman length code table\n * @const\n * @type {!Array}\n */\nZlib.RawInflate.FixedLiteralLengthTable = (function(table) {\n  return table;\n})((function() {\n  var lengths = new (USE_TYPEDARRAY ? Uint8Array : Array)(288);\n  var i, il;\n\n  for (i = 0, il = lengths.length; i < il; ++i) {\n    lengths[i] =\n      (i <= 143) ? 8 :\n      (i <= 255) ? 9 :\n      (i <= 279) ? 7 :\n      8;\n  }\n\n  return buildHuffmanTable(lengths);\n})());\n\n/**\n * fixed huffman distance code table\n * @const\n * @type {!Array}\n */\nZlib.RawInflate.FixedDistanceTable = (function(table) {\n  return table;\n})((function() {\n  var lengths = new (USE_TYPEDARRAY ? Uint8Array : Array)(30);\n  var i, il;\n\n  for (i = 0, il = lengths.length; i < il; ++i) {\n    lengths[i] = 5;\n  }\n\n  return buildHuffmanTable(lengths);\n})());\n\n/**\n * parse deflated block.\n */\nZlib.RawInflate.prototype.parseBlock = function() {\n  /** @type {number} header */\n  var hdr = this.readBits(3);\n\n  // BFINAL\n  if (hdr & 0x1) {\n    this.bfinal = true;\n  }\n\n  // BTYPE\n  hdr >>>= 1;\n  switch (hdr) {\n    // uncompressed\n    case 0:\n      this.parseUncompressedBlock();\n      break;\n    // fixed huffman\n    case 1:\n      this.parseFixedHuffmanBlock();\n      break;\n    // dynamic huffman\n    case 2:\n      this.parseDynamicHuffmanBlock();\n      break;\n    // reserved or other\n    default:\n      throw new Error('unknown BTYPE: ' + hdr);\n  }\n};\n\n/**\n * read inflate bits\n * @param {number} length bits length.\n * @return {number} read bits.\n */\nZlib.RawInflate.prototype.readBits = function(length) {\n  var bitsbuf = this.bitsbuf;\n  var bitsbuflen = this.bitsbuflen;\n  var input = this.input;\n  var ip = this.ip;\n\n  /** @type {number} */\n  var inputLength = input.length;\n  /** @type {number} input and output byte. */\n  var octet;\n\n  // input byte\n  if (ip + ((length - bitsbuflen + 7) >> 3) >= inputLength) {\n    throw new Error('input buffer is broken');\n  }\n\n  // not enough buffer\n  while (bitsbuflen < length) {\n    bitsbuf |= input[ip++] << bitsbuflen;\n    bitsbuflen += 8;\n  }\n\n  // output byte\n  octet = bitsbuf & /* MASK */ ((1 << length) - 1);\n  bitsbuf >>>= length;\n  bitsbuflen -= length;\n\n  this.bitsbuf = bitsbuf;\n  this.bitsbuflen = bitsbuflen;\n  this.ip = ip;\n\n  return octet;\n};\n\n/**\n * read huffman code using table\n * @param {!(Array.<number>|Uint8Array|Uint16Array)} table huffman code table.\n * @return {number} huffman code.\n */\nZlib.RawInflate.prototype.readCodeByTable = function(table) {\n  var bitsbuf = this.bitsbuf;\n  var bitsbuflen = this.bitsbuflen;\n  var input = this.input;\n  var ip = this.ip;\n\n  /** @type {number} */\n  var inputLength = input.length;\n  /** @type {!(Array.<number>|Uint8Array)} huffman code table */\n  var codeTable = table[0];\n  /** @type {number} */\n  var maxCodeLength = table[1];\n  /** @type {number} code length & code (16bit, 16bit) */\n  var codeWithLength;\n  /** @type {number} code bits length */\n  var codeLength;\n\n  // not enough buffer\n  while (bitsbuflen < maxCodeLength) {\n    if (ip >= inputLength) {\n      break;\n    }\n    bitsbuf |= input[ip++] << bitsbuflen;\n    bitsbuflen += 8;\n  }\n\n  // read max length\n  codeWithLength = codeTable[bitsbuf & ((1 << maxCodeLength) - 1)];\n  codeLength = codeWithLength >>> 16;\n\n  if (codeLength > bitsbuflen) {\n    throw new Error('invalid code length: ' + codeLength);\n  }\n\n  this.bitsbuf = bitsbuf >> codeLength;\n  this.bitsbuflen = bitsbuflen - codeLength;\n  this.ip = ip;\n\n  return codeWithLength & 0xffff;\n};\n\n/**\n * parse uncompressed block.\n */\nZlib.RawInflate.prototype.parseUncompressedBlock = function() {\n  var input = this.input;\n  var ip = this.ip;\n  var output = this.output;\n  var op = this.op;\n\n  /** @type {number} */\n  var inputLength = input.length;\n  /** @type {number} block length */\n  var len;\n  /** @type {number} number for check block length */\n  var nlen;\n  /** @type {number} output buffer length */\n  var olength = output.length;\n  /** @type {number} copy counter */\n  var preCopy;\n\n  // skip buffered header bits\n  this.bitsbuf = 0;\n  this.bitsbuflen = 0;\n\n  // len\n  if (ip + 1 >= inputLength) {\n    throw new Error('invalid uncompressed block header: LEN');\n  }\n  len = input[ip++] | (input[ip++] << 8);\n\n  // nlen\n  if (ip + 1 >= inputLength) {\n    throw new Error('invalid uncompressed block header: NLEN');\n  }\n  nlen = input[ip++] | (input[ip++] << 8);\n\n  // check len & nlen\n  if (len === ~nlen) {\n    throw new Error('invalid uncompressed block header: length verify');\n  }\n\n  // check size\n  if (ip + len > input.length) { throw new Error('input buffer is broken'); }\n\n  // expand buffer\n  switch (this.bufferType) {\n    case Zlib.RawInflate.BufferType.BLOCK:\n      // pre copy\n      while (op + len > output.length) {\n        preCopy = olength - op;\n        len -= preCopy;\n        if (USE_TYPEDARRAY) {\n          output.set(input.subarray(ip, ip + preCopy), op);\n          op += preCopy;\n          ip += preCopy;\n        } else {\n          while (preCopy--) {\n            output[op++] = input[ip++];\n          }\n        }\n        this.op = op;\n        output = this.expandBufferBlock();\n        op = this.op;\n      }\n      break;\n    case Zlib.RawInflate.BufferType.ADAPTIVE:\n      while (op + len > output.length) {\n        output = this.expandBufferAdaptive({fixRatio: 2});\n      }\n      break;\n    default:\n      throw new Error('invalid inflate mode');\n  }\n\n  // copy\n  if (USE_TYPEDARRAY) {\n    output.set(input.subarray(ip, ip + len), op);\n    op += len;\n    ip += len;\n  } else {\n    while (len--) {\n      output[op++] = input[ip++];\n    }\n  }\n\n  this.ip = ip;\n  this.op = op;\n  this.output = output;\n};\n\n/**\n * parse fixed huffman block.\n */\nZlib.RawInflate.prototype.parseFixedHuffmanBlock = function() {\n  switch (this.bufferType) {\n    case Zlib.RawInflate.BufferType.ADAPTIVE:\n      this.decodeHuffmanAdaptive(\n        Zlib.RawInflate.FixedLiteralLengthTable,\n        Zlib.RawInflate.FixedDistanceTable\n      );\n      break;\n    case Zlib.RawInflate.BufferType.BLOCK:\n      this.decodeHuffmanBlock(\n        Zlib.RawInflate.FixedLiteralLengthTable,\n        Zlib.RawInflate.FixedDistanceTable\n      );\n      break;\n    default:\n      throw new Error('invalid inflate mode');\n  }\n};\n\n/**\n * parse dynamic huffman block.\n */\nZlib.RawInflate.prototype.parseDynamicHuffmanBlock = function() {\n  /** @type {number} number of literal and length codes. */\n  var hlit = this.readBits(5) + 257;\n  /** @type {number} number of distance codes. */\n  var hdist = this.readBits(5) + 1;\n  /** @type {number} number of code lengths. */\n  var hclen = this.readBits(4) + 4;\n  /** @type {!(Uint8Array|Array.<number>)} code lengths. */\n  var codeLengths =\n    new (USE_TYPEDARRAY ? Uint8Array : Array)(Zlib.RawInflate.Order.length);\n  /** @type {!Array} code lengths table. */\n  var codeLengthsTable;\n  /** @type {!(Uint8Array|Array.<number>)} literal and length code table. */\n  var litlenTable;\n  /** @type {!(Uint8Array|Array.<number>)} distance code table. */\n  var distTable;\n  /** @type {!(Uint8Array|Array.<number>)} code length table. */\n  var lengthTable;\n  /** @type {number} */\n  var code;\n  /** @type {number} */\n  var prev;\n  /** @type {number} */\n  var repeat;\n  /** @type {number} loop counter. */\n  var i;\n  /** @type {number} loop limit. */\n  var il;\n\n  // decode code lengths\n  for (i = 0; i < hclen; ++i) {\n    codeLengths[Zlib.RawInflate.Order[i]] = this.readBits(3);\n  }\n  if (!USE_TYPEDARRAY) {\n    for (i = hclen, hclen = codeLengths.length; i < hclen; ++i) {\n      codeLengths[Zlib.RawInflate.Order[i]] = 0;\n    }\n  }\n\n  // decode length table\n  codeLengthsTable = buildHuffmanTable(codeLengths);\n  lengthTable = new (USE_TYPEDARRAY ? Uint8Array : Array)(hlit + hdist);\n  for (i = 0, il = hlit + hdist; i < il;) {\n    code = this.readCodeByTable(codeLengthsTable);\n    switch (code) {\n      case 16:\n        repeat = 3 + this.readBits(2);\n        while (repeat--) { lengthTable[i++] = prev; }\n        break;\n      case 17:\n        repeat = 3 + this.readBits(3);\n        while (repeat--) { lengthTable[i++] = 0; }\n        prev = 0;\n        break;\n      case 18:\n        repeat = 11 + this.readBits(7);\n        while (repeat--) { lengthTable[i++] = 0; }\n        prev = 0;\n        break;\n      default:\n        lengthTable[i++] = code;\n        prev = code;\n        break;\n    }\n  }\n\n  litlenTable = USE_TYPEDARRAY\n    ? buildHuffmanTable(lengthTable.subarray(0, hlit))\n    : buildHuffmanTable(lengthTable.slice(0, hlit));\n  distTable = USE_TYPEDARRAY\n    ? buildHuffmanTable(lengthTable.subarray(hlit))\n    : buildHuffmanTable(lengthTable.slice(hlit));\n\n  switch (this.bufferType) {\n    case Zlib.RawInflate.BufferType.ADAPTIVE:\n      this.decodeHuffmanAdaptive(litlenTable, distTable);\n      break;\n    case Zlib.RawInflate.BufferType.BLOCK:\n      this.decodeHuffmanBlock(litlenTable, distTable);\n      break;\n    default:\n      throw new Error('invalid inflate mode');\n  }\n};\n\n/**\n * decode huffman code\n * @param {!(Array.<number>|Uint16Array)} litlen literal and length code table.\n * @param {!(Array.<number>|Uint8Array)} dist distination code table.\n */\nZlib.RawInflate.prototype.decodeHuffmanBlock = function(litlen, dist) {\n  var output = this.output;\n  var op = this.op;\n\n  this.currentLitlenTable = litlen;\n\n  /** @type {number} output position limit. */\n  var olength = output.length - Zlib.RawInflate.MaxCopyLength;\n  /** @type {number} huffman code. */\n  var code;\n  /** @type {number} table index. */\n  var ti;\n  /** @type {number} huffman code distination. */\n  var codeDist;\n  /** @type {number} huffman code length. */\n  var codeLength;\n\n  var lengthCodeTable = Zlib.RawInflate.LengthCodeTable;\n  var lengthExtraTable = Zlib.RawInflate.LengthExtraTable;\n  var distCodeTable = Zlib.RawInflate.DistCodeTable;\n  var distExtraTable = Zlib.RawInflate.DistExtraTable;\n\n  while ((code = this.readCodeByTable(litlen)) !== 256) {\n    // literal\n    if (code < 256) {\n      if (op >= olength) {\n        this.op = op;\n        output = this.expandBufferBlock();\n        op = this.op;\n      }\n      output[op++] = code;\n\n      continue;\n    }\n\n    // length code\n    ti = code - 257;\n    codeLength = lengthCodeTable[ti];\n    if (lengthExtraTable[ti] > 0) {\n      codeLength += this.readBits(lengthExtraTable[ti]);\n    }\n\n    // dist code\n    code = this.readCodeByTable(dist);\n    codeDist = distCodeTable[code];\n    if (distExtraTable[code] > 0) {\n      codeDist += this.readBits(distExtraTable[code]);\n    }\n\n    // lz77 decode\n    if (op >= olength) {\n      this.op = op;\n      output = this.expandBufferBlock();\n      op = this.op;\n    }\n    while (codeLength--) {\n      output[op] = output[(op++) - codeDist];\n    }\n  }\n\n  while (this.bitsbuflen >= 8) {\n    this.bitsbuflen -= 8;\n    this.ip--;\n  }\n  this.op = op;\n};\n\n/**\n * decode huffman code (adaptive)\n * @param {!(Array.<number>|Uint16Array)} litlen literal and length code table.\n * @param {!(Array.<number>|Uint8Array)} dist distination code table.\n */\nZlib.RawInflate.prototype.decodeHuffmanAdaptive = function(litlen, dist) {\n  var output = this.output;\n  var op = this.op;\n\n  this.currentLitlenTable = litlen;\n\n  /** @type {number} output position limit. */\n  var olength = output.length;\n  /** @type {number} huffman code. */\n  var code;\n  /** @type {number} table index. */\n  var ti;\n  /** @type {number} huffman code distination. */\n  var codeDist;\n  /** @type {number} huffman code length. */\n  var codeLength;\n\n  var lengthCodeTable = Zlib.RawInflate.LengthCodeTable;\n  var lengthExtraTable = Zlib.RawInflate.LengthExtraTable;\n  var distCodeTable = Zlib.RawInflate.DistCodeTable;\n  var distExtraTable = Zlib.RawInflate.DistExtraTable;\n\n  while ((code = this.readCodeByTable(litlen)) !== 256) {\n    // literal\n    if (code < 256) {\n      if (op >= olength) {\n        output = this.expandBufferAdaptive();\n        olength = output.length;\n      }\n      output[op++] = code;\n\n      continue;\n    }\n\n    // length code\n    ti = code - 257;\n    codeLength = lengthCodeTable[ti];\n    if (lengthExtraTable[ti] > 0) {\n      codeLength += this.readBits(lengthExtraTable[ti]);\n    }\n\n    // dist code\n    code = this.readCodeByTable(dist);\n    codeDist = distCodeTable[code];\n    if (distExtraTable[code] > 0) {\n      codeDist += this.readBits(distExtraTable[code]);\n    }\n\n    // lz77 decode\n    if (op + codeLength > olength) {\n      output = this.expandBufferAdaptive();\n      olength = output.length;\n    }\n    while (codeLength--) {\n      output[op] = output[(op++) - codeDist];\n    }\n  }\n\n  while (this.bitsbuflen >= 8) {\n    this.bitsbuflen -= 8;\n    this.ip--;\n  }\n  this.op = op;\n};\n\n/**\n * expand output buffer.\n * @param {Object=} opt_param option parameters.\n * @return {!(Array.<number>|Uint8Array)} output buffer.\n */\nZlib.RawInflate.prototype.expandBufferBlock = function(opt_param) {\n  /** @type {!(Array.<number>|Uint8Array)} store buffer. */\n  var buffer =\n    new (USE_TYPEDARRAY ? Uint8Array : Array)(\n        this.op - Zlib.RawInflate.MaxBackwardLength\n    );\n  /** @type {number} backward base point */\n  var backward = this.op - Zlib.RawInflate.MaxBackwardLength;\n  /** @type {number} copy index. */\n  var i;\n  /** @type {number} copy limit */\n  var il;\n\n  var output = this.output;\n\n  // copy to output buffer\n  if (USE_TYPEDARRAY) {\n    buffer.set(output.subarray(Zlib.RawInflate.MaxBackwardLength, buffer.length));\n  } else {\n    for (i = 0, il = buffer.length; i < il; ++i) {\n      buffer[i] = output[i + Zlib.RawInflate.MaxBackwardLength];\n    }\n  }\n\n  this.blocks.push(buffer);\n  this.totalpos += buffer.length;\n\n  // copy to backward buffer\n  if (USE_TYPEDARRAY) {\n    output.set(\n      output.subarray(backward, backward + Zlib.RawInflate.MaxBackwardLength)\n    );\n  } else {\n    for (i = 0; i < Zlib.RawInflate.MaxBackwardLength; ++i) {\n      output[i] = output[backward + i];\n    }\n  }\n\n  this.op = Zlib.RawInflate.MaxBackwardLength;\n\n  return output;\n};\n\n/**\n * expand output buffer. (adaptive)\n * @param {Object=} opt_param option parameters.\n * @return {!(Array.<number>|Uint8Array)} output buffer pointer.\n */\nZlib.RawInflate.prototype.expandBufferAdaptive = function(opt_param) {\n  /** @type {!(Array.<number>|Uint8Array)} store buffer. */\n  var buffer;\n  /** @type {number} expantion ratio. */\n  var ratio = (this.input.length / this.ip + 1) | 0;\n  /** @type {number} maximum number of huffman code. */\n  var maxHuffCode;\n  /** @type {number} new output buffer size. */\n  var newSize;\n  /** @type {number} max inflate size. */\n  var maxInflateSize;\n\n  var input = this.input;\n  var output = this.output;\n\n  if (opt_param) {\n    if (typeof opt_param.fixRatio === 'number') {\n      ratio = opt_param.fixRatio;\n    }\n    if (typeof opt_param.addRatio === 'number') {\n      ratio += opt_param.addRatio;\n    }\n  }\n\n  // calculate new buffer size\n  if (ratio < 2) {\n    maxHuffCode =\n      (input.length - this.ip) / this.currentLitlenTable[2];\n    maxInflateSize = (maxHuffCode / 2 * 258) | 0;\n    newSize = maxInflateSize < output.length ?\n      output.length + maxInflateSize :\n      output.length << 1;\n  } else {\n    newSize = output.length * ratio;\n  }\n\n  // buffer expantion\n  if (USE_TYPEDARRAY) {\n    buffer = new Uint8Array(newSize);\n    buffer.set(output);\n  } else {\n    buffer = output;\n  }\n\n  this.output = buffer;\n\n  return this.output;\n};\n\n/**\n * concat output buffer.\n * @return {!(Array.<number>|Uint8Array)} output buffer.\n */\nZlib.RawInflate.prototype.concatBufferBlock = function() {\n  /** @type {number} buffer pointer. */\n  var pos = 0;\n  /** @type {number} buffer pointer. */\n  var limit = this.totalpos + (this.op - Zlib.RawInflate.MaxBackwardLength);\n  /** @type {!(Array.<number>|Uint8Array)} output block array. */\n  var output = this.output;\n  /** @type {!Array} blocks array. */\n  var blocks = this.blocks;\n  /** @type {!(Array.<number>|Uint8Array)} output block array. */\n  var block;\n  /** @type {!(Array.<number>|Uint8Array)} output buffer. */\n  var buffer = new (USE_TYPEDARRAY ? Uint8Array : Array)(limit);\n  /** @type {number} loop counter. */\n  var i;\n  /** @type {number} loop limiter. */\n  var il;\n  /** @type {number} loop counter. */\n  var j;\n  /** @type {number} loop limiter. */\n  var jl;\n\n  // single buffer\n  if (blocks.length === 0) {\n    return USE_TYPEDARRAY ?\n      this.output.subarray(Zlib.RawInflate.MaxBackwardLength, this.op) :\n      this.output.slice(Zlib.RawInflate.MaxBackwardLength, this.op);\n  }\n\n  // copy to buffer\n  for (i = 0, il = blocks.length; i < il; ++i) {\n    block = blocks[i];\n    for (j = 0, jl = block.length; j < jl; ++j) {\n      buffer[pos++] = block[j];\n    }\n  }\n\n  // current buffer\n  for (i = Zlib.RawInflate.MaxBackwardLength, il = this.op; i < il; ++i) {\n    buffer[pos++] = output[i];\n  }\n\n  this.blocks = [];\n  this.buffer = buffer;\n\n  return this.buffer;\n};\n\n/**\n * concat output buffer. (dynamic)\n * @return {!(Array.<number>|Uint8Array)} output buffer.\n */\nZlib.RawInflate.prototype.concatBufferDynamic = function() {\n  /** @type {Array.<number>|Uint8Array} output buffer. */\n  var buffer;\n  var op = this.op;\n\n  if (USE_TYPEDARRAY) {\n    if (this.resize) {\n      buffer = new Uint8Array(op);\n      buffer.set(this.output.subarray(0, op));\n    } else {\n      buffer = this.output.subarray(0, op);\n    }\n  } else {\n    if (this.output.length > op) {\n      this.output.length = op;\n    }\n    buffer = this.output;\n  }\n\n  this.buffer = buffer;\n\n  return this.buffer;\n};\n\n\n\n\nvar buildHuffmanTable = Zlib.Huffman.buildHuffmanTable;\n\n/**\n * @param {!(Uint8Array|Array.<number>)} input input buffer.\n * @param {number} ip input buffer pointer.\n * @param {number=} opt_buffersize buffer block size.\n * @constructor\n */\nZlib.RawInflateStream = function(input, ip, opt_buffersize) {\n  /** @type {!Array.<(Array|Uint8Array)>} */\n  this.blocks = [];\n  /** @type {number} block size. */\n  this.bufferSize =\n    opt_buffersize ? opt_buffersize : ZLIB_STREAM_RAW_INFLATE_BUFFER_SIZE;\n  /** @type {!number} total output buffer pointer. */\n  this.totalpos = 0;\n  /** @type {!number} input buffer pointer. */\n  this.ip = ip === void 0 ? 0 : ip;\n  /** @type {!number} bit stream reader buffer. */\n  this.bitsbuf = 0;\n  /** @type {!number} bit stream reader buffer size. */\n  this.bitsbuflen = 0;\n  /** @type {!(Array|Uint8Array)} input buffer. */\n  this.input = USE_TYPEDARRAY ? new Uint8Array(input) : input;\n  /** @type {!(Uint8Array|Array)} output buffer. */\n  this.output = new (USE_TYPEDARRAY ? Uint8Array : Array)(this.bufferSize);\n  /** @type {!number} output buffer pointer. */\n  this.op = 0;\n  /** @type {boolean} is final block flag. */\n  this.bfinal = false;\n  /** @type {number} uncompressed block length. */\n  this.blockLength;\n  /** @type {boolean} resize flag for memory size optimization. */\n  this.resize = false;\n  /** @type {Array} */\n  this.litlenTable;\n  /** @type {Array} */\n  this.distTable;\n  /** @type {number} */\n  this.sp = 0; // stream pointer\n  /** @type {Zlib.RawInflateStream.Status} */\n  this.status = Zlib.RawInflateStream.Status.INITIALIZED;\n\n  //\n  // backup\n  //\n  /** @type {!number} */\n  this.ip_;\n  /** @type {!number} */\n  this.bitsbuflen_;\n  /** @type {!number} */\n  this.bitsbuf_;\n};\n\n/**\n * @enum {number}\n */\nZlib.RawInflateStream.BlockType = {\n  UNCOMPRESSED: 0,\n  FIXED: 1,\n  DYNAMIC: 2\n};\n\n/**\n * @enum {number}\n */\nZlib.RawInflateStream.Status = {\n  INITIALIZED: 0,\n  BLOCK_HEADER_START: 1,\n  BLOCK_HEADER_END: 2,\n  BLOCK_BODY_START: 3,\n  BLOCK_BODY_END: 4,\n  DECODE_BLOCK_START: 5,\n  DECODE_BLOCK_END: 6\n};\n\n/**\n * decompress.\n * @return {!(Uint8Array|Array)} inflated buffer.\n */\nZlib.RawInflateStream.prototype.decompress = function(newInput, ip) {\n  /** @type {boolean} */\n  var stop = false;\n\n  if (newInput !== void 0) {\n    this.input = newInput;\n  }\n\n  if (ip !== void 0) {\n    this.ip = ip;\n  }\n\n  // decompress\n  while (!stop) {\n    switch (this.status) {\n      // block header\n      case Zlib.RawInflateStream.Status.INITIALIZED:\n      case Zlib.RawInflateStream.Status.BLOCK_HEADER_START:\n        if (this.readBlockHeader() < 0) {\n          stop = true;\n        }\n        break;\n      // block body\n      case Zlib.RawInflateStream.Status.BLOCK_HEADER_END: /* FALLTHROUGH */\n      case Zlib.RawInflateStream.Status.BLOCK_BODY_START:\n        switch(this.currentBlockType) {\n          case Zlib.RawInflateStream.BlockType.UNCOMPRESSED:\n            if (this.readUncompressedBlockHeader() < 0) {\n              stop = true;\n            }\n            break;\n          case Zlib.RawInflateStream.BlockType.FIXED:\n            if (this.parseFixedHuffmanBlock() < 0) {\n              stop = true;\n            }\n            break;\n          case Zlib.RawInflateStream.BlockType.DYNAMIC:\n            if (this.parseDynamicHuffmanBlock() < 0) {\n              stop = true;\n            }\n            break;\n        }\n        break;\n      // decode data\n      case Zlib.RawInflateStream.Status.BLOCK_BODY_END:\n      case Zlib.RawInflateStream.Status.DECODE_BLOCK_START:\n        switch(this.currentBlockType) {\n          case Zlib.RawInflateStream.BlockType.UNCOMPRESSED:\n            if (this.parseUncompressedBlock() < 0) {\n              stop = true;\n            }\n            break;\n          case Zlib.RawInflateStream.BlockType.FIXED: /* FALLTHROUGH */\n          case Zlib.RawInflateStream.BlockType.DYNAMIC:\n            if (this.decodeHuffman() < 0) {\n              stop = true;\n            }\n            break;\n        }\n        break;\n      case Zlib.RawInflateStream.Status.DECODE_BLOCK_END:\n        if (this.bfinal) {\n          stop = true;\n        } else {\n          this.status = Zlib.RawInflateStream.Status.INITIALIZED;\n        }\n        break;\n    }\n  }\n\n  return this.concatBuffer();\n};\n\n/**\n * @const\n * @type {number} max backward length for LZ77.\n */\nZlib.RawInflateStream.MaxBackwardLength = 32768;\n\n/**\n * @const\n * @type {number} max copy length for LZ77.\n */\nZlib.RawInflateStream.MaxCopyLength = 258;\n\n/**\n * huffman order\n * @const\n * @type {!(Array.<number>|Uint8Array)}\n */\nZlib.RawInflateStream.Order = (function(table) {\n  return USE_TYPEDARRAY ? new Uint16Array(table) : table;\n})([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n\n/**\n * huffman length code table.\n * @const\n * @type {!(Array.<number>|Uint16Array)}\n */\nZlib.RawInflateStream.LengthCodeTable = (function(table) {\n  return USE_TYPEDARRAY ? new Uint16Array(table) : table;\n})([\n  0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008, 0x0009, 0x000a, 0x000b,\n  0x000d, 0x000f, 0x0011, 0x0013, 0x0017, 0x001b, 0x001f, 0x0023, 0x002b,\n  0x0033, 0x003b, 0x0043, 0x0053, 0x0063, 0x0073, 0x0083, 0x00a3, 0x00c3,\n  0x00e3, 0x0102, 0x0102, 0x0102\n]);\n\n/**\n * huffman length extra-bits table.\n * @const\n * @type {!(Array.<number>|Uint8Array)}\n */\nZlib.RawInflateStream.LengthExtraTable = (function(table) {\n  return USE_TYPEDARRAY ? new Uint8Array(table) : table;\n})([\n  0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5,\n  5, 5, 0, 0, 0\n]);\n\n/**\n * huffman dist code table.\n * @const\n * @type {!(Array.<number>|Uint16Array)}\n */\nZlib.RawInflateStream.DistCodeTable = (function(table) {\n  return USE_TYPEDARRAY ? new Uint16Array(table) : table;\n})([\n  0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0007, 0x0009, 0x000d, 0x0011,\n  0x0019, 0x0021, 0x0031, 0x0041, 0x0061, 0x0081, 0x00c1, 0x0101, 0x0181,\n  0x0201, 0x0301, 0x0401, 0x0601, 0x0801, 0x0c01, 0x1001, 0x1801, 0x2001,\n  0x3001, 0x4001, 0x6001\n]);\n\n/**\n * huffman dist extra-bits table.\n * @const\n * @type {!(Array.<number>|Uint8Array)}\n */\nZlib.RawInflateStream.DistExtraTable = (function(table) {\n  return USE_TYPEDARRAY ? new Uint8Array(table) : table;\n})([\n  0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11,\n  11, 12, 12, 13, 13\n]);\n\n/**\n * fixed huffman length code table\n * @const\n * @type {!Array}\n */\nZlib.RawInflateStream.FixedLiteralLengthTable = (function(table) {\n  return table;\n})((function() {\n  var lengths = new (USE_TYPEDARRAY ? Uint8Array : Array)(288);\n  var i, il;\n\n  for (i = 0, il = lengths.length; i < il; ++i) {\n    lengths[i] =\n      (i <= 143) ? 8 :\n      (i <= 255) ? 9 :\n      (i <= 279) ? 7 :\n      8;\n  }\n\n  return buildHuffmanTable(lengths);\n})());\n\n/**\n * fixed huffman distance code table\n * @const\n * @type {!Array}\n */\nZlib.RawInflateStream.FixedDistanceTable = (function(table) {\n  return table;\n})((function() {\n  var lengths = new (USE_TYPEDARRAY ? Uint8Array : Array)(30);\n  var i, il;\n\n  for (i = 0, il = lengths.length; i < il; ++i) {\n    lengths[i] = 5;\n  }\n\n  return buildHuffmanTable(lengths);\n})());\n\n/**\n * parse deflated block.\n */\nZlib.RawInflateStream.prototype.readBlockHeader = function() {\n  /** @type {number} header */\n  var hdr;\n\n  this.status = Zlib.RawInflateStream.Status.BLOCK_HEADER_START;\n\n  this.save_();\n  if ((hdr = this.readBits(3)) < 0) {\n    this.restore_();\n    return -1;\n  }\n\n  // BFINAL\n  if (hdr & 0x1) {\n    this.bfinal = true;\n  }\n\n  // BTYPE\n  hdr >>>= 1;\n  switch (hdr) {\n    case 0: // uncompressed\n      this.currentBlockType = Zlib.RawInflateStream.BlockType.UNCOMPRESSED;\n      break;\n    case 1: // fixed huffman\n      this.currentBlockType = Zlib.RawInflateStream.BlockType.FIXED;\n      break;\n    case 2: // dynamic huffman\n      this.currentBlockType = Zlib.RawInflateStream.BlockType.DYNAMIC;\n      break;\n    default: // reserved or other\n      throw new Error('unknown BTYPE: ' + hdr);\n  }\n\n  this.status = Zlib.RawInflateStream.Status.BLOCK_HEADER_END;\n};\n\n/**\n * read inflate bits\n * @param {number} length bits length.\n * @return {number} read bits.\n */\nZlib.RawInflateStream.prototype.readBits = function(length) {\n  var bitsbuf = this.bitsbuf;\n  var bitsbuflen = this.bitsbuflen;\n  var input = this.input;\n  var ip = this.ip;\n\n  /** @type {number} input and output byte. */\n  var octet;\n\n  // not enough buffer\n  while (bitsbuflen < length) {\n    // input byte\n    if (input.length <= ip) {\n      return -1;\n    }\n    octet = input[ip++];\n\n    // concat octet\n    bitsbuf |= octet << bitsbuflen;\n    bitsbuflen += 8;\n  }\n\n  // output byte\n  octet = bitsbuf & /* MASK */ ((1 << length) - 1);\n  bitsbuf >>>= length;\n  bitsbuflen -= length;\n\n  this.bitsbuf = bitsbuf;\n  this.bitsbuflen = bitsbuflen;\n  this.ip = ip;\n\n  return octet;\n};\n\n/**\n * read huffman code using table\n * @param {Array} table huffman code table.\n * @return {number} huffman code.\n */\nZlib.RawInflateStream.prototype.readCodeByTable = function(table) {\n  var bitsbuf = this.bitsbuf;\n  var bitsbuflen = this.bitsbuflen;\n  var input = this.input;\n  var ip = this.ip;\n\n  /** @type {!(Array|Uint8Array)} huffman code table */\n  var codeTable = table[0];\n  /** @type {number} */\n  var maxCodeLength = table[1];\n  /** @type {number} input byte */\n  var octet;\n  /** @type {number} code length & code (16bit, 16bit) */\n  var codeWithLength;\n  /** @type {number} code bits length */\n  var codeLength;\n\n  // not enough buffer\n  while (bitsbuflen < maxCodeLength) {\n    if (input.length <= ip) {\n      return -1;\n    }\n    octet = input[ip++];\n    bitsbuf |= octet << bitsbuflen;\n    bitsbuflen += 8;\n  }\n\n  // read max length\n  codeWithLength = codeTable[bitsbuf & ((1 << maxCodeLength) - 1)];\n  codeLength = codeWithLength >>> 16;\n\n  if (codeLength > bitsbuflen) {\n    throw new Error('invalid code length: ' + codeLength);\n  }\n\n  this.bitsbuf = bitsbuf >> codeLength;\n  this.bitsbuflen = bitsbuflen - codeLength;\n  this.ip = ip;\n\n  return codeWithLength & 0xffff;\n};\n\n/**\n * read uncompressed block header\n */\nZlib.RawInflateStream.prototype.readUncompressedBlockHeader = function() {\n  /** @type {number} block length */\n  var len;\n  /** @type {number} number for check block length */\n  var nlen;\n\n  var input = this.input;\n  var ip = this.ip;\n\n  this.status = Zlib.RawInflateStream.Status.BLOCK_BODY_START;\n\n  if (ip + 4 >= input.length) {\n    return -1;\n  }\n\n  len = input[ip++] | (input[ip++] << 8);\n  nlen = input[ip++] | (input[ip++] << 8);\n\n  // check len & nlen\n  if (len === ~nlen) {\n    throw new Error('invalid uncompressed block header: length verify');\n  }\n\n  // skip buffered header bits\n  this.bitsbuf = 0;\n  this.bitsbuflen = 0;\n\n  this.ip = ip;\n  this.blockLength = len;\n  this.status = Zlib.RawInflateStream.Status.BLOCK_BODY_END;\n};\n\n/**\n * parse uncompressed block.\n */\nZlib.RawInflateStream.prototype.parseUncompressedBlock = function() {\n  var input = this.input;\n  var ip = this.ip;\n  var output = this.output;\n  var op = this.op;\n  var len = this.blockLength;\n\n  this.status = Zlib.RawInflateStream.Status.DECODE_BLOCK_START;\n\n  // copy\n  // XXX: \n  while (len--) {\n    if (op === output.length) {\n      output = this.expandBuffer({fixRatio: 2});\n    }\n\n    // not enough input buffer\n    if (ip >= input.length) {\n      this.ip = ip;\n      this.op = op;\n      this.blockLength = len + 1; // \n      return -1;\n    }\n\n    output[op++] = input[ip++];\n  }\n\n  if (len < 0) {\n    this.status = Zlib.RawInflateStream.Status.DECODE_BLOCK_END;\n  }\n\n  this.ip = ip;\n  this.op = op;\n\n  return 0;\n};\n\n/**\n * parse fixed huffman block.\n */\nZlib.RawInflateStream.prototype.parseFixedHuffmanBlock = function() {\n  this.status = Zlib.RawInflateStream.Status.BLOCK_BODY_START;\n\n  this.litlenTable = Zlib.RawInflateStream.FixedLiteralLengthTable;\n  this.distTable = Zlib.RawInflateStream.FixedDistanceTable;\n\n  this.status = Zlib.RawInflateStream.Status.BLOCK_BODY_END;\n\n  return 0;\n};\n\n/**\n * .\n * @private\n */\nZlib.RawInflateStream.prototype.save_ = function() {\n  this.ip_ = this.ip;\n  this.bitsbuflen_ = this.bitsbuflen;\n  this.bitsbuf_ = this.bitsbuf;\n};\n\n/**\n * .\n * @private\n */\nZlib.RawInflateStream.prototype.restore_ = function() {\n  this.ip = this.ip_;\n  this.bitsbuflen = this.bitsbuflen_;\n  this.bitsbuf = this.bitsbuf_;\n};\n\n/**\n * parse dynamic huffman block.\n */\nZlib.RawInflateStream.prototype.parseDynamicHuffmanBlock = function() {\n  /** @type {number} number of literal and length codes. */\n  var hlit;\n  /** @type {number} number of distance codes. */\n  var hdist;\n  /** @type {number} number of code lengths. */\n  var hclen;\n  /** @type {!(Uint8Array|Array)} code lengths. */\n  var codeLengths =\n    new (USE_TYPEDARRAY ? Uint8Array : Array)(Zlib.RawInflateStream.Order.length);\n  /** @type {!Array} code lengths table. */\n  var codeLengthsTable;\n  /** @type {!(Uint32Array|Array)} literal and length code lengths. */\n  var litlenLengths;\n  /** @type {!(Uint32Array|Array)} distance code lengths. */\n  var distLengths;\n\n  this.status = Zlib.RawInflateStream.Status.BLOCK_BODY_START;\n\n  this.save_();\n  hlit = this.readBits(5) + 257;\n  hdist = this.readBits(5) + 1;\n  hclen = this.readBits(4) + 4;\n  if (hlit < 0 || hdist < 0 || hclen < 0) {\n    this.restore_();\n    return -1;\n  }\n\n  try {\n    parseDynamicHuffmanBlockImpl.call(this);\n  } catch(e) {\n    this.restore_();\n    return -1;\n  }\n\n  function parseDynamicHuffmanBlockImpl() {\n    /** @type {number} */\n    var bits;\n    var code;\n    var prev = 0;\n    var repeat;\n    /** @type {!(Uint8Array|Array.<number>)} code length table. */\n    var lengthTable;\n    /** @type {number} loop counter. */\n    var i;\n    /** @type {number} loop limit. */\n    var il;\n\n    // decode code lengths\n    for (i = 0; i < hclen; ++i) {\n      if ((bits = this.readBits(3)) < 0) {\n        throw new Error('not enough input');\n      }\n      codeLengths[Zlib.RawInflateStream.Order[i]] = bits;\n    }\n\n    // decode length table\n    codeLengthsTable = buildHuffmanTable(codeLengths);\n    lengthTable = new (USE_TYPEDARRAY ? Uint8Array : Array)(hlit + hdist);\n    for (i = 0, il = hlit + hdist; i < il;) {\n      code = this.readCodeByTable(codeLengthsTable);\n      if (code < 0) {\n        throw new Error('not enough input');\n      }\n      switch (code) {\n        case 16:\n          if ((bits = this.readBits(2)) < 0) {\n            throw new Error('not enough input');\n          }\n          repeat = 3 + bits;\n          while (repeat--) { lengthTable[i++] = prev; }\n          break;\n        case 17:\n          if ((bits = this.readBits(3)) < 0) {\n            throw new Error('not enough input');\n          }\n          repeat = 3 + bits;\n          while (repeat--) { lengthTable[i++] = 0; }\n          prev = 0;\n          break;\n        case 18:\n          if ((bits = this.readBits(7)) < 0) {\n            throw new Error('not enough input');\n          }\n          repeat = 11 + bits;\n          while (repeat--) { lengthTable[i++] = 0; }\n          prev = 0;\n          break;\n        default:\n          lengthTable[i++] = code;\n          prev = code;\n          break;\n      }\n    }\n\n    // literal and length code\n    litlenLengths = new (USE_TYPEDARRAY ? Uint8Array : Array)(hlit);\n\n    // distance code\n    distLengths = new (USE_TYPEDARRAY ? Uint8Array : Array)(hdist);\n\n    this.litlenTable = USE_TYPEDARRAY\n      ? buildHuffmanTable(lengthTable.subarray(0, hlit))\n      : buildHuffmanTable(lengthTable.slice(0, hlit));\n    this.distTable = USE_TYPEDARRAY\n      ? buildHuffmanTable(lengthTable.subarray(hlit))\n      : buildHuffmanTable(lengthTable.slice(hlit));\n  }\n\n  this.status = Zlib.RawInflateStream.Status.BLOCK_BODY_END;\n\n  return 0;\n};\n\n/**\n * decode huffman code (dynamic)\n * @return {(number|undefined)} -1 is error.\n */\nZlib.RawInflateStream.prototype.decodeHuffman = function() {\n  var output = this.output;\n  var op = this.op;\n\n  /** @type {number} huffman code. */\n  var code;\n  /** @type {number} table index. */\n  var ti;\n  /** @type {number} huffman code distination. */\n  var codeDist;\n  /** @type {number} huffman code length. */\n  var codeLength;\n\n  var litlen = this.litlenTable;\n  var dist = this.distTable;\n\n  var olength = output.length;\n  var bits;\n\n  this.status = Zlib.RawInflateStream.Status.DECODE_BLOCK_START;\n\n  while (true) {\n    this.save_();\n\n    code = this.readCodeByTable(litlen);\n    if (code < 0) {\n      this.op = op;\n      this.restore_();\n      return -1;\n    }\n\n    if (code === 256) {\n      break;\n    }\n\n    // literal\n    if (code < 256) {\n      if (op === olength) {\n        output = this.expandBuffer();\n        olength = output.length;\n      }\n      output[op++] = code;\n\n      continue;\n    }\n\n    // length code\n    ti = code - 257;\n    codeLength = Zlib.RawInflateStream.LengthCodeTable[ti];\n    if (Zlib.RawInflateStream.LengthExtraTable[ti] > 0) {\n      bits = this.readBits(Zlib.RawInflateStream.LengthExtraTable[ti]);\n      if (bits < 0) {\n        this.op = op;\n        this.restore_();\n        return -1;\n      }\n      codeLength += bits;\n    }\n\n    // dist code\n    code = this.readCodeByTable(dist);\n    if (code < 0) {\n      this.op = op;\n      this.restore_();\n      return -1;\n    }\n    codeDist = Zlib.RawInflateStream.DistCodeTable[code];\n    if (Zlib.RawInflateStream.DistExtraTable[code] > 0) {\n      bits = this.readBits(Zlib.RawInflateStream.DistExtraTable[code]);\n      if (bits < 0) {\n        this.op = op;\n        this.restore_();\n        return -1;\n      }\n      codeDist += bits;\n    }\n\n    // lz77 decode\n    if (op + codeLength >= olength) {\n      output = this.expandBuffer();\n      olength = output.length;\n    }\n\n    while (codeLength--) {\n      output[op] = output[(op++) - codeDist];\n    }\n\n    // break\n    if (this.ip === this.input.length) {\n      this.op = op;\n      return -1;\n    }\n  }\n\n  while (this.bitsbuflen >= 8) {\n    this.bitsbuflen -= 8;\n    this.ip--;\n  }\n\n  this.op = op;\n  this.status = Zlib.RawInflateStream.Status.DECODE_BLOCK_END;\n};\n\n/**\n * expand output buffer. (dynamic)\n * @param {Object=} opt_param option parameters.\n * @return {!(Array|Uint8Array)} output buffer pointer.\n */\nZlib.RawInflateStream.prototype.expandBuffer = function(opt_param) {\n  /** @type {!(Array|Uint8Array)} store buffer. */\n  var buffer;\n  /** @type {number} expantion ratio. */\n  var ratio = (this.input.length / this.ip + 1) | 0;\n  /** @type {number} maximum number of huffman code. */\n  var maxHuffCode;\n  /** @type {number} new output buffer size. */\n  var newSize;\n  /** @type {number} max inflate size. */\n  var maxInflateSize;\n\n  var input = this.input;\n  var output = this.output;\n\n  if (opt_param) {\n    if (typeof opt_param.fixRatio === 'number') {\n      ratio = opt_param.fixRatio;\n    }\n    if (typeof opt_param.addRatio === 'number') {\n      ratio += opt_param.addRatio;\n    }\n  }\n\n  // calculate new buffer size\n  if (ratio < 2) {\n    maxHuffCode =\n      (input.length - this.ip) / this.litlenTable[2];\n    maxInflateSize = (maxHuffCode / 2 * 258) | 0;\n    newSize = maxInflateSize < output.length ?\n      output.length + maxInflateSize :\n      output.length << 1;\n  } else {\n    newSize = output.length * ratio;\n  }\n\n  // buffer expantion\n  if (USE_TYPEDARRAY) {\n    buffer = new Uint8Array(newSize);\n    buffer.set(output);\n  } else {\n    buffer = output;\n  }\n\n  this.output = buffer;\n\n  return this.output;\n};\n\n/**\n * concat output buffer. (dynamic)\n * @return {!(Array|Uint8Array)} output buffer.\n */\nZlib.RawInflateStream.prototype.concatBuffer = function() {\n  /** @type {!(Array|Uint8Array)} output buffer. */\n  var buffer;\n  /** @type {number} */\n  var op = this.op;\n  /** @type {Uint8Array} */\n  var tmp;\n\n  if (this.resize) {\n    if (USE_TYPEDARRAY) {\n      buffer = new Uint8Array(this.output.subarray(this.sp, op));\n    } else {\n      buffer = this.output.slice(this.sp, op);\n    }\n  } else {\n    buffer =\n      USE_TYPEDARRAY ? this.output.subarray(this.sp, op) : this.output.slice(this.sp, op);\n  }\n\n  this.sp = op;\n\n  // compaction\n  if (op > Zlib.RawInflateStream.MaxBackwardLength + this.bufferSize) {\n    this.op = this.sp = Zlib.RawInflateStream.MaxBackwardLength;\n    if (USE_TYPEDARRAY) {\n      tmp = /** @type {Uint8Array} */(this.output);\n      this.output = new Uint8Array(this.bufferSize + Zlib.RawInflateStream.MaxBackwardLength);\n      this.output.set(tmp.subarray(op - Zlib.RawInflateStream.MaxBackwardLength, op));\n    } else {\n      this.output = this.output.slice(op - Zlib.RawInflateStream.MaxBackwardLength);\n    }\n  }\n\n  return buffer;\n};\n\n\n/**\n * @constructor\n * @param {!(Uint8Array|Array)} input deflated buffer.\n * @param {Object=} opt_params option parameters.\n *\n * opt_params \n *   - index: input buffer  deflate .\n *   - blockSize: .\n *   - verify:  adler-32 checksum .\n *   - bufferType: Zlib.Inflate.BufferType .\n *       Zlib.Inflate.BufferType  Zlib.RawInflate.BufferType .\n */\nZlib.Inflate = function(input, opt_params) {\n  /** @type {number} */\n  var bufferSize;\n  /** @type {Zlib.Inflate.BufferType} */\n  var bufferType;\n  /** @type {number} */\n  var cmf;\n  /** @type {number} */\n  var flg;\n\n  /** @type {!(Uint8Array|Array)} */\n  this.input = input;\n  /** @type {number} */\n  this.ip = 0;\n  /** @type {Zlib.RawInflate} */\n  this.rawinflate;\n  /** @type {(boolean|undefined)} verify flag. */\n  this.verify;\n\n  // option parameters\n  if (opt_params || !(opt_params = {})) {\n    if (opt_params['index']) {\n      this.ip = opt_params['index'];\n    }\n    if (opt_params['verify']) {\n      this.verify = opt_params['verify'];\n    }\n  }\n\n  // Compression Method and Flags\n  cmf = input[this.ip++];\n  flg = input[this.ip++];\n\n  // compression method\n  switch (cmf & 0x0f) {\n    case Zlib.CompressionMethod.DEFLATE:\n      this.method = Zlib.CompressionMethod.DEFLATE;\n      break;\n    default:\n      throw new Error('unsupported compression method');\n  }\n\n  // fcheck\n  if (((cmf << 8) + flg) % 31 !== 0) {\n    throw new Error('invalid fcheck flag:' + ((cmf << 8) + flg) % 31);\n  }\n\n  // fdict (not supported)\n  if (flg & 0x20) {\n    throw new Error('fdict flag is not supported');\n  }\n\n  // RawInflate\n  this.rawinflate = new Zlib.RawInflate(input, {\n    'index': this.ip,\n    'bufferSize': opt_params['bufferSize'],\n    'bufferType': opt_params['bufferType'],\n    'resize': opt_params['resize']\n  });\n}\n\n/**\n * @enum {number}\n */\nZlib.Inflate.BufferType = Zlib.RawInflate.BufferType;\n\n/**\n * decompress.\n * @return {!(Uint8Array|Array)} inflated buffer.\n */\nZlib.Inflate.prototype.decompress = function() {\n  /** @type {!(Array|Uint8Array)} input buffer. */\n  var input = this.input;\n  /** @type {!(Uint8Array|Array)} inflated buffer. */\n  var buffer;\n  /** @type {number} adler-32 checksum */\n  var adler32;\n\n  buffer = this.rawinflate.decompress();\n  this.ip = this.rawinflate.ip;\n\n  // verify adler-32\n  if (this.verify) {\n    adler32 = (\n      input[this.ip++] << 24 | input[this.ip++] << 16 |\n      input[this.ip++] << 8 | input[this.ip++]\n    ) >>> 0;\n\n    if (adler32 !== Zlib.Adler32(buffer)) {\n      throw new Error('invalid adler-32 checksum');\n    }\n  }\n\n  return buffer;\n};\n\n\n/* vim:set expandtab ts=2 sw=2 tw=80: */\n\n\n/**\n * @param {!(Uint8Array|Array)} input deflated buffer.\n * @constructor\n */\nZlib.InflateStream = function(input) {\n  /** @type {!(Uint8Array|Array)} */\n  this.input = input === void 0 ? new (USE_TYPEDARRAY ? Uint8Array : Array)() : input;\n  /** @type {number} */\n  this.ip = 0;\n  /** @type {Zlib.RawInflateStream} */\n  this.rawinflate = new Zlib.RawInflateStream(this.input, this.ip);\n  /** @type {Zlib.CompressionMethod} */\n  this.method;\n  /** @type {!(Array|Uint8Array)} */\n  this.output = this.rawinflate.output;\n};\n\n/**\n * decompress.\n * @return {!(Uint8Array|Array)} inflated buffer.\n */\nZlib.InflateStream.prototype.decompress = function(input) {\n  /** @type {!(Uint8Array|Array)} inflated buffer. */\n  var buffer;\n  /** @type {number} adler-32 checksum */\n  var adler32;\n\n  // \n  // XXX Array, Uint8Array \n  if (input !== void 0) {\n    if (USE_TYPEDARRAY) {\n      var tmp = new Uint8Array(this.input.length + input.length);\n      tmp.set(this.input, 0);\n      tmp.set(input, this.input.length);\n      this.input = tmp;\n    } else {\n      this.input = this.input.concat(input);\n    }\n  }\n\n  if (this.method === void 0) {\n    if(this.readHeader() < 0) {\n      return new (USE_TYPEDARRAY ? Uint8Array : Array)();\n    }\n  }\n\n  buffer = this.rawinflate.decompress(this.input, this.ip);\n  if (this.rawinflate.ip !== 0) {\n    this.input = USE_TYPEDARRAY ?\n      this.input.subarray(this.rawinflate.ip) :\n      this.input.slice(this.rawinflate.ip);\n    this.ip = 0;\n  }\n\n  // verify adler-32\n  /*\n  if (this.verify) {\n    adler32 =\n      input[this.ip++] << 24 | input[this.ip++] << 16 |\n      input[this.ip++] << 8 | input[this.ip++];\n\n    if (adler32 !== Zlib.Adler32(buffer)) {\n      throw new Error('invalid adler-32 checksum');\n    }\n  }\n  */\n\n  return buffer;\n};\n\nZlib.InflateStream.prototype.readHeader = function() {\n  var ip = this.ip;\n  var input = this.input;\n\n  // Compression Method and Flags\n  var cmf = input[ip++];\n  var flg = input[ip++];\n\n  if (cmf === void 0 || flg === void 0) {\n    return -1;\n  }\n\n  // compression method\n  switch (cmf & 0x0f) {\n    case Zlib.CompressionMethod.DEFLATE:\n      this.method = Zlib.CompressionMethod.DEFLATE;\n      break;\n    default:\n      throw new Error('unsupported compression method');\n  }\n\n  // fcheck\n  if (((cmf << 8) + flg) % 31 !== 0) {\n    throw new Error('invalid fcheck flag:' + ((cmf << 8) + flg) % 31);\n  }\n\n  // fdict (not supported)\n  if (flg & 0x20) {\n    throw new Error('fdict flag is not supported');\n  }\n\n  this.ip = ip;\n};\n\n\n/**\n * @fileoverview GZIP (RFC1952) .\n */\n\n/**\n * @constructor\n * @param {!(Array|Uint8Array)} input input buffer.\n * @param {Object=} opt_params option parameters.\n */\nZlib.Gunzip = function(input, opt_params) {\n  /** @type {!(Array.<number>|Uint8Array)} input buffer. */\n  this.input = input;\n  /** @type {number} input buffer pointer. */\n  this.ip = 0;\n  /** @type {Array.<Zlib.GunzipMember>} */\n  this.member = [];\n  /** @type {boolean} */\n  this.decompressed = false;\n};\n\n/**\n * @return {Array.<Zlib.GunzipMember>}\n */\nZlib.Gunzip.prototype.getMembers = function() {\n  if (!this.decompressed) {\n    this.decompress();\n  }\n\n  return this.member.slice();\n};\n\n/**\n * inflate gzip data.\n * @return {!(Array.<number>|Uint8Array)} inflated buffer.\n */\nZlib.Gunzip.prototype.decompress = function() {\n  /** @type {number} input length. */\n  var il = this.input.length;\n\n  while (this.ip < il) {\n    this.decodeMember();\n  }\n\n  this.decompressed = true;\n\n  return this.concatMember();\n};\n\n/**\n * decode gzip member.\n */\nZlib.Gunzip.prototype.decodeMember = function() {\n  /** @type {Zlib.GunzipMember} */\n  var member = new Zlib.GunzipMember();\n  /** @type {number} */\n  var isize;\n  /** @type {Zlib.RawInflate} RawInflate implementation. */\n  var rawinflate;\n  /** @type {!(Array.<number>|Uint8Array)} inflated data. */\n  var inflated;\n  /** @type {number} inflate size */\n  var inflen;\n  /** @type {number} character code */\n  var c;\n  /** @type {number} character index in string. */\n  var ci;\n  /** @type {Array.<string>} character array. */\n  var str;\n  /** @type {number} modification time. */\n  var mtime;\n  /** @type {number} */\n  var crc32;\n\n  var input = this.input;\n  var ip = this.ip;\n\n  member.id1 = input[ip++];\n  member.id2 = input[ip++];\n\n  // check signature\n  if (member.id1 !== 0x1f || member.id2 !== 0x8b) {\n    throw new Error('invalid file signature:' + member.id1 + ',' + member.id2);\n  }\n\n  // check compression method\n  member.cm = input[ip++];\n  switch (member.cm) {\n    case 8: /* XXX: use Zlib const */\n      break;\n    default:\n      throw new Error('unknown compression method: ' + member.cm);\n  }\n\n  // flags\n  member.flg = input[ip++];\n\n  // modification time\n  mtime = (input[ip++])       |\n          (input[ip++] << 8)  |\n          (input[ip++] << 16) |\n          (input[ip++] << 24);\n  member.mtime = new Date(mtime * 1000);\n\n  // extra flags\n  member.xfl = input[ip++];\n\n  // operating system\n  member.os = input[ip++];\n\n  // extra\n  if ((member.flg & Zlib.Gzip.FlagsMask.FEXTRA) > 0) {\n    member.xlen = input[ip++] | (input[ip++] << 8);\n    ip = this.decodeSubField(ip, member.xlen);\n  }\n\n  // fname\n  if ((member.flg & Zlib.Gzip.FlagsMask.FNAME) > 0) {\n    for(str = [], ci = 0; (c = input[ip++]) > 0;) {\n      str[ci++] = String.fromCharCode(c);\n    }\n    member.name = str.join('');\n  }\n\n  // fcomment\n  if ((member.flg & Zlib.Gzip.FlagsMask.FCOMMENT) > 0) {\n    for(str = [], ci = 0; (c = input[ip++]) > 0;) {\n      str[ci++] = String.fromCharCode(c);\n    }\n    member.comment = str.join('');\n  }\n\n  // fhcrc\n  if ((member.flg & Zlib.Gzip.FlagsMask.FHCRC) > 0) {\n    member.crc16 = Zlib.CRC32.calc(input, 0, ip) & 0xffff;\n    if (member.crc16 !== (input[ip++] | (input[ip++] << 8))) {\n      throw new Error('invalid header crc16');\n    }\n  }\n\n  // isize \n  // inflate\n  isize = (input[input.length - 4])       | (input[input.length - 3] << 8) |\n          (input[input.length - 2] << 16) | (input[input.length - 1] << 24);\n\n  // isize \n  //  2-bit  1/4 \n  // LZ77   2-Byte  258-Byte \n  // 1/128 \n  //  isize  512 \n  // \n  if (input.length - ip - /* CRC-32 */4 - /* ISIZE */4 < isize * 512) {\n    inflen = isize;\n  }\n\n  // compressed block\n  rawinflate = new Zlib.RawInflate(input, {'index': ip, 'bufferSize': inflen});\n  member.data = inflated = rawinflate.decompress();\n  ip = rawinflate.ip;\n\n  // crc32\n  member.crc32 = crc32 =\n    ((input[ip++])       | (input[ip++] << 8) |\n     (input[ip++] << 16) | (input[ip++] << 24)) >>> 0;\n  if (Zlib.CRC32.calc(inflated) !== crc32) {\n    throw new Error('invalid CRC-32 checksum: 0x' +\n        Zlib.CRC32.calc(inflated).toString(16) + ' / 0x' + crc32.toString(16));\n  }\n\n  // input size\n  member.isize = isize =\n    ((input[ip++])       | (input[ip++] << 8) |\n     (input[ip++] << 16) | (input[ip++] << 24)) >>> 0;\n  if ((inflated.length & 0xffffffff) !== isize) {\n    throw new Error('invalid input size: ' +\n        (inflated.length & 0xffffffff) + ' / ' + isize);\n  }\n\n  this.member.push(member);\n  this.ip = ip;\n};\n\n/**\n * \n * XXX: \n */\nZlib.Gunzip.prototype.decodeSubField = function(ip, length) {\n  return ip + length;\n};\n\n/**\n * @return {!(Array.<number>|Uint8Array)}\n */\nZlib.Gunzip.prototype.concatMember = function() {\n  /** @type {Array.<Zlib.GunzipMember>} */\n  var member = this.member;\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var il;\n  /** @type {number} */\n  var p = 0;\n  /** @type {number} */\n  var size = 0;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var buffer;\n\n  for (i = 0, il = member.length; i < il; ++i) {\n    size += member[i].data.length;\n  }\n\n  if (USE_TYPEDARRAY) {\n    buffer = new Uint8Array(size);\n    for (i = 0; i < il; ++i) {\n      buffer.set(member[i].data, p);\n      p += member[i].data.length;\n    }\n  } else {\n    buffer = [];\n    for (i = 0; i < il; ++i) {\n      buffer[i] = member[i].data;\n    }\n    buffer = Array.prototype.concat.apply([], buffer);\n  }\n\n  return buffer;\n};\n\n\n\n/**\n * @constructor\n */\nZlib.GunzipMember = function() {\n  /** @type {number} signature first byte. */\n  this.id1;\n  /** @type {number} signature second byte. */\n  this.id2;\n  /** @type {number} compression method. */\n  this.cm;\n  /** @type {number} flags. */\n  this.flg;\n  /** @type {Date} modification time. */\n  this.mtime;\n  /** @type {number} extra flags. */\n  this.xfl;\n  /** @type {number} operating system number. */\n  this.os;\n  /** @type {number} CRC-16 value for FHCRC flag. */\n  this.crc16;\n  /** @type {number} extra length. */\n  this.xlen;\n  /** @type {number} CRC-32 value for verification. */\n  this.crc32;\n  /** @type {number} input size modulo 32 value. */\n  this.isize;\n  /** @type {string} filename. */\n  this.name;\n  /** @type {string} comment. */\n  this.comment;\n  /** @type {!(Uint8Array|Array.<number>)} */\n  this.data;\n};\n\nZlib.GunzipMember.prototype.getName = function() {\n  return this.name;\n};\n\nZlib.GunzipMember.prototype.getData = function() {\n  return this.data;\n};\n\nZlib.GunzipMember.prototype.getMtime = function() {\n  return this.mtime;\n}\n\n/**\n * @fileoverview GZIP (RFC1952) .\n */\n\n/**\n * @constructor\n * @param {!(Array|Uint8Array)} input input buffer.\n * @param {Object=} opt_params option parameters.\n */\nZlib.Gzip = function(input, opt_params) {\n  /** @type {!(Array.<number>|Uint8Array)} input buffer. */\n  this.input = input;\n  /** @type {number} input buffer pointer. */\n  this.ip = 0;\n  /** @type {!(Array.<number>|Uint8Array)} output buffer. */\n  this.output;\n  /** @type {number} output buffer. */\n  this.op = 0;\n  /** @type {!Object} flags option flags. */\n  this.flags = {};\n  /** @type {!string} filename. */\n  this.filename;\n  /** @type {!string} comment. */\n  this.comment;\n  /** @type {!Object} deflate options. */\n  this.deflateOptions;\n\n  // option parameters\n  if (opt_params) {\n    if (opt_params['flags']) {\n      this.flags = opt_params['flags'];\n    }\n    if (typeof opt_params['filename'] === 'string') {\n      this.filename = opt_params['filename'];\n    }\n    if (typeof opt_params['comment'] === 'string') {\n      this.comment = opt_params['comment'];\n    }\n    if (opt_params['deflateOptions']) {\n      this.deflateOptions = opt_params['deflateOptions'];\n    }\n  }\n\n  if (!this.deflateOptions) {\n    this.deflateOptions = {};\n  }\n};\n\n/**\n * @type {number}\n * @const\n */\nZlib.Gzip.DefaultBufferSize = 0x8000;\n\n/**\n * encode gzip members.\n * @return {!(Array|Uint8Array)} gzip binary array.\n */\nZlib.Gzip.prototype.compress = function() {\n  /** @type {number} flags. */\n  var flg;\n  /** @type {number} modification time. */\n  var mtime;\n  /** @type {number} CRC-16 value for FHCRC flag. */\n  var crc16;\n  /** @type {number} CRC-32 value for verification. */\n  var crc32;\n  /** @type {!Zlib.RawDeflate} raw deflate object. */\n  var rawdeflate;\n  /** @type {number} character code */\n  var c;\n  /** @type {number} loop counter. */\n  var i;\n  /** @type {number} loop limiter. */\n  var il;\n  /** @type {!(Array|Uint8Array)} output buffer. */\n  var output =\n    new (USE_TYPEDARRAY ? Uint8Array : Array)(Zlib.Gzip.DefaultBufferSize);\n  /** @type {number} output buffer pointer. */\n  var op = 0;\n\n  var input = this.input;\n  var ip = this.ip;\n  var filename = this.filename;\n  var comment = this.comment;\n\n  // check signature\n  output[op++] = 0x1f;\n  output[op++] = 0x8b;\n\n  // check compression method\n  output[op++] = 8; /* XXX: use Zlib const */\n\n  // flags\n  flg = 0;\n  if (this.flags['fname'])    flg |= Zlib.Gzip.FlagsMask.FNAME;\n  if (this.flags['fcomment']) flg |= Zlib.Gzip.FlagsMask.FCOMMENT;\n  if (this.flags['fhcrc'])    flg |= Zlib.Gzip.FlagsMask.FHCRC;\n  // XXX: FTEXT\n  // XXX: FEXTRA\n  output[op++] = flg;\n\n  // modification time\n  mtime = (Date.now ? Date.now() : +new Date()) / 1000 | 0;\n  output[op++] = mtime        & 0xff;\n  output[op++] = mtime >>>  8 & 0xff;\n  output[op++] = mtime >>> 16 & 0xff;\n  output[op++] = mtime >>> 24 & 0xff;\n\n  // extra flags\n  output[op++] = 0;\n\n  // operating system\n  output[op++] = Zlib.Gzip.OperatingSystem.UNKNOWN;\n\n  // extra\n  /* NOP */\n\n  // fname\n  if (this.flags['fname'] !== void 0) {\n    for (i = 0, il = filename.length; i < il; ++i) {\n      c = filename.charCodeAt(i);\n      if (c > 0xff) { output[op++] = (c >>> 8) & 0xff; }\n      output[op++] = c & 0xff;\n    }\n    output[op++] = 0; // null termination\n  }\n\n  // fcomment\n  if (this.flags['comment']) {\n    for (i = 0, il = comment.length; i < il; ++i) {\n      c = comment.charCodeAt(i);\n      if (c > 0xff) { output[op++] = (c >>> 8) & 0xff; }\n      output[op++] = c & 0xff;\n    }\n    output[op++] = 0; // null termination\n  }\n\n  // fhcrc\n  if (this.flags['fhcrc']) {\n    crc16 = Zlib.CRC32.calc(output, 0, op) & 0xffff;\n    output[op++] = (crc16      ) & 0xff;\n    output[op++] = (crc16 >>> 8) & 0xff;\n  }\n\n  // add compress option\n  this.deflateOptions['outputBuffer'] = output;\n  this.deflateOptions['outputIndex'] = op;\n\n  // compress\n  rawdeflate = new Zlib.RawDeflate(input, this.deflateOptions);\n  output = rawdeflate.compress();\n  op = rawdeflate.op;\n\n  // expand buffer\n  if (USE_TYPEDARRAY) {\n    if (op + 8 > output.buffer.byteLength) {\n      this.output = new Uint8Array(op + 8);\n      this.output.set(new Uint8Array(output.buffer));\n      output = this.output;\n    } else {\n      output = new Uint8Array(output.buffer);\n    }\n  }\n\n  // crc32\n  crc32 = Zlib.CRC32.calc(input);\n  output[op++] = (crc32       ) & 0xff;\n  output[op++] = (crc32 >>>  8) & 0xff;\n  output[op++] = (crc32 >>> 16) & 0xff;\n  output[op++] = (crc32 >>> 24) & 0xff;\n\n  // input size\n  il = input.length;\n  output[op++] = (il       ) & 0xff;\n  output[op++] = (il >>>  8) & 0xff;\n  output[op++] = (il >>> 16) & 0xff;\n  output[op++] = (il >>> 24) & 0xff;\n\n  this.ip = ip;\n\n  if (USE_TYPEDARRAY && op < output.length) {\n    this.output = output = output.subarray(0, op);\n  }\n\n  return output;\n};\n\n/** @enum {number} */\nZlib.Gzip.OperatingSystem = {\n  FAT: 0,\n  AMIGA: 1,\n  VMS: 2,\n  UNIX: 3,\n  VM_CMS: 4,\n  ATARI_TOS: 5,\n  HPFS: 6,\n  MACINTOSH: 7,\n  Z_SYSTEM: 8,\n  CP_M: 9,\n  TOPS_20: 10,\n  NTFS: 11,\n  QDOS: 12,\n  ACORN_RISCOS: 13,\n  UNKNOWN: 255\n};\n\n/** @enum {number} */\nZlib.Gzip.FlagsMask = {\n  FTEXT: 0x01,\n  FHCRC: 0x02,\n  FEXTRA: 0x04,\n  FNAME: 0x08,\n  FCOMMENT: 0x10\n};\n\n\n/**\n * @fileoverview Heap Sort . .\n */\n\n/**\n * \n * @param {number} length .\n * @constructor\n */\nZlib.Heap = function(length) {\n  this.buffer = new (USE_TYPEDARRAY ? Uint16Array : Array)(length * 2);\n  this.length = 0;\n};\n\n/**\n *  index \n * @param {number} index  index.\n * @return {number}  index.\n *\n */\nZlib.Heap.prototype.getParent = function(index) {\n  return ((index - 2) / 4 | 0) * 2;\n};\n\n/**\n *  index \n * @param {number} index  index.\n * @return {number}  index.\n */\nZlib.Heap.prototype.getChild = function(index) {\n  return 2 * index + 2;\n};\n\n/**\n * Heap \n * @param {number} index  index.\n * @param {number} value .\n * @return {number} .\n */\nZlib.Heap.prototype.push = function(index, value) {\n  var current, parent,\n      heap = this.buffer,\n      swap;\n\n  current = this.length;\n  heap[this.length++] = value;\n  heap[this.length++] = index;\n\n  // \n  while (current > 0) {\n    parent = this.getParent(current);\n\n    // \n    if (heap[current] > heap[parent]) {\n      swap = heap[current];\n      heap[current] = heap[parent];\n      heap[parent] = swap;\n\n      swap = heap[current + 1];\n      heap[current + 1] = heap[parent + 1];\n      heap[parent + 1] = swap;\n\n      current = parent;\n    // \n    } else {\n      break;\n    }\n  }\n\n  return this.length;\n};\n\n/**\n * Heap\n * @return {{index: number, value: number, length: number}} {index: index,\n *     value: , length: }  Object.\n */\nZlib.Heap.prototype.pop = function() {\n  var index, value,\n      heap = this.buffer, swap,\n      current, parent;\n\n  value = heap[0];\n  index = heap[1];\n\n  // \n  this.length -= 2;\n  heap[0] = heap[this.length];\n  heap[1] = heap[this.length + 1];\n\n  parent = 0;\n  // \n  while (true) {\n    current = this.getChild(parent);\n\n    // \n    if (current >= this.length) {\n      break;\n    }\n\n    // \n    if (current + 2 < this.length && heap[current + 2] > heap[current]) {\n      current += 2;\n    }\n\n    // \n    if (heap[current] > heap[parent]) {\n      swap = heap[parent];\n      heap[parent] = heap[current];\n      heap[current] = swap;\n\n      swap = heap[parent + 1];\n      heap[parent + 1] = heap[current + 1];\n      heap[current + 1] = swap;\n    } else {\n      break;\n    }\n\n    parent = current;\n  }\n\n  return {index: index, value: value, length: this.length};\n};\n\n\n/* vim:set expandtab ts=2 sw=2 tw=80: */\n\n/**\n * @fileoverview Deflate (RFC1951) .\n */\n\n\n/**\n * Raw Deflate \n *\n * @constructor\n * @param {!(Array.<number>|Uint8Array)} input .\n * @param {Object=} opt_params option parameters.\n *\n * typed array outputBuffer  Array  Uint8Array \n * .\n * \n * .\n */\nZlib.RawDeflate = function(input, opt_params) {\n  /** @type {Zlib.RawDeflate.CompressionType} */\n  this.compressionType = Zlib.RawDeflate.CompressionType.DYNAMIC;\n  /** @type {number} */\n  this.lazy = 0;\n  /** @type {!(Array.<number>|Uint32Array)} */\n  this.freqsLitLen;\n  /** @type {!(Array.<number>|Uint32Array)} */\n  this.freqsDist;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  this.input =\n    (USE_TYPEDARRAY && input instanceof Array) ? new Uint8Array(input) : input;\n  /** @type {!(Array.<number>|Uint8Array)} output output buffer. */\n  this.output;\n  /** @type {number} pos output buffer position. */\n  this.op = 0;\n\n  // option parameters\n  if (opt_params) {\n    if (opt_params['lazy']) {\n      this.lazy = opt_params['lazy'];\n    }\n    if (typeof opt_params['compressionType'] === 'number') {\n      this.compressionType = opt_params['compressionType'];\n    }\n    if (opt_params['outputBuffer']) {\n      this.output =\n        (USE_TYPEDARRAY && opt_params['outputBuffer'] instanceof Array) ?\n        new Uint8Array(opt_params['outputBuffer']) : opt_params['outputBuffer'];\n    }\n    if (typeof opt_params['outputIndex'] === 'number') {\n      this.op = opt_params['outputIndex'];\n    }\n  }\n\n  if (!this.output) {\n    this.output = new (USE_TYPEDARRAY ? Uint8Array : Array)(0x8000);\n  }\n};\n\n/**\n * @enum {number}\n */\nZlib.RawDeflate.CompressionType = {\n  NONE: 0,\n  FIXED: 1,\n  DYNAMIC: 2,\n  RESERVED: 3\n};\n\n\n/**\n * LZ77 \n * @const\n * @type {number}\n */\nZlib.RawDeflate.Lz77MinLength = 3;\n\n/**\n * LZ77 \n * @const\n * @type {number}\n */\nZlib.RawDeflate.Lz77MaxLength = 258;\n\n/**\n * LZ77 \n * @const\n * @type {number}\n */\nZlib.RawDeflate.WindowSize = 0x8000;\n\n/**\n * \n * @const\n * @type {number}\n */\nZlib.RawDeflate.MaxCodeLength = 16;\n\n/**\n * \n * @const\n * @type {number}\n */\nZlib.RawDeflate.HUFMAX = 286;\n\n/**\n * \n * @const\n * @type {Array.<Array.<number, number>>}\n */\nZlib.RawDeflate.FixedHuffmanTable = (function() {\n  var table = [], i;\n\n  for (i = 0; i < 288; i++) {\n    switch (true) {\n      case (i <= 143): table.push([i       + 0x030, 8]); break;\n      case (i <= 255): table.push([i - 144 + 0x190, 9]); break;\n      case (i <= 279): table.push([i - 256 + 0x000, 7]); break;\n      case (i <= 287): table.push([i - 280 + 0x0C0, 8]); break;\n      default:\n        throw 'invalid literal: ' + i;\n    }\n  }\n\n  return table;\n})();\n\n/**\n * DEFLATE \n * @return {!(Array.<number>|Uint8Array)}  byte array.\n */\nZlib.RawDeflate.prototype.compress = function() {\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var blockArray;\n  /** @type {number} */\n  var position;\n  /** @type {number} */\n  var length;\n\n  var input = this.input;\n\n  // compression\n  switch (this.compressionType) {\n    case Zlib.RawDeflate.CompressionType.NONE:\n      // each 65535-Byte (length header: 16-bit)\n      for (position = 0, length = input.length; position < length;) {\n        blockArray = USE_TYPEDARRAY ?\n          input.subarray(position, position + 0xffff) :\n          input.slice(position, position + 0xffff);\n        position += blockArray.length;\n        this.makeNocompressBlock(blockArray, (position === length));\n      }\n      break;\n    case Zlib.RawDeflate.CompressionType.FIXED:\n      this.output = this.makeFixedHuffmanBlock(input, true);\n      this.op = this.output.length;\n      break;\n    case Zlib.RawDeflate.CompressionType.DYNAMIC:\n      this.output = this.makeDynamicHuffmanBlock(input, true);\n      this.op = this.output.length;\n      break;\n    default:\n      throw 'invalid compression type';\n  }\n\n  return this.output;\n};\n\n/**\n * \n * @param {!(Array.<number>|Uint8Array)} blockArray  byte array.\n * @param {!boolean} isFinalBlock true.\n * @return {!(Array.<number>|Uint8Array)}  byte array.\n */\nZlib.RawDeflate.prototype.makeNocompressBlock =\nfunction(blockArray, isFinalBlock) {\n  /** @type {number} */\n  var bfinal;\n  /** @type {Zlib.RawDeflate.CompressionType} */\n  var btype;\n  /** @type {number} */\n  var len;\n  /** @type {number} */\n  var nlen;\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var il;\n\n  var output = this.output;\n  var op = this.op;\n\n  // expand buffer\n  if (USE_TYPEDARRAY) {\n    output = new Uint8Array(this.output.buffer);\n    while (output.length <= op + blockArray.length + 5) {\n      output = new Uint8Array(output.length << 1);\n    }\n    output.set(this.output);\n  }\n\n  // header\n  bfinal = isFinalBlock ? 1 : 0;\n  btype = Zlib.RawDeflate.CompressionType.NONE;\n  output[op++] = (bfinal) | (btype << 1);\n\n  // length\n  len = blockArray.length;\n  nlen = (~len + 0x10000) & 0xffff;\n  output[op++] =          len & 0xff;\n  output[op++] =  (len >>> 8) & 0xff;\n  output[op++] =         nlen & 0xff;\n  output[op++] = (nlen >>> 8) & 0xff;\n\n  // copy buffer\n  if (USE_TYPEDARRAY) {\n     output.set(blockArray, op);\n     op += blockArray.length;\n     output = output.subarray(0, op);\n  } else {\n    for (i = 0, il = blockArray.length; i < il; ++i) {\n      output[op++] = blockArray[i];\n    }\n    output.length = op;\n  }\n\n  this.op = op;\n  this.output = output;\n\n  return output;\n};\n\n/**\n * \n * @param {!(Array.<number>|Uint8Array)} blockArray  byte array.\n * @param {!boolean} isFinalBlock true.\n * @return {!(Array.<number>|Uint8Array)}  byte array.\n */\nZlib.RawDeflate.prototype.makeFixedHuffmanBlock =\nfunction(blockArray, isFinalBlock) {\n  /** @type {Zlib.BitStream} */\n  var stream = new Zlib.BitStream(USE_TYPEDARRAY ?\n    new Uint8Array(this.output.buffer) : this.output, this.op);\n  /** @type {number} */\n  var bfinal;\n  /** @type {Zlib.RawDeflate.CompressionType} */\n  var btype;\n  /** @type {!(Array.<number>|Uint16Array)} */\n  var data;\n\n  // header\n  bfinal = isFinalBlock ? 1 : 0;\n  btype = Zlib.RawDeflate.CompressionType.FIXED;\n\n  stream.writeBits(bfinal, 1, true);\n  stream.writeBits(btype, 2, true);\n\n  data = this.lz77(blockArray);\n  this.fixedHuffman(data, stream);\n\n  return stream.finish();\n};\n\n/**\n * \n * @param {!(Array.<number>|Uint8Array)} blockArray  byte array.\n * @param {!boolean} isFinalBlock true.\n * @return {!(Array.<number>|Uint8Array)}  byte array.\n */\nZlib.RawDeflate.prototype.makeDynamicHuffmanBlock =\nfunction(blockArray, isFinalBlock) {\n  /** @type {Zlib.BitStream} */\n  var stream = new Zlib.BitStream(USE_TYPEDARRAY ?\n    new Uint8Array(this.output.buffer) : this.output, this.op);\n  /** @type {number} */\n  var bfinal;\n  /** @type {Zlib.RawDeflate.CompressionType} */\n  var btype;\n  /** @type {!(Array.<number>|Uint16Array)} */\n  var data;\n  /** @type {number} */\n  var hlit;\n  /** @type {number} */\n  var hdist;\n  /** @type {number} */\n  var hclen;\n  /** @const @type {Array.<number>} */\n  var hclenOrder =\n        [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var litLenLengths;\n  /** @type {!(Array.<number>|Uint16Array)} */\n  var litLenCodes;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var distLengths;\n  /** @type {!(Array.<number>|Uint16Array)} */\n  var distCodes;\n  /** @type {{\n   *   codes: !(Array.<number>|Uint32Array),\n   *   freqs: !(Array.<number>|Uint8Array)\n   * }} */\n  var treeSymbols;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var treeLengths;\n  /** @type {Array} */\n  var transLengths = new Array(19);\n  /** @type {!(Array.<number>|Uint16Array)} */\n  var treeCodes;\n  /** @type {number} */\n  var code;\n  /** @type {number} */\n  var bitlen;\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var il;\n\n  // header\n  bfinal = isFinalBlock ? 1 : 0;\n  btype = Zlib.RawDeflate.CompressionType.DYNAMIC;\n\n  stream.writeBits(bfinal, 1, true);\n  stream.writeBits(btype, 2, true);\n\n  data = this.lz77(blockArray);\n\n  // , \n  litLenLengths = this.getLengths_(this.freqsLitLen, 15);\n  litLenCodes = this.getCodesFromLengths_(litLenLengths);\n  distLengths = this.getLengths_(this.freqsDist, 7);\n  distCodes = this.getCodesFromLengths_(distLengths);\n\n  // HLIT, HDIST \n  for (hlit = 286; hlit > 257 && litLenLengths[hlit - 1] === 0; hlit--) {}\n  for (hdist = 30; hdist > 1 && distLengths[hdist - 1] === 0; hdist--) {}\n\n  // HCLEN\n  treeSymbols =\n    this.getTreeSymbols_(hlit, litLenLengths, hdist, distLengths);\n  treeLengths = this.getLengths_(treeSymbols.freqs, 7);\n  for (i = 0; i < 19; i++) {\n    transLengths[i] = treeLengths[hclenOrder[i]];\n  }\n  for (hclen = 19; hclen > 4 && transLengths[hclen - 1] === 0; hclen--) {}\n\n  treeCodes = this.getCodesFromLengths_(treeLengths);\n\n  // \n  stream.writeBits(hlit - 257, 5, true);\n  stream.writeBits(hdist - 1, 5, true);\n  stream.writeBits(hclen - 4, 4, true);\n  for (i = 0; i < hclen; i++) {\n    stream.writeBits(transLengths[i], 3, true);\n  }\n\n  // \n  for (i = 0, il = treeSymbols.codes.length; i < il; i++) {\n    code = treeSymbols.codes[i];\n\n    stream.writeBits(treeCodes[code], treeLengths[code], true);\n\n    // extra bits\n    if (code >= 16) {\n      i++;\n      switch (code) {\n        case 16: bitlen = 2; break;\n        case 17: bitlen = 3; break;\n        case 18: bitlen = 7; break;\n        default:\n          throw 'invalid code: ' + code;\n      }\n\n      stream.writeBits(treeSymbols.codes[i], bitlen, true);\n    }\n  }\n\n  this.dynamicHuffman(\n    data,\n    [litLenCodes, litLenLengths],\n    [distCodes, distLengths],\n    stream\n  );\n\n  return stream.finish();\n};\n\n\n/**\n * ()\n * @param {!(Array.<number>|Uint16Array)} dataArray LZ77  byte array.\n * @param {!Zlib.BitStream} stream .\n * @return {!Zlib.BitStream} .\n */\nZlib.RawDeflate.prototype.dynamicHuffman =\nfunction(dataArray, litLen, dist, stream) {\n  /** @type {number} */\n  var index;\n  /** @type {number} */\n  var length;\n  /** @type {number} */\n  var literal;\n  /** @type {number} */\n  var code;\n  /** @type {number} */\n  var litLenCodes;\n  /** @type {number} */\n  var litLenLengths;\n  /** @type {number} */\n  var distCodes;\n  /** @type {number} */\n  var distLengths;\n\n  litLenCodes = litLen[0];\n  litLenLengths = litLen[1];\n  distCodes = dist[0];\n  distLengths = dist[1];\n\n  //  BitStream \n  for (index = 0, length = dataArray.length; index < length; ++index) {\n    literal = dataArray[index];\n\n    // literal or length\n    stream.writeBits(litLenCodes[literal], litLenLengths[literal], true);\n\n    // \n    if (literal > 256) {\n      // length extra\n      stream.writeBits(dataArray[++index], dataArray[++index], true);\n      // distance\n      code = dataArray[++index];\n      stream.writeBits(distCodes[code], distLengths[code], true);\n      // distance extra\n      stream.writeBits(dataArray[++index], dataArray[++index], true);\n    // \n    } else if (literal === 256) {\n      break;\n    }\n  }\n\n  return stream;\n};\n\n/**\n * \n * @param {!(Array.<number>|Uint16Array)} dataArray LZ77  byte array.\n * @param {!Zlib.BitStream} stream .\n * @return {!Zlib.BitStream} .\n */\nZlib.RawDeflate.prototype.fixedHuffman = function(dataArray, stream) {\n  /** @type {number} */\n  var index;\n  /** @type {number} */\n  var length;\n  /** @type {number} */\n  var literal;\n\n  //  BitStream \n  for (index = 0, length = dataArray.length; index < length; index++) {\n    literal = dataArray[index];\n\n    // \n    Zlib.BitStream.prototype.writeBits.apply(\n      stream,\n      Zlib.RawDeflate.FixedHuffmanTable[literal]\n    );\n\n    // \n    if (literal > 0x100) {\n      // length extra\n      stream.writeBits(dataArray[++index], dataArray[++index], true);\n      // distance\n      stream.writeBits(dataArray[++index], 5);\n      // distance extra\n      stream.writeBits(dataArray[++index], dataArray[++index], true);\n    // \n    } else if (literal === 0x100) {\n      break;\n    }\n  }\n\n  return stream;\n};\n\n/**\n * \n * @param {!number} length .\n * @param {!number} backwardDistance .\n * @constructor\n */\nZlib.RawDeflate.Lz77Match = function(length, backwardDistance) {\n  /** @type {number} match length. */\n  this.length = length;\n  /** @type {number} backward distance. */\n  this.backwardDistance = backwardDistance;\n};\n\n/**\n * .\n * [, , ] .\n * @const\n * @type {!(Array.<number>|Uint32Array)}\n */\nZlib.RawDeflate.Lz77Match.LengthCodeTable = (function(table) {\n  return USE_TYPEDARRAY ? new Uint32Array(table) : table;\n})((function() {\n  /** @type {!Array} */\n  var table = [];\n  /** @type {number} */\n  var i;\n  /** @type {!Array.<number>} */\n  var c;\n\n  for (i = 3; i <= 258; i++) {\n    c = code(i);\n    table[i] = (c[2] << 24) | (c[1] << 16) | c[0];\n  }\n\n  /**\n   * @param {number} length lz77 length.\n   * @return {!Array.<number>} lz77 codes.\n   */\n  function code(length) {\n    switch (true) {\n      case (length === 3): return [257, length - 3, 0]; break;\n      case (length === 4): return [258, length - 4, 0]; break;\n      case (length === 5): return [259, length - 5, 0]; break;\n      case (length === 6): return [260, length - 6, 0]; break;\n      case (length === 7): return [261, length - 7, 0]; break;\n      case (length === 8): return [262, length - 8, 0]; break;\n      case (length === 9): return [263, length - 9, 0]; break;\n      case (length === 10): return [264, length - 10, 0]; break;\n      case (length <= 12): return [265, length - 11, 1]; break;\n      case (length <= 14): return [266, length - 13, 1]; break;\n      case (length <= 16): return [267, length - 15, 1]; break;\n      case (length <= 18): return [268, length - 17, 1]; break;\n      case (length <= 22): return [269, length - 19, 2]; break;\n      case (length <= 26): return [270, length - 23, 2]; break;\n      case (length <= 30): return [271, length - 27, 2]; break;\n      case (length <= 34): return [272, length - 31, 2]; break;\n      case (length <= 42): return [273, length - 35, 3]; break;\n      case (length <= 50): return [274, length - 43, 3]; break;\n      case (length <= 58): return [275, length - 51, 3]; break;\n      case (length <= 66): return [276, length - 59, 3]; break;\n      case (length <= 82): return [277, length - 67, 4]; break;\n      case (length <= 98): return [278, length - 83, 4]; break;\n      case (length <= 114): return [279, length - 99, 4]; break;\n      case (length <= 130): return [280, length - 115, 4]; break;\n      case (length <= 162): return [281, length - 131, 5]; break;\n      case (length <= 194): return [282, length - 163, 5]; break;\n      case (length <= 226): return [283, length - 195, 5]; break;\n      case (length <= 257): return [284, length - 227, 5]; break;\n      case (length === 258): return [285, length - 258, 0]; break;\n      default: throw 'invalid length: ' + length;\n    }\n  }\n\n  return table;\n})());\n\n/**\n * \n * @param {!number} dist .\n * @return {!Array.<number>} .\n * @private\n */\nZlib.RawDeflate.Lz77Match.prototype.getDistanceCode_ = function(dist) {\n  /** @type {!Array.<number>} distance code table. */\n  var r;\n\n  switch (true) {\n    case (dist === 1): r = [0, dist - 1, 0]; break;\n    case (dist === 2): r = [1, dist - 2, 0]; break;\n    case (dist === 3): r = [2, dist - 3, 0]; break;\n    case (dist === 4): r = [3, dist - 4, 0]; break;\n    case (dist <= 6): r = [4, dist - 5, 1]; break;\n    case (dist <= 8): r = [5, dist - 7, 1]; break;\n    case (dist <= 12): r = [6, dist - 9, 2]; break;\n    case (dist <= 16): r = [7, dist - 13, 2]; break;\n    case (dist <= 24): r = [8, dist - 17, 3]; break;\n    case (dist <= 32): r = [9, dist - 25, 3]; break;\n    case (dist <= 48): r = [10, dist - 33, 4]; break;\n    case (dist <= 64): r = [11, dist - 49, 4]; break;\n    case (dist <= 96): r = [12, dist - 65, 5]; break;\n    case (dist <= 128): r = [13, dist - 97, 5]; break;\n    case (dist <= 192): r = [14, dist - 129, 6]; break;\n    case (dist <= 256): r = [15, dist - 193, 6]; break;\n    case (dist <= 384): r = [16, dist - 257, 7]; break;\n    case (dist <= 512): r = [17, dist - 385, 7]; break;\n    case (dist <= 768): r = [18, dist - 513, 8]; break;\n    case (dist <= 1024): r = [19, dist - 769, 8]; break;\n    case (dist <= 1536): r = [20, dist - 1025, 9]; break;\n    case (dist <= 2048): r = [21, dist - 1537, 9]; break;\n    case (dist <= 3072): r = [22, dist - 2049, 10]; break;\n    case (dist <= 4096): r = [23, dist - 3073, 10]; break;\n    case (dist <= 6144): r = [24, dist - 4097, 11]; break;\n    case (dist <= 8192): r = [25, dist - 6145, 11]; break;\n    case (dist <= 12288): r = [26, dist - 8193, 12]; break;\n    case (dist <= 16384): r = [27, dist - 12289, 12]; break;\n    case (dist <= 24576): r = [28, dist - 16385, 13]; break;\n    case (dist <= 32768): r = [29, dist - 24577, 13]; break;\n    default: throw 'invalid distance';\n  }\n\n  return r;\n};\n\n/**\n *  LZ77 .\n * \n * [ CODE, EXTRA-BIT-LEN, EXTRA, CODE, EXTRA-BIT-LEN, EXTRA ]\n * @return {!Array.<number>} LZ77  byte array.\n */\nZlib.RawDeflate.Lz77Match.prototype.toLz77Array = function() {\n  /** @type {number} */\n  var length = this.length;\n  /** @type {number} */\n  var dist = this.backwardDistance;\n  /** @type {Array} */\n  var codeArray = [];\n  /** @type {number} */\n  var pos = 0;\n  /** @type {!Array.<number>} */\n  var code;\n\n  // length\n  code = Zlib.RawDeflate.Lz77Match.LengthCodeTable[length];\n  codeArray[pos++] = code & 0xffff;\n  codeArray[pos++] = (code >> 16) & 0xff;\n  codeArray[pos++] = code >> 24;\n\n  // distance\n  code = this.getDistanceCode_(dist);\n  codeArray[pos++] = code[0];\n  codeArray[pos++] = code[1];\n  codeArray[pos++] = code[2];\n\n  return codeArray;\n};\n\n/**\n * LZ77 \n * @param {!(Array.<number>|Uint8Array)} dataArray LZ77 .\n * @return {!(Array.<number>|Uint16Array)} LZ77 .\n */\nZlib.RawDeflate.prototype.lz77 = function(dataArray) {\n  /** @type {number} input position */\n  var position;\n  /** @type {number} input length */\n  var length;\n  /** @type {number} loop counter */\n  var i;\n  /** @type {number} loop limiter */\n  var il;\n  /** @type {number} chained-hash-table key */\n  var matchKey;\n  /** @type {Object.<number, Array.<number>>} chained-hash-table */\n  var table = {};\n  /** @const @type {number} */\n  var windowSize = Zlib.RawDeflate.WindowSize;\n  /** @type {Array.<number>} match list */\n  var matchList;\n  /** @type {Zlib.RawDeflate.Lz77Match} longest match */\n  var longestMatch;\n  /** @type {Zlib.RawDeflate.Lz77Match} previous longest match */\n  var prevMatch;\n  /** @type {!(Array.<number>|Uint16Array)} lz77 buffer */\n  var lz77buf = USE_TYPEDARRAY ?\n    new Uint16Array(dataArray.length * 2) : [];\n  /** @type {number} lz77 output buffer pointer */\n  var pos = 0;\n  /** @type {number} lz77 skip length */\n  var skipLength = 0;\n  /** @type {!(Array.<number>|Uint32Array)} */\n  var freqsLitLen = new (USE_TYPEDARRAY ? Uint32Array : Array)(286);\n  /** @type {!(Array.<number>|Uint32Array)} */\n  var freqsDist = new (USE_TYPEDARRAY ? Uint32Array : Array)(30);\n  /** @type {number} */\n  var lazy = this.lazy;\n  /** @type {*} temporary variable */\n  var tmp;\n\n  // \n  if (!USE_TYPEDARRAY) {\n    for (i = 0; i <= 285;) { freqsLitLen[i++] = 0; }\n    for (i = 0; i <= 29;) { freqsDist[i++] = 0; }\n  }\n  freqsLitLen[256] = 1; // EOB  1\n\n  /**\n   * \n   * @param {Zlib.RawDeflate.Lz77Match} match LZ77 Match data.\n   * @param {!number} offset ().\n   * @private\n   */\n  function writeMatch(match, offset) {\n    /** @type {Array.<number>} */\n    var lz77Array = match.toLz77Array();\n    /** @type {number} */\n    var i;\n    /** @type {number} */\n    var il;\n\n    for (i = 0, il = lz77Array.length; i < il; ++i) {\n      lz77buf[pos++] = lz77Array[i];\n    }\n    freqsLitLen[lz77Array[0]]++;\n    freqsDist[lz77Array[3]]++;\n    skipLength = match.length + offset - 1;\n    prevMatch = null;\n  }\n\n  // LZ77 \n  for (position = 0, length = dataArray.length; position < length; ++position) {\n    // \n    for (matchKey = 0, i = 0, il = Zlib.RawDeflate.Lz77MinLength; i < il; ++i) {\n      if (position + i === length) {\n        break;\n      }\n      matchKey = (matchKey << 8) | dataArray[position + i];\n    }\n\n    // \n    if (table[matchKey] === void 0) { table[matchKey] = []; }\n    matchList = table[matchKey];\n\n    // skip\n    if (skipLength-- > 0) {\n      matchList.push(position);\n      continue;\n    }\n\n    //  ()\n    while (matchList.length > 0 && position - matchList[0] > windowSize) {\n      matchList.shift();\n    }\n\n    // \n    if (position + Zlib.RawDeflate.Lz77MinLength >= length) {\n      if (prevMatch) {\n        writeMatch(prevMatch, -1);\n      }\n\n      for (i = 0, il = length - position; i < il; ++i) {\n        tmp = dataArray[position + i];\n        lz77buf[pos++] = tmp;\n        ++freqsLitLen[tmp];\n      }\n      break;\n    }\n\n    // \n    if (matchList.length > 0) {\n      longestMatch = this.searchLongestMatch_(dataArray, position, matchList);\n\n      if (prevMatch) {\n        // \n        if (prevMatch.length < longestMatch.length) {\n          // write previous literal\n          tmp = dataArray[position - 1];\n          lz77buf[pos++] = tmp;\n          ++freqsLitLen[tmp];\n\n          // write current match\n          writeMatch(longestMatch, 0);\n        } else {\n          // write previous match\n          writeMatch(prevMatch, -1);\n        }\n      } else if (longestMatch.length < lazy) {\n        prevMatch = longestMatch;\n      } else {\n        writeMatch(longestMatch, 0);\n      }\n    // \n    } else if (prevMatch) {\n      writeMatch(prevMatch, -1);\n    } else {\n      tmp = dataArray[position];\n      lz77buf[pos++] = tmp;\n      ++freqsLitLen[tmp];\n    }\n\n    matchList.push(position); // \n  }\n\n  // \n  lz77buf[pos++] = 256;\n  freqsLitLen[256]++;\n  this.freqsLitLen = freqsLitLen;\n  this.freqsDist = freqsDist;\n\n  return /** @type {!(Uint16Array|Array.<number>)} */ (\n    USE_TYPEDARRAY ?  lz77buf.subarray(0, pos) : lz77buf\n  );\n};\n\n/**\n * \n * @param {!Object} data plain data byte array.\n * @param {!number} position plain data byte array position.\n * @param {!Array.<number>} matchList .\n * @return {!Zlib.RawDeflate.Lz77Match} .\n * @private\n */\nZlib.RawDeflate.prototype.searchLongestMatch_ =\nfunction(data, position, matchList) {\n  var match,\n      currentMatch,\n      matchMax = 0, matchLength,\n      i, j, l, dl = data.length;\n\n  //  1 \n  permatch:\n  for (i = 0, l = matchList.length; i < l; i++) {\n    match = matchList[l - i - 1];\n    matchLength = Zlib.RawDeflate.Lz77MinLength;\n\n    // \n    if (matchMax > Zlib.RawDeflate.Lz77MinLength) {\n      for (j = matchMax; j > Zlib.RawDeflate.Lz77MinLength; j--) {\n        if (data[match + j - 1] !== data[position + j - 1]) {\n          continue permatch;\n        }\n      }\n      matchLength = matchMax;\n    }\n\n    // \n    while (matchLength < Zlib.RawDeflate.Lz77MaxLength &&\n           position + matchLength < dl &&\n           data[match + matchLength] === data[position + matchLength]) {\n      ++matchLength;\n    }\n\n    // \n    if (matchLength > matchMax) {\n      currentMatch = match;\n      matchMax = matchLength;\n    }\n\n    // \n    if (matchLength === Zlib.RawDeflate.Lz77MaxLength) {\n      break;\n    }\n  }\n\n  return new Zlib.RawDeflate.Lz77Match(matchMax, position - currentMatch);\n};\n\n/**\n * Tree-Transmit Symbols \n * reference: PuTTY Deflate implementation\n * @param {number} hlit HLIT.\n * @param {!(Array.<number>|Uint8Array)} litlenLengths .\n * @param {number} hdist HDIST.\n * @param {!(Array.<number>|Uint8Array)} distLengths .\n * @return {{\n *   codes: !(Array.<number>|Uint32Array),\n *   freqs: !(Array.<number>|Uint8Array)\n * }} Tree-Transmit Symbols.\n */\nZlib.RawDeflate.prototype.getTreeSymbols_ =\nfunction(hlit, litlenLengths, hdist, distLengths) {\n  var src = new (USE_TYPEDARRAY ? Uint32Array : Array)(hlit + hdist),\n      i, j, runLength, l,\n      result = new (USE_TYPEDARRAY ? Uint32Array : Array)(286 + 30),\n      nResult,\n      rpt,\n      freqs = new (USE_TYPEDARRAY ? Uint8Array : Array)(19);\n\n  j = 0;\n  for (i = 0; i < hlit; i++) {\n    src[j++] = litlenLengths[i];\n  }\n  for (i = 0; i < hdist; i++) {\n    src[j++] = distLengths[i];\n  }\n\n  // \n  if (!USE_TYPEDARRAY) {\n    for (i = 0, l = freqs.length; i < l; ++i) {\n      freqs[i] = 0;\n    }\n  }\n\n  // \n  nResult = 0;\n  for (i = 0, l = src.length; i < l; i += j) {\n    // Run Length Encoding\n    for (j = 1; i + j < l && src[i + j] === src[i]; ++j) {}\n\n    runLength = j;\n\n    if (src[i] === 0) {\n      // 0  3 \n      if (runLength < 3) {\n        while (runLength-- > 0) {\n          result[nResult++] = 0;\n          freqs[0]++;\n        }\n      } else {\n        while (runLength > 0) {\n          //  138 \n          rpt = (runLength < 138 ? runLength : 138);\n\n          if (rpt > runLength - 3 && rpt < runLength) {\n            rpt = runLength - 3;\n          }\n\n          // 3-10  -> 17\n          if (rpt <= 10) {\n            result[nResult++] = 17;\n            result[nResult++] = rpt - 3;\n            freqs[17]++;\n          // 11-138  -> 18\n          } else {\n            result[nResult++] = 18;\n            result[nResult++] = rpt - 11;\n            freqs[18]++;\n          }\n\n          runLength -= rpt;\n        }\n      }\n    } else {\n      result[nResult++] = src[i];\n      freqs[src[i]]++;\n      runLength--;\n\n      // 3\n      if (runLength < 3) {\n        while (runLength-- > 0) {\n          result[nResult++] = src[i];\n          freqs[src[i]]++;\n        }\n      // 3 \n      } else {\n        while (runLength > 0) {\n          // runLength 3-6 \n          rpt = (runLength < 6 ? runLength : 6);\n\n          if (rpt > runLength - 3 && rpt < runLength) {\n            rpt = runLength - 3;\n          }\n\n          result[nResult++] = 16;\n          result[nResult++] = rpt - 3;\n          freqs[16]++;\n\n          runLength -= rpt;\n        }\n      }\n    }\n  }\n\n  return {\n    codes:\n      USE_TYPEDARRAY ? result.subarray(0, nResult) : result.slice(0, nResult),\n    freqs: freqs\n  };\n};\n\n/**\n * \n * @param {!(Array.<number>|Uint8Array|Uint32Array)} freqs .\n * @param {number} limit .\n * @return {!(Array.<number>|Uint8Array)} .\n * @private\n */\nZlib.RawDeflate.prototype.getLengths_ = function(freqs, limit) {\n  /** @type {number} */\n  var nSymbols = freqs.length;\n  /** @type {Zlib.Heap} */\n  var heap = new Zlib.Heap(2 * Zlib.RawDeflate.HUFMAX);\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var length = new (USE_TYPEDARRAY ? Uint8Array : Array)(nSymbols);\n  /** @type {Array} */\n  var nodes;\n  /** @type {!(Array.<number>|Uint32Array)} */\n  var values;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var codeLength;\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var il;\n\n  // \n  if (!USE_TYPEDARRAY) {\n    for (i = 0; i < nSymbols; i++) {\n      length[i] = 0;\n    }\n  }\n\n  // \n  for (i = 0; i < nSymbols; ++i) {\n    if (freqs[i] > 0) {\n      heap.push(i, freqs[i]);\n    }\n  }\n  nodes = new Array(heap.length / 2);\n  values = new (USE_TYPEDARRAY ? Uint32Array : Array)(heap.length / 2);\n\n  //  0  1 \n  if (nodes.length === 1) {\n    length[heap.pop().index] = 1;\n    return length;\n  }\n\n  // Reverse Package Merge Algorithm  Canonical Huffman Code \n  for (i = 0, il = heap.length / 2; i < il; ++i) {\n    nodes[i] = heap.pop();\n    values[i] = nodes[i].value;\n  }\n  codeLength = this.reversePackageMerge_(values, values.length, limit);\n\n  for (i = 0, il = nodes.length; i < il; ++i) {\n    length[nodes[i].index] = codeLength[i];\n  }\n\n  return length;\n};\n\n/**\n * Reverse Package Merge Algorithm.\n * @param {!(Array.<number>|Uint32Array)} freqs sorted probability.\n * @param {number} symbols number of symbols.\n * @param {number} limit code length limit.\n * @return {!(Array.<number>|Uint8Array)} code lengths.\n */\nZlib.RawDeflate.prototype.reversePackageMerge_ = function(freqs, symbols, limit) {\n  /** @type {!(Array.<number>|Uint16Array)} */\n  var minimumCost = new (USE_TYPEDARRAY ? Uint16Array : Array)(limit);\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var flag = new (USE_TYPEDARRAY ? Uint8Array : Array)(limit);\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var codeLength = new (USE_TYPEDARRAY ? Uint8Array : Array)(symbols);\n  /** @type {Array} */\n  var value = new Array(limit);\n  /** @type {Array} */\n  var type  = new Array(limit);\n  /** @type {Array.<number>} */\n  var currentPosition = new Array(limit);\n  /** @type {number} */\n  var excess = (1 << limit) - symbols;\n  /** @type {number} */\n  var half = (1 << (limit - 1));\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var j;\n  /** @type {number} */\n  var t;\n  /** @type {number} */\n  var weight;\n  /** @type {number} */\n  var next;\n\n  /**\n   * @param {number} j\n   */\n  function takePackage(j) {\n    /** @type {number} */\n    var x = type[j][currentPosition[j]];\n\n    if (x === symbols) {\n      takePackage(j+1);\n      takePackage(j+1);\n    } else {\n      --codeLength[x];\n    }\n\n    ++currentPosition[j];\n  }\n\n  minimumCost[limit-1] = symbols;\n\n  for (j = 0; j < limit; ++j) {\n    if (excess < half) {\n      flag[j] = 0;\n    } else {\n      flag[j] = 1;\n      excess -= half;\n    }\n    excess <<= 1;\n    minimumCost[limit-2-j] = (minimumCost[limit-1-j] / 2 | 0) + symbols;\n  }\n  minimumCost[0] = flag[0];\n\n  value[0] = new Array(minimumCost[0]);\n  type[0]  = new Array(minimumCost[0]);\n  for (j = 1; j < limit; ++j) {\n    if (minimumCost[j] > 2 * minimumCost[j-1] + flag[j]) {\n      minimumCost[j] = 2 * minimumCost[j-1] + flag[j];\n    }\n    value[j] = new Array(minimumCost[j]);\n    type[j]  = new Array(minimumCost[j]);\n  }\n\n  for (i = 0; i < symbols; ++i) {\n    codeLength[i] = limit;\n  }\n\n  for (t = 0; t < minimumCost[limit-1]; ++t) {\n    value[limit-1][t] = freqs[t];\n    type[limit-1][t]  = t;\n  }\n\n  for (i = 0; i < limit; ++i) {\n    currentPosition[i] = 0;\n  }\n  if (flag[limit-1] === 1) {\n    --codeLength[0];\n    ++currentPosition[limit-1];\n  }\n\n  for (j = limit-2; j >= 0; --j) {\n    i = 0;\n    weight = 0;\n    next = currentPosition[j+1];\n\n    for (t = 0; t < minimumCost[j]; t++) {\n      weight = value[j+1][next] + value[j+1][next+1];\n\n      if (weight > freqs[i]) {\n        value[j][t] = weight;\n        type[j][t] = symbols;\n        next += 2;\n      } else {\n        value[j][t] = freqs[i];\n        type[j][t] = i;\n        ++i;\n      }\n    }\n\n    currentPosition[j] = 0;\n    if (flag[j] === 1) {\n      takePackage(j);\n    }\n  }\n\n  return codeLength;\n};\n\n/**\n * \n * reference: PuTTY Deflate implementation\n * @param {!(Array.<number>|Uint8Array)} lengths .\n * @return {!(Array.<number>|Uint16Array)} .\n * @private\n */\nZlib.RawDeflate.prototype.getCodesFromLengths_ = function(lengths) {\n  var codes = new (USE_TYPEDARRAY ? Uint16Array : Array)(lengths.length),\n      count = [],\n      startCode = [],\n      code = 0, i, il, j, m;\n\n  // Count the codes of each length.\n  for (i = 0, il = lengths.length; i < il; i++) {\n    count[lengths[i]] = (count[lengths[i]] | 0) + 1;\n  }\n\n  // Determine the starting code for each length block.\n  for (i = 1, il = Zlib.RawDeflate.MaxCodeLength; i <= il; i++) {\n    startCode[i] = code;\n    code += count[i] | 0;\n    code <<= 1;\n  }\n\n  // Determine the code for each symbol. Mirrored, of course.\n  for (i = 0, il = lengths.length; i < il; i++) {\n    code = startCode[lengths[i]];\n    startCode[lengths[i]] += 1;\n    codes[i] = 0;\n\n    for (j = 0, m = lengths[i]; j < m; j++) {\n      codes[i] = (codes[i] << 1) | (code & 1);\n      code >>>= 1;\n    }\n  }\n\n  return codes;\n};\n\n\n/**\n * @param {!(Array.<number>|Uint8Array)} input input buffer.\n * @param {Object=} opt_params options.\n * @constructor\n */\nZlib.Unzip = function(input, opt_params) {\n  opt_params = opt_params || {};\n  /** @type {!(Array.<number>|Uint8Array)} */\n  this.input =\n    (USE_TYPEDARRAY && (input instanceof Array)) ?\n    new Uint8Array(input) : input;\n  /** @type {number} */\n  this.ip = 0;\n  /** @type {number} */\n  this.eocdrOffset;\n  /** @type {number} */\n  this.numberOfThisDisk;\n  /** @type {number} */\n  this.startDisk;\n  /** @type {number} */\n  this.totalEntriesThisDisk;\n  /** @type {number} */\n  this.totalEntries;\n  /** @type {number} */\n  this.centralDirectorySize;\n  /** @type {number} */\n  this.centralDirectoryOffset;\n  /** @type {number} */\n  this.commentLength;\n  /** @type {(Array.<number>|Uint8Array)} */\n  this.comment;\n  /** @type {Array.<Zlib.Unzip.FileHeader>} */\n  this.fileHeaderList;\n  /** @type {Object.<string, number>} */\n  this.filenameToIndex;\n  /** @type {boolean} */\n  this.verify = opt_params['verify'] || false;\n  /** @type {(Array.<number>|Uint8Array)} */\n  this.password = opt_params['password'];\n};\n\nZlib.Unzip.CompressionMethod = Zlib.Zip.CompressionMethod;\n\n/**\n * @type {Array.<number>}\n * @const\n */\nZlib.Unzip.FileHeaderSignature = Zlib.Zip.FileHeaderSignature;\n\n/**\n * @type {Array.<number>}\n * @const\n */\nZlib.Unzip.LocalFileHeaderSignature = Zlib.Zip.LocalFileHeaderSignature;\n\n/**\n * @type {Array.<number>}\n * @const\n */\nZlib.Unzip.CentralDirectorySignature = Zlib.Zip.CentralDirectorySignature;\n\n/**\n * @param {!(Array.<number>|Uint8Array)} input input buffer.\n * @param {number} ip input position.\n * @constructor\n */\nZlib.Unzip.FileHeader = function(input, ip) {\n  /** @type {!(Array.<number>|Uint8Array)} */\n  this.input = input;\n  /** @type {number} */\n  this.offset = ip;\n  /** @type {number} */\n  this.length;\n  /** @type {number} */\n  this.version;\n  /** @type {number} */\n  this.os;\n  /** @type {number} */\n  this.needVersion;\n  /** @type {number} */\n  this.flags;\n  /** @type {number} */\n  this.compression;\n  /** @type {number} */\n  this.time;\n  /** @type {number} */\n  this.date;\n  /** @type {number} */\n  this.crc32;\n  /** @type {number} */\n  this.compressedSize;\n  /** @type {number} */\n  this.plainSize;\n  /** @type {number} */\n  this.fileNameLength;\n  /** @type {number} */\n  this.extraFieldLength;\n  /** @type {number} */\n  this.fileCommentLength;\n  /** @type {number} */\n  this.diskNumberStart;\n  /** @type {number} */\n  this.internalFileAttributes;\n  /** @type {number} */\n  this.externalFileAttributes;\n  /** @type {number} */\n  this.relativeOffset;\n  /** @type {string} */\n  this.filename;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  this.extraField;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  this.comment;\n};\n\nZlib.Unzip.FileHeader.prototype.parse = function() {\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var input = this.input;\n  /** @type {number} */\n  var ip = this.offset;\n\n  // central file header signature\n  if (input[ip++] !== Zlib.Unzip.FileHeaderSignature[0] ||\n      input[ip++] !== Zlib.Unzip.FileHeaderSignature[1] ||\n      input[ip++] !== Zlib.Unzip.FileHeaderSignature[2] ||\n      input[ip++] !== Zlib.Unzip.FileHeaderSignature[3]) {\n    throw new Error('invalid file header signature');\n  }\n\n  // version made by\n  this.version = input[ip++];\n  this.os = input[ip++];\n\n  // version needed to extract\n  this.needVersion = input[ip++] | (input[ip++] << 8);\n\n  // general purpose bit flag\n  this.flags = input[ip++] | (input[ip++] << 8);\n\n  // compression method\n  this.compression = input[ip++] | (input[ip++] << 8);\n\n  // last mod file time\n  this.time = input[ip++] | (input[ip++] << 8);\n\n  //last mod file date\n  this.date = input[ip++] | (input[ip++] << 8);\n\n  // crc-32\n  this.crc32 = (\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24)\n  ) >>> 0;\n\n  // compressed size\n  this.compressedSize = (\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24)\n  ) >>> 0;\n\n  // uncompressed size\n  this.plainSize = (\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24)\n  ) >>> 0;\n\n  // file name length\n  this.fileNameLength = input[ip++] | (input[ip++] << 8);\n\n  // extra field length\n  this.extraFieldLength = input[ip++] | (input[ip++] << 8);\n\n  // file comment length\n  this.fileCommentLength = input[ip++] | (input[ip++] << 8);\n\n  // disk number start\n  this.diskNumberStart = input[ip++] | (input[ip++] << 8);\n\n  // internal file attributes\n  this.internalFileAttributes = input[ip++] | (input[ip++] << 8);\n\n  // external file attributes\n  this.externalFileAttributes =\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24);\n\n  // relative offset of local header\n  this.relativeOffset = (\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24)\n  ) >>> 0;\n\n  // file name\n  this.filename = String.fromCharCode.apply(null, USE_TYPEDARRAY ?\n    input.subarray(ip, ip += this.fileNameLength) :\n    input.slice(ip, ip += this.fileNameLength)\n  );\n\n  // extra field\n  this.extraField = USE_TYPEDARRAY ?\n    input.subarray(ip, ip += this.extraFieldLength) :\n    input.slice(ip, ip += this.extraFieldLength);\n\n  // file comment\n  this.comment = USE_TYPEDARRAY ?\n    input.subarray(ip, ip + this.fileCommentLength) :\n    input.slice(ip, ip + this.fileCommentLength);\n\n  this.length = ip - this.offset;\n};\n\n/**\n * @param {!(Array.<number>|Uint8Array)} input input buffer.\n * @param {number} ip input position.\n * @constructor\n */\nZlib.Unzip.LocalFileHeader = function(input, ip) {\n  /** @type {!(Array.<number>|Uint8Array)} */\n  this.input = input;\n  /** @type {number} */\n  this.offset = ip;\n  /** @type {number} */\n  this.length;\n  /** @type {number} */\n  this.needVersion;\n  /** @type {number} */\n  this.flags;\n  /** @type {number} */\n  this.compression;\n  /** @type {number} */\n  this.time;\n  /** @type {number} */\n  this.date;\n  /** @type {number} */\n  this.crc32;\n  /** @type {number} */\n  this.compressedSize;\n  /** @type {number} */\n  this.plainSize;\n  /** @type {number} */\n  this.fileNameLength;\n  /** @type {number} */\n  this.extraFieldLength;\n  /** @type {string} */\n  this.filename;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  this.extraField;\n};\n\nZlib.Unzip.LocalFileHeader.Flags = Zlib.Zip.Flags;\n\nZlib.Unzip.LocalFileHeader.prototype.parse = function() {\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var input = this.input;\n  /** @type {number} */\n  var ip = this.offset;\n\n  // local file header signature\n  if (input[ip++] !== Zlib.Unzip.LocalFileHeaderSignature[0] ||\n      input[ip++] !== Zlib.Unzip.LocalFileHeaderSignature[1] ||\n      input[ip++] !== Zlib.Unzip.LocalFileHeaderSignature[2] ||\n      input[ip++] !== Zlib.Unzip.LocalFileHeaderSignature[3]) {\n    throw new Error('invalid local file header signature');\n  }\n\n  // version needed to extract\n  this.needVersion = input[ip++] | (input[ip++] << 8);\n\n  // general purpose bit flag\n  this.flags = input[ip++] | (input[ip++] << 8);\n\n  // compression method\n  this.compression = input[ip++] | (input[ip++] << 8);\n\n  // last mod file time\n  this.time = input[ip++] | (input[ip++] << 8);\n\n  //last mod file date\n  this.date = input[ip++] | (input[ip++] << 8);\n\n  // crc-32\n  this.crc32 = (\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24)\n  ) >>> 0;\n\n  // compressed size\n  this.compressedSize = (\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24)\n  ) >>> 0;\n\n  // uncompressed size\n  this.plainSize = (\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24)\n  ) >>> 0;\n\n  // file name length\n  this.fileNameLength = input[ip++] | (input[ip++] << 8);\n\n  // extra field length\n  this.extraFieldLength = input[ip++] | (input[ip++] << 8);\n\n  // file name\n  this.filename = String.fromCharCode.apply(null, USE_TYPEDARRAY ?\n    input.subarray(ip, ip += this.fileNameLength) :\n    input.slice(ip, ip += this.fileNameLength)\n  );\n\n  // extra field\n  this.extraField = USE_TYPEDARRAY ?\n    input.subarray(ip, ip += this.extraFieldLength) :\n    input.slice(ip, ip += this.extraFieldLength);\n\n  this.length = ip - this.offset;\n};\n\n\nZlib.Unzip.prototype.searchEndOfCentralDirectoryRecord = function() {\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var input = this.input;\n  /** @type {number} */\n  var ip;\n\n  for (ip = input.length - 12; ip > 0; --ip) {\n    if (input[ip  ] === Zlib.Unzip.CentralDirectorySignature[0] &&\n        input[ip+1] === Zlib.Unzip.CentralDirectorySignature[1] &&\n        input[ip+2] === Zlib.Unzip.CentralDirectorySignature[2] &&\n        input[ip+3] === Zlib.Unzip.CentralDirectorySignature[3]) {\n      this.eocdrOffset = ip;\n      return;\n    }\n  }\n\n  throw new Error('End of Central Directory Record not found');\n};\n\nZlib.Unzip.prototype.parseEndOfCentralDirectoryRecord = function() {\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var input = this.input;\n  /** @type {number} */\n  var ip;\n\n  if (!this.eocdrOffset) {\n    this.searchEndOfCentralDirectoryRecord();\n  }\n  ip = this.eocdrOffset;\n\n  // signature\n  if (input[ip++] !== Zlib.Unzip.CentralDirectorySignature[0] ||\n      input[ip++] !== Zlib.Unzip.CentralDirectorySignature[1] ||\n      input[ip++] !== Zlib.Unzip.CentralDirectorySignature[2] ||\n      input[ip++] !== Zlib.Unzip.CentralDirectorySignature[3]) {\n    throw new Error('invalid signature');\n  }\n\n  // number of this disk\n  this.numberOfThisDisk = input[ip++] | (input[ip++] << 8);\n\n  // number of the disk with the start of the central directory\n  this.startDisk = input[ip++] | (input[ip++] << 8);\n\n  // total number of entries in the central directory on this disk\n  this.totalEntriesThisDisk = input[ip++] | (input[ip++] << 8);\n\n  // total number of entries in the central directory\n  this.totalEntries = input[ip++] | (input[ip++] << 8);\n\n  // size of the central directory\n  this.centralDirectorySize = (\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24)\n  ) >>> 0;\n\n  // offset of start of central directory with respect to the starting disk number\n  this.centralDirectoryOffset = (\n    (input[ip++]      ) | (input[ip++] <<  8) |\n    (input[ip++] << 16) | (input[ip++] << 24)\n  ) >>> 0;\n\n  // .ZIP file comment length\n  this.commentLength = input[ip++] | (input[ip++] << 8);\n\n  // .ZIP file comment\n  this.comment = USE_TYPEDARRAY ?\n    input.subarray(ip, ip + this.commentLength) :\n    input.slice(ip, ip + this.commentLength);\n};\n\nZlib.Unzip.prototype.parseFileHeader = function() {\n  /** @type {Array.<Zlib.Unzip.FileHeader>} */\n  var filelist = [];\n  /** @type {Object.<string, number>} */\n  var filetable = {};\n  /** @type {number} */\n  var ip;\n  /** @type {Zlib.Unzip.FileHeader} */\n  var fileHeader;\n  /*: @type {number} */\n  var i;\n  /*: @type {number} */\n  var il;\n\n  if (this.fileHeaderList) {\n    return;\n  }\n\n  if (this.centralDirectoryOffset === void 0) {\n    this.parseEndOfCentralDirectoryRecord();\n  }\n  ip = this.centralDirectoryOffset;\n\n  for (i = 0, il = this.totalEntries; i < il; ++i) {\n    fileHeader = new Zlib.Unzip.FileHeader(this.input, ip);\n    fileHeader.parse();\n    ip += fileHeader.length;\n    filelist[i] = fileHeader;\n    filetable[fileHeader.filename] = i;\n  }\n\n  if (this.centralDirectorySize < ip - this.centralDirectoryOffset) {\n    throw new Error('invalid file header size');\n  }\n\n  this.fileHeaderList = filelist;\n  this.filenameToIndex = filetable;\n};\n\n/**\n * @param {number} index file header index.\n * @param {Object=} opt_params\n * @return {!(Array.<number>|Uint8Array)} file data.\n */\nZlib.Unzip.prototype.getFileData = function(index, opt_params) {\n  opt_params = opt_params || {};\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var input = this.input;\n  /** @type {Array.<Zlib.Unzip.FileHeader>} */\n  var fileHeaderList = this.fileHeaderList;\n  /** @type {Zlib.Unzip.LocalFileHeader} */\n  var localFileHeader;\n  /** @type {number} */\n  var offset;\n  /** @type {number} */\n  var length;\n  /** @type {!(Array.<number>|Uint8Array)} */\n  var buffer;\n  /** @type {number} */\n  var crc32;\n  /** @type {Array.<number>|Uint32Array|Object} */\n  var key;\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var il;\n\n  if (!fileHeaderList) {\n    this.parseFileHeader();\n  }\n\n  if (fileHeaderList[index] === void 0) {\n    throw new Error('wrong index');\n  }\n\n  offset = fileHeaderList[index].relativeOffset;\n  localFileHeader = new Zlib.Unzip.LocalFileHeader(this.input, offset);\n  localFileHeader.parse();\n  offset += localFileHeader.length;\n  length = localFileHeader.compressedSize;\n\n  // decryption\n  if ((localFileHeader.flags & Zlib.Unzip.LocalFileHeader.Flags.ENCRYPT) !== 0) {\n    if (!(opt_params['password'] || this.password)) {\n      throw new Error('please set password');\n    }\n    key =  this.createDecryptionKey(opt_params['password'] || this.password);\n\n    // encryption header\n    for(i = offset, il = offset + 12; i < il; ++i) {\n      this.decode(key, input[i]);\n    }\n    offset += 12;\n    length -= 12;\n\n    // decryption\n    for (i = offset, il = offset + length; i < il; ++i) {\n      input[i] = this.decode(key, input[i]);\n    }\n  }\n\n  switch (localFileHeader.compression) {\n    case Zlib.Unzip.CompressionMethod.STORE:\n      buffer = USE_TYPEDARRAY ?\n        this.input.subarray(offset, offset + length) :\n        this.input.slice(offset, offset + length);\n      break;\n    case Zlib.Unzip.CompressionMethod.DEFLATE:\n      buffer = new Zlib.RawInflate(this.input, {\n        'index': offset,\n        'bufferSize': localFileHeader.plainSize\n      }).decompress();\n      break;\n    default:\n      throw new Error('unknown compression type');\n  }\n\n  if (this.verify) {\n    crc32 = Zlib.CRC32.calc(buffer);\n    if (localFileHeader.crc32 !== crc32) {\n      throw new Error(\n        'wrong crc: file=0x' + localFileHeader.crc32.toString(16) +\n        ', data=0x' + crc32.toString(16)\n      );\n    }\n  }\n\n  return buffer;\n};\n\n/**\n * @return {Array.<string>}\n */\nZlib.Unzip.prototype.getFilenames = function() {\n  /** @type {Array.<string>} */\n  var filenameList = [];\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var il;\n  /** @type {Array.<Zlib.Unzip.FileHeader>} */\n  var fileHeaderList;\n\n  if (!this.fileHeaderList) {\n    this.parseFileHeader();\n  }\n  fileHeaderList = this.fileHeaderList;\n\n  for (i = 0, il = fileHeaderList.length; i < il; ++i) {\n    filenameList[i] = fileHeaderList[i].filename;\n  }\n\n  return filenameList;\n};\n\n/**\n * @param {string} filename extract filename.\n * @param {Object=} opt_params\n * @return {!(Array.<number>|Uint8Array)} decompressed data.\n */\nZlib.Unzip.prototype.decompress = function(filename, opt_params) {\n  /** @type {number} */\n  var index;\n\n  if (!this.filenameToIndex) {\n    this.parseFileHeader();\n  }\n  index = this.filenameToIndex[filename];\n\n  if (index === void 0) {\n    throw new Error(filename + ' not found');\n  }\n\n  return this.getFileData(index, opt_params);\n};\n\n/**\n * @param {(Array.<number>|Uint8Array)} password\n */\nZlib.Unzip.prototype.setPassword = function(password) {\n  this.password = password;\n};\n\n/**\n * @param {(Array.<number>|Uint32Array|Object)} key\n * @param {number} n\n * @return {number}\n */\nZlib.Unzip.prototype.decode = function(key, n) {\n  n ^= this.getByte(/** @type {(Array.<number>|Uint32Array)} */(key));\n  this.updateKeys(/** @type {(Array.<number>|Uint32Array)} */(key), n);\n\n  return n;\n};\n\n// common method\nZlib.Unzip.prototype.updateKeys = Zlib.Zip.prototype.updateKeys;\nZlib.Unzip.prototype.createDecryptionKey = Zlib.Zip.prototype.createEncryptionKey;\nZlib.Unzip.prototype.getByte = Zlib.Zip.prototype.getByte;\n\n/**\n * @fileoverview .\n */\n\n\n/**\n * Byte String  Byte Array .\n * @param {!string} str byte string.\n * @return {!Array.<number>} byte array.\n */\nZlib.Util.stringToByteArray = function(str) {\n  /** @type {!Array.<(string|number)>} */\n  var tmp = str.split('');\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var il;\n\n  for (i = 0, il = tmp.length; i < il; i++) {\n    tmp[i] = (tmp[i].charCodeAt(0) & 0xff) >>> 0;\n  }\n\n  return tmp;\n};\n\n\n/**\n * @fileoverview Adler32 checksum .\n */\n\n\n/**\n * Adler32 \n * @param {!(Array|Uint8Array|string)} array  byte array.\n * @return {number} Adler32 .\n */\nZlib.Adler32 = function(array) {\n  if (typeof(array) === 'string') {\n    array = Zlib.Util.stringToByteArray(array);\n  }\n  return Zlib.Adler32.update(1, array);\n};\n\n/**\n * Adler32 \n * @param {number} adler .\n * @param {!(Array|Uint8Array)} array  byte array.\n * @return {number} Adler32 .\n */\nZlib.Adler32.update = function(adler, array) {\n  /** @type {number} */\n  var s1 = adler & 0xffff;\n  /** @type {number} */\n  var s2 = (adler >>> 16) & 0xffff;\n  /** @type {number} array length */\n  var len = array.length;\n  /** @type {number} loop length (don't overflow) */\n  var tlen;\n  /** @type {number} array index */\n  var i = 0;\n\n  while (len > 0) {\n    tlen = len > Zlib.Adler32.OptimizationParameter ?\n      Zlib.Adler32.OptimizationParameter : len;\n    len -= tlen;\n    do {\n      s1 += array[i++];\n      s2 += s1;\n    } while (--tlen);\n\n    s1 %= 65521;\n    s2 %= 65521;\n  }\n\n  return ((s2 << 16) | s1) >>> 0;\n};\n\n/**\n * Adler32 \n *  1024 .\n * @see http://jsperf.com/adler-32-simple-vs-optimized/3\n * @define {number}\n */\nZlib.Adler32.OptimizationParameter = 1024;\n\n\n\n\n/**\n * \n * @constructor\n * @param {!(Array|Uint8Array)=} buffer output buffer.\n * @param {number=} bufferPosition start buffer pointer.\n */\nZlib.BitStream = function(buffer, bufferPosition) {\n  /** @type {number} buffer index. */\n  this.index = typeof bufferPosition === 'number' ? bufferPosition : 0;\n  /** @type {number} bit index. */\n  this.bitindex = 0;\n  /** @type {!(Array|Uint8Array)} bit-stream output buffer. */\n  this.buffer = buffer instanceof (USE_TYPEDARRAY ? Uint8Array : Array) ?\n    buffer :\n    new (USE_TYPEDARRAY ? Uint8Array : Array)(Zlib.BitStream.DefaultBlockSize);\n\n  //  index \n  if (this.buffer.length * 2 <= this.index) {\n    throw new Error(\"invalid index\");\n  } else if (this.buffer.length <= this.index) {\n    this.expandBuffer();\n  }\n};\n\n/**\n * .\n * @const\n * @type {number}\n */\nZlib.BitStream.DefaultBlockSize = 0x8000;\n\n/**\n * expand buffer.\n * @return {!(Array|Uint8Array)} new buffer.\n */\nZlib.BitStream.prototype.expandBuffer = function() {\n  /** @type {!(Array|Uint8Array)} old buffer. */\n  var oldbuf = this.buffer;\n  /** @type {number} loop counter. */\n  var i;\n  /** @type {number} loop limiter. */\n  var il = oldbuf.length;\n  /** @type {!(Array|Uint8Array)} new buffer. */\n  var buffer =\n    new (USE_TYPEDARRAY ? Uint8Array : Array)(il << 1);\n\n  // copy buffer\n  if (USE_TYPEDARRAY) {\n    buffer.set(oldbuf);\n  } else {\n    // XXX: loop unrolling\n    for (i = 0; i < il; ++i) {\n      buffer[i] = oldbuf[i];\n    }\n  }\n\n  return (this.buffer = buffer);\n};\n\n\n/**\n * .\n * @param {number} number .\n * @param {number} n .\n * @param {boolean=} reverse  true.\n */\nZlib.BitStream.prototype.writeBits = function(number, n, reverse) {\n  var buffer = this.buffer;\n  var index = this.index;\n  var bitindex = this.bitindex;\n\n  /** @type {number} current octet. */\n  var current = buffer[index];\n  /** @type {number} loop counter. */\n  var i;\n\n  /**\n   * 32-bit \n   * @param {number} n 32-bit integer.\n   * @return {number} reversed 32-bit integer.\n   * @private\n   */\n  function rev32_(n) {\n    return (Zlib.BitStream.ReverseTable[n & 0xFF] << 24) |\n      (Zlib.BitStream.ReverseTable[n >>> 8 & 0xFF] << 16) |\n      (Zlib.BitStream.ReverseTable[n >>> 16 & 0xFF] << 8) |\n      Zlib.BitStream.ReverseTable[n >>> 24 & 0xFF];\n  }\n\n  if (reverse && n > 1) {\n    number = n > 8 ?\n      rev32_(number) >> (32 - n) :\n      Zlib.BitStream.ReverseTable[number] >> (8 - n);\n  }\n\n  // Byte \n  if (n + bitindex < 8) {\n    current = (current << n) | number;\n    bitindex += n;\n  // Byte \n  } else {\n    for (i = 0; i < n; ++i) {\n      current = (current << 1) | ((number >> n - i - 1) & 1);\n\n      // next byte\n      if (++bitindex === 8) {\n        bitindex = 0;\n        buffer[index++] = Zlib.BitStream.ReverseTable[current];\n        current = 0;\n\n        // expand\n        if (index === buffer.length) {\n          buffer = this.expandBuffer();\n        }\n      }\n    }\n  }\n  buffer[index] = current;\n\n  this.buffer = buffer;\n  this.bitindex = bitindex;\n  this.index = index;\n};\n\n\n/**\n * \n * @return {!(Array|Uint8Array)}  byte array .\n */\nZlib.BitStream.prototype.finish = function() {\n  var buffer = this.buffer;\n  var index = this.index;\n\n  /** @type {!(Array|Uint8Array)} output buffer. */\n  var output;\n\n  // bitindex  0  index \n  if (this.bitindex > 0) {\n    buffer[index] <<= 8 - this.bitindex;\n    buffer[index] = Zlib.BitStream.ReverseTable[buffer[index]];\n    index++;\n  }\n\n  // array truncation\n  if (USE_TYPEDARRAY) {\n    output = buffer.subarray(0, index);\n  } else {\n    buffer.length = index;\n    output = buffer;\n  }\n\n  return output;\n};\n\n/**\n * 0-255 \n * @const\n * @type {!(Uint8Array|Array.<number>)}\n */\nZlib.BitStream.ReverseTable = (function(table) {\n  return table;\n})((function() {\n  /** @type {!(Array|Uint8Array)} reverse table. */\n  var table = new (USE_TYPEDARRAY ? Uint8Array : Array)(256);\n  /** @type {number} loop counter. */\n  var i;\n\n  // generate\n  for (i = 0; i < 256; ++i) {\n    table[i] = (function(n) {\n      var r = n;\n      var s = 7;\n\n      for (n >>>= 1; n; n >>>= 1) {\n        r <<= 1;\n        r |= n & 1;\n        --s;\n      }\n\n      return (r << s & 0xff) >>> 0;\n    })(i);\n  }\n\n  return table;\n})());\n\n\n/**\n * @fileoverview CRC32 .\n */\n\n\n/** @define {boolean} */\nvar ZLIB_CRC32_COMPACT = false;\n\n/**\n * CRC32 \n * @param {!(Array.<number>|Uint8Array)} data data byte array.\n * @param {number=} pos data position.\n * @param {number=} length data length.\n * @return {number} CRC32.\n */\nZlib.CRC32.calc = function(data, pos, length) {\n  return Zlib.CRC32.update(data, 0, pos, length);\n};\n\n/**\n * CRC32\n * @param {!(Array.<number>|Uint8Array)} data data byte array.\n * @param {number} crc CRC32.\n * @param {number=} pos data position.\n * @param {number=} length data length.\n * @return {number} CRC32.\n */\nZlib.CRC32.update = function(data, crc, pos, length) {\n  var table = Zlib.CRC32.Table;\n  var i = (typeof pos === 'number') ? pos : (pos = 0);\n  var il = (typeof length === 'number') ? length : data.length;\n\n  crc ^= 0xffffffff;\n\n  // loop unrolling for performance\n  for (i = il & 7; i--; ++pos) {\n    crc = (crc >>> 8) ^ table[(crc ^ data[pos]) & 0xff];\n  }\n  for (i = il >> 3; i--; pos += 8) {\n    crc = (crc >>> 8) ^ table[(crc ^ data[pos    ]) & 0xff];\n    crc = (crc >>> 8) ^ table[(crc ^ data[pos + 1]) & 0xff];\n    crc = (crc >>> 8) ^ table[(crc ^ data[pos + 2]) & 0xff];\n    crc = (crc >>> 8) ^ table[(crc ^ data[pos + 3]) & 0xff];\n    crc = (crc >>> 8) ^ table[(crc ^ data[pos + 4]) & 0xff];\n    crc = (crc >>> 8) ^ table[(crc ^ data[pos + 5]) & 0xff];\n    crc = (crc >>> 8) ^ table[(crc ^ data[pos + 6]) & 0xff];\n    crc = (crc >>> 8) ^ table[(crc ^ data[pos + 7]) & 0xff];\n  }\n\n  return (crc ^ 0xffffffff) >>> 0;\n};\n\n/**\n * @param {number} num\n * @param {number} crc\n * @returns {number}\n */\nZlib.CRC32.single = function(num, crc) {\n  return (Zlib.CRC32.Table[(num ^ crc) & 0xff] ^ (num >>> 8)) >>> 0;\n};\n\n/**\n * @type {Array.<number>}\n * @const\n * @private\n */\nZlib.CRC32.Table_ = [\n  0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419, 0x706af48f,\n  0xe963a535, 0x9e6495a3, 0x0edb8832, 0x79dcb8a4, 0xe0d5e91e, 0x97d2d988,\n  0x09b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91, 0x1db71064, 0x6ab020f2,\n  0xf3b97148, 0x84be41de, 0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7,\n  0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9,\n  0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4, 0xa2677172,\n  0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b, 0x35b5a8fa, 0x42b2986c,\n  0xdbbbc9d6, 0xacbcf940, 0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd13d59,\n  0x26d930ac, 0x51de003a, 0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423,\n  0xcfba9599, 0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,\n  0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190, 0x01db7106,\n  0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f, 0x9fbfe4a5, 0xe8b8d433,\n  0x7807c9a2, 0x0f00f934, 0x9609a88e, 0xe10e9818, 0x7f6a0dbb, 0x086d3d2d,\n  0x91646c97, 0xe6635c01, 0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e,\n  0x6c0695ed, 0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950,\n  0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65,\n  0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2, 0x4adfa541, 0x3dd895d7,\n  0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a, 0x346ed9fc, 0xad678846, 0xda60b8d0,\n  0x44042d73, 0x33031de5, 0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa,\n  0xbe0b1010, 0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\n  0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17, 0x2eb40d81,\n  0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6, 0x03b6e20c, 0x74b1d29a,\n  0xead54739, 0x9dd277af, 0x04db2615, 0x73dc1683, 0xe3630b12, 0x94643b84,\n  0x0d6d6a3e, 0x7a6a5aa8, 0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1,\n  0xf00f9344, 0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb,\n  0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x67dd4acc,\n  0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5, 0xd6d6a3e8, 0xa1d1937e,\n  0x38d8c2c4, 0x4fdff252, 0xd1bb67f1, 0xa6bc5767, 0x3fb506dd, 0x48b2364b,\n  0xd80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55,\n  0x316e8eef, 0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,\n  0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe, 0xb2bd0b28,\n  0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1d,\n  0x9b64c2b0, 0xec63f226, 0x756aa39c, 0x026d930a, 0x9c0906a9, 0xeb0e363f,\n  0x72076785, 0x05005713, 0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38,\n  0x92d28e9b, 0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21, 0x86d3d2d4, 0xf1d4e242,\n  0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1, 0x18b74777,\n  0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c, 0x8f659eff, 0xf862ae69,\n  0x616bffd3, 0x166ccf45, 0xa00ae278, 0xd70dd2ee, 0x4e048354, 0x3903b3c2,\n  0xa7672661, 0xd06016f7, 0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc,\n  0x40df0b66, 0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\n  0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605, 0xcdd70693,\n  0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8, 0x5d681b02, 0x2a6f2b94,\n  0xb40bbe37, 0xc30c8ea1, 0x5a05df1b, 0x2d02ef8d\n];\n\n/**\n * @type {!(Array.<number>|Uint32Array)} CRC-32 Table.\n * @const\n */\nZlib.CRC32.Table = ZLIB_CRC32_COMPACT ? (function() {\n  /** @type {!(Array.<number>|Uint32Array)} */\n  var table = new (USE_TYPEDARRAY ? Uint32Array : Array)(256);\n  /** @type {number} */\n  var c;\n  /** @type {number} */\n  var i;\n  /** @type {number} */\n  var j;\n\n  for (i = 0; i < 256; ++i) {\n    c = i;\n    for (j = 0; j < 8; ++j) {\n      c = (c & 1) ? (0xedB88320 ^ (c >>> 1)) : (c >>> 1);\n    }\n    table[i] = c >>> 0;\n  }\n\n  return table;\n})() : USE_TYPEDARRAY ? new Uint32Array(Zlib.CRC32.Table_) : Zlib.CRC32.Table_;\n\n/**\n * @fileoverview Deflate (RFC1951) .\n * Deflate Zlib.RawDeflate .\n */\n\n/**\n * Zlib Deflate\n * @constructor\n * @param {!(Array|Uint8Array)} input  byte array.\n * @param {Object=} opt_params option parameters.\n */\nZlib.Deflate = function(input, opt_params) {\n  /** @type {!(Array|Uint8Array)} */\n  this.input = input;\n  /** @type {!(Array|Uint8Array)} */\n  this.output =\n    new (USE_TYPEDARRAY ? Uint8Array : Array)(Zlib.Deflate.DefaultBufferSize);\n  /** @type {Zlib.Deflate.CompressionType} */\n  this.compressionType = Zlib.Deflate.CompressionType.DYNAMIC;\n  /** @type {Zlib.RawDeflate} */\n  this.rawDeflate;\n  /** @type {Object} */\n  var rawDeflateOption = {};\n  /** @type {string} */\n  var prop;\n\n  // option parameters\n  if (opt_params || !(opt_params = {})) {\n    if (typeof opt_params['compressionType'] === 'number') {\n      this.compressionType = opt_params['compressionType'];\n    }\n  }\n\n  // copy options\n  for (prop in opt_params) {\n    rawDeflateOption[prop] = opt_params[prop];\n  }\n\n  // set raw-deflate output buffer\n  rawDeflateOption['outputBuffer'] = this.output;\n\n  this.rawDeflate = new Zlib.RawDeflate(this.input, rawDeflateOption);\n};\n\n/**\n * @const\n * @type {number} .\n */\nZlib.Deflate.DefaultBufferSize = 0x8000;\n\n/**\n * @enum {number}\n */\nZlib.Deflate.CompressionType = Zlib.RawDeflate.CompressionType;\n\n/**\n * .\n * @param {!(Array|Uint8Array)} input target buffer.\n * @param {Object=} opt_params option parameters.\n * @return {!(Array|Uint8Array)} compressed data byte array.\n */\nZlib.Deflate.compress = function(input, opt_params) {\n  return (new Zlib.Deflate(input, opt_params)).compress();\n};\n\n/**\n * Deflate Compression.\n * @return {!(Array|Uint8Array)} compressed data byte array.\n */\nZlib.Deflate.prototype.compress = function() {\n  /** @type {Zlib.CompressionMethod} */\n  var cm;\n  /** @type {number} */\n  var cinfo;\n  /** @type {number} */\n  var cmf;\n  /** @type {number} */\n  var flg;\n  /** @type {number} */\n  var fcheck;\n  /** @type {number} */\n  var fdict;\n  /** @type {number} */\n  var flevel;\n  /** @type {number} */\n  var clevel;\n  /** @type {number} */\n  var adler;\n  /** @type {boolean} */\n  var error = false;\n  /** @type {!(Array|Uint8Array)} */\n  var output;\n  /** @type {number} */\n  var pos = 0;\n\n  output = this.output;\n\n  // Compression Method and Flags\n  cm = Zlib.CompressionMethod.DEFLATE;\n  switch (cm) {\n    case Zlib.CompressionMethod.DEFLATE:\n      cinfo = Math.LOG2E * Math.log(Zlib.RawDeflate.WindowSize) - 8;\n      break;\n    default:\n      throw new Error('invalid compression method');\n  }\n  cmf = (cinfo << 4) | cm;\n  output[pos++] = cmf;\n\n  // Flags\n  fdict = 0;\n  switch (cm) {\n    case Zlib.CompressionMethod.DEFLATE:\n      switch (this.compressionType) {\n        case Zlib.Deflate.CompressionType.NONE: flevel = 0; break;\n        case Zlib.Deflate.CompressionType.FIXED: flevel = 1; break;\n        case Zlib.Deflate.CompressionType.DYNAMIC: flevel = 2; break;\n        default: throw new Error('unsupported compression type');\n      }\n      break;\n    default:\n      throw new Error('invalid compression method');\n  }\n  flg = (flevel << 6) | (fdict << 5);\n  fcheck = 31 - (cmf * 256 + flg) % 31;\n  flg |= fcheck;\n  output[pos++] = flg;\n\n  // Adler-32 checksum\n  adler = Zlib.Adler32(this.input);\n\n  this.rawDeflate.op = pos;\n  output = this.rawDeflate.compress();\n  pos = output.length;\n\n  if (USE_TYPEDARRAY) {\n    // subarray \n    output = new Uint8Array(output.buffer);\n    // expand buffer\n    if (output.length <= pos + 4) {\n      this.output = new Uint8Array(output.length + 4);\n      this.output.set(output);\n      output = this.output;\n    }\n    output = output.subarray(0, pos + 4);\n  }\n\n  // adler32\n  output[pos++] = (adler >> 24) & 0xff;\n  output[pos++] = (adler >> 16) & 0xff;\n  output[pos++] = (adler >>  8) & 0xff;\n  output[pos++] = (adler      ) & 0xff;\n\n  return output;\n};\n\n\n//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n// Modified for encapsulation in igv module\n// * no exports\n// * no global definition\n// * noConflict not supported (as _ is encapsulated its not needed)\n\n\n// Create a safe reference to the Underscore object for use below.\nvar _ = function (obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n};\n\n(function () {\n\n    // Baseline setup\n    // --------------\n\n\n    // Save bytes in the minified (but not gzipped) version:\n    var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n    // Create quick reference variables for speed access to core prototypes.\n    var\n        push = ArrayProto.push,\n        slice = ArrayProto.slice,\n        toString = ObjProto.toString,\n        hasOwnProperty = ObjProto.hasOwnProperty;\n\n    // All **ECMAScript 5** native function implementations that we hope to use\n    // are declared here.\n    var\n        nativeIsArray = Array.isArray,\n        nativeKeys = Object.keys,\n        nativeBind = FuncProto.bind,\n        nativeCreate = Object.create;\n\n    // Naked function reference for surrogate-prototype-swapping.\n    var Ctor = function () {\n    };\n\n\n    // Current version.\n    _.VERSION = '1.8.3';\n\n    // Internal function that returns an efficient (for current engines) version\n    // of the passed-in callback, to be repeatedly applied in other Underscore\n    // functions.\n    var optimizeCb = function (func, context, argCount) {\n        if (context === void 0) return func;\n        switch (argCount == null ? 3 : argCount) {\n            case 1:\n                return function (value) {\n                    return func.call(context, value);\n                };\n            case 2:\n                return function (value, other) {\n                    return func.call(context, value, other);\n                };\n            case 3:\n                return function (value, index, collection) {\n                    return func.call(context, value, index, collection);\n                };\n            case 4:\n                return function (accumulator, value, index, collection) {\n                    return func.call(context, accumulator, value, index, collection);\n                };\n        }\n        return function () {\n            return func.apply(context, arguments);\n        };\n    };\n\n    // A mostly-internal function to generate callbacks that can be applied\n    // to each element in a collection, returning the desired result  either\n    // identity, an arbitrary callback, a property matcher, or a property accessor.\n    var cb = function (value, context, argCount) {\n        if (value == null) return _.identity;\n        if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n        if (_.isObject(value)) return _.matcher(value);\n        return _.property(value);\n    };\n    _.iteratee = function (value, context) {\n        return cb(value, context, Infinity);\n    };\n\n    // An internal function for creating assigner functions.\n    var createAssigner = function (keysFunc, undefinedOnly) {\n        return function (obj) {\n            var length = arguments.length;\n            if (length < 2 || obj == null) return obj;\n            for (var index = 1; index < length; index++) {\n                var source = arguments[index],\n                    keys = keysFunc(source),\n                    l = keys.length;\n                for (var i = 0; i < l; i++) {\n                    var key = keys[i];\n                    if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n                }\n            }\n            return obj;\n        };\n    };\n\n    // An internal function for creating a new object that inherits from another.\n    var baseCreate = function (prototype) {\n        if (!_.isObject(prototype)) return {};\n        if (nativeCreate) return nativeCreate(prototype);\n        Ctor.prototype = prototype;\n        var result = new Ctor;\n        Ctor.prototype = null;\n        return result;\n    };\n\n    var property = function (key) {\n        return function (obj) {\n            return obj == null ? void 0 : obj[key];\n        };\n    };\n\n    // Helper for collection methods to determine whether a collection\n    // should be iterated as an array or as an object\n    // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n    // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n    var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n    var getLength = property('length');\n    var isArrayLike = function (collection) {\n        var length = getLength(collection);\n        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n    };\n\n    // Collection Functions\n    // --------------------\n\n    // The cornerstone, an `each` implementation, aka `forEach`.\n    // Handles raw objects in addition to array-likes. Treats all\n    // sparse array-likes as if they were dense.\n    _.each = _.forEach = function (obj, iteratee, context) {\n        iteratee = optimizeCb(iteratee, context);\n        var i, length;\n        if (isArrayLike(obj)) {\n            for (i = 0, length = obj.length; i < length; i++) {\n                iteratee(obj[i], i, obj);\n            }\n        } else {\n            var keys = _.keys(obj);\n            for (i = 0, length = keys.length; i < length; i++) {\n                iteratee(obj[keys[i]], keys[i], obj);\n            }\n        }\n        return obj;\n    };\n\n    // Return the results of applying the iteratee to each element.\n    _.map = _.collect = function (obj, iteratee, context) {\n        iteratee = cb(iteratee, context);\n        var keys = !isArrayLike(obj) && _.keys(obj),\n            length = (keys || obj).length,\n            results = Array(length);\n        for (var index = 0; index < length; index++) {\n            var currentKey = keys ? keys[index] : index;\n            results[index] = iteratee(obj[currentKey], currentKey, obj);\n        }\n        return results;\n    };\n\n    // Create a reducing function iterating left or right.\n    function createReduce(dir) {\n        // Optimized iterator function as using arguments.length\n        // in the main function will deoptimize the, see #1991.\n        function iterator(obj, iteratee, memo, keys, index, length) {\n            for (; index >= 0 && index < length; index += dir) {\n                var currentKey = keys ? keys[index] : index;\n                memo = iteratee(memo, obj[currentKey], currentKey, obj);\n            }\n            return memo;\n        }\n\n        return function (obj, iteratee, memo, context) {\n            iteratee = optimizeCb(iteratee, context, 4);\n            var keys = !isArrayLike(obj) && _.keys(obj),\n                length = (keys || obj).length,\n                index = dir > 0 ? 0 : length - 1;\n            // Determine the initial value if none is provided.\n            if (arguments.length < 3) {\n                memo = obj[keys ? keys[index] : index];\n                index += dir;\n            }\n            return iterator(obj, iteratee, memo, keys, index, length);\n        };\n    }\n\n    // **Reduce** builds up a single result from a list of values, aka `inject`,\n    // or `foldl`.\n    _.reduce = _.foldl = _.inject = createReduce(1);\n\n    // The right-associative version of reduce, also known as `foldr`.\n    _.reduceRight = _.foldr = createReduce(-1);\n\n    // Return the first value which passes a truth test. Aliased as `detect`.\n    _.find = _.detect = function (obj, predicate, context) {\n        var key;\n        if (isArrayLike(obj)) {\n            key = _.findIndex(obj, predicate, context);\n        } else {\n            key = _.findKey(obj, predicate, context);\n        }\n        if (key !== void 0 && key !== -1) return obj[key];\n    };\n\n    // Return all the elements that pass a truth test.\n    // Aliased as `select`.\n    _.filter = _.select = function (obj, predicate, context) {\n        var results = [];\n        predicate = cb(predicate, context);\n        _.each(obj, function (value, index, list) {\n            if (predicate(value, index, list)) results.push(value);\n        });\n        return results;\n    };\n\n    // Return all the elements for which a truth test fails.\n    _.reject = function (obj, predicate, context) {\n        return _.filter(obj, _.negate(cb(predicate)), context);\n    };\n\n    // Determine whether all of the elements match a truth test.\n    // Aliased as `all`.\n    _.every = _.all = function (obj, predicate, context) {\n        predicate = cb(predicate, context);\n        var keys = !isArrayLike(obj) && _.keys(obj),\n            length = (keys || obj).length;\n        for (var index = 0; index < length; index++) {\n            var currentKey = keys ? keys[index] : index;\n            if (!predicate(obj[currentKey], currentKey, obj)) return false;\n        }\n        return true;\n    };\n\n    // Determine if at least one element in the object matches a truth test.\n    // Aliased as `any`.\n    _.some = _.any = function (obj, predicate, context) {\n        predicate = cb(predicate, context);\n        var keys = !isArrayLike(obj) && _.keys(obj),\n            length = (keys || obj).length;\n        for (var index = 0; index < length; index++) {\n            var currentKey = keys ? keys[index] : index;\n            if (predicate(obj[currentKey], currentKey, obj)) return true;\n        }\n        return false;\n    };\n\n    // Determine if the array or object contains a given item (using `===`).\n    // Aliased as `includes` and `include`.\n    _.contains = _.includes = _.include = function (obj, item, fromIndex, guard) {\n        if (!isArrayLike(obj)) obj = _.values(obj);\n        if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n        return _.indexOf(obj, item, fromIndex) >= 0;\n    };\n\n    // Invoke a method (with arguments) on every item in a collection.\n    _.invoke = function (obj, method) {\n        var args = slice.call(arguments, 2);\n        var isFunc = _.isFunction(method);\n        return _.map(obj, function (value) {\n            var func = isFunc ? method : value[method];\n            return func == null ? func : func.apply(value, args);\n        });\n    };\n\n    // Convenience version of a common use case of `map`: fetching a property.\n    _.pluck = function (obj, key) {\n        return _.map(obj, _.property(key));\n    };\n\n    // Convenience version of a common use case of `filter`: selecting only objects\n    // containing specific `key:value` pairs.\n    _.where = function (obj, attrs) {\n        return _.filter(obj, _.matcher(attrs));\n    };\n\n    // Convenience version of a common use case of `find`: getting the first object\n    // containing specific `key:value` pairs.\n    _.findWhere = function (obj, attrs) {\n        return _.find(obj, _.matcher(attrs));\n    };\n\n    // Return the maximum element (or element-based computation).\n    _.max = function (obj, iteratee, context) {\n        var result = -Infinity, lastComputed = -Infinity,\n            value, computed;\n        if (iteratee == null && obj != null) {\n            obj = isArrayLike(obj) ? obj : _.values(obj);\n            for (var i = 0, length = obj.length; i < length; i++) {\n                value = obj[i];\n                if (value > result) {\n                    result = value;\n                }\n            }\n        } else {\n            iteratee = cb(iteratee, context);\n            _.each(obj, function (value, index, list) {\n                computed = iteratee(value, index, list);\n                if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n                    result = value;\n                    lastComputed = computed;\n                }\n            });\n        }\n        return result;\n    };\n\n    // Return the minimum element (or element-based computation).\n    _.min = function (obj, iteratee, context) {\n        var result = Infinity, lastComputed = Infinity,\n            value, computed;\n        if (iteratee == null && obj != null) {\n            obj = isArrayLike(obj) ? obj : _.values(obj);\n            for (var i = 0, length = obj.length; i < length; i++) {\n                value = obj[i];\n                if (value < result) {\n                    result = value;\n                }\n            }\n        } else {\n            iteratee = cb(iteratee, context);\n            _.each(obj, function (value, index, list) {\n                computed = iteratee(value, index, list);\n                if (computed < lastComputed || computed === Infinity && result === Infinity) {\n                    result = value;\n                    lastComputed = computed;\n                }\n            });\n        }\n        return result;\n    };\n\n    // Shuffle a collection, using the modern version of the\n    // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n    _.shuffle = function (obj) {\n        var set = isArrayLike(obj) ? obj : _.values(obj);\n        var length = set.length;\n        var shuffled = Array(length);\n        for (var index = 0, rand; index < length; index++) {\n            rand = _.random(0, index);\n            if (rand !== index) shuffled[index] = shuffled[rand];\n            shuffled[rand] = set[index];\n        }\n        return shuffled;\n    };\n\n    // Sample **n** random values from a collection.\n    // If **n** is not specified, returns a single random element.\n    // The internal `guard` argument allows it to work with `map`.\n    _.sample = function (obj, n, guard) {\n        if (n == null || guard) {\n            if (!isArrayLike(obj)) obj = _.values(obj);\n            return obj[_.random(obj.length - 1)];\n        }\n        return _.shuffle(obj).slice(0, Math.max(0, n));\n    };\n\n    // Sort the object's values by a criterion produced by an iteratee.\n    _.sortBy = function (obj, iteratee, context) {\n        iteratee = cb(iteratee, context);\n        return _.pluck(_.map(obj, function (value, index, list) {\n            return {\n                value: value,\n                index: index,\n                criteria: iteratee(value, index, list)\n            };\n        }).sort(function (left, right) {\n            var a = left.criteria;\n            var b = right.criteria;\n            if (a !== b) {\n                if (a > b || a === void 0) return 1;\n                if (a < b || b === void 0) return -1;\n            }\n            return left.index - right.index;\n        }), 'value');\n    };\n\n    // An internal function used for aggregate \"group by\" operations.\n    var group = function (behavior) {\n        return function (obj, iteratee, context) {\n            var result = {};\n            iteratee = cb(iteratee, context);\n            _.each(obj, function (value, index) {\n                var key = iteratee(value, index, obj);\n                behavior(result, value, key);\n            });\n            return result;\n        };\n    };\n\n    // Groups the object's values by a criterion. Pass either a string attribute\n    // to group by, or a function that returns the criterion.\n    _.groupBy = group(function (result, value, key) {\n        if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n    });\n\n    // Indexes the object's values by a criterion, similar to `groupBy`, but for\n    // when you know that your index values will be unique.\n    _.indexBy = group(function (result, value, key) {\n        result[key] = value;\n    });\n\n    // Counts instances of an object that group by a certain criterion. Pass\n    // either a string attribute to count by, or a function that returns the\n    // criterion.\n    _.countBy = group(function (result, value, key) {\n        if (_.has(result, key)) result[key]++; else result[key] = 1;\n    });\n\n    // Safely create a real, live array from anything iterable.\n    _.toArray = function (obj) {\n        if (!obj) return [];\n        if (_.isArray(obj)) return slice.call(obj);\n        if (isArrayLike(obj)) return _.map(obj, _.identity);\n        return _.values(obj);\n    };\n\n    // Return the number of elements in an object.\n    _.size = function (obj) {\n        if (obj == null) return 0;\n        return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n    };\n\n    // Split a collection into two arrays: one whose elements all satisfy the given\n    // predicate, and one whose elements all do not satisfy the predicate.\n    _.partition = function (obj, predicate, context) {\n        predicate = cb(predicate, context);\n        var pass = [], fail = [];\n        _.each(obj, function (value, key, obj) {\n            (predicate(value, key, obj) ? pass : fail).push(value);\n        });\n        return [pass, fail];\n    };\n\n    // Array Functions\n    // ---------------\n\n    // Get the first element of an array. Passing **n** will return the first N\n    // values in the array. Aliased as `head` and `take`. The **guard** check\n    // allows it to work with `_.map`.\n    _.first = _.head = _.take = function (array, n, guard) {\n        if (array == null) return void 0;\n        if (n == null || guard) return array[0];\n        return _.initial(array, array.length - n);\n    };\n\n    // Returns everything but the last entry of the array. Especially useful on\n    // the arguments object. Passing **n** will return all the values in\n    // the array, excluding the last N.\n    _.initial = function (array, n, guard) {\n        return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n    };\n\n    // Get the last element of an array. Passing **n** will return the last N\n    // values in the array.\n    _.last = function (array, n, guard) {\n        if (array == null) return void 0;\n        if (n == null || guard) return array[array.length - 1];\n        return _.rest(array, Math.max(0, array.length - n));\n    };\n\n    // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n    // Especially useful on the arguments object. Passing an **n** will return\n    // the rest N values in the array.\n    _.rest = _.tail = _.drop = function (array, n, guard) {\n        return slice.call(array, n == null || guard ? 1 : n);\n    };\n\n    // Trim out all falsy values from an array.\n    _.compact = function (array) {\n        return _.filter(array, _.identity);\n    };\n\n    // Internal implementation of a recursive `flatten` function.\n    var flatten = function (input, shallow, strict, startIndex) {\n        var output = [], idx = 0;\n        for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n            var value = input[i];\n            if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n                //flatten current level of array or arguments object\n                if (!shallow) value = flatten(value, shallow, strict);\n                var j = 0, len = value.length;\n                output.length += len;\n                while (j < len) {\n                    output[idx++] = value[j++];\n                }\n            } else if (!strict) {\n                output[idx++] = value;\n            }\n        }\n        return output;\n    };\n\n    // Flatten out an array, either recursively (by default), or just one level.\n    _.flatten = function (array, shallow) {\n        return flatten(array, shallow, false);\n    };\n\n    // Return a version of the array that does not contain the specified value(s).\n    _.without = function (array) {\n        return _.difference(array, slice.call(arguments, 1));\n    };\n\n    // Produce a duplicate-free version of the array. If the array has already\n    // been sorted, you have the option of using a faster algorithm.\n    // Aliased as `unique`.\n    _.uniq = _.unique = function (array, isSorted, iteratee, context) {\n        if (!_.isBoolean(isSorted)) {\n            context = iteratee;\n            iteratee = isSorted;\n            isSorted = false;\n        }\n        if (iteratee != null) iteratee = cb(iteratee, context);\n        var result = [];\n        var seen = [];\n        for (var i = 0, length = getLength(array); i < length; i++) {\n            var value = array[i],\n                computed = iteratee ? iteratee(value, i, array) : value;\n            if (isSorted) {\n                if (!i || seen !== computed) result.push(value);\n                seen = computed;\n            } else if (iteratee) {\n                if (!_.contains(seen, computed)) {\n                    seen.push(computed);\n                    result.push(value);\n                }\n            } else if (!_.contains(result, value)) {\n                result.push(value);\n            }\n        }\n        return result;\n    };\n\n    // Produce an array that contains the union: each distinct element from all of\n    // the passed-in arrays.\n    _.union = function () {\n        return _.uniq(flatten(arguments, true, true));\n    };\n\n    // Produce an array that contains every item shared between all the\n    // passed-in arrays.\n    _.intersection = function (array) {\n        var result = [];\n        var argsLength = arguments.length;\n        for (var i = 0, length = getLength(array); i < length; i++) {\n            var item = array[i];\n            if (_.contains(result, item)) continue;\n            for (var j = 1; j < argsLength; j++) {\n                if (!_.contains(arguments[j], item)) break;\n            }\n            if (j === argsLength) result.push(item);\n        }\n        return result;\n    };\n\n    // Take the difference between one array and a number of other arrays.\n    // Only the elements present in just the first array will remain.\n    _.difference = function (array) {\n        var rest = flatten(arguments, true, true, 1);\n        return _.filter(array, function (value) {\n            return !_.contains(rest, value);\n        });\n    };\n\n    // Zip together multiple lists into a single array -- elements that share\n    // an index go together.\n    _.zip = function () {\n        return _.unzip(arguments);\n    };\n\n    // Complement of _.zip. Unzip accepts an array of arrays and groups\n    // each array's elements on shared indices\n    _.unzip = function (array) {\n        var length = array && _.max(array, getLength).length || 0;\n        var result = Array(length);\n\n        for (var index = 0; index < length; index++) {\n            result[index] = _.pluck(array, index);\n        }\n        return result;\n    };\n\n    // Converts lists into objects. Pass either a single array of `[key, value]`\n    // pairs, or two parallel arrays of the same length -- one of keys, and one of\n    // the corresponding values.\n    _.object = function (list, values) {\n        var result = {};\n        for (var i = 0, length = getLength(list); i < length; i++) {\n            if (values) {\n                result[list[i]] = values[i];\n            } else {\n                result[list[i][0]] = list[i][1];\n            }\n        }\n        return result;\n    };\n\n    // Generator function to create the findIndex and findLastIndex functions\n    function createPredicateIndexFinder(dir) {\n        return function (array, predicate, context) {\n            predicate = cb(predicate, context);\n            var length = getLength(array);\n            var index = dir > 0 ? 0 : length - 1;\n            for (; index >= 0 && index < length; index += dir) {\n                if (predicate(array[index], index, array)) return index;\n            }\n            return -1;\n        };\n    }\n\n    // Returns the first index on an array-like that passes a predicate test\n    _.findIndex = createPredicateIndexFinder(1);\n    _.findLastIndex = createPredicateIndexFinder(-1);\n\n    // Use a comparator function to figure out the smallest index at which\n    // an object should be inserted so as to maintain order. Uses binary search.\n    _.sortedIndex = function (array, obj, iteratee, context) {\n        iteratee = cb(iteratee, context, 1);\n        var value = iteratee(obj);\n        var low = 0, high = getLength(array);\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n        }\n        return low;\n    };\n\n    // Generator function to create the indexOf and lastIndexOf functions\n    function createIndexFinder(dir, predicateFind, sortedIndex) {\n        return function (array, item, idx) {\n            var i = 0, length = getLength(array);\n            if (typeof idx == 'number') {\n                if (dir > 0) {\n                    i = idx >= 0 ? idx : Math.max(idx + length, i);\n                } else {\n                    length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n                }\n            } else if (sortedIndex && idx && length) {\n                idx = sortedIndex(array, item);\n                return array[idx] === item ? idx : -1;\n            }\n            if (item !== item) {\n                idx = predicateFind(slice.call(array, i, length), _.isNaN);\n                return idx >= 0 ? idx + i : -1;\n            }\n            for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n                if (array[idx] === item) return idx;\n            }\n            return -1;\n        };\n    }\n\n    // Return the position of the first occurrence of an item in an array,\n    // or -1 if the item is not included in the array.\n    // If the array is large and already in sort order, pass `true`\n    // for **isSorted** to use binary search.\n    _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n    _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n    // Generate an integer Array containing an arithmetic progression. A port of\n    // the native Python `range()` function. See\n    // [the Python documentation](http://docs.python.org/library/functions.html#range).\n    _.range = function (start, stop, step) {\n        if (stop == null) {\n            stop = start || 0;\n            start = 0;\n        }\n        step = step || 1;\n\n        var length = Math.max(Math.ceil((stop - start) / step), 0);\n        var range = Array(length);\n\n        for (var idx = 0; idx < length; idx++, start += step) {\n            range[idx] = start;\n        }\n\n        return range;\n    };\n\n    // Function (ahem) Functions\n    // ------------------\n\n    // Determines whether to execute a function as a constructor\n    // or a normal function with the provided arguments\n    var executeBound = function (sourceFunc, boundFunc, context, callingContext, args) {\n        if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n        var self = baseCreate(sourceFunc.prototype);\n        var result = sourceFunc.apply(self, args);\n        if (_.isObject(result)) return result;\n        return self;\n    };\n\n    // Create a function bound to a given object (assigning `this`, and arguments,\n    // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n    // available.\n    _.bind = function (func, context) {\n        if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n        if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n        var args = slice.call(arguments, 2);\n        var bound = function () {\n            return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n        };\n        return bound;\n    };\n\n    // Partially apply a function by creating a version that has had some of its\n    // arguments pre-filled, without changing its dynamic `this` context. _ acts\n    // as a placeholder, allowing any combination of arguments to be pre-filled.\n    _.partial = function (func) {\n        var boundArgs = slice.call(arguments, 1);\n        var bound = function () {\n            var position = 0, length = boundArgs.length;\n            var args = Array(length);\n            for (var i = 0; i < length; i++) {\n                args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n            }\n            while (position < arguments.length) args.push(arguments[position++]);\n            return executeBound(func, bound, this, this, args);\n        };\n        return bound;\n    };\n\n    // Bind a number of an object's methods to that object. Remaining arguments\n    // are the method names to be bound. Useful for ensuring that all callbacks\n    // defined on an object belong to it.\n    _.bindAll = function (obj) {\n        var i, length = arguments.length, key;\n        if (length <= 1) throw new Error('bindAll must be passed function names');\n        for (i = 1; i < length; i++) {\n            key = arguments[i];\n            obj[key] = _.bind(obj[key], obj);\n        }\n        return obj;\n    };\n\n    // Memoize an expensive function by storing its results.\n    _.memoize = function (func, hasher) {\n        var memoize = function (key) {\n            var cache = memoize.cache;\n            var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n            if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n            return cache[address];\n        };\n        memoize.cache = {};\n        return memoize;\n    };\n\n    // Delays a function for the given number of milliseconds, and then calls\n    // it with the arguments supplied.\n    _.delay = function (func, wait) {\n        var args = slice.call(arguments, 2);\n        return setTimeout(function () {\n            return func.apply(null, args);\n        }, wait);\n    };\n\n    // Defers a function, scheduling it to run after the current call stack has\n    // cleared.\n    _.defer = _.partial(_.delay, _, 1);\n\n    // Returns a function, that, when invoked, will only be triggered at most once\n    // during a given window of time. Normally, the throttled function will run\n    // as much as it can, without ever going more than once per `wait` duration;\n    // but if you'd like to disable the execution on the leading edge, pass\n    // `{leading: false}`. To disable execution on the trailing edge, ditto.\n    _.throttle = function (func, wait, options) {\n        var context, args, result;\n        var timeout = null;\n        var previous = 0;\n        if (!options) options = {};\n        var later = function () {\n            previous = options.leading === false ? 0 : _.now();\n            timeout = null;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        };\n        return function () {\n            var now = _.now();\n            if (!previous && options.leading === false) previous = now;\n            var remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0 || remaining > wait) {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                }\n                previous = now;\n                result = func.apply(context, args);\n                if (!timeout) context = args = null;\n            } else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    };\n\n    // Returns a function, that, as long as it continues to be invoked, will not\n    // be triggered. The function will be called after it stops being called for\n    // N milliseconds. If `immediate` is passed, trigger the function on the\n    // leading edge, instead of the trailing.\n    _.debounce = function (func, wait, immediate) {\n        var timeout, args, context, timestamp, result;\n\n        var later = function () {\n            var last = _.now() - timestamp;\n\n            if (last < wait && last >= 0) {\n                timeout = setTimeout(later, wait - last);\n            } else {\n                timeout = null;\n                if (!immediate) {\n                    result = func.apply(context, args);\n                    if (!timeout) context = args = null;\n                }\n            }\n        };\n\n        return function () {\n            context = this;\n            args = arguments;\n            timestamp = _.now();\n            var callNow = immediate && !timeout;\n            if (!timeout) timeout = setTimeout(later, wait);\n            if (callNow) {\n                result = func.apply(context, args);\n                context = args = null;\n            }\n\n            return result;\n        };\n    };\n\n    // Returns the first function passed as an argument to the second,\n    // allowing you to adjust arguments, run code before and after, and\n    // conditionally execute the original function.\n    _.wrap = function (func, wrapper) {\n        return _.partial(wrapper, func);\n    };\n\n    // Returns a negated version of the passed-in predicate.\n    _.negate = function (predicate) {\n        return function () {\n            return !predicate.apply(this, arguments);\n        };\n    };\n\n    // Returns a function that is the composition of a list of functions, each\n    // consuming the return value of the function that follows.\n    _.compose = function () {\n        var args = arguments;\n        var start = args.length - 1;\n        return function () {\n            var i = start;\n            var result = args[start].apply(this, arguments);\n            while (i--) result = args[i].call(this, result);\n            return result;\n        };\n    };\n\n    // Returns a function that will only be executed on and after the Nth call.\n    _.after = function (times, func) {\n        return function () {\n            if (--times < 1) {\n                return func.apply(this, arguments);\n            }\n        };\n    };\n\n    // Returns a function that will only be executed up to (but not including) the Nth call.\n    _.before = function (times, func) {\n        var memo;\n        return function () {\n            if (--times > 0) {\n                memo = func.apply(this, arguments);\n            }\n            if (times <= 1) func = null;\n            return memo;\n        };\n    };\n\n    // Returns a function that will be executed at most one time, no matter how\n    // often you call it. Useful for lazy initialization.\n    _.once = _.partial(_.before, 2);\n\n    // Object Functions\n    // ----------------\n\n    // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n    var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n    var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n        'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n    function collectNonEnumProps(obj, keys) {\n        var nonEnumIdx = nonEnumerableProps.length;\n        var constructor = obj.constructor;\n        var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n        // Constructor is a special case.\n        var prop = 'constructor';\n        if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n        while (nonEnumIdx--) {\n            prop = nonEnumerableProps[nonEnumIdx];\n            if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n                keys.push(prop);\n            }\n        }\n    }\n\n    // Retrieve the names of an object's own properties.\n    // Delegates to **ECMAScript 5**'s native `Object.keys`\n    _.keys = function (obj) {\n        if (!_.isObject(obj)) return [];\n        if (nativeKeys) return nativeKeys(obj);\n        var keys = [];\n        for (var key in obj) if (_.has(obj, key)) keys.push(key);\n        // Ahem, IE < 9.\n        if (hasEnumBug) collectNonEnumProps(obj, keys);\n        return keys;\n    };\n\n    // Retrieve all the property names of an object.\n    _.allKeys = function (obj) {\n        if (!_.isObject(obj)) return [];\n        var keys = [];\n        for (var key in obj) keys.push(key);\n        // Ahem, IE < 9.\n        if (hasEnumBug) collectNonEnumProps(obj, keys);\n        return keys;\n    };\n\n    // Retrieve the values of an object's properties.\n    _.values = function (obj) {\n        var keys = _.keys(obj);\n        var length = keys.length;\n        var values = Array(length);\n        for (var i = 0; i < length; i++) {\n            values[i] = obj[keys[i]];\n        }\n        return values;\n    };\n\n    // Returns the results of applying the iteratee to each element of the object\n    // In contrast to _.map it returns an object\n    _.mapObject = function (obj, iteratee, context) {\n        iteratee = cb(iteratee, context);\n        var keys = _.keys(obj),\n            length = keys.length,\n            results = {},\n            currentKey;\n        for (var index = 0; index < length; index++) {\n            currentKey = keys[index];\n            results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n        }\n        return results;\n    };\n\n    // Convert an object into a list of `[key, value]` pairs.\n    _.pairs = function (obj) {\n        var keys = _.keys(obj);\n        var length = keys.length;\n        var pairs = Array(length);\n        for (var i = 0; i < length; i++) {\n            pairs[i] = [keys[i], obj[keys[i]]];\n        }\n        return pairs;\n    };\n\n    // Invert the keys and values of an object. The values must be serializable.\n    _.invert = function (obj) {\n        var result = {};\n        var keys = _.keys(obj);\n        for (var i = 0, length = keys.length; i < length; i++) {\n            result[obj[keys[i]]] = keys[i];\n        }\n        return result;\n    };\n\n    // Return a sorted list of the function names available on the object.\n    // Aliased as `methods`\n    _.functions = _.methods = function (obj) {\n        var names = [];\n        for (var key in obj) {\n            if (_.isFunction(obj[key])) names.push(key);\n        }\n        return names.sort();\n    };\n\n    // Extend a given object with all the properties in passed-in object(s).\n    _.extend = createAssigner(_.allKeys);\n\n    // Assigns a given object with all the own properties in the passed-in object(s)\n    // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n    _.extendOwn = _.assign = createAssigner(_.keys);\n\n    // Returns the first key on an object that passes a predicate test\n    _.findKey = function (obj, predicate, context) {\n        predicate = cb(predicate, context);\n        var keys = _.keys(obj), key;\n        for (var i = 0, length = keys.length; i < length; i++) {\n            key = keys[i];\n            if (predicate(obj[key], key, obj)) return key;\n        }\n    };\n\n    // Return a copy of the object only containing the whitelisted properties.\n    _.pick = function (object, oiteratee, context) {\n        var result = {}, obj = object, iteratee, keys;\n        if (obj == null) return result;\n        if (_.isFunction(oiteratee)) {\n            keys = _.allKeys(obj);\n            iteratee = optimizeCb(oiteratee, context);\n        } else {\n            keys = flatten(arguments, false, false, 1);\n            iteratee = function (value, key, obj) {\n                return key in obj;\n            };\n            obj = Object(obj);\n        }\n        for (var i = 0, length = keys.length; i < length; i++) {\n            var key = keys[i];\n            var value = obj[key];\n            if (iteratee(value, key, obj)) result[key] = value;\n        }\n        return result;\n    };\n\n    // Return a copy of the object without the blacklisted properties.\n    _.omit = function (obj, iteratee, context) {\n        if (_.isFunction(iteratee)) {\n            iteratee = _.negate(iteratee);\n        } else {\n            var keys = _.map(flatten(arguments, false, false, 1), String);\n            iteratee = function (value, key) {\n                return !_.contains(keys, key);\n            };\n        }\n        return _.pick(obj, iteratee, context);\n    };\n\n    // Fill in a given object with default properties.\n    _.defaults = createAssigner(_.allKeys, true);\n\n    // Creates an object that inherits from the given prototype object.\n    // If additional properties are provided then they will be added to the\n    // created object.\n    _.create = function (prototype, props) {\n        var result = baseCreate(prototype);\n        if (props) _.extendOwn(result, props);\n        return result;\n    };\n\n    // Create a (shallow-cloned) duplicate of an object.\n    _.clone = function (obj) {\n        if (!_.isObject(obj)) return obj;\n        return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n    };\n\n    // Invokes interceptor with the obj, and then returns obj.\n    // The primary purpose of this method is to \"tap into\" a method chain, in\n    // order to perform operations on intermediate results within the chain.\n    _.tap = function (obj, interceptor) {\n        interceptor(obj);\n        return obj;\n    };\n\n    // Returns whether an object has a given set of `key:value` pairs.\n    _.isMatch = function (object, attrs) {\n        var keys = _.keys(attrs), length = keys.length;\n        if (object == null) return !length;\n        var obj = Object(object);\n        for (var i = 0; i < length; i++) {\n            var key = keys[i];\n            if (attrs[key] !== obj[key] || !(key in obj)) return false;\n        }\n        return true;\n    };\n\n\n    // Internal recursive comparison function for `isEqual`.\n    var eq = function (a, b, aStack, bStack) {\n        // Identical objects are equal. `0 === -0`, but they aren't identical.\n        // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n        if (a === b) return a !== 0 || 1 / a === 1 / b;\n        // A strict comparison is necessary because `null == undefined`.\n        if (a == null || b == null) return a === b;\n        // Unwrap any wrapped objects.\n        if (a instanceof _) a = a._wrapped;\n        if (b instanceof _) b = b._wrapped;\n        // Compare `[[Class]]` names.\n        var className = toString.call(a);\n        if (className !== toString.call(b)) return false;\n        switch (className) {\n            // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n            case '[object RegExp]':\n            // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n            case '[object String]':\n                // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n                // equivalent to `new String(\"5\")`.\n                return '' + a === '' + b;\n            case '[object Number]':\n                // `NaN`s are equivalent, but non-reflexive.\n                // Object(NaN) is equivalent to NaN\n                if (+a !== +a) return +b !== +b;\n                // An `egal` comparison is performed for other numeric values.\n                return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n            case '[object Date]':\n            case '[object Boolean]':\n                // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n                // millisecond representations. Note that invalid dates with millisecond representations\n                // of `NaN` are not equivalent.\n                return +a === +b;\n        }\n\n        var areArrays = className === '[object Array]';\n        if (!areArrays) {\n            if (typeof a != 'object' || typeof b != 'object') return false;\n\n            // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n            // from different frames are.\n            var aCtor = a.constructor, bCtor = b.constructor;\n            if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                _.isFunction(bCtor) && bCtor instanceof bCtor)\n                && ('constructor' in a && 'constructor' in b)) {\n                return false;\n            }\n        }\n        // Assume equality for cyclic structures. The algorithm for detecting cyclic\n        // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n        // Initializing stack of traversed objects.\n        // It's done here since we only need them for objects and arrays comparison.\n        aStack = aStack || [];\n        bStack = bStack || [];\n        var length = aStack.length;\n        while (length--) {\n            // Linear search. Performance is inversely proportional to the number of\n            // unique nested structures.\n            if (aStack[length] === a) return bStack[length] === b;\n        }\n\n        // Add the first object to the stack of traversed objects.\n        aStack.push(a);\n        bStack.push(b);\n\n        // Recursively compare objects and arrays.\n        if (areArrays) {\n            // Compare array lengths to determine if a deep comparison is necessary.\n            length = a.length;\n            if (length !== b.length) return false;\n            // Deep compare the contents, ignoring non-numeric properties.\n            while (length--) {\n                if (!eq(a[length], b[length], aStack, bStack)) return false;\n            }\n        } else {\n            // Deep compare objects.\n            var keys = _.keys(a), key;\n            length = keys.length;\n            // Ensure that both objects contain the same number of properties before comparing deep equality.\n            if (_.keys(b).length !== length) return false;\n            while (length--) {\n                // Deep compare each member\n                key = keys[length];\n                if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n            }\n        }\n        // Remove the first object from the stack of traversed objects.\n        aStack.pop();\n        bStack.pop();\n        return true;\n    };\n\n    // Perform a deep comparison to check if two objects are equal.\n    _.isEqual = function (a, b) {\n        return eq(a, b);\n    };\n\n    // Is a given array, string, or object empty?\n    // An \"empty\" object has no enumerable own-properties.\n    _.isEmpty = function (obj) {\n        if (obj == null) return true;\n        if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n        return _.keys(obj).length === 0;\n    };\n\n    // Is a given value a DOM element?\n    _.isElement = function (obj) {\n        return !!(obj && obj.nodeType === 1);\n    };\n\n    // Is a given value an array?\n    // Delegates to ECMA5's native Array.isArray\n    _.isArray = nativeIsArray || function (obj) {\n            return toString.call(obj) === '[object Array]';\n        };\n\n    // Is a given variable an object?\n    _.isObject = function (obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n    _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function (name) {\n        _['is' + name] = function (obj) {\n            return toString.call(obj) === '[object ' + name + ']';\n        };\n    });\n\n    // Define a fallback version of the method in browsers (ahem, IE < 9), where\n    // there isn't any inspectable \"Arguments\" type.\n    if (!_.isArguments(arguments)) {\n        _.isArguments = function (obj) {\n            return _.has(obj, 'callee');\n        };\n    }\n\n    // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n    // IE 11 (#1621), and in Safari 8 (#1929).\n    if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n        _.isFunction = function (obj) {\n            return typeof obj == 'function' || false;\n        };\n    }\n\n    // Is a given object a finite number?\n    _.isFinite = function (obj) {\n        return isFinite(obj) && !isNaN(parseFloat(obj));\n    };\n\n    // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n    _.isNaN = function (obj) {\n        return _.isNumber(obj) && obj !== +obj;\n    };\n\n    // Is a given value a boolean?\n    _.isBoolean = function (obj) {\n        return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n    };\n\n    // Is a given value equal to null?\n    _.isNull = function (obj) {\n        return obj === null;\n    };\n\n    // Is a given variable undefined?\n    _.isUndefined = function (obj) {\n        return obj === void 0;\n    };\n\n    // Shortcut function for checking if an object has a given property directly\n    // on itself (in other words, not on a prototype).\n    _.has = function (obj, key) {\n        return obj != null && hasOwnProperty.call(obj, key);\n    };\n\n    // Utility Functions\n    // -----------------\n\n    // Keep the identity function around for default iteratees.\n    _.identity = function (value) {\n        return value;\n    };\n\n    // Predicate-generating functions. Often useful outside of Underscore.\n    _.constant = function (value) {\n        return function () {\n            return value;\n        };\n    };\n\n    _.noop = function () {\n    };\n\n    _.property = property;\n\n    // Generates a function for a given object that returns a given property.\n    _.propertyOf = function (obj) {\n        return obj == null ? function () {\n        } : function (key) {\n            return obj[key];\n        };\n    };\n\n    // Returns a predicate for checking whether an object has a given set of\n    // `key:value` pairs.\n    _.matcher = _.matches = function (attrs) {\n        attrs = _.extendOwn({}, attrs);\n        return function (obj) {\n            return _.isMatch(obj, attrs);\n        };\n    };\n\n    // Run a function **n** times.\n    _.times = function (n, iteratee, context) {\n        var accum = Array(Math.max(0, n));\n        iteratee = optimizeCb(iteratee, context, 1);\n        for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n        return accum;\n    };\n\n    // Return a random integer between min and max (inclusive).\n    _.random = function (min, max) {\n        if (max == null) {\n            max = min;\n            min = 0;\n        }\n        return min + Math.floor(Math.random() * (max - min + 1));\n    };\n\n    // A (possibly faster) way to get the current timestamp as an integer.\n    _.now = Date.now || function () {\n            return new Date().getTime();\n        };\n\n    // List of HTML entities for escaping.\n    var escapeMap = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#x27;',\n        '`': '&#x60;'\n    };\n    var unescapeMap = _.invert(escapeMap);\n\n    // Functions for escaping and unescaping strings to/from HTML interpolation.\n    var createEscaper = function (map) {\n        var escaper = function (match) {\n            return map[match];\n        };\n        // Regexes for identifying a key that needs to be escaped\n        var source = '(?:' + _.keys(map).join('|') + ')';\n        var testRegexp = RegExp(source);\n        var replaceRegexp = RegExp(source, 'g');\n        return function (string) {\n            string = string == null ? '' : '' + string;\n            return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n        };\n    };\n    _.escape = createEscaper(escapeMap);\n    _.unescape = createEscaper(unescapeMap);\n\n    // If the value of the named `property` is a function then invoke it with the\n    // `object` as context; otherwise, return it.\n    _.result = function (object, property, fallback) {\n        var value = object == null ? void 0 : object[property];\n        if (value === void 0) {\n            value = fallback;\n        }\n        return _.isFunction(value) ? value.call(object) : value;\n    };\n\n    // Generate a unique integer id (unique within the entire client session).\n    // Useful for temporary DOM ids.\n    var idCounter = 0;\n    _.uniqueId = function (prefix) {\n        var id = ++idCounter + '';\n        return prefix ? prefix + id : id;\n    };\n\n    // By default, Underscore uses ERB-style template delimiters, change the\n    // following template settings to use alternative delimiters.\n    _.templateSettings = {\n        evaluate: /<%([\\s\\S]+?)%>/g,\n        interpolate: /<%=([\\s\\S]+?)%>/g,\n        escape: /<%-([\\s\\S]+?)%>/g\n    };\n\n    // When customizing `templateSettings`, if you don't want to define an\n    // interpolation, evaluation or escaping regex, we need one that is\n    // guaranteed not to match.\n    var noMatch = /(.)^/;\n\n    // Certain characters need to be escaped so that they can be put into a\n    // string literal.\n    var escapes = {\n        \"'\": \"'\",\n        '\\\\': '\\\\',\n        '\\r': 'r',\n        '\\n': 'n',\n        '\\u2028': 'u2028',\n        '\\u2029': 'u2029'\n    };\n\n    var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n    var escapeChar = function (match) {\n        return '\\\\' + escapes[match];\n    };\n\n    // JavaScript micro-templating, similar to John Resig's implementation.\n    // Underscore templating handles arbitrary delimiters, preserves whitespace,\n    // and correctly escapes quotes within interpolated code.\n    // NB: `oldSettings` only exists for backwards compatibility.\n    _.template = function (text, settings, oldSettings) {\n        if (!settings && oldSettings) settings = oldSettings;\n        settings = _.defaults({}, settings, _.templateSettings);\n\n        // Combine delimiters into one regular expression via alternation.\n        var matcher = RegExp([\n                (settings.escape || noMatch).source,\n                (settings.interpolate || noMatch).source,\n                (settings.evaluate || noMatch).source\n            ].join('|') + '|$', 'g');\n\n        // Compile the template source, escaping string literals appropriately.\n        var index = 0;\n        var source = \"__p+='\";\n        text.replace(matcher, function (match, escape, interpolate, evaluate, offset) {\n            source += text.slice(index, offset).replace(escaper, escapeChar);\n            index = offset + match.length;\n\n            if (escape) {\n                source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n            } else if (interpolate) {\n                source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n            } else if (evaluate) {\n                source += \"';\\n\" + evaluate + \"\\n__p+='\";\n            }\n\n            // Adobe VMs need the match returned to produce the correct offest.\n            return match;\n        });\n        source += \"';\\n\";\n\n        // If a variable is not specified, place data values in local scope.\n        if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n        source = \"var __t,__p='',__j=Array.prototype.join,\" +\n            \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n            source + 'return __p;\\n';\n\n        try {\n            var render = new Function(settings.variable || 'obj', '_', source);\n        } catch (e) {\n            e.source = source;\n            throw e;\n        }\n\n        var template = function (data) {\n            return render.call(this, data, _);\n        };\n\n        // Provide the compiled source as a convenience for precompilation.\n        var argument = settings.variable || 'obj';\n        template.source = 'function(' + argument + '){\\n' + source + '}';\n\n        return template;\n    };\n\n    // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n    _.chain = function (obj) {\n        var instance = _(obj);\n        instance._chain = true;\n        return instance;\n    };\n\n    // OOP\n    // ---------------\n    // If Underscore is called as a function, it returns a wrapped object that\n    // can be used OO-style. This wrapper holds altered versions of all the\n    // underscore functions. Wrapped objects may be chained.\n\n    // Helper function to continue chaining intermediate results.\n    var result = function (instance, obj) {\n        return instance._chain ? _(obj).chain() : obj;\n    };\n\n    // Add your own custom functions to the Underscore object.\n    _.mixin = function (obj) {\n        _.each(_.functions(obj), function (name) {\n            var func = _[name] = obj[name];\n            _.prototype[name] = function () {\n                var args = [this._wrapped];\n                push.apply(args, arguments);\n                return result(this, func.apply(_, args));\n            };\n        });\n    };\n\n    // Add all of the Underscore functions to the wrapper object.\n    _.mixin(_);\n\n    // Add all mutator Array functions to the wrapper.\n    _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function (name) {\n        var method = ArrayProto[name];\n        _.prototype[name] = function () {\n            var obj = this._wrapped;\n            method.apply(obj, arguments);\n            if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n            return result(this, obj);\n        };\n    });\n\n    // Add all accessor Array functions to the wrapper.\n    _.each(['concat', 'join', 'slice'], function (name) {\n        var method = ArrayProto[name];\n        _.prototype[name] = function () {\n            return result(this, method.apply(this._wrapped, arguments));\n        };\n    });\n\n    // Extracts the result from a wrapped and chained object.\n    _.prototype.value = function () {\n        return this._wrapped;\n    };\n\n    // Provide unwrapping proxy for some methods used in engine operations\n    // such as arithmetic and JSON stringification.\n    _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n    _.prototype.toString = function () {\n        return '' + this._wrapped;\n    };\n\n\n}());\n\n/**\n * @preserve throbber.js v 0.0.2 2014-04-30\n * http://aino.com\n *\n * Copyright (c) Aino Aktiebolag\n * Licensed under the MIT license.\n *\n */\n\n/*global Image, module, define, window */\n\nvar Throbber;\n\n(function (global, factory) {\n\n\n    Throbber = factory(global);\n\n\n}(window || this, function (window) {\n\n    var document = window.document,\n\n        M = Math,\n        setTimeout = window.setTimeout,\n\n        support = ( 'getContext' in document.createElement('canvas') ),\n\n        _extend = function (defaults, obj) {\n            defaults = defaults || {};\n            for (var i in obj) {\n                defaults[i] = obj[i];\n            }\n            return defaults;\n        },\n\n        _animate = (function () {\n\n            var loops = [];\n            var animating = false;\n\n            var requestFrame = (function () {\n                var r = 'RequestAnimationFrame';\n                return window.requestAnimationFrame ||\n                    window['webkit' + r] ||\n                    window['moz' + r] ||\n                    window['o' + r] ||\n                    window['ms' + r] ||\n                    function (callback) {\n                        window.setTimeout(callback, 1000 / 60);\n                    };\n            }());\n\n            function tick() {\n\n                requestFrame(tick);\n                var now = +(new Date());\n\n                for (var i = 0; i < loops.length; i++) {\n                    var loop = loops[i];\n                    loop.elapsed = now - loop.then;\n                    if (loop.elapsed > loop.fpsInterval) {\n                        loop.then = now - (loop.elapsed % loop.fpsInterval);\n                        loop.fn();\n                    }\n                }\n            }\n\n            return function animate(fps, draw) {\n\n                var now = +(new Date());\n                loops.push({\n                    fpsInterval: 1000 / fps,\n                    then: now,\n                    startTime: now,\n                    elapsed: 0,\n                    fn: draw\n                });\n                if (!animating) {\n                    animating = true;\n                    tick();\n                }\n            };\n        }()),\n\n    // convert any color to RGB array\n        _getRGB = function (color) {\n            if (!support) {\n                return {rgb: false, alpha: 1};\n            }\n\n            var t = document.createElement('i'), rgb;\n\n            t.style.display = 'none';\n            t.style.color = color;\n            document.body.appendChild(t);\n\n            rgb = window.getComputedStyle(t, null)\n                .getPropertyValue('color')\n                .replace(/^rgba?\\(([^\\)]+)\\)/, '$1').replace(/\\s/g, '').split(',').splice(0, 4);\n\n            document.body.removeChild(t);\n            t = null;\n\n            return {\n                alpha: rgb.length == 4 ? rgb.pop() : 1,\n                rgb: rgb\n            };\n        },\n\n    // used when rotating\n        _restore = function (ctx, size, back) {\n            var n = back ? -2 : 2;\n            ctx.translate(size / n, size / n);\n        },\n\n    // locar vars\n        fade, i, l, ad, rd,\n\n    // draw the frame\n        _draw = function (alpha, o, ctx, step) {\n\n            fade = 1 - alpha || 0;\n            ad = 1;\n            rd = -1;\n\n            var size = o.size;\n\n            if (o.clockwise === false) {\n                ad = -1;\n                rd = 1;\n            }\n\n            ctx.clearRect(0, 0, size, size);\n            ctx.globalAlpha = o.alpha;\n            ctx.lineWidth = o.strokewidth;\n\n            for (i = 0; i < o.lines; i++) {\n\n                l = i + step >= o.lines ? i - o.lines + step : i + step;\n\n                ctx.strokeStyle = 'rgba(' + o.color.join(',') + ',' + M.max(0, ((l / o.lines) - fade)).toFixed(2) + ')';\n                ctx.beginPath();\n\n                ctx.moveTo(size / 2, size / 2 - o.padding / 2);\n                ctx.lineTo(size / 2, 0);\n                ctx.lineWidth = o.strokewidth;\n                ctx.stroke();\n                _restore(ctx, size, false);\n                ctx.rotate(ad * ( 360 / o.lines ) * M.PI / 180);\n                _restore(ctx, size, true);\n            }\n\n            if (o.rotationspeed) {\n                // ctx.save();   // TODO <- this is a resource leak,  ctx.restore() is never called.\n                _restore(ctx, size, false);\n\n                ctx.rotate(rd * ( 360 / o.lines / ( 20 - o.rotationspeed * 2 ) ) * M.PI / 180); //rotate in origin\n                _restore(ctx, size, true);\n            }\n        };\n\n\n    // Throbber constructor\n    function Throbber(options) {\n\n        if (!(this instanceof Throbber )) {\n            return new Throbber(options);\n        }\n\n        var elem = this.elem = document.createElement('canvas'),\n            scope = this;\n\n        if (!isNaN(options)) {\n            options = {size: options};\n        }\n\n        // default options\n        // note that some of these are placeholder and calculated against size if not defined\n        this.o = {\n            size: 34,           // diameter of loader\n            rotationspeed: 6,   // rotation speed (1-10)\n            clockwise: true,    // direction, set to false for counter clockwise\n            color: '#fff',      // color of the spinner, can be any CSS compatible value\n            fade: 300,          // duration of fadein/out when calling .start() and .stop()\n            fallback: false,    // a gif fallback for non-supported browsers\n            alpha: 1            // global alpha, can be defined using rgba as color or separatly\n        };\n\n        /*\n         // more options, but these are calculated from size if not defined:\n\n         fps                     // frames per second (~size)\n         padding                 // diameter of clipped inner area (~size/2)\n         strokewidth             // width of the lines (~size/30)\n         lines                   // number of lines (~size/2+4)\n\n         */\n\n        // _extend options\n        this.configure(options);\n\n        // fade phase\n        // 0 = idle\n        // 1 = fadein\n        // 2 = running\n        // 3 = fadeout\n        this.phase = -1;\n\n        // references\n        if (support) {\n            this.ctx = elem.getContext('2d');\n            elem.width = elem.height = this.o.size;\n        } else if (this.o.fallback) {\n            elem = this.elem = new Image();\n            elem.src = this.o.fallback;\n        }\n\n        ///////////////////\n        // the loop\n\n        this.loop = (function () {\n\n            var o = scope.o,\n                alpha = 0,\n                fade = 1000 / o.fade / o.fps,\n                interval = 1000 / o.fps,\n                step = scope.step,\n\n                style = elem.style,\n                currentStyle = elem.currentStyle,\n                filter = currentStyle && currentStyle.filter || style.filter,\n                ie = 'filter' in style && o.fallback && !support;\n\n            // the canvas loop\n            return function () {\n\n                if (scope.phase == 3) {\n\n                    // fadeout\n                    alpha -= fade;\n                    if (alpha <= 0) {\n                        scope.phase = 0;\n                    }\n\n                }\n\n                if (scope.phase == 1) {\n\n                    // fadein\n                    alpha += fade;\n                    if (alpha >= 1) {\n                        scope.phase = 2;\n                    }\n                }\n\n                if (ie) {\n                    style.filter = 'alpha(opacity=' + M.min(o.alpha * 100, M.max(0, Math.round(alpha * 100))) + ')';\n                } else if (!support && o.fallback) {\n                    style.opacity = alpha;\n                } else if (support) {\n                    _draw(alpha, o, scope.ctx, step);\n                    step = step === 0 ? scope.o.lines : step - 1;\n                }\n            };\n        }());\n\n        _animate(this.o.fps, this.loop);\n\n    }\n\n    // Throbber prototypes\n    Throbber.prototype = {\n\n        constructor: Throbber,\n\n        // append the loader to a HTML element\n        appendTo: function (elem) {\n\n            this.elem.style.display = 'none';\n            elem.appendChild(this.elem);\n\n            return this;\n        },\n\n        // _extend options and apply calculate meassures\n        configure: function (options) {\n\n            var o = this.o, color;\n\n            _extend(o, options || {});\n\n            color = _getRGB(o.color);\n\n            // do some sensible calculations if not defined\n            _extend(o, _extend({\n                padding: o.size / 2,\n                strokewidth: M.max(1, M.min(o.size / 30, 3)),\n                lines: M.min(30, o.size / 2 + 4),\n                alpha: color.alpha || 1,\n                fps: M.min(30, o.size + 4)\n            }, options));\n\n            // grab the rgba array\n            o.color = color.rgb;\n\n            // copy the amount of lines into steps\n            this.step = o.lines;\n\n            // double-up for retina screens\n            if (!!window.devicePixelRatio) {\n                // lock element into desired end size\n                this.elem.style.width = o.size + 'px';\n                this.elem.style.height = o.size + 'px';\n\n                o.size *= window.devicePixelRatio;\n                o.padding *= window.devicePixelRatio;\n                o.strokewidth *= window.devicePixelRatio;\n            }\n\n            return this;\n        },\n\n        // starts the animation\n        start: function () {\n\n            this.elem.style.display = 'block';\n            if (this.phase == -1) {\n                this.loop();\n            }\n            this.phase = 1;\n\n            return this;\n        },\n\n        // stops the animation\n        stop: function () {\n            this.phase = 3;\n            return this;\n        },\n\n        toggle: function () {\n            if (this.phase == 2) {\n                this.stop();\n            } else {\n                this.start();\n            }\n        }\n    };\n\n    return Throbber;\n\n}));\n\n/**\n * @license Colors JS Library v1.2.4\n * Copyright 2012-2013 Matt Jordan\n * Licensed under Creative Commons Attribution-ShareAlike 3.0 Unported. (http://creativecommons.org/licenses/by-sa/3.0/)\n * https://github.com/mbjordan/Colors\n */\n\nvar Colors = {};\n\n(function () {\n    var Utils = {};\n\n    //## Internal Utilities\n    // ###Render method\n    //\n    // `render(map, type)`\n    //\n    // `map` is an object of data to render, `type` can be RGB, HSV or HSL\n    Utils.render = function (map, type) {\n        var rtn = {},\n            keys;\n        if (typeof map != \"object\") {\n            return;\n        }\n        if (type === \"rgb\") {\n            keys = [\"R\", \"G\", \"B\", \"RGB\"];\n        }\n        if (type === \"hsv\") {\n            keys = [\"H\", \"S\", \"V\", \"HSV\"];\n        }\n        if (type === \"hsl\") {\n            keys = [\"H\", \"S\", \"L\", \"HSL\"];\n        }\n        rtn[keys[0]] = map[0];\n        rtn[keys[1]] = map[1];\n        rtn[keys[2]] = map[2];\n        rtn[keys[3]] = map[0] + \" \" + map[1] + \" \" + map[2];\n        rtn.a = map;\n        return rtn;\n    };\n\n\n\n\n    // ### Padded Hex method\n    //\n    // `paddedHex(number)`\n    //\n    // Creates a hexadecimal number, and adds a zero to the beginning if its only one digit.\n    Utils.paddedHex = function (n) {\n        var hex = ((n < 10) ? \"0\" : \"\") + n.toString(16);\n        return (hex.length === 1) ? \"0\" + hex : hex;\n    };\n\n    Number.prototype.round = function (points) {\n        points = points || 10;\n        return parseFloat(this.toFixed(points));\n    };\n\n\n    // ## The Colors methods\n    // ### rgb2hex method\n    //\n    // Change 3 RGB Ints or a single Int to a Hexadecimal color.\n    //\n    // `rgb2hex( [multiple Ints: R,G,B] or [single Int: COLOR] )`\n    Colors.rgb2hex = function (r, g, b) {\n        r = Utils.paddedHex(r);\n        g = (g !== undefined) ? Utils.paddedHex(g) : r;\n        b = (b !== undefined) ? Utils.paddedHex(b) : r;\n        return \"#\" + r + g + b;\n    };\n\n    // ### hex2rgb method\n    //\n    // Change a hexadecimal color string to an RGB color object.\n    //\n    // `hex2rgb( \"hex color string\" ).[obj R, G, B, RGB or a]`\n    Colors.hex2rgb = function (h) {\n        h = h.replace(\"#\", \"\");\n        if (h.length === 6) {\n            return Utils.render([parseInt(h.substr(0, 2), 16), parseInt(h.substr(2, 2), 16), parseInt(h.substr(4, 2), 16)], \"rgb\");\n        } else {\n            return parseInt(h, 16);\n        }\n    };\n\n    // ### hex2hsv method\n    //\n    // Change a hexadecimal color string to an HSV color object.\n    //\n    // `hex2hsv ( \"hex color string\" ).[obj H, S, V, HSV or a]`\n    Colors.hex2hsv = function (h) {\n        h = (h.charAt(0) == \"#\") ? h.substring(1, 7) : h;\n        var r = parseInt(h.substring(0, 2), 16) / 255,\n            g = parseInt(h.substring(2, 4), 16) / 255,\n            b = parseInt(h.substring(4, 6), 16) / 255,\n            result = {\n                \"h\": 0,\n                \"s\": 0,\n                \"v\": 0\n            },\n            minVal = Math.min(r, g, b),\n            maxVal = Math.max(r, g, b),\n            delta = (maxVal - minVal),\n            del_R, del_G, del_B;\n\n        result.v = maxVal;\n        if (delta === 0) {\n            result.h = 0;\n            result.s = 0;\n        } else {\n            result.s = delta / maxVal;\n            del_R = (((maxVal - r) / 6) + (delta / 2)) / delta;\n            del_G = (((maxVal - g) / 6) + (delta / 2)) / delta;\n            del_B = (((maxVal - b) / 6) + (delta / 2)) / delta;\n            if (r == maxVal) {\n                result.h = del_B - del_G;\n            } else if (g == maxVal) {\n                result.h = (1 / 3) + del_R - del_B;\n            } else if (b == maxVal) {\n                result.h = (2 / 3) + del_G - del_R;\n            }\n            if (result.h < 0) {\n                result.h += 1;\n            }\n            if (result.h > 1) {\n                result.h -= 1;\n            }\n        }\n        return Utils.render([Math.round(result.h * 360), Math.round(result.s * 100), Math.round(result.v * 100)], \"hsv\");\n    };\n\n    // ### hsv2rgb method\n    //\n    // Change an HSV color object or Int string to an RGB color object.\n    //\n    // `hsv2rgb ([obj H, S, V] or [Int H, S, V]).[obj R, G, B, RGB or a]`\n    Colors.hsv2rgb = function (HSV, S, V) {\n        var rgb = [],\n            h, s, v, hi, f, p, q, t;\n\n        if (typeof HSV == \"object\") {\n            h = HSV[0];\n            s = HSV[1];\n            v = HSV[2];\n        } else {\n            h = HSV;\n            s = S;\n            v = V;\n        }\n        s = s / 100;\n        v = v / 100;\n        hi = Math.floor((h / 60) % 6);\n        f = (h / 60) - hi;\n        p = v * (1 - s);\n        q = v * (1 - f * s);\n        t = v * (1 - (1 - f) * s);\n        switch (hi) {\n        case 0:\n            rgb = [v, t, p];\n            break;\n        case 1:\n            rgb = [q, v, p];\n            break;\n        case 2:\n            rgb = [p, v, t];\n            break;\n        case 3:\n            rgb = [p, q, v];\n            break;\n        case 4:\n            rgb = [t, p, v];\n            break;\n        case 5:\n            rgb = [v, p, q];\n        }\n        return Utils.render([Math.min(255, Math.floor(rgb[0] * 256)), Math.min(255, Math.floor(rgb[1] * 256)), Math.min(255, Math.floor(rgb[2] * 256))], \"rgb\");\n    };\n\n    // ### rgb2hsl method\n    //\n    // Change RGB to an HSL object.\n    //\n    // `rgb2hsl(RGB[, G, B])`\n    Colors.rgb2hsl = function (RGB, G, B) {\n        var r, g, b, min, max, h, s, l, d;\n\n        if (typeof RGB === \"object\") {\n            r = RGB[0];\n            g = RGB[1];\n            b = RGB[2];\n        } else {\n            r = RGB;\n            g = G;\n            b = B;\n        }\n\n        r /= 255;\n        g /= 255;\n        b /= 255;\n\n        max = Math.max(r, g, b);\n        min = Math.min(r, g, b);\n        l = (max + min) / 2;\n\n        if (max == min) {\n            h = s = 0;\n        } else {\n            d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n            }\n            h /= 6;\n        }\n\n        return Utils.render([Math.floor(h * 360), (s * 100).round(1), (l * 100).round(1)], \"hsl\");\n    };\n\n    // ### hsv2hsl method\n    //\n    // Change HSV to an HSL object\n    //\n    // `hsv2hsl(HSV[, S, V])`\n    Colors.hsv2hsl = function (H, S, V) {\n        var h, s, l, _H, _S, _L, hsv, r1, g1, b1, maxColor, minColor;\n\n        if (typeof H == \"object\") {\n            h = H[0];\n            s = H[1];\n            l = H[2];\n        } else {\n            h = H;\n            s = S;\n            l = V;\n        }\n\n        hsv = this.hsv2rgb(h, s, l);\n        r1 = hsv.R / 255;\n        g1 = hsv.G / 255;\n        b1 = hsv.B / 255;\n        maxColor = Math.max(r1, g1, b1);\n        minColor = Math.min(r1, g1, b1);\n        _L = (maxColor + minColor) / 2;\n        _S = 0;\n        _H = 0;\n        if (maxColor != minColor) {\n            if (_L < 0.5) {\n                S = (maxColor - minColor) / (maxColor + minColor);\n            } else {\n                S = (maxColor - minColor) / (2.0 - maxColor - minColor);\n            }\n            if (r1 == maxColor) {\n                H = (g1 - b1) / (maxColor - minColor);\n            } else if (g1 == maxColor) {\n                H = 2.0 + (b1 - r1) / (maxColor - minColor);\n            } else {\n                H = 4.0 + (r1 - g1) / (maxColor - minColor);\n            }\n        }\n        _L = _L * 100;\n        _S = _S * 100;\n        _H = _H * 60;\n        if (_H < 0) {\n            _H += 360;\n        }\n        return Utils.render([Math.floor(H), Math.floor(S), Math.floor(V)], \"hsl\");\n    };\n\n    // ### name2hex method\n    //\n    // Get the hexadecimal value of an HTML color name. Must be one of the 176 HTML color names as defined by the HTML & CSS standards.\n    //\n    // `name2hex ( \"color name\" )`\n    Colors.name2hex = function (n) {\n        n = n.toLowerCase();\n        var nar = {\n            \"aliceblue\": \"#f0f8ff\",\n            \"antiquewhite\": \"#faebd7\",\n            \"aqua\": \"#00ffff\",\n            \"aquamarine\": \"#7fffd4\",\n            \"azure\": \"#f0ffff\",\n            \"beige\": \"#f5f5dc\",\n            \"bisque\": \"#ffe4c4\",\n            \"black\": \"#000000\",\n            \"blanchedalmond\": \"#ffebcd\",\n            \"blue\": \"#0000ff\",\n            \"blueviolet\": \"#8a2be2\",\n            \"brown\": \"#a52a2a\",\n            \"burlywood\": \"#deb887\",\n            \"cadetblue\": \"#5f9ea0\",\n            \"chartreuse\": \"#7fff00\",\n            \"chocolate\": \"#d2691e\",\n            \"coral\": \"#ff7f50\",\n            \"cornflowerblue\": \"#6495ed\",\n            \"cornsilk\": \"#fff8dc\",\n            \"crimson\": \"#dc143c\",\n            \"cyan\": \"#00ffff\",\n            \"darkblue\": \"#00008b\",\n            \"darkcyan\": \"#008b8b\",\n            \"darkgoldenrod\": \"#b8860b\",\n            \"darkgray\": \"#a9a9a9\",\n            \"darkgrey\": \"#a9a9a9\",\n            \"darkgreen\": \"#006400\",\n            \"darkkhaki\": \"#bdb76b\",\n            \"darkmagenta\": \"#8b008b\",\n            \"darkolivegreen\": \"#556b2f\",\n            \"darkorange\": \"#ff8c00\",\n            \"darkorchid\": \"#9932cc\",\n            \"darkred\": \"#8b0000\",\n            \"darksalmon\": \"#e9967a\",\n            \"darkseagreen\": \"#8fbc8f\",\n            \"darkslateblue\": \"#483d8b\",\n            \"darkslategray\": \"#2f4f4f\",\n            \"darkslategrey\": \"#2f4f4f\",\n            \"darkturquoise\": \"#00ced1\",\n            \"darkviolet\": \"#9400d3\",\n            \"deeppink\": \"#ff1493\",\n            \"deepskyblue\": \"#00bfff\",\n            \"dimgray\": \"#696969\",\n            \"dimgrey\": \"#696969\",\n            \"dodgerblue\": \"#1e90ff\",\n            \"firebrick\": \"#b22222\",\n            \"floralwhite\": \"#fffaf0\",\n            \"forestgreen\": \"#228b22\",\n            \"fuchsia\": \"#ff00ff\",\n            \"gainsboro\": \"#dcdcdc\",\n            \"ghostwhite\": \"#f8f8ff\",\n            \"gold\": \"#ffd700\",\n            \"goldenrod\": \"#daa520\",\n            \"gray\": \"#808080\",\n            \"grey\": \"#808080\",\n            \"green\": \"#008000\",\n            \"greenyellow\": \"#adff2f\",\n            \"honeydew\": \"#f0fff0\",\n            \"hotpink\": \"#ff69b4\",\n            \"indianred\": \"#cd5c5c\",\n            \"indigo\": \"#4b0082\",\n            \"ivory\": \"#fffff0\",\n            \"khaki\": \"#f0e68c\",\n            \"lavender\": \"#e6e6fa\",\n            \"lavenderblush\": \"#fff0f5\",\n            \"lawngreen\": \"#7cfc00\",\n            \"lemonchiffon\": \"#fffacd\",\n            \"lightblue\": \"#add8e6\",\n            \"lightcoral\": \"#f08080\",\n            \"lightcyan\": \"#e0ffff\",\n            \"lightgoldenrodyellow\": \"#fafad2\",\n            \"lightgray\": \"#d3d3d3\",\n            \"lightgrey\": \"#d3d3d3\",\n            \"lightgreen\": \"#90ee90\",\n            \"lightpink\": \"#ffb6c1\",\n            \"lightsalmon\": \"#ffa07a\",\n            \"lightseagreen\": \"#20b2aa\",\n            \"lightskyblue\": \"#87cefa\",\n            \"lightslategray\": \"#778899\",\n            \"lightslategrey\": \"#778899\",\n            \"lightsteelblue\": \"#b0c4de\",\n            \"lightyellow\": \"#ffffe0\",\n            \"lime\": \"#00ff00\",\n            \"limegreen\": \"#32cd32\",\n            \"linen\": \"#faf0e6\",\n            \"magenta\": \"#ff00ff\",\n            \"maroon\": \"#800000\",\n            \"mediumaquamarine\": \"#66cdaa\",\n            \"mediumblue\": \"#0000cd\",\n            \"mediumorchid\": \"#ba55d3\",\n            \"mediumpurple\": \"#9370d8\",\n            \"mediumseagreen\": \"#3cb371\",\n            \"mediumslateblue\": \"#7b68ee\",\n            \"mediumspringgreen\": \"#00fa9a\",\n            \"mediumturquoise\": \"#48d1cc\",\n            \"mediumvioletred\": \"#c71585\",\n            \"midnightblue\": \"#191970\",\n            \"mintcream\": \"#f5fffa\",\n            \"mistyrose\": \"#ffe4e1\",\n            \"moccasin\": \"#ffe4b5\",\n            \"navajowhite\": \"#ffdead\",\n            \"navy\": \"#000080\",\n            \"oldlace\": \"#fdf5e6\",\n            \"olive\": \"#808000\",\n            \"olivedrab\": \"#6b8e23\",\n            \"orange\": \"#ffa500\",\n            \"orangered\": \"#ff4500\",\n            \"orchid\": \"#da70d6\",\n            \"palegoldenrod\": \"#eee8aa\",\n            \"palegreen\": \"#98fb98\",\n            \"paleturquoise\": \"#afeeee\",\n            \"palevioletred\": \"#d87093\",\n            \"papayawhip\": \"#ffefd5\",\n            \"peachpuff\": \"#ffdab9\",\n            \"peru\": \"#cd853f\",\n            \"pink\": \"#ffc0cb\",\n            \"plum\": \"#dda0dd\",\n            \"powderblue\": \"#b0e0e6\",\n            \"purple\": \"#800080\",\n            \"red\": \"#ff0000\",\n            \"rosybrown\": \"#bc8f8f\",\n            \"royalblue\": \"#4169e1\",\n            \"saddlebrown\": \"#8b4513\",\n            \"salmon\": \"#fa8072\",\n            \"sandybrown\": \"#f4a460\",\n            \"seagreen\": \"#2e8b57\",\n            \"seashell\": \"#fff5ee\",\n            \"sienna\": \"#a0522d\",\n            \"silver\": \"#c0c0c0\",\n            \"skyblue\": \"#87ceeb\",\n            \"slateblue\": \"#6a5acd\",\n            \"slategray\": \"#708090\",\n            \"slategrey\": \"#708090\",\n            \"snow\": \"#fffafa\",\n            \"springgreen\": \"#00ff7f\",\n            \"steelblue\": \"#4682b4\",\n            \"tan\": \"#d2b48c\",\n            \"teal\": \"#008080\",\n            \"thistle\": \"#d8bfd8\",\n            \"tomato\": \"#ff6347\",\n            \"turquoise\": \"#40e0d0\",\n            \"violet\": \"#ee82ee\",\n            \"wheat\": \"#f5deb3\",\n            \"white\": \"#ffffff\",\n            \"whitesmoke\": \"#f5f5f5\",\n            \"yellow\": \"#ffff00\",\n            \"yellowgreen\": \"#9acd32\"\n        },\n            r = nar[n];\n        if (r === undefined) {\n            return \"Invalid Color Name\";\n        }\n\n        return r;\n    };\n\n    // ### name2rgb method\n    //\n    // Get an RGB object value of an HTML named color.\n    //\n    // `name2rgb ( \"color name\" )`\n    Colors.name2rgb = function (n) {\n        var v = this.name2hex(n),\n            t = /^[a-fA-F0-9#]{7}$/,\n            icn = \"Invalid Color Name\";\n\n        if (t.test(v)) {\n            return this.hex2rgb(v);\n        }\n\n        return Utils.render([icn, icn, icn], \"rgb\");\n    };\n\n    // ### name2hsv method\n    //\n    // Get an HSV object value of an HTML named color.\n    //\n    // `name2hsv ( \"color name\" )`\n    Colors.name2hsv = function (n) {\n        var v = this.name2hex(n),\n            t = /^[a-fA-F0-9#]{7}$/,\n            icn = \"Invalid Color Name\";\n        if (t.test(v)) {\n            return this.hex2hsv(v);\n        }\n\n        return Utils.render([icn, icn, icn], \"hsv\");\n    };\n\n    // ### complement method\n    //\n    // Get the complementary value of multiple types of input colors.\n    //\n    // ```complement ( \"#ffffff\" )\n    // complement ( [obj R, G, B] or R, G, B )```\n    Colors.complement = function (c, g, b) {\n        var cval, rtn;\n        if (typeof c == \"string\" && /(#([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?)/.test(c)) {\n            c = c.replace(\"#\", \"\");\n            rtn = \"#\";\n            if (c.length === 6) {\n                rtn += Utils.paddedHex(255 - this.hex2rgb(c.substr(0, 2)));\n                rtn += Utils.paddedHex(255 - this.hex2rgb(c.substr(2, 2)));\n                rtn += Utils.paddedHex(255 - this.hex2rgb(c.substr(4, 2)));\n            }\n            if (c.length === 3) {\n                rtn += Utils.paddedHex(255 - this.hex2rgb(c.substr(0, 1) + c.substr(0, 1)));\n                rtn += Utils.paddedHex(255 - this.hex2rgb(c.substr(1, 1) + c.substr(1, 1)));\n                rtn += Utils.paddedHex(255 - this.hex2rgb(c.substr(2, 1) + c.substr(2, 1)));\n            }\n            return rtn;\n        } else {\n            if (c !== undefined && g !== undefined && b !== undefined) {\n                cval = [(255 - c), (255 - g), (255 - b)];\n            }\n            if (typeof c == \"object\") {\n                cval = [(255 - c[0]), (255 - c[1]), (255 - c[2])];\n            }\n            return Utils.render(cval, \"rgb\");\n        }\n    };\n\n    // ### rand method\n    //\n    // Get a random color in either hexadecimal or RGB color modes.\n    //\n    // `rand ( [color mode] )`\n    Colors.rand = function (mode) {\n        var R, G, B;\n\n        if (mode === \"hex\" || mode === undefined) {\n            var chars = \"0123456789abcdef\",\n                string_length = 6,\n                hexStr = \"\",\n                rnum, i;\n\n            for (i = 0; i < string_length; i++) {\n                rnum = Math.floor(Math.random() * chars.length);\n                hexStr += chars.substring(rnum, rnum + 1);\n            }\n            return \"#\" + hexStr;\n        } else if (mode == \"rgb\") {\n            R = Math.floor(Math.random() * (0 - 255 + 1) + 255);\n            G = Math.floor(Math.random() * (0 - 255 + 1) + 255);\n            B = Math.floor(Math.random() * (0 - 255 + 1) + 255);\n            return Utils.render([R, G, B], \"rgb\");\n        }\n    };\n\n\n}());\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\nvar hic = (function (hic) {\n\n    hic.AnnotationWidget = function (browser, $parent, config, trackListRetrievalCallback) {\n\n        var $container;\n\n        this.browser = browser;\n        this.trackListRetrievalCallback = trackListRetrievalCallback;\n\n        $container = $(\"<div>\", { class: 'hic-annotation-presentation-button-container' });\n        $parent.append($container);\n\n        annotationPresentationButton.call(this, $container, config.title, config.alertMessage);\n\n        annotationPanel.call(this, this.browser.$root, config.title);\n\n    };\n\n    hic.AnnotationWidget.prototype.updateBody = function (tracks) {\n\n        var self = this,\n            trackRenderers,\n            isTrack2D,\n            zi;\n\n        self.$annotationPanel.find('.hic-annotation-row-container').remove();\n\n        isTrack2D = (_.first(tracks) instanceof hic.Track2D);\n\n        if (isTrack2D) {\n            // Reverse list to present layers in \"z\" order.\n            for(zi = tracks.length - 1; zi >= 0; zi--) {\n                annotationPanelRow.call(self, self.$annotationPanel, tracks[ zi ]);\n            }\n        } else {\n            trackRenderers = tracks;\n            _.each(trackRenderers, function (trackRenderer) {\n                annotationPanelRow.call(self, self.$annotationPanel, trackRenderer);\n            });\n        }\n\n    };\n\n    function annotationPresentationButton($parent, title, alertMessage) {\n        var self = this,\n            $button;\n\n        $button = $('<button>', { type: 'button' });\n        $button.text(title);\n        $parent.append($button);\n\n        $button.on('click', function () {\n            var list;\n\n            list = self.trackListRetrievalCallback();\n            if (list.length > 0) {\n                self.updateBody(self.trackListRetrievalCallback());\n                self.$annotationPanel.toggle();\n            } else {\n                igv.presentAlert(alertMessage);\n            }\n\n            self.browser.hideMenu();\n        });\n    }\n\n    function annotationPanel($parent, title) {\n\n        var self = this,\n            $panel_header,\n            $load_container,\n            $div,\n            $fa;\n\n        this.$annotationPanel = $('<div>', { class:'hic-annotation-panel-container' });\n        $parent.append(this.$annotationPanel);\n\n        // close button container\n        $panel_header = $('<div>', { class:'hic-annotation-panel-header' });\n        this.$annotationPanel.append($panel_header);\n\n        // panel title\n        $div = $('<div>');\n        $div.text(title);\n        $panel_header.append($div);\n\n        // close button\n        $div = $('<div>', { class:'hic-menu-close-button' });\n        $panel_header.append($div);\n\n        $fa = $(\"<i>\", { class:'fa fa-times' });\n        $div.append($fa);\n\n        $fa.on('click', function (e) {\n            self.$annotationPanel.toggle();\n        });\n\n        // TODO: Continue changes for load functions added to side panel\n        // load container\n        // $load_container = $('<div>', { class:'hic-annotation-panel-load-container' });\n        // this.$annotationPanel.append($load_container);\n        //\n        // // Load\n        // $div = $('<div>');\n        // $load_container.append($div);\n        // $div.text('Load:');\n        //\n        // // Blah\n        // $div = $('<div>');\n        // $load_container.append($div);\n        // $div.text('Blah');\n\n        //this.$annotationPanel.draggable();\n        igv.makeDraggable(this.$annotationPanel.get(0), $panel_header.get(0));\n        this.$annotationPanel.hide();\n    }\n\n    function annotationPanelRow($container, track) {\n        var self = this,\n            $colorpickerContainer,\n            $colorpickerButton,\n            $colorpicker,\n            $row_container,\n            $row,\n            $hideShowTrack,\n            $deleteTrack,\n            $upTrack,\n            $downTrack,\n            $e,\n            $o,\n            hidden_color = '#f7f7f7',\n            str,\n            isTrack2D,\n            trackList,\n            xyTrackRendererPair,\n            trackRenderer,\n            track1D,\n            index,\n            upp,\n            dwn;\n\n        isTrack2D = (track instanceof hic.Track2D);\n        trackList = this.trackListRetrievalCallback();\n\n        if (false === isTrack2D) {\n            xyTrackRendererPair = track;\n            track1D = xyTrackRendererPair.x.track;\n            trackRenderer = xyTrackRendererPair.x.track.trackView;\n        }\n\n        // row container\n        $row_container = $('<div>', {class: 'hic-annotation-row-container'});\n        $container.append($row_container);\n\n        // one row\n        $row = $('<div>', {class: 'hic-annotation-modal-row'});\n        $row_container.append($row);\n\n        // track name\n        $e = $(\"<div>\");\n        $e.text(isTrack2D ? track.config.name : track1D.config.name);\n        $row.append($e);\n\n\n\n        // track hide/show\n        if (isTrack2D) {\n\n            str = (true === track.isVisible) ? 'fa fa-eye fa-lg' : 'fa fa-eye-slash fa-lg';\n            $hideShowTrack = $(\"<i>\", {class: str, 'aria-hidden': 'true'});\n            $row.append($hideShowTrack);\n            $hideShowTrack.on('click', function (e) {\n\n                if ($hideShowTrack.hasClass('fa-eye')) {\n                    $hideShowTrack.addClass('fa-eye-slash');\n                    $hideShowTrack.removeClass('fa-eye');\n                    track.isVisible = false;\n                } else {\n                    $hideShowTrack.addClass('fa-eye');\n                    $hideShowTrack.removeClass('fa-eye-slash');\n                    track.isVisible = true;\n                }\n\n                self.browser.contactMatrixView.clearCaches();\n                self.browser.contactMatrixView.update();\n\n            });\n\n        }\n\n\n\n        // color swatch selector button\n        $colorpickerButton = annotationColorSwatch(isTrack2D ? track.getColor() : track1D.color);\n        $row.append($colorpickerButton);\n\n        // color swatch selector\n        $colorpickerContainer = createAnnotationPanelColorpickerContainer($row_container, {width: ((29 * 24) + 1 + 1)}, function () {\n            $row.next('.hic-color-swatch-container').toggle();\n        });\n\n        $colorpickerButton.on('click', function (e) {\n            $row.next('.hic-color-swatch-container').toggle();\n        });\n\n        $colorpickerContainer.hide();\n\n        igv.createColorSwatchSelector($colorpickerContainer, function (color) {\n            var $swatch;\n\n            $swatch = $row.find('.fa-square');\n            $swatch.css({ 'color': color });\n\n            if (isTrack2D) {\n                track.color = color;\n                self.browser.eventBus.post(hic.Event('TrackState2D', track));\n            } else {\n                trackRenderer.setColor(color);\n            }\n\n        });\n\n\n        // track up/down\n        $e = $('<div>', {class: 'up-down-arrow-container'});\n        $row.append($e);\n\n        $upTrack = $(\"<i>\", {class: 'fa fa-arrow-up', 'aria-hidden': 'true'});\n        $e.append($upTrack);\n\n        $downTrack = $(\"<i>\", {class: 'fa fa-arrow-down', 'aria-hidden': 'true'});\n        $e.append($downTrack);\n\n        if (1 === _.size(trackList)) {\n            $upTrack.css('color', hidden_color);\n            $downTrack.css('color', hidden_color);\n        } else if (track === _.first(trackList)) {\n            $o = isTrack2D ? $downTrack : $upTrack;\n            $o.css('color', hidden_color);\n        } else if (track === _.last(trackList)) {\n            $o = isTrack2D ? $upTrack : $downTrack;\n            $o.css('color', hidden_color);\n        }\n\n        index = _.indexOf(trackList, track);\n\n        upp = function (e) {\n\n            track = trackList[(index + 1)];\n            trackList[(index + 1)] = trackList[index];\n            trackList[index] = track;\n            if (isTrack2D) {\n                self.browser.eventBus.post(hic.Event('TrackState2D', trackList));\n                self.updateBody(trackList);\n            } else {\n                self.browser.updateLayout();\n                self.updateBody(trackList);\n            }\n        };\n\n        dwn = function (e) {\n\n            track = trackList[(index - 1)];\n            trackList[(index - 1)] = trackList[index];\n            trackList[index] = track;\n            if (isTrack2D) {\n                self.browser.eventBus.post(hic.Event('TrackState2D', trackList));\n                self.updateBody(trackList);\n            } else {\n                self.browser.updateLayout();\n                self.updateBody(trackList);\n            }\n        };\n\n        $upTrack.on('click', isTrack2D ? upp : dwn);\n\n        $downTrack.on('click', isTrack2D ? dwn : upp);\n\n\n\n        // track delete\n        $deleteTrack = $(\"<i>\", {class: 'fa fa-trash-o fa-lg', 'aria-hidden': 'true'});\n        $row.append($deleteTrack);\n        $deleteTrack.on('click', function (e) {\n            var index;\n\n            if (isTrack2D) {\n\n                index = _.indexOf(trackList, track);\n\n                trackList.splice(index, 1);\n\n                self.browser.contactMatrixView.clearCaches();\n                self.browser.contactMatrixView.update();\n\n                self.browser.eventBus.post(hic.Event('TrackLoad2D', trackList));\n            } else {\n                self.browser.layoutController.removeTrackRendererPair(trackRenderer.trackRenderPair);\n            }\n\n            self.updateBody(trackList);\n        });\n    }\n\n    function annotationColorSwatch(rgbString) {\n        var $swatch,\n            $fa;\n\n        $swatch = $('<div>', {class: 'igv-color-swatch'});\n\n        $fa = $('<i>', {class: 'fa fa-square fa-lg', 'aria-hidden': 'true'});\n        $swatch.append($fa);\n\n        $fa.css({color: rgbString});\n\n        return $swatch;\n    };\n\n    function createAnnotationPanelColorpickerContainer($parent, config, closeHandler) {\n\n        var $container,\n            $header,\n            $fa;\n\n        $container = $('<div>', { class:'hic-color-swatch-container' });\n        $parent.append($container);\n\n        // width\n        if (config && config.width) {\n            $container.width(config.width);\n        }\n\n        // height\n        if (config && config.height) {\n            $container.height(config.height);\n        }\n\n        // header\n        $header = $('<div>');\n        $container.append($header);\n\n        // close button\n        $fa = $(\"<i>\", { class:'fa fa-times' });\n        $header.append($fa);\n\n        $fa.on('click', function (e) {\n            closeHandler();\n        });\n\n        return $container;\n    }\n\n    return hic;\n})(hic || {});\n\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\nvar hic = (function (hic) {\n\n    hic.CaptionManager = function ($caption) {\n\n        var self = this;\n\n        this.$caption = $caption;\n\n        $caption.keyup(function (e) {\n            self.getCaption($(this));\n        });\n    };\n\n    hic.CaptionManager.prototype.getCaption = function ($caption) {\n        this.text = $caption.text();\n        console.log('caption ' + this.text);\n    };\n\n    hic.CaptionManager.prototype.setCaption = function (string) {\n        this.text = string;\n        this.$caption.text(string);\n    };\n\n    return hic;\n})(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including \n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell \n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the \n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial \n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING \n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND \n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY \n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, \n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN \n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/22/17.\n */\nvar hic = (function (hic) {\n\n    hic.ChromosomeSelectorWidget = function (browser, $parent) {\n\n        var self = this,\n            $label,\n            $selector_container,\n            $doit;\n\n        this.browser = browser;\n\n        this.$container = $('<div class=\"hic-chromosome-selector-widget-container\">');\n        $parent.append(this.$container);\n\n        $label = $('<div>');\n        this.$container.append($label);\n        $label.text('Chromosomes');\n\n        $selector_container = $('<div>');\n        this.$container.append($selector_container);\n\n        this.$x_axis_selector = $('<select name=\"x-axis-selector\">');\n        $selector_container.append(this.$x_axis_selector);\n\n        this.$y_axis_selector = $('<select name=\"y-axis-selector\">');\n        $selector_container.append(this.$y_axis_selector);\n\n        this.$x_axis_selector.on('change', function (e) {\n\n            if (0 === parseInt($(this).val(), 10)) {\n                self.$y_axis_selector.val( $(this).val() );\n            } else if (0 === parseInt(self.$y_axis_selector.val(), 10)) {\n                self.$y_axis_selector.val( $(this).val() );\n            }\n\n        });\n\n        this.$y_axis_selector.on('change', function (e) {\n\n            if (0 === parseInt($(this).val(), 10)) {\n                self.$x_axis_selector.val( $(this).val() );\n            } else if (0 === parseInt(self.$x_axis_selector.val(), 10)) {\n                self.$x_axis_selector.val( $(this).val() );\n            }\n\n        });\n\n\n        $doit = $('<div>');\n        $selector_container.append($doit);\n\n        $doit.on('click', function (e) {\n            var chr1Index,\n                chr2Index;\n\n            chr1Index = parseInt(self.$x_axis_selector.find('option:selected').val(), 10);\n            chr2Index = parseInt(self.$y_axis_selector.find('option:selected').val(), 10);\n\n            self.browser.setChromosomes(chr1Index, chr2Index);\n\n        });\n\n        this.dataLoadConfig = {\n            receiveEvent: function (event) {\n                if (event.type === \"MapLoad\") {\n                    self.respondToDataLoadWithDataset(event.data);\n                }\n            }\n        };\n        \n        this.browser.eventBus.subscribe(\"MapLoad\", this.dataLoadConfig);\n\n        this.locusChangeConfig = {\n            receiveEvent: function (event) {\n                if (event.type === \"LocusChange\") {\n                    self.respondToLocusChangeWithState(event.data.state);\n                }\n            }\n        };\n        this.browser.eventBus.subscribe(\"LocusChange\", this.locusChangeConfig);\n\n    };\n\n    hic.ChromosomeSelectorWidget.prototype.respondToDataLoadWithDataset = function (dataset) {\n\n        var elements,\n            str,\n            $xFound,\n            $yFound;\n\n        this.$x_axis_selector.empty();\n        this.$y_axis_selector.empty();\n\n        elements = _.map(dataset.chromosomes, function (chr, index) {\n            return '<option value=' + index.toString() + '>' + chr.name + '</option>';\n        });\n\n        this.$x_axis_selector.append(elements.join(''));\n        this.$y_axis_selector.append(elements.join(''));\n\n        str = 'option[value=' + this.browser.state.chr1.toString() + ']';\n        $xFound = this.$x_axis_selector.find(str);\n        $xFound.prop('selected', true);\n\n        str = 'option[value=' + this.browser.state.chr2.toString() + ']';\n        $yFound = this.$y_axis_selector.find(str);\n        $yFound.prop('selected', true);\n    };\n\n    hic.ChromosomeSelectorWidget.prototype.respondToLocusChangeWithState = function (state) {\n        var self = this,\n            ssx,\n            ssy,\n            $xFound,\n            $yFound,\n            chr1,\n            chr2;\n\n        $xFound = this.$x_axis_selector.find('option');\n        $yFound = this.$y_axis_selector.find('option');\n\n        // this happens when the first dataset is loaded.\n        if (0 === _.size($xFound) || 0 === _.size($yFound)) {\n            return;\n        }\n\n        $xFound = this.$x_axis_selector.find('option:selected');\n        $yFound = this.$y_axis_selector.find('option:selected');\n\n        $xFound.prop('selected', false);\n        $yFound.prop('selected', false);\n\n        // chr1 = parseInt($xFound.val(), 10);\n        // chr2 = parseInt($yFound.val(), 10);\n        // // It is the pair of chromosomes that is important,  1-2 == 2-1,  so update only if the pair does not match\n        // if (false === ((chr1 === state.chr1 && chr2 === state.chr2) || (chr1 === state.chr2 && chr2 === state.chr1))) {\n        //     ssx = 'option[value=' + state.chr1.toString() + ']';\n        //     this.$x_axis_selector.find(ssx).attr('selected', 'selected');\n        //\n        //     ssx = 'option[value=' + state.chr2.toString() + ']';\n        //     this.$y_axis_selector.find(ssx).attr('selected', 'selected');\n        // }\n\n        ssx = 'option[value=' + state.chr1.toString() + ']';\n        ssy = 'option[value=' + state.chr2.toString() + ']';\n\n        this.$x_axis_selector.find(ssx).prop('selected', true);\n        this.$y_axis_selector.find(ssy).prop('selected', true);\n\n    };\n\n    return hic;\n\n})(hic || {});\n\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * @author Jim Robinson\n */\n\n\"use strict;\"\n\nvar hic = (function (hic) {\n\n    const DRAG_THRESHOLD = 2;\n    const DOUBLE_TAP_DIST_THRESHOLD = 20;\n    const DOUBLE_TAP_TIME_THRESHOLD = 300;\n\n    hic.ContactMatrixView = function (browser, $container) {\n        var id;\n\n        this.browser = browser;\n\n        this.scrollbarWidget = new hic.ScrollbarWidget(browser);\n\n        id = browser.id + '_' + 'viewport';\n        this.$viewport = $(\"<div>\", {id: id});\n        $container.append(this.$viewport);\n\n        // content canvas\n        this.$canvas = $('<canvas>');\n        this.$viewport.append(this.$canvas);\n\n\n        // spinner\n        this.$fa_spinner = $('<i class=\"fa fa-spinner fa-spin\">');\n        this.$fa_spinner.css(\"font-size\", \"48px\");\n        this.$fa_spinner.css(\"position\", \"absolute\");\n        this.$fa_spinner.css(\"left\", \"40%\");\n        this.$fa_spinner.css(\"top\", \"40%\");\n        this.$fa_spinner.css(\"display\", \"none\");\n        this.$viewport.append(this.$fa_spinner);\n\n        // ruler sweeper widget surface\n        this.sweepZoom = new hic.SweepZoom(browser, this.$viewport);\n        this.$viewport.append(this.sweepZoom.$rulerSweeper);\n\n\n        // x - guide\n        id = browser.id + '_' + 'x-guide';\n        this.$x_guide = $(\"<div>\", {id: id});\n        this.$viewport.append(this.$x_guide);\n\n        // y - guide\n        id = browser.id + '_' + 'y-guide';\n        this.$y_guide = $(\"<div>\", {id: id});\n        this.$viewport.append(this.$y_guide);\n\n\n        $container.append(this.scrollbarWidget.$y_axis_scrollbar_container);\n\n        this.displayMode = 'A';\n        this.imageTileCache = {};\n        this.imageTileCacheKeys = [];\n        this.imageTileCacheLimit = browser.isMobile ? 4 : 20;\n        this.colorScaleThresholdCache = {};\n\n        // Set initial color scales.  These might be overriden / adjusted via parameters\n        this.colorScale = new hic.ColorScale({high: 2000, r: 255, g: 0, b: 0});\n        this.ratioColorScale = new RatioColorScale(5);\n        // this.diffColorScale = new RatioColorScale(100, false);\n\n        this.browser.eventBus.subscribe(\"NormalizationChange\", this);\n        this.browser.eventBus.subscribe(\"TrackLoad2D\", this);\n        this.browser.eventBus.subscribe(\"TrackState2D\", this);\n        this.browser.eventBus.subscribe(\"MapLoad\", this)\n        this.browser.eventBus.subscribe(\"LocusChange\", this);\n        this.browser.eventBus.subscribe(\"ControlMapLoad\", this);\n    };\n\n    hic.ContactMatrixView.prototype.setInitialImage = function (x, y, image, state) {\n        this.initialImage = {\n            x: x,\n            y: y,\n            state: state.clone(),\n            img: image\n        }\n    };\n\n    hic.ContactMatrixView.prototype.setColorScale = function (colorScale) {\n\n        switch (this.displayMode) {\n            case 'AOB':\n            case 'BOA':\n                this.ratioColorScale = colorScale;\n                break;\n            case 'AMB':\n                this.diffColorScale = colorScale;\n                break;\n            default:\n                this.colorScale = colorScale;\n        }\n        this.colorScaleThresholdCache[colorScaleKey(this.browser.state, this.displayMode)] = colorScale.threshold;\n    };\n\n    hic.ContactMatrixView.prototype.setColorScaleThreshold = function (threshold) {\n\n        this.getColorScale().setThreshold(threshold);\n        this.colorScaleThresholdCache[colorScaleKey(this.browser.state, this.displayMode)] = threshold;\n        this.imageTileCache = {};\n        this.initialImage = undefined;\n        this.repaint();\n    };\n\n    hic.ContactMatrixView.prototype.getColorScale = function () {\n        switch (this.displayMode) {\n            case 'AOB':\n            case 'BOA':\n                return this.ratioColorScale;\n            case 'AMB':\n                return this.diffColorScale;\n            default:\n                return this.colorScale;\n        }\n    };\n\n    hic.ContactMatrixView.prototype.setDisplayMode = function (mode) {\n        this.displayMode = mode;\n        this.clearCaches();\n        this.update();\n    }\n\n    function colorScaleKey(state, displayMode) {\n        return \"\" + state.chr1 + \"_\" + state.chr2 + \"_\" + state.zoom + \"_\" + state.normalization + \"_\" + displayMode;\n    }\n\n    hic.ContactMatrixView.prototype.clearCaches = function () {\n        this.imageTileCache = {};\n        this.imageTileCacheKeys = [];\n    };\n\n    hic.ContactMatrixView.prototype.getViewDimensions = function () {\n        return {\n            width: this.$viewport.width(),\n            height: this.$viewport.height()\n        }\n    };\n\n    hic.ContactMatrixView.prototype.receiveEvent = function (event) {\n\n        if (\"MapLoad\" === event.type || \"ControlMapLoad\" === event.type) {\n\n            // Don't enable mouse actions until we have a dataset.\n            if (!this.mouseHandlersEnabled) {\n                addTouchHandlers.call(this, this.$viewport);\n                addMouseHandlers.call(this, this.$viewport);\n                this.mouseHandlersEnabled = true;\n            }\n            this.clearCaches();\n            this.colorScaleThresholdCache = {};\n        }\n\n        else {\n            if (\"NormalizationChange\" === event.type || \"TrackLoad2D\" === event.type || \"TrackState2D\" === event.type) {\n                this.clearCaches();\n            }\n\n            if (this.initialImage) {\n                if (!validateInitialImage.call(this, this.initialImage, event.data.state)) {\n                    this.initialImage = undefined;\n                }\n            }\n        }\n    }\n\n    function validateInitialImage(initialImage, state) {\n\n        if (initialImage.state.equals(state)) return true;\n\n        if (!(initialImage.state.chr1 === state.chr1 && initialImage.state.chr2 === state.chr2 &&\n            initialImage.state.zoom === state.zoom && initialImage.state.pixelSize === state.pixelSize &&\n            initialImage.state.normalization === state.normalization)) return false;\n\n        // Now see if initial image fills view\n        var offsetX = (initialImage.x - state.x) * state.pixelSize,\n            offsetY = (initialImage.y - state.y) * state.pixelSize,\n            width = initialImage.img.width,\n            height = initialImage.img.height,\n            viewportWidth = this.$viewport.width(),\n            viewportHeight = this.$viewport.height();\n\n        // Viewport rectangle must be completely contained in image rectangle\n        return offsetX <= 0 && offsetY <= 0 && (width + offsetX) >= viewportWidth && (height + offsetY) >= viewportHeight;\n\n    }\n\n    function drawStaticImage(image) {\n        var viewportWidth = this.$viewport.width(),\n            viewportHeight = this.$viewport.height(),\n            canvasWidth = this.$canvas.width(),\n            canvasHeight = this.$canvas.height(),\n            state = this.browser.state,\n            offsetX = (image.x - state.x) * state.pixelSize,\n            offsetY = (image.y - state.y) * state.pixelSize;\n        if (canvasWidth !== viewportWidth || canvasHeight !== viewportHeight) {\n            this.$canvas.width(viewportWidth);\n            this.$canvas.height(viewportHeight);\n            this.$canvas.attr('width', this.$viewport.width());\n            this.$canvas.attr('height', this.$viewport.height());\n        }\n        this.ctx.drawImage(image.img, offsetX, offsetY);\n    }\n\n\n    hic.ContactMatrixView.prototype.update = function () {\n\n        var self = this;\n\n        this.readyToPaint()\n            .then(function (ignore) {\n\n                self.repaint();\n            })\n            .catch(function (error) {\n                console.error(error);\n            })\n\n    }\n\n    /**\n     * Return a promise to load all neccessary data\n     */\n    hic.ContactMatrixView.prototype.readyToPaint = async function () {\n\n        var self = this,\n            state = this.browser.state;\n\n        if (!self.browser.dataset || self.initialImage) {\n            return Promise.resolve();\n        }\n\n        self.startSpinner();\n\n        const matrices = await getMatrices.call(self, state.chr1, state.chr2)\n\n\n        var matrix = matrices[0];\n\n\n        if (matrix) {\n            var zd = await matrix.bpZoomData[state.zoom],\n                blockBinCount = zd.blockBinCount,   // Dimension in bins of a block (width = height = blockBinCount)\n                pixelSizeInt = Math.max(1, Math.floor(state.pixelSize)),\n                widthInBins = self.$viewport.width() / pixelSizeInt,\n                heightInBins = self.$viewport.height() / pixelSizeInt,\n                blockCol1 = Math.floor(state.x / blockBinCount),\n                blockCol2 = Math.floor((state.x + widthInBins) / blockBinCount),\n                blockRow1 = Math.floor(state.y / blockBinCount),\n                blockRow2 = Math.floor((state.y + heightInBins) / blockBinCount),\n                r, c, zdControl, promises = [];\n\n            if (matrices.length > 1) {\n                zdControl = matrices[1].bpZoomData[state.zoom];\n            }\n\n            await checkColorScale.call(self, zd, blockRow1, blockRow2, blockCol1, blockCol2, state.normalization)\n\n            for (r = blockRow1; r <= blockRow2; r++) {\n                for (c = blockCol1; c <= blockCol2; c++) {\n                    promises.push(self.getImageTile(zd, zdControl, r, c, state));\n                }\n            }\n\n            await Promise.all(promises);\n\n        }\n\n\n        self.stopSpinner();\n\n    };\n\n\n    /**\n     * Repaint the map.  This function is more complex than it needs to be,   all image tiles should have been\n     * created previously in readyToPaint.   We could just fetch them from the cache and paint.\n     */\n    hic.ContactMatrixView.prototype.repaint = function () {\n\n        var self = this,\n            state = this.browser.state,\n            zd;\n\n        if (!self.browser.dataset) return;\n\n        if (!self.ctx) {\n            self.ctx = this.$canvas.get(0).getContext(\"2d\");\n        }\n\n        if (self.initialImage) {\n            drawStaticImage.call(this, this.initialImage);\n            return;\n        }\n\n        if (self.updating) {\n            return;\n        }\n\n\n        getMatrices.call(self, state.chr1, state.chr2)\n\n            .then(function (matrices) {\n\n                var matrix = matrices[0];\n\n                if (matrix) {\n\n                    zd = matrix.bpZoomData[state.zoom];\n\n                    var blockBinCount = zd.blockBinCount,   // Dimension in bins of a block (width = height = blockBinCount)\n                        pixelSizeInt = Math.max(1, Math.floor(state.pixelSize)),\n                        widthInBins = self.$viewport.width() / pixelSizeInt,\n                        heightInBins = self.$viewport.height() / pixelSizeInt,\n                        blockCol1 = Math.floor(state.x / blockBinCount),\n                        blockCol2 = Math.floor((state.x + widthInBins) / blockBinCount),\n                        blockRow1 = Math.floor(state.y / blockBinCount),\n                        blockRow2 = Math.floor((state.y + heightInBins) / blockBinCount),\n                        r, c, zdControl, promises = [];\n\n                    if (matrices.length > 1) zdControl = matrices[1].bpZoomData[state.zoom];\n\n                    for (r = blockRow1; r <= blockRow2; r++) {\n                        for (c = blockCol1; c <= blockCol2; c++) {\n                            promises.push(self.getImageTile(zd, zdControl, r, c, state));\n                        }\n                    }\n\n                    return Promise.all(promises);\n                }\n                else {\n                    return Promise.resolve(undefined);\n                }\n            })\n            .then(function (imageTiles) {\n                self.updating = false;\n                if (imageTiles) {\n                    self.draw(imageTiles, zd);\n                }\n            })\n            .catch(function (error) {\n                self.updating = false;\n                console.error(error);\n            })\n    }\n\n    function getMatrices(chr1, chr2) {\n\n        var promises = [];\n        if ('B' === this.displayMode && this.browser.controlDataset) {\n            promises.push(this.browser.controlDataset.getMatrix(chr1, chr2));\n        }\n        else {\n            promises.push(this.browser.dataset.getMatrix(chr1, chr2));\n            if (this.displayMode && 'A' !== this.displayMode && this.browser.controlDataset) {\n                promises.push(this.browser.controlDataset.getMatrix(chr1, chr2));\n            }\n        }\n        return Promise.all(promises);\n    }\n\n    /**\n     * Return a promise to adjust the color scale, if needed.  This function might need to load the contact\n     * data to computer scale.\n     *\n     * @param zd\n     * @param row1\n     * @param row2\n     * @param col1\n     * @param col2\n     * @param normalization\n     * @returns {*}\n     */\n    function checkColorScale(zd, row1, row2, col1, col2, normalization) {\n\n        var self = this, colorKey, dataset;\n\n        colorKey = colorScaleKey(self.browser.state, self.displayMode);   // This doesn't feel right, state should be an argument\n        if ('AOB' === self.displayMode || 'BOA' === self.displayMode) {\n            return Promise.resolve(self.ratioColorScale);     // Don't adjust color scale for A/B.\n        }\n\n        if (self.colorScaleThresholdCache[colorKey]) {\n            var changed = self.colorScale.threshold !== self.colorScaleThresholdCache[colorKey];\n            self.colorScale.threshold = self.colorScaleThresholdCache[colorKey];\n            if (changed) {\n                self.browser.eventBus.post(hic.Event(\"ColorScale\", self.colorScale));\n            }\n            return Promise.resolve(self.colorScale);\n        }\n\n        else {\n            var row, column, sameChr, blockNumber,\n                promises = [];\n\n            sameChr = zd.chr1 === zd.chr2;\n\n            for (row = row1; row <= row2; row++) {\n                for (column = col1; column <= col2; column++) {\n                    if (sameChr && row < column) {\n                        blockNumber = column * zd.blockColumnCount + row;\n                    }\n                    else {\n                        blockNumber = row * zd.blockColumnCount + column;\n                    }\n\n                    dataset = ('B' === self.displayMode ? self.browser.controlDataset : self.browser.dataset);\n                    promises.push(dataset.getNormalizedBlock(zd, blockNumber, normalization, self.browser.eventBus))\n                }\n            }\n\n            return Promise.all(promises)\n\n                .then(function (blocks) {\n\n                    var s = computePercentile(blocks, 95);\n\n                    if (!isNaN(s)) {  // Can return NaN if all blocks are empty\n\n                        if (0 === zd.chr1.index) s *= 4;   // Heuristic for whole genome view\n\n                        self.colorScale = new hic.ColorScale(self.colorScale);\n                        self.colorScale.threshold = s;\n                        self.computeColorScale = false;\n                        self.browser.eventBus.post(hic.Event(\"ColorScale\", self.colorScale));\n                    }\n\n                    self.colorScaleThresholdCache[colorKey] = s;\n\n                    return self.colorScale;\n\n                })\n        }\n\n    }\n\n    hic.ContactMatrixView.prototype.draw = function (imageTiles, zd) {\n\n        var self = this,\n            state = this.browser.state,\n            blockBinCount = zd.blockBinCount,\n            viewportWidth = self.$viewport.width(),\n            viewportHeight = self.$viewport.height(),\n            canvasWidth = this.$canvas.width(),\n            canvasHeight = this.$canvas.height();\n\n        if (canvasWidth !== viewportWidth || canvasHeight !== viewportHeight) {\n            this.$canvas.width(viewportWidth);\n            this.$canvas.height(viewportHeight);\n            this.$canvas.attr('width', this.$viewport.width());\n            this.$canvas.attr('height', this.$viewport.height());\n        }\n\n        self.ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n        imageTiles.forEach(function (imageTile) {\n\n            var image = imageTile.image,\n                pixelSizeInt = Math.max(1, Math.floor(state.pixelSize));\n\n            if (image != null) {\n                var row = imageTile.row,\n                    col = imageTile.column,\n                    x0 = blockBinCount * col,\n                    y0 = blockBinCount * row;\n                var offsetX = (x0 - state.x) * state.pixelSize;\n                var offsetY = (y0 - state.y) * state.pixelSize;\n                var scale = state.pixelSize / pixelSizeInt;\n                var scaledWidth = image.width * scale;\n                var scaledHeight = image.height * scale;\n                if (offsetX <= viewportWidth && offsetX + scaledWidth >= 0 &&\n                    offsetY <= viewportHeight && offsetY + scaledHeight >= 0) {\n                    if (scale === 1) {\n                        self.ctx.drawImage(image, offsetX, offsetY);\n                    }\n                    else {\n                        self.ctx.drawImage(image, offsetX, offsetY, scaledWidth, scaledHeight);\n                    }\n                }\n            }\n        })\n\n    };\n\n    /**\n     * Returns a promise for an image tile\n     *\n     * @param zd\n     * @param row\n     * @param column\n     * @param state\n     * @returns {*}\n     */\n    hic.ContactMatrixView.prototype.getImageTile = function (zd, zdControl, row, column, state) {\n\n        var self = this,\n            sameChr = zd.chr1 === zd.chr2,\n            pixelSizeInt = Math.max(1, Math.floor(state.pixelSize)),\n            useImageData = pixelSizeInt === 1,\n            key = \"\" + zd.chr1.name + \"_\" + zd.chr2.name + \"_\" + zd.zoom.binSize + \"_\" + zd.zoom.unit +\n                \"_\" + row + \"_\" + column + \"_\" + pixelSizeInt + \"_\" + state.normalization + \"_\" + this.displayMode;\n\n        if (this.imageTileCache.hasOwnProperty(key)) {\n\n            return Promise.resolve(this.imageTileCache[key]);\n\n        } else {\n\n            var blockBinCount = zd.blockBinCount,\n                blockColumnCount = zd.blockColumnCount,\n                widthInBins = zd.blockBinCount,\n                transpose = sameChr && row < column,\n                blockNumber,\n                t;\n\n            if (sameChr && row < column) {\n                blockNumber = column * blockColumnCount + row;\n            }\n            else {\n                blockNumber = row * blockColumnCount + column;\n            }\n\n            return getNormalizedBlocks.call(self, zd, zdControl, blockNumber, state.normalization)\n\n                .then(function (blocks) {\n\n                    var averageCount, ctrlAverageCount, averageAcrossMapAndControl, block, controlBlock, image;\n\n                    if (\"BOA\" === self.displayMode) {\n                        ctrlAverageCount = zd.averageCount;\n                        averageCount = zdControl ? zdControl.averageCount : 1;\n                        block = blocks[1];\n                        controlBlock = blocks[0];\n                    } else {\n                        averageCount = zd.averageCount;\n                        ctrlAverageCount = zdControl ? zdControl.averageCount : 1;\n                        block = blocks[0];\n                        if (blocks.length > 0) controlBlock = blocks[1];\n                    }\n                    averageAcrossMapAndControl = (averageCount + ctrlAverageCount) / 2;\n\n\n                    if (block && block.records.length > 0) {\n                        image = drawBlock(block, controlBlock, transpose);\n                    }\n                    else {\n                        //console.log(\"No block for \" + blockNumber);\n                    }\n\n                    var imageTile = {row: row, column: column, image: image};\n\n\n                    if (self.imageTileCacheKeys.length > self.imageTileCacheLimit) {\n                        delete self.imageTileCache[self.imageTileCacheKeys[0]];\n                        self.imageTileCacheKeys.shift();\n                    }\n\n                    self.imageTileCache[key] = imageTile;\n\n                    return imageTile;\n\n                    function setPixel(imageData, x, y, r, g, b, a) {\n                        index = (x + y * imageData.width) * 4;\n                        imageData.data[index + 0] = r;\n                        imageData.data[index + 1] = g;\n                        imageData.data[index + 2] = b;\n                        imageData.data[index + 3] = a;\n                    }\n\n                    // Actual drawing happens here\n                    function drawBlock(block, controlBlock, transpose) {\n\n                        var imageSize = Math.ceil(widthInBins * pixelSizeInt),\n                            blockNumber, row, col, x0, y0, image, ctx, id, i, rec, x, y, color,\n                            controlRecords, controlRec, key, score;\n\n                        blockNumber = block.blockNumber;\n                        row = Math.floor(blockNumber / blockColumnCount);\n                        col = blockNumber - row * blockColumnCount;\n                        x0 = blockBinCount * col;\n                        y0 = blockBinCount * row;\n\n                        image = document.createElement('canvas');\n                        image.width = imageSize;\n                        image.height = imageSize;\n                        ctx = image.getContext('2d');\n                        ctx.clearRect(0, 0, image.width, image.height);\n\n                        if ('AOB' === self.displayMode || 'BOA' === self.displayMode || 'AMB' === self.displayMode) {\n                            controlRecords = {};\n                            controlBlock.records.forEach(function (record) {\n                                controlRecords[record.getKey()] = record;\n                            })\n\n\n                        }\n\n                        if (useImageData) {\n                            id = ctx.getImageData(0, 0, image.width, image.height);\n                        }\n\n                        for (i = 0; i < block.records.length; i++) {\n\n                            rec = block.records[i];\n                            x = Math.floor((rec.bin1 - x0) * pixelSizeInt);\n                            y = Math.floor((rec.bin2 - y0) * pixelSizeInt);\n\n                            if (transpose) {\n                                t = y;\n                                y = x;\n                                x = t;\n                            }\n\n                            switch (self.displayMode) {\n\n                                case 'AOB':\n                                case 'BOA':\n                                    key = rec.getKey();\n                                    controlRec = controlRecords[key];\n                                    if (!controlRec) {\n                                        continue;    // Skip\n                                    }\n                                    score = (rec.counts / averageCount) / (controlRec.counts / ctrlAverageCount);\n\n                                    color = self.ratioColorScale.getColor(score);\n\n                                    break;\n\n                                case 'AMB':\n                                    key = rec.getKey();\n                                    controlRec = controlRecords[key];\n                                    if (!controlRec) {\n                                        continue;    // Skip\n                                    }\n                                    score = averageAcrossMapAndControl * ((rec.counts / averageCount) - (controlRec.counts / ctrlAverageCount));\n\n                                    color = self.diffColorScale.getColor(score);\n\n                                    break;\n\n                                default:    // Either 'A' or 'B'\n                                    color = self.colorScale.getColor(rec.counts);\n                            }\n\n\n                            if (useImageData) {\n                                // TODO -- verify that this bitblting is faster than fillRect\n                                setPixel(id, x, y, color.red, color.green, color.blue, 255);\n                                if (sameChr && row === col) {\n                                    setPixel(id, y, x, color.red, color.green, color.blue, 255);\n                                }\n                            }\n                            else {\n                                ctx.fillStyle = color.rgb;\n                                ctx.fillRect(x, y, pixelSizeInt, pixelSizeInt);\n                                if (sameChr && row === col) {\n                                    ctx.fillRect(y, x, pixelSizeInt, pixelSizeInt);\n                                }\n                            }\n                        }\n                        if (useImageData) {\n                            ctx.putImageData(id, 0, 0);\n                        }\n\n                        //Draw 2D tracks\n                        ctx.save();\n                        ctx.lineWidth = 2;\n                        self.browser.tracks2D.forEach(function (track2D) {\n\n                            if (track2D.isVisible) {\n                                var features = track2D.getFeatures(zd.chr1.name, zd.chr2.name);\n\n                                if (features) {\n                                    features.forEach(function (f) {\n\n                                        var x1 = Math.round((f.x1 / zd.zoom.binSize - x0) * pixelSizeInt);\n                                        var x2 = Math.round((f.x2 / zd.zoom.binSize - x0) * pixelSizeInt);\n                                        var y1 = Math.round((f.y1 / zd.zoom.binSize - y0) * pixelSizeInt);\n                                        var y2 = Math.round((f.y2 / zd.zoom.binSize - y0) * pixelSizeInt);\n                                        var w = x2 - x1;\n                                        var h = y2 - y1;\n\n                                        if (transpose) {\n                                            t = y1;\n                                            y1 = x1;\n                                            x1 = t;\n\n                                            t = h;\n                                            h = w;\n                                            w = t;\n                                        }\n\n                                        var dim = Math.max(image.width, image.height);\n                                        if (x2 > 0 && x1 < dim && y2 > 0 && y1 < dim) {\n\n                                            ctx.strokeStyle = track2D.color ? track2D.color : f.color;\n                                            ctx.strokeRect(x1, y1, w, h);\n                                            if (sameChr && row === col) {\n                                                ctx.strokeRect(y1, x1, h, w);\n                                            }\n                                        }\n                                    })\n                                }\n                            }\n                        });\n\n                        ctx.restore();\n\n                        // Uncomment to reveal tile boundaries for debugging.\n                        // ctx.fillStyle = \"rgb(255,255,255)\";\n                        // ctx.strokeRect(0, 0, image.width - 1, image.height - 1)\n\n                        var t1 = (new Date()).getTime();\n\n                        //console.log(t1 - t0);\n\n                        return image;\n                    }\n                })\n        }\n\n        function getNormalizedBlocks(zd, zdControl, blockNumber, normalization) {\n            var promises = [];\n\n            var dataset = 'B' === this.displayMode ? this.browser.controlDataset : this.browser.dataset;\n            promises.push(dataset.getNormalizedBlock(zd, blockNumber, normalization, this.browser.eventBus));\n\n            if (zdControl) {\n                promises.push(this.browser.controlDataset.getNormalizedBlock(zdControl, blockNumber, normalization, this.browser.eventBus));\n            }\n\n            return Promise.all(promises);\n\n        }\n    };\n\n    function computePercentile(blockArray, p) {\n\n        var array = [];\n        blockArray.forEach(function (block) {\n            if (block) {\n                for (i = 0; i < block.records.length; i++) {\n                    array.push(block.records[i].counts);\n                }\n            }\n        });\n\n        return hic.Math.percentile(array, p);\n\n    }\n\n    hic.ContactMatrixView.prototype.startSpinner = function () {\n\n        if (true === this.browser.isLoadingHICFile && this.browser.$user_interaction_shield) {\n            this.browser.$user_interaction_shield.show();\n        }\n\n        this.$fa_spinner.css(\"display\", \"inline-block\");\n    };\n\n    hic.ContactMatrixView.prototype.stopSpinner = function () {\n\n        this.$fa_spinner.css(\"display\", \"none\");\n\n    };\n\n\n    function addMouseHandlers($viewport) {\n\n        var self = this,\n            isMouseDown = false,\n            isDragging = false,\n            isSweepZooming = false,\n            mouseDown,\n            mouseLast,\n            mouseOver,\n            lastWheelTime;\n\n        this.isDragging = false;\n\n        if (!this.browser.isMobile) {\n\n            $viewport.dblclick(function (e) {\n\n                e.preventDefault();\n                e.stopPropagation();\n\n                var mouseX = e.offsetX || e.layerX,\n                    mouseY = e.offsetY || e.layerX;\n\n                self.browser.zoomAndCenter(1, mouseX, mouseY);\n\n            });\n\n            $viewport.on('mouseover', function (e) {\n                mouseOver = true;\n            });\n\n            $viewport.on('mouseout', function (e) {\n                mouseOver = undefined;\n            });\n\n            $viewport.on('mousedown', function (e) {\n                var eFixed;\n\n                e.preventDefault();\n                e.stopPropagation();\n\n                if (self.browser.$menu.is(':visible')) {\n                    self.browser.hideMenu();\n                }\n\n                mouseLast = {x: e.offsetX, y: e.offsetY};\n                mouseDown = {x: e.offsetX, y: e.offsetY};\n\n                isSweepZooming = (true === e.altKey);\n                if (isSweepZooming) {\n                    eFixed = $.event.fix(e);\n                    self.sweepZoom.initialize({x: eFixed.pageX, y: eFixed.pageY});\n                }\n\n                isMouseDown = true;\n\n            });\n\n            $viewport.on('mousemove', hic.throttle(function (e) {\n\n                var coords,\n                    eFixed,\n                    xy;\n\n                e.preventDefault();\n                e.stopPropagation();\n\n                coords =\n                    {\n                        x: e.offsetX,\n                        y: e.offsetY\n                    };\n\n                // Sets pageX and pageY for browsers that don't support them\n                eFixed = $.event.fix(e);\n\n                xy =\n                    {\n                        x: eFixed.pageX - $viewport.offset().left,\n                        y: eFixed.pageY - $viewport.offset().top\n                    };\n\n                self.browser.eventBus.post(hic.Event(\"UpdateContactMapMousePosition\", xy, false));\n\n                if (true === self.willShowCrosshairs) {\n                    self.browser.updateCrosshairs(xy);\n                    self.browser.showCrosshairs();\n                }\n\n                if (isMouseDown) { // Possibly dragging\n\n                    if (isSweepZooming) {\n\n                        self.sweepZoom.update({x: eFixed.pageX, y: eFixed.pageY});\n\n                    } else if (mouseDown.x && Math.abs(coords.x - mouseDown.x) > DRAG_THRESHOLD) {\n\n                        self.isDragging = true;\n\n                        var dx = mouseLast.x - coords.x;\n                        var dy = mouseLast.y - coords.y;\n\n                        // If matrix data is updating shift current map image while we wait\n                        if (self.updating) {\n                            shiftCurrentImage(self, -dx, -dy);\n                        }\n\n                        self.browser.shiftPixels(dx, dy);\n\n                    }\n\n                    mouseLast = coords;\n                }\n\n\n            }, 10));\n\n            $viewport.on('mouseup', panMouseUpOrMouseOut);\n\n            $viewport.on('mouseleave', function () {\n\n                self.browser.layoutController.xAxisRuler.unhighlightWholeChromosome();\n                self.browser.layoutController.yAxisRuler.unhighlightWholeChromosome();\n\n                panMouseUpOrMouseOut();\n            });\n\n            // Mousewheel events -- ie exposes event only via addEventListener, no onwheel attribute\n            // NOte from spec -- trackpads commonly map pinch to mousewheel + ctrl\n\n            if (!self.browser.figureMode) {\n                $viewport[0].addEventListener(\"wheel\", mouseWheelHandler, 250, false);\n            }\n\n            // document level events\n            $(document).on('keydown.contact_matrix_view', function (e) {\n                if (undefined === self.willShowCrosshairs && true === mouseOver && true === e.shiftKey) {\n                    self.willShowCrosshairs = true;\n                }\n            });\n\n            $(document).on('keyup.contact_matrix_view', function (e) {\n                self.browser.hideCrosshairs();\n                self.willShowCrosshairs = undefined;\n            });\n\n            // for sweep-zoom allow user to sweep beyond viewport extent\n            // sweep area clamps since viewport mouse handlers stop firing\n            // when the viewport boundary is crossed.\n            $(document).on('mouseup.contact_matrix_view', function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                if (isSweepZooming) {\n                    isSweepZooming = false;\n                    self.sweepZoom.commit();\n                }\n            });\n        }\n\n        function panMouseUpOrMouseOut(e) {\n\n            if (true === self.isDragging) {\n                self.isDragging = false;\n                self.browser.eventBus.post(hic.Event(\"DragStopped\"));\n            }\n\n            isMouseDown = false;\n            mouseDown = mouseLast = undefined;\n        }\n\n        function mouseWheelHandler(e) {\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            var t = Date.now();\n\n            if (lastWheelTime === undefined || (t - lastWheelTime > 1000)) {\n\n                // cross-browser wheel delta  -- Firefox returns a \"detail\" object that is opposite in sign to wheelDelta\n                var direction = e.deltaY < 0 ? 1 : -1,\n                    coords = igv.translateMouseCoordinates(e, $viewport),\n                    x = coords.x,\n                    y = coords.y;\n                self.browser.wheelClickZoom(direction, x, y);\n                lastWheelTime = t;\n            }\n\n        }\n\n\n        function shiftCurrentImage(self, dx, dy) {\n            var canvasWidth = self.$canvas.width(),\n                canvasHeight = self.$canvas.height(),\n                imageData;\n\n            imageData = self.ctx.getImageData(0, 0, canvasWidth, canvasHeight);\n            self.ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n            self.ctx.putImageData(imageData, dx, dy);\n        }\n\n    }\n\n\n    /**\n     * Add touch handlers.  Touches are mapped to one of the following application level events\n     *  - double tap, equivalent to double click\n     *  - move\n     *  - pinch\n     *\n     * @param $viewport\n     */\n\n    function addTouchHandlers($viewport) {\n\n        var self = this,\n\n            lastTouch, pinch,\n            viewport = $viewport[0];\n\n        /**\n         * Touch start -- 3 possibilities\n         *   (1) beginning of a drag (pan)\n         *   (2) first tap of a double tap\n         *   (3) beginning of a pinch\n         */\n        viewport.ontouchstart = function (ev) {\n\n            ev.preventDefault();\n            ev.stopPropagation();\n\n            var touchCoords = translateTouchCoordinates(ev.targetTouches[0], viewport),\n                offsetX = touchCoords.x,\n                offsetY = touchCoords.y,\n                count = ev.targetTouches.length,\n                timeStamp = ev.timeStamp || Date.now(),\n                resolved = false,\n                dx, dy, dist, direction;\n\n            if (count === 2) {\n                touchCoords = translateTouchCoordinates(ev.targetTouches[0], viewport);\n                offsetX = (offsetX + touchCoords.x) / 2;\n                offsetY = (offsetY + touchCoords.y) / 2;\n            }\n\n            // NOTE: If the user makes simultaneous touches, the browser may fire a\n            // separate touchstart event for each touch point. Thus if there are\n            // two simultaneous touches, the first touchstart event will have\n            // targetTouches length of one and the second event will have a length\n            // of two.  In this case replace previous touch with this one and return\n            if (lastTouch && (timeStamp - lastTouch.timeStamp < DOUBLE_TAP_TIME_THRESHOLD) && ev.targetTouches.length > 1 && lastTouch.count === 1) {\n                lastTouch = {x: offsetX, y: offsetY, timeStamp: timeStamp, count: ev.targetTouches.length};\n                return;\n            }\n\n\n            if (lastTouch && (timeStamp - lastTouch.timeStamp < DOUBLE_TAP_TIME_THRESHOLD)) {\n\n                direction = (lastTouch.count === 2 || count === 2) ? -1 : 1;\n                dx = lastTouch.x - offsetX;\n                dy = lastTouch.y - offsetY;\n                dist = Math.sqrt(dx * dx + dy * dy);\n\n                if (dist < DOUBLE_TAP_DIST_THRESHOLD) {\n                    self.browser.zoomAndCenter(direction, offsetX, offsetY);\n                    lastTouch = undefined;\n                    resolved = true;\n                }\n            }\n\n            if (!resolved) {\n                lastTouch = {x: offsetX, y: offsetY, timeStamp: timeStamp, count: ev.targetTouches.length};\n            }\n        }\n\n        viewport.ontouchmove = hic.throttle(function (ev) {\n\n            var touchCoords1, touchCoords2, t;\n\n            ev.preventDefault();\n            ev.stopPropagation();\n\n            if (ev.targetTouches.length === 2) {\n\n                // Update pinch  (assuming 2 finger movement is a pinch)\n                touchCoords1 = translateTouchCoordinates(ev.targetTouches[0], viewport);\n                touchCoords2 = translateTouchCoordinates(ev.targetTouches[1], viewport);\n\n                t = {\n                    x1: touchCoords1.x,\n                    y1: touchCoords1.y,\n                    x2: touchCoords2.x,\n                    y2: touchCoords2.y\n                };\n\n                if (pinch) {\n                    pinch.end = t;\n                } else {\n                    pinch = {start: t};\n                }\n            }\n\n            else {\n                // Assuming 1 finger movement is a drag\n\n                if (self.updating) return;   // Don't overwhelm browser\n\n                var touchCoords = translateTouchCoordinates(ev.targetTouches[0], viewport),\n                    offsetX = touchCoords.x,\n                    offsetY = touchCoords.y;\n                if (lastTouch) {\n                    var dx = lastTouch.x - offsetX,\n                        dy = lastTouch.y - offsetY;\n                    if (!isNaN(dx) && !isNaN(dy)) {\n                        self.browser.shiftPixels(lastTouch.x - offsetX, lastTouch.y - offsetY);\n                    }\n                }\n\n                lastTouch = {\n                    x: offsetX,\n                    y: offsetY,\n                    timeStamp: ev.timeStamp || Date.now(),\n                    count: ev.targetTouches.length\n                };\n            }\n\n        }, 20);\n\n        viewport.ontouchend = function (ev) {\n\n            ev.preventDefault();\n            ev.stopPropagation();\n\n            if (pinch && pinch.end !== undefined) {\n\n                var startT = pinch.start,\n                    endT = pinch.end,\n                    dxStart = startT.x2 - startT.x1,\n                    dyStart = startT.y2 - startT.y1,\n                    dxEnd = endT.x2 - endT.x1,\n                    dyEnd = endT.y2 - endT.y1,\n                    distStart = Math.sqrt(dxStart * dxStart + dyStart * dyStart),\n                    distEnd = Math.sqrt(dxEnd * dxEnd + dyEnd * dyEnd),\n                    scale = distEnd / distStart,\n                    deltaX = (endT.x1 + endT.x2) / 2 - (startT.x1 + startT.x2) / 2,\n                    deltaY = (endT.y1 + endT.y2) / 2 - (startT.y1 + startT.y2) / 2,\n                    anchorPx = (startT.x1 + startT.x2) / 2,\n                    anchorPy = (startT.y1 + startT.y2) / 2;\n\n                if (scale < 0.8 || scale > 1.2) {\n                    lastTouch = undefined;\n                    self.browser.pinchZoom(anchorPx, anchorPy, scale);\n                }\n            }\n\n            // a touch end always ends a pinch\n            pinch = undefined;\n\n        }\n\n        function translateTouchCoordinates(e, target) {\n\n            var $target = $(target),\n                eFixed,\n                posx,\n                posy;\n\n            posx = e.pageX - $target.offset().left;\n            posy = e.pageY - $target.offset().top;\n\n            return {x: posx, y: posy}\n        }\n\n    }\n\n\n    hic.ColorScale = function (scale) {\n        this.threshold = scale.threshold;\n        this.r = scale.r;\n        this.g = scale.g;\n        this.b = scale.b;\n    };\n\n\n    hic.ColorScale.prototype.setThreshold = function (threshold) {\n        this.threshold = threshold;\n    }\n\n    hic.ColorScale.prototype.getThreshold = function () {\n        return this.threshold;\n    }\n\n    hic.ColorScale.prototype.setColorComponents = function (components) {\n        this.r = components.r;\n        this.g = components.g;\n        this.b = components.b;\n    }\n\n    hic.ColorScale.prototype.getColorComponents = function () {\n        return {\n            r: this.r,\n            g: this.g,\n            b: this.b\n        }\n    }\n\n\n    hic.ColorScale.prototype.equals = function (cs) {\n        return JSON.stringify(this) === JSON.stringify(cs);\n    };\n\n    hic.ColorScale.prototype.getColor = function (value) {\n        var scale = this, r, g, b, frac, diff, low, lowR, lowG, lowB;\n\n        low = 0;\n        lowR = 255;\n        lowB = 255;\n        lowG = 255;\n\n        if (value <= low) value = low;\n        else if (value >= scale.threshold) value = scale.threshold;\n\n        diff = scale.threshold - low;\n\n        frac = (value - low) / diff;\n        r = Math.floor(lowR + frac * (scale.r - lowR));\n        g = Math.floor(lowG + frac * (scale.g - lowG));\n        b = Math.floor(lowB + frac * (scale.b - lowB));\n\n        return {\n            red: r,\n            green: g,\n            blue: b,\n            rgb: \"rgb(\" + r + \",\" + g + \",\" + b + \")\"\n        };\n    };\n\n    hic.ColorScale.prototype.stringify = function () {\n        return \"\" + this.threshold + ',' + this.r + ',' + this.g + ',' + this.b;\n    };\n\n    function RatioColorScale(threshold) {\n\n        this.threshold = threshold;\n\n        this.positiveScale = new hic.ColorScale({\n            threshold: Math.log(threshold),\n            r: 255,\n            g: 0,\n            b: 0\n        });\n        this.negativeScale = new hic.ColorScale(\n            {\n                threshold: Math.log(threshold),\n                r: 0,\n                g: 0,\n                b: 255\n            })\n    }\n\n    RatioColorScale.prototype.setThreshold = function (threshold) {\n        this.threshold = threshold;\n        this.positiveScale.threshold = Math.log(threshold);\n        this.negativeScale.threshold = Math.log(threshold);\n    }\n\n    RatioColorScale.prototype.getThreshold = function () {\n        return this.threshold;\n    }\n\n    RatioColorScale.prototype.setColorComponents = function (components, plusOrMinus) {\n        if ('-' === plusOrMinus) {\n            return this.negativeScale.setColorComponents(components);\n        }\n        else {\n            return this.positiveScale.setColorComponents(components);\n        }\n    }\n\n    RatioColorScale.prototype.getColorComponents = function (plusOrMinus) {\n\n        if ('-' === plusOrMinus) {\n            return this.negativeScale.getColorComponents();\n        }\n        else {\n            return this.positiveScale.getColorComponents();\n        }\n    }\n\n    RatioColorScale.prototype.getColor = function (score) {\n\n        var logScore = Math.log(score);\n\n        if (logScore < 0) {\n            return this.negativeScale.getColor(-logScore);\n        }\n        else {\n            return this.positiveScale.getColor(logScore);\n        }\n    }\n\n    RatioColorScale.prototype.stringify = function () {\n        return \"R:\" + this.threshold + \":\" + this.positiveScale.stringify() + \":\" + this.negativeScale.stringify();\n    };\n\n\n    hic.destringifyColorScale = function (string) {\n\n        var pnstr, ratioCS;\n\n        if (string.startsWith(\"R:\")) {\n            pnstr = string.substring(2).split(\":\");\n            ratioCS = new RatioColorScale(Number.parseFloat(pnstr[0]));\n            ratioCS.positiveScale = foo(pnstr[1]);\n            ratioCS.negativeScale = foo(pnstr[2]);\n            return ratioCS;\n        }\n\n        else {\n            return foo(string);\n        }\n\n        function foo(str) {\n            var cs, tokens;\n\n            tokens = str.split(\",\");\n\n            cs = {\n                threshold: tokens[0],\n                r: tokens[1],\n                g: tokens[2],\n                b: tokens[3]\n            };\n            return new hic.ColorScale(cs);\n        }\n\n    };\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/21/17.\n */\nvar hic = (function (hic) {\n\n    hic.ControlMapWidget = function (browser, $parent) {\n\n        var self = this,\n            $toggle_container,\n            $cycle_container;\n\n        this.browser = browser;\n\n        // container\n        this.$container = $('<div class=\"hic-control-map-selector-container\">');\n        this.$container.hide();\n        $parent.append(this.$container);\n\n        // select\n        this.$select = $('<select>');\n        this.$select.attr('name', 'control_map_selector');\n        this.$container.append(this.$select);\n\n        // a-b toggle icon\n        $toggle_container = $('<div>');\n        this.$container.append($toggle_container);\n\n        // cycle button\n        $cycle_container = $('<div>');\n        this.$container.append($cycle_container);\n\n        this.controlMapHash = new hic.ControlMapHash(browser, this.$select, $toggle_container, $cycle_container, toggle_arrows_up(), toggle_arrows_down());\n\n        browser.eventBus.subscribe(\"ControlMapLoad\", function (event) {\n            let displayMode;\n\n            displayMode = browser.getDisplayMode();\n            self.controlMapHash.updateOptions( browser.getDisplayMode() );\n            self.$container.show();\n        });\n\n        browser.eventBus.subscribe(\"MapLoad\", function (event) {\n            if (!browser.controlDataset) {\n                self.$container.hide();\n            }\n        });\n\n    };\n    \n    hic.ControlMapWidget.prototype.toggleDisplayMode = function () {\n        this.controlMapHash.toggleDisplayMode();\n    }\n    \n    hic.ControlMapWidget.prototype.toggleDisplayModeCycle = function () {\n        this.controlMapHash.toggleDisplayModeCycle();\n    }\n    \n    hic.ControlMapWidget.prototype.getDisplayModeCycle = function () {\n        return this.controlMapHash.cycleID;\n    }\n    \n    hic.ControlMapWidget.prototype\n\n    hic.ControlMapHash = function (browser, $select, $toggle, $cycle, $img_a, $img_b) {\n\n        let self = this,\n            A,\n            B,\n            Cycle,\n            AOB,\n            BOA;\n\n        this.browser = browser;\n        this.$select = $select;\n        this.$toggle = $toggle;\n        this.$cycle = $cycle;\n\n        // a arrow\n        this.$img_a = $img_a;\n        this.$toggle.append(this.$img_a);\n\n        // b arrow\n        this.$img_b = $img_b;\n        this.$toggle.append(this.$img_b);\n\n        A   = { title: 'A',   value: 'A',   other: 'B',   $hidden: $img_b, $shown: $img_a };\n        B   = { title: 'B',   value: 'B',   other: 'A',   $hidden: $img_a, $shown: $img_b };\n        AOB = { title: 'A/B', value: 'AOB', other: 'BOA', $hidden: $img_b, $shown: $img_a };\n        BOA = { title: 'B/A', value: 'BOA', other: 'AOB', $hidden: $img_a, $shown: $img_b };\n\n        this.hash =\n            {\n                'A': A,\n                'B': B,\n                'AOB': AOB,\n                'BOA': BOA\n            };\n\n        this.$select.on('change', function (e) {\n            let value;\n\n            self.disableDisplayModeCycle();\n\n            value = $(this).val();\n            self.setDisplayMode( value );\n        });\n\n        this.$toggle.on('click', function (e) {\n            self.disableDisplayModeCycle();\n            self.toggleDisplayMode();\n        });\n\n        // cycle outline\n        this.$cycle_outline = cycle_outline();\n        $cycle.append(this.$cycle_outline);\n\n        // cycle solid\n        this.$cycle_solid = cycle_solid();\n        $cycle.append(this.$cycle_solid);\n        this.$cycle_solid.hide();\n\n        $cycle.on('click', function () {\n            self.toggleDisplayModeCycle();\n        });\n\n        $cycle.hide();\n\n    };\n\n    hic.ControlMapHash.prototype.disableDisplayModeCycle = function () {\n\n        if (this.cycleID) {\n\n            window.clearInterval(this.cycleID);\n            this.cycleID = undefined;\n\n            this.$cycle_solid.hide();\n            this.$cycle_outline.show();\n        }\n\n    };\n\n    hic.ControlMapHash.prototype.toggleDisplayModeCycle = function () {\n        let self = this;\n\n        if (this.cycleID) {\n\n            this.disableDisplayModeCycle();\n        } else {\n\n            this.cycleID = window.setInterval(function () {\n                self.toggleDisplayMode();\n            }, 2500);\n\n            this.$cycle_solid.show();\n            this.$cycle_outline.hide();\n        }\n\n    };\n\n    hic.ControlMapHash.prototype.toggleDisplayMode = function () {\n\n        let displayModeOld,\n            displayModeNew,\n            str;\n\n        displayModeOld = this.browser.getDisplayMode();\n\n        // render new display mode\n        displayModeNew = this.hash[ displayModeOld ].other;\n        this.browser.setDisplayMode(displayModeNew);\n\n        // update exchange icon\n        this.hash[ displayModeNew ].$hidden.hide();\n        this.hash[ displayModeNew ].$shown.show();\n\n        // update select element\n        str = 'option[value=' + displayModeNew + ']';\n\n        this.$select.find( str ).prop('selected', true);\n\n    };\n\n    hic.ControlMapHash.prototype.setDisplayMode = function (displayMode) {\n\n        setDisplayModeHelper.call(this, displayMode);\n\n        this.browser.setDisplayMode(displayMode);\n    };\n\n    hic.ControlMapHash.prototype.updateOptions = function (displayMode) {\n        let self = this;\n\n        this.$img_a.hide();\n        this.$img_b.hide();\n\n        this.$select.empty();\n\n        Object.keys(this.hash).forEach(function (key) {\n            let item,\n                option;\n\n            item = self.hash[ key ];\n\n            option = $('<option>').attr('title', item.title).attr('value', item.value).text(item.title);\n\n            if(displayMode === item.value) {\n\n                option.attr('selected', true);\n                item.$shown.show();\n\n                setDisplayModeHelper.call(self, displayMode);\n            }\n\n            self.$select.append(option);\n\n        });\n\n    };\n\n    function setDisplayModeHelper (displayMode) {\n\n        this.hash[ displayMode ].$hidden.hide();\n        this.hash[ displayMode ].$shown.show();\n\n        this.$cycle.show();\n        this.$toggle.show();\n\n        // if ('A' === displayMode || 'B' === displayMode) {\n        //     this.$cycle.show();\n        //     this.$toggle.show();\n        // } else {\n        //     this.$cycle.hide();\n        //     this.$toggle.hide();\n        // }\n\n    }\n\n    function toggle_arrows_up() {\n        let str,\n            a;\n\n        str = '<svg width=\"34px\" height=\"34px\" viewBox=\"0 0 34 34\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n' +\n            '    <!-- Generator: Sketch 51 (57462) - http://www.bohemiancoding.com/sketch -->\\n' +\n            '    <title>Toggle Maps</title>\\n' +\n            '    <desc>Created with Sketch.</desc>\\n' +\n            '    <defs></defs>\\n' +\n            '    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n' +\n            '        <g id=\"Group\">\\n' +\n            '            <rect id=\"Rectangle\" stroke=\"#A6A6A6\" stroke-width=\"1.25201381\" fill=\"#F8F8F8\" x=\"0.626006904\" y=\"0.626006904\" width=\"32.7479862\" height=\"32.7479862\" rx=\"3.91254315\"></rect>\\n' +\n            '            <g id=\"arrows\" transform=\"translate(6.533947, 7.003452)\" fill-rule=\"nonzero\" stroke=\"#5F5F5F\" stroke-width=\"0.626006904\">\\n' +\n            '                <path d=\"M25.9411017,8.76431329 L11.8559464,8.76431329 L11.8559464,6.88629258 C11.8559464,6.05237313 10.8440845,5.63114873 10.2529383,6.22229488 L7.12290378,9.3523294 C6.75622024,9.71905207 6.75622024,10.3136021 7.12290378,10.6802857 L10.2529383,13.8103202 C10.8409153,14.3982581 11.8559464,13.9850935 11.8559464,13.1463616 L11.8559464,11.2683409 L25.9411017,11.2683409 C26.4597093,11.2683409 26.8801121,10.8479381 26.8801121,10.3293306 L26.8801121,9.70332365 C26.8801121,9.18471605 26.4597093,8.76431329 25.9411017,8.76431329 Z\" id=\"down-arrow\" fill=\"#F8F8F8\" transform=\"translate(16.864002, 10.016110) rotate(-90.000000) translate(-16.864002, -10.016110) \"></path>\\n' +\n            '                <path d=\"M13.1470856,8.76431329 L-0.938069748,8.76431329 L-0.938069748,6.88629258 C-0.938069748,6.05237313 -1.94993166,5.63114873 -2.5410778,6.22229488 L-5.67111233,9.3523294 C-6.03779587,9.71905207 -6.03779587,10.3136021 -5.67111233,10.6802857 L-2.5410778,13.8103202 C-1.95310082,14.3982581 -0.938069748,13.9850935 -0.938069748,13.1463616 L-0.938069748,11.2683409 L13.1470856,11.2683409 C13.6656932,11.2683409 14.086096,10.8479381 14.086096,10.3293306 L14.086096,9.70332365 C14.086096,9.18471605 13.6656932,8.76431329 13.1470856,8.76431329 Z\" id=\"up-arrow\" fill=\"#5F5F5F\" transform=\"translate(4.069985, 10.016110) scale(1, -1) rotate(-90.000000) translate(-4.069985, -10.016110) \"></path>\\n' +\n            '            </g>\\n' +\n            '        </g>\\n' +\n            '    </g>\\n' +\n            '</svg>';\n\n        a = str.split('\\n').join(' ');\n\n        return $(a);\n    }\n\n    function toggle_arrows_down() {\n        let str,\n            b;\n\n        str = '<svg width=\"34px\" height=\"34px\" viewBox=\"0 0 34 34\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n' +\n            '    <!-- Generator: Sketch 51 (57462) - http://www.bohemiancoding.com/sketch -->\\n' +\n            '    <title>Toggle Maps</title>\\n' +\n            '    <desc>Created with Sketch.</desc>\\n' +\n            '    <defs></defs>\\n' +\n            '    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n' +\n            '        <g id=\"Group\">\\n' +\n            '            <rect id=\"Rectangle\" stroke=\"#A6A6A6\" stroke-width=\"1.25201381\" fill=\"#F8F8F8\" x=\"0.626006904\" y=\"0.626006904\" width=\"32.7479862\" height=\"32.7479862\" rx=\"3.91254315\"></rect>\\n' +\n            '            <g id=\"arrows\" transform=\"translate(6.533947, 7.003452)\" fill-rule=\"nonzero\" stroke=\"#5F5F5F\" stroke-width=\"0.626006904\">\\n' +\n            '                <path d=\"M25.9411017,8.76431329 L11.8559464,8.76431329 L11.8559464,6.88629258 C11.8559464,6.05237313 10.8440845,5.63114873 10.2529383,6.22229488 L7.12290378,9.3523294 C6.75622024,9.71905207 6.75622024,10.3136021 7.12290378,10.6802857 L10.2529383,13.8103202 C10.8409153,14.3982581 11.8559464,13.9850935 11.8559464,13.1463616 L11.8559464,11.2683409 L25.9411017,11.2683409 C26.4597093,11.2683409 26.8801121,10.8479381 26.8801121,10.3293306 L26.8801121,9.70332365 C26.8801121,9.18471605 26.4597093,8.76431329 25.9411017,8.76431329 Z\" id=\"down-arrow\" fill=\"#5F5F5F\" transform=\"translate(16.864002, 10.016110) rotate(-90.000000) translate(-16.864002, -10.016110) \"></path>\\n' +\n            '                <path d=\"M13.1470856,8.76431329 L-0.938069748,8.76431329 L-0.938069748,6.88629258 C-0.938069748,6.05237313 -1.94993166,5.63114873 -2.5410778,6.22229488 L-5.67111233,9.3523294 C-6.03779587,9.71905207 -6.03779587,10.3136021 -5.67111233,10.6802857 L-2.5410778,13.8103202 C-1.95310082,14.3982581 -0.938069748,13.9850935 -0.938069748,13.1463616 L-0.938069748,11.2683409 L13.1470856,11.2683409 C13.6656932,11.2683409 14.086096,10.8479381 14.086096,10.3293306 L14.086096,9.70332365 C14.086096,9.18471605 13.6656932,8.76431329 13.1470856,8.76431329 Z\" id=\"up-arrow\" fill=\"#F8F8F8\" transform=\"translate(4.069985, 10.016110) scale(1, -1) rotate(-90.000000) translate(-4.069985, -10.016110) \"></path>\\n' +\n            '            </g>\\n' +\n            '        </g>\\n' +\n            '    </g>\\n' +\n            '</svg>';\n\n        b = str.split('\\n').join(' ');\n\n        return $(b);\n    }\n\n    function cycle_outline() {\n        let str,\n            b;\n\n        str = '<svg width=\"34px\" height=\"34px\" viewBox=\"0 0 34 34\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n' +\n            '    <!-- Generator: Sketch 51 (57462) - http://www.bohemiancoding.com/sketch -->\\n' +\n            '    <title>Cycle Maps</title>\\n' +\n            '    <desc>Created with Sketch.</desc>\\n' +\n            '    <defs></defs>\\n' +\n            '    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n' +\n            '        <g id=\"Group\" fill=\"#F8F8F8\">\\n' +\n            '            <rect id=\"Rectangle\" stroke=\"#A6A6A6\" stroke-width=\"1.25201381\" x=\"0.626006904\" y=\"0.626006904\" width=\"32.7479862\" height=\"32.7479862\" rx=\"3.91254315\"></rect>\\n' +\n            '            <g id=\"circle-notch-group\" transform=\"translate(5.947066, 6.103567)\" fill-rule=\"nonzero\" stroke=\"#5F5F5F\" stroke-width=\"0.75\">\\n' +\n            '                <path d=\"M12.5012159,1.07356655 L12.5012159,1.81734411 C12.5012159,2.29971235 12.8262916,2.71738683 13.2908449,2.84717621 C16.7518005,3.81392183 19.2875784,6.98762275 19.2875784,10.7595067 C19.2875784,15.2996349 15.6133435,18.9745898 11.072508,18.9745898 C6.53238683,18.9745898 2.85743758,15.3003493 2.85743758,10.7595067 C2.85743758,6.98815851 5.39276905,3.81401113 8.85408182,2.84717621 C9.31872442,2.71738683 9.64380011,2.29962306 9.64380011,1.81721016 L9.64380011,1.07392373 C9.64380011,0.372561009 8.98150471,-0.138381443 8.30233269,0.0365908983 C3.5094195,1.27117502 -0.0270343765,5.6342771 0.00015572077,10.8189768 C0.0323016485,16.9379636 4.97728293,21.8448684 11.0963496,21.8319654 C17.2005487,21.819107 22.1449942,16.8667067 22.1449942,10.7595067 C22.1449942,5.5968181 18.611621,1.2595221 13.831209,0.0336441837 C13.1565464,-0.139363681 12.5012159,0.377070376 12.5012159,1.07356655 Z\" id=\"circle-notch---solid\"></path>\\n' +\n            '            </g>\\n' +\n            '        </g>\\n' +\n            '    </g>\\n' +\n            '</svg>';\n\n        b = str.split('\\n').join(' ');\n\n        return $(b);\n\n    }\n\n    function cycle_solid() {\n        let str,\n            b;\n\n        str = '<svg width=\"34px\" height=\"34px\" viewBox=\"0 0 34 34\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n' +\n            '    <!-- Generator: Sketch 51 (57462) - http://www.bohemiancoding.com/sketch -->\\n' +\n            '    <title>Cycle Maps</title>\\n' +\n            '    <desc>Created with Sketch.</desc>\\n' +\n            '    <defs></defs>\\n' +\n            '    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n' +\n            '        <g id=\"Group\">\\n' +\n            '            <rect id=\"Rectangle\" stroke=\"#A6A6A6\" stroke-width=\"1.25201381\" fill=\"#F8F8F8\" x=\"0.626006904\" y=\"0.626006904\" width=\"32.7479862\" height=\"32.7479862\" rx=\"3.91254315\"></rect>\\n' +\n            '            <g id=\"circle-notch-group\" transform=\"translate(5.947066, 6.103567)\" fill=\"#5F5F5F\" fill-rule=\"nonzero\">\\n' +\n            '                <path d=\"M12.5012159,1.07356655 L12.5012159,1.81734411 C12.5012159,2.29971235 12.8262916,2.71738683 13.2908449,2.84717621 C16.7518005,3.81392183 19.2875784,6.98762275 19.2875784,10.7595067 C19.2875784,15.2996349 15.6133435,18.9745898 11.072508,18.9745898 C6.53238683,18.9745898 2.85743758,15.3003493 2.85743758,10.7595067 C2.85743758,6.98815851 5.39276905,3.81401113 8.85408182,2.84717621 C9.31872442,2.71738683 9.64380011,2.29962306 9.64380011,1.81721016 L9.64380011,1.07392373 C9.64380011,0.372561009 8.98150471,-0.138381443 8.30233269,0.0365908983 C3.5094195,1.27117502 -0.0270343765,5.6342771 0.00015572077,10.8189768 C0.0323016485,16.9379636 4.97728293,21.8448684 11.0963496,21.8319654 C17.2005487,21.819107 22.1449942,16.8667067 22.1449942,10.7595067 C22.1449942,5.5968181 18.611621,1.2595221 13.831209,0.0336441837 C13.1565464,-0.139363681 12.5012159,0.377070376 12.5012159,1.07356655 Z\" id=\"circle-notch---solid\"></path>\\n' +\n            '            </g>\\n' +\n            '        </g>\\n' +\n            '    </g>\\n' +\n            '</svg>';\n\n        b = str.split('\\n').join(' ');\n\n        return $(b);\n\n    }\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n\n/**\n * @author Jim Robinson\n */\n\n\n/**\n * Barebones event bus.\n */\n\nvar hic = (function (hic) {\n\n\n    hic.EventBus = function () {\n\n\n        // Map eventType -> list of subscribers\n        this.subscribers = {};\n    };\n\n    hic.EventBus.prototype.subscribe = function (eventType, object) {\n\n        var subscriberList = this.subscribers[eventType];\n        if (subscriberList == undefined) {\n            subscriberList = [];\n            this.subscribers[eventType] = subscriberList;\n        }\n        subscriberList.push(object);\n\n    };\n\n    hic.EventBus.prototype.post = function (event) {\n\n        var self = this,\n            eventType = event.type,\n            subscriberList = this.subscribers[eventType];\n\n        if (subscriberList) {\n            subscriberList.forEach(function (subscriber) {\n\n                if (\"function\" === typeof subscriber.receiveEvent) {\n                    subscriber.receiveEvent(event);\n                } else if (\"function\" === typeof subscriber) {\n                    subscriber(event);\n                }\n\n            });\n        }\n\n    };\n\n    hic.Event = function (type, data, propogate) {\n        return {\n            type: type,\n            data: data || {},\n            propogate: propogate !== undefined ? propogate : true     // Default to true\n        }\n    };\n    \n\n    /**\n     * The global event bus.  For events outside the scope of a single browser.\n     *\n     * @type {hic.EventBus}\n     */\n    hic.eventBus = new hic.EventBus();\n\n\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n\n/**\n * @author Jim Robinson\n */\n\n\nvar hic = (function (hic) {\n\n\n    hic.geneSearch = function (genomeId, featureName) {\n\n        return new Promise(function (fulfill, reject) {\n\n            // Hardcode this for now\n            var searchServiceURL = \"https://portals.broadinstitute.org/webservices/igv/locus?genome=\" + genomeId + \"&name=\" + featureName;\n\n            igv.xhr.loadString(searchServiceURL)\n                .then(function (data) {\n\n                    var results = parseSearchResults(data);\n\n                    if (results.length == 0) {\n                        //alert('No feature found with name \"' + feature + '\"');\n                        fulfill(undefined);\n                    }\n                    else {\n                        // Just take first result for now\n                        fulfill(results[0])\n\n                    }\n                })\n                .catch(reject);\n        });\n    }\n\n    function parseSearchResults(data) {\n\n        var lines = igv.splitLines(data),\n            linesTrimmed = [],\n            results = [];\n\n        lines.forEach(function (item) {\n            if (\"\" === item) {\n                // do nothing\n            } else {\n                linesTrimmed.push(item);\n            }\n        });\n\n        linesTrimmed.forEach(function (line) {\n            // Example result -  EGFR\tchr7:55,086,724-55,275,031\trefseq\n\n            var tokens = line.split(\"\\t\");\n\n            if (tokens.length >= 3) {\n                results.push(tokens[1]);\n\n            }\n\n        });\n\n        return results;\n\n    }\n\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n\n/**\n * @author Jim Robinson\n */\n\n\nvar hic = (function (hic) {\n\n    /**\n     * \n     * @param id\n     * @param chromosomes -- an array of hic.Chromosome objects.  \n     * @constructor\n     */\n    hic.Genome = function (id, chromosomes) {\n\n        var self = this;\n\n        this.id = id;\n        this.chromosomes = chromosomes;\n        this.chromosomeLookupTable = {};\n\n        // Alias for size for igv compatibility\n        this.genomeLength = 0;\n        this.chromosomes.forEach(function (c) {\n            c.bpLength = c.size;\n            if('all' !== c.name.toLowerCase()) {\n                self.genomeLength += c.size;\n            }\n        })\n\n        /**\n         * Maps the official chromosome name to an alias.  Deals with\n         * 1 <-> chr1,  chrM <-> MT,  IV <-> chr4, etc.\n         * @param str\n         */\n        var chrAliasTable = {};\n\n        // The standard mappings\n        chromosomes.forEach(function (chromosome) {\n            var name = chromosome.name,\n                alias = name.startsWith(\"chr\") ? name.substring(3) : \"chr\" + name;\n            chrAliasTable[alias] = name;\n            if (name === \"chrM\") chrAliasTable[\"MT\"] = \"chrM\";\n            if (name === \"MT\") chrAliasTable[\"chrmM\"] = \"MT\";\n\n            self.chromosomeLookupTable[name.toLowerCase()] = chromosome;\n        });\n\n\n        this.chrAliasTable = chrAliasTable;\n\n    }\n\n    hic.Genome.prototype.getChromosomeName = function (str) {\n        var chr = this.chrAliasTable[str];\n        return chr ? chr : str;\n    };\n\n    hic.Genome.prototype.getChromosome = function (str) {\n        var chrname = this.getChromosomeName(str).toLowerCase();\n        return this.chromosomeLookupTable[chrname];\n    };\n\n    /**\n     * Return the genome coordinate for the give chromosome and position.\n     */\n    hic.Genome.prototype.getGenomeCoordinate = function (chr, bp) {\n        return this.getCumulativeOffset(chr.name) + bp;\n    };\n\n    hic.Genome.prototype.getChromsosomeForCoordinate = function (bp) {\n        var i = 0,\n            offset = 0,\n            l;\n\n        for (i = 1; i < this.chromosomes.length; i++) {\n            l = this.chromosomes[i].size;\n            if (offset + l > bp) return this.chromosomes[i];\n            offset += l;\n        }\n        return this.chromosomes[this.chromosomes.length - 1];\n\n    }\n\n\n    /**\n     * Return the offset in genome coordinates (kb) of the start of the given chromosome\n     */\n    hic.Genome.prototype.getCumulativeOffset = function (chr) {\n\n        var queryChr;\n\n        queryChr = this.getChromosomeName(chr);\n\n        if (this.cumulativeOffsets === undefined) {\n            computeCumulativeOffsets.call(this);\n        }\n        return this.cumulativeOffsets[queryChr];\n    };\n\n    function computeCumulativeOffsets() {\n        var self = this,\n            list,\n            cumulativeOffsets,\n            offset,\n            i,\n            chromosome;\n\n        cumulativeOffsets = {};\n        offset = 0;\n        // Skip first chromosome (its chr all).\n        for (i = 1; i < self.chromosomes.length; i++) {\n\n            chromosome = self.chromosomes[i];\n            cumulativeOffsets[chromosome.name] = Math.floor(offset);\n\n            // Genome coordinates are in KB.  Beware 32-bit max value limit\n            offset += (chromosome.size); // / 1000);\n        }\n        self.cumulativeOffsets = cumulativeOffsets;\n\n    }\n\n    // Required for igv.js\n    hic.Genome.prototype.getGenomeLength = function () {\n        return this.genomeLength;\n    }\n\n\n    return hic;\n\n})\n(hic || {});\n\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * @author Jim Robinson\n */\n\n\nvar hic = (function (hic) {\n\n    var defaultPixelSize, defaultState;\n    var MAX_PIXEL_SIZE = 12;\n    var DEFAULT_ANNOTATION_COLOR = \"rgb(22, 129, 198)\";\n    var defaultSize =\n        {\n            width: 640,\n            height: 640\n        };\n\n\n    hic.allBrowsers = [];\n\n\n    // Callback used to  sync browsers\n    hic.createBrowser = async function (hic_container, config, callback) {\n\n        var browser,\n            queryString,\n            query,\n            isFigureMode,\n            initialImageImg,\n            initialImageX,\n            initialImageY,\n            uriDecode,\n            apiKey,\n            $hic_container;\n\n        $hic_container = $(hic_container);\n\n        setDefaults(config);\n\n        apiKey = config.apiKey;\n        if (apiKey) {\n            igv.setApiKey(apiKey);\n            hic.apiKey = apiKey;\n        }\n\n        queryString = config.queryString || config.href;   // href for backward compatibility\n        if (queryString === undefined && config.initFromUrl !== false) {\n            queryString = window.location.href;\n        }\n\n        if (queryString) {\n            if (!queryString.includes(\"?\")) {\n                queryString = \"?\" + queryString;\n            }\n            query = hic.extractQuery(queryString);\n            uriDecode = queryString.includes(\"%2C\");\n            igv.Browser.decodeQuery(query, config, uriDecode);\n        }\n\n        browser = new hic.Browser($hic_container, config);\n\n\n        if (config.displayMode) {\n            browser.contactMatrixView.displayMode = config.displayMode;\n            browser.eventBus.post({type: \"DisplayMode\", data: config.displayMode});\n        }\n\n\n        hic.allBrowsers.push(browser);\n\n        hic.Browser.setCurrentBrowser(browser);\n\n        isFigureMode = (config.figureMode && true === config.figureMode);\n        if (!isFigureMode && hic.allBrowsers.length > 1) {\n            hic.allBrowsers.forEach(function (b) {\n                b.$browser_panel_delete_button.show();\n            });\n        }\n\n        browser.trackMenuReplacement = new hic.TrackMenuReplacement(browser);\n\n        if (undefined === igv.browser) {\n            createIGV($hic_container, browser, browser.trackMenuReplacement);\n        }\n\n        await loadInitialImage(config)\n        await loadControlFile(config)\n        await setInitialDataset(browser, config)\n        await browser.loadHicFile(config)\n\n        if (config.colorScale) {\n            // This must be done after dataset load\n            browser.contactMatrixView.setColorScale(config.colorScale);\n            browser.eventBus.post({type: \"ColorScale\", data: browser.contactMatrixView.getColorScale()});\n        }\n\n        var promises = [];\n        if (config.tracks) {\n            promises.push(browser.loadTracks(config.tracks))\n        }\n\n        if (config.normVectorFiles) {\n            config.normVectorFiles.forEach(function (nv) {\n                promises.push(browser.loadNormalizationFile(nv));\n            })\n        }\n        await Promise.all(promises);\n\n        if (config.cycle) {\n            browser.controlMapWidget.toggleDisplayModeCycle();\n        }\n\n        if (typeof callback === \"function\") callback();\n\n        return browser;\n\n        // Return a promise to load the initial image, if present\n        async function loadInitialImage(config) {\n\n            if (config.initialImage) {\n\n                return new Promise(function (resolve, reject) {\n\n                    initialImageImg = new Image();\n\n                    initialImageImg.onload = function () {\n\n                        if (typeof config.initialImage === 'string') {\n                            initialImageX = browser.state.x;\n                            initialImageY = browser.state.y;\n                        } else {\n                            initialImageX = config.initialImage.left || browser.state.x;\n                            initialImageY = config.initialImage.top || browser.state.y;\n                        }\n\n                        browser.contactMatrixView.setInitialImage(initialImageX, initialImageY, initialImageImg, browser.state);\n\n                        resolve(initialImageImg);\n                    }\n\n                    initialImageImg.onerror = function (error) {\n                        reject(error);\n                    }\n\n                    initialImageImg.src = (typeof config.initialImage === 'string') ? config.initialImage : config.initialImage.imageURL;\n                });\n            }\n\n        }\n\n        // Explicit set dataset, do not need to load.  Used by \"interactive figures\"\n        function setInitialDataset(browser, config) {\n\n            if (config.dataset) {\n                config.dataset.name = config.name;\n                browser.$contactMaplabel.text(config.name);\n                browser.$contactMaplabel.attr('title', config.name);\n                browser.dataset = config.dataset;\n                browser.genome = new hic.Genome(browser.dataset.genomeId, browser.dataset.chromosomes);\n                igv.browser.genome = browser.genome;\n                browser.eventBus.post(hic.Event(\"GenomeChange\", browser.genome.id));\n                browser.eventBus.post(hic.Event(\"MapLoad\", browser.dataset));\n                return Promise.resolve(config.dataset);\n            }\n            else {\n                return Promise.resolve(undefined);\n            }\n        }\n\n        // Load the control file, if any\n        function loadControlFile(config) {\n            if (config.controlUrl) {\n                return browser.loadHicControlFile({\n                    url: config.controlUrl,\n                    name: config.controlName,\n                    nvi: config.controlNvi,\n                    isControl: true\n                });\n            } else {\n                return Promise.resolve(undefined);\n            }\n        }\n    };\n\n    hic.deleteBrowserPanel = function (browser) {\n\n        if (browser === hic.Browser.getCurrentBrowser()) {\n            hic.Browser.setCurrentBrowser(undefined);\n        }\n\n        hic.allBrowsers.splice(_.indexOf(hic.allBrowsers, browser), 1);\n        browser.$root.remove();\n        browser = undefined;\n\n        if (1 === hic.allBrowsers.length) {\n            hic.Browser.setCurrentBrowser(hic.allBrowsers[0]);\n            hic.Browser.getCurrentBrowser().$browser_panel_delete_button.hide();\n        }\n\n    };\n\n\n    /**\n     * Load a dataset outside the context of a browser.  Purpose is to \"pre load\" a shared dataset when\n     * instantiating multiple browsers in a page.\n     *\n     * @param config\n     */\n    hic.loadDataset = async function (config) {\n\n\n        const name = await extractName(config)\n        config.name = name;\n        var hicReader;\n        hicReader = new hic.HiCReader(config);\n\n        const dataset = await hicReader.loadDataset(config)\n        dataset.name = this.name;\n\n        if (config.nvi) {\n            var nviArray = decodeURIComponent(config.nvi).split(\",\"),\n                range = {start: parseInt(nviArray[0]), size: parseInt(nviArray[1])};\n\n            await hicReader.readNormVectorIndex(dataset, range)\n            return dataset;\n        }\n        else {\n            return dataset;\n        }\n\n\n    };\n\n    hic.syncBrowsers = function (browsers) {\n\n        var browsersWithMaps, genome, incompatibleDatasets, gid;\n\n        browsersWithMaps = browsers.filter(function (b) {\n            return b.dataset !== undefined;\n        })\n\n        if (browsersWithMaps.length < 2) {\n            // Nothing to sync\n            return;\n        }\n\n        // Canonical browser is the first one, arbitrarily\n        genome = canonicalGenomeId(browsers[0].dataset.genomeId);\n\n        // Sync compatible maps only\n\n        incompatibleDatasets = [];\n        browsersWithMaps.forEach(function (b1) {\n\n            gid = canonicalGenomeId(b1.dataset.genomeId);\n\n            if (areCompatible(browsers[0].dataset, b1.dataset)) {\n                browsers.forEach(function (b2) {\n                    if (b1 !== b2 && !b1.synchedBrowsers.includes(b2)) {\n                        b1.synchedBrowsers.push(b2);\n                    }\n\n                })\n            } else {\n                incompatibleDatasets.push(b1.dataset.genomeId);\n            }\n        });\n\n        if (incompatibleDatasets.length > 0) {\n            igv.presentAlert(\"Not all maps could be synchronized.  Incompatible assemblies: \" + browsers[0].dataset.genomeId + \" vs \" + incompatibleDatasets.join());\n        }\n\n\n        function canonicalGenomeId(genomeId) {\n\n            switch (genomeId) {\n                case \"GRCh38\":\n                    return \"hg38\";\n                case \"GRCh37\":\n                    return \"hg19\";\n                case \"GRCm38\" :\n                    return \"mm10\";\n                default:\n                    return genomeId;\n            }\n        }\n\n    };\n\n    hic.Browser = function ($app_container, config) {\n\n        this.config = config;\n        this.figureMode = config.figureMode || config.miniMode;    // Mini mode for backward compatibility\n        this.resolutionLocked = false;\n        this.eventBus = new hic.EventBus();\n\n        this.id = _.uniqueId('browser_');\n        this.trackRenderers = [];\n        this.tracks2D = [];\n        this.normVectorFiles = [];\n\n        this.synchedBrowsers = [];\n\n        this.isMobile = hic.isMobile();\n\n        this.$root = $('<div class=\"hic-root unselect\">');\n\n        if (config.width) {\n            this.$root.css(\"width\", String(config.width));\n        }\n        if (config.height) {\n            this.$root.css(\"height\", String(config.height + hic.LayoutController.navbarHeight(this.config.figureMode)));\n        }\n\n        $app_container.append(this.$root);\n\n        this.layoutController = new hic.LayoutController(this, this.$root);  // <- contactMatixView created here, nasty side-effect!\n\n        // prevent user interaction during lengthy data loads\n        this.$user_interaction_shield = $('<div>', {class: 'hic-root-prevent-interaction'});\n        this.$root.append(this.$user_interaction_shield);\n        this.$user_interaction_shield.hide();\n\n        this.hideCrosshairs();\n\n        this.state = config.state ? config.state : defaultState.clone();\n\n        this.eventBus.subscribe(\"LocusChange\", this);\n\n    };\n\n\n    hic.Browser.getCurrentBrowser = function () {\n\n        if (hic.allBrowsers.length === 1) {\n            return hic.allBrowsers[0];\n        } else {\n            return hic.Browser.currentBrowser;\n        }\n\n    };\n\n    hic.Browser.setCurrentBrowser = function (browser) {\n\n        // unselect current browser\n        if (undefined === browser) {\n\n            if (hic.Browser.currentBrowser) {\n                hic.Browser.currentBrowser.$root.removeClass('hic-root-selected');\n            }\n\n            hic.Browser.currentBrowser = browser;\n            return;\n        }\n\n\n        if (browser !== hic.Browser.currentBrowser) {\n\n            if (hic.Browser.currentBrowser) {\n                hic.Browser.currentBrowser.$root.removeClass('hic-root-selected');\n            }\n\n            browser.$root.addClass('hic-root-selected');\n            hic.Browser.currentBrowser = browser;\n\n            hic.eventBus.post(hic.Event(\"BrowserSelect\", browser));\n        }\n\n    };\n\n    hic.Browser.prototype.toggleMenu = function () {\n\n        if (this.$menu.is(':visible')) {\n            this.hideMenu();\n        } else {\n            this.showMenu();\n        }\n\n    };\n\n    hic.Browser.prototype.showMenu = function () {\n        this.$menu.show();\n    };\n\n    hic.Browser.prototype.hideMenu = function () {\n        this.$menu.hide();\n    };\n\n    hic.Browser.prototype.startSpinner = function () {\n\n        if (true === this.isLoadingHICFile) {\n            this.$user_interaction_shield.show();\n        }\n\n        this.contactMatrixView.startSpinner();\n    };\n\n    hic.Browser.prototype.stopSpinner = function () {\n\n        if (!this.isLoadingHICFile) {\n            this.$user_interaction_shield.hide();\n        }\n\n        this.contactMatrixView.stopSpinner();\n    };\n\n    hic.Browser.prototype.setDisplayMode = function (mode) {\n        this.contactMatrixView.setDisplayMode(mode);\n        this.eventBus.post(hic.Event(\"DisplayMode\", mode));\n    };\n\n    hic.Browser.prototype.getDisplayMode = function () {\n        return this.contactMatrixView ? this.contactMatrixView.displayMode : undefined;\n    };\n\n    hic.Browser.prototype.toggleDisplayMode = function () {\n        this.controlMapWidget.toggleDisplayMode();\n    };\n\n    hic.Browser.prototype.getColorScale = function () {\n\n        if (!this.contactMatrixView) return undefined;\n\n        switch (this.getDisplayMode()) {\n            case 'AOB':\n            case 'BOA':\n                return this.contactMatrixView.ratioColorScale;\n            case 'AMB':\n                return this.contactMatrixView.diffColorScale;\n            default:\n                return this.contactMatrixView.colorScale;\n        }\n    };\n\n    hic.Browser.prototype.setColorScaleThreshold = function (threshold) {\n        this.contactMatrixView.setColorScaleThreshold(threshold);\n    };\n\n    hic.Browser.prototype.updateCrosshairs = function (coords) {\n        var xGuide,\n            yGuide;\n\n        xGuide = coords.y < 0 ? {left: 0} : {top: coords.y, left: 0};\n        this.contactMatrixView.$x_guide.css(xGuide);\n        this.layoutController.$x_track_guide.css(xGuide);\n\n        yGuide = coords.x < 0 ? {top: 0} : {top: 0, left: coords.x};\n        this.contactMatrixView.$y_guide.css(yGuide);\n        this.layoutController.$y_track_guide.css(yGuide);\n\n\n    };\n\n    hic.Browser.prototype.hideCrosshairs = function () {\n\n        this.contactMatrixView.$x_guide.hide();\n        this.layoutController.$x_track_guide.hide();\n\n        this.contactMatrixView.$y_guide.hide();\n        this.layoutController.$y_track_guide.hide();\n\n    };\n\n    hic.Browser.prototype.showCrosshairs = function () {\n\n        this.contactMatrixView.$x_guide.show();\n        this.layoutController.$x_track_guide.show();\n\n        this.contactMatrixView.$y_guide.show();\n        this.layoutController.$y_track_guide.show();\n    };\n\n    hic.Browser.prototype.genomicState = function (axis) {\n        var gs,\n            bpResolution;\n\n        bpResolution = this.dataset.bpResolutions[this.state.zoom];\n        gs = {\n            bpp: bpResolution / this.state.pixelSize\n        };\n\n        if (axis === \"x\") {\n            gs.chromosome = this.dataset.chromosomes[this.state.chr1];\n            gs.startBP = this.state.x * bpResolution;\n            gs.endBP = gs.startBP + gs.bpp * this.contactMatrixView.getViewDimensions().width;\n        }\n        else {\n            gs.chromosome = this.dataset.chromosomes[this.state.chr2];\n            gs.startBP = this.state.y * bpResolution;\n            gs.endBP = gs.startBP + gs.bpp * this.contactMatrixView.getViewDimensions().height;\n        }\n        return gs;\n    };\n\n\n    /**\n     * Load a list of 1D genome tracks (wig, etc).\n     *\n     * NOTE: public API function\n     *\n     * @param trackConfigurations\n     */\n    hic.Browser.prototype.loadTracks = async function (trackConfigurations) {\n\n        var self = this, errorPrefix;\n\n        // If loading a single track remember its name, for error message\n        errorPrefix = 1 === trackConfigurations.length ? (\"Error loading track \" + trackConfigurations[0].name) : \"Error loading tracks\";\n\n        this.contactMatrixView.startSpinner();\n\n        try {\n            const trackConfigurations = await Promise.all(inferTypes(trackConfigurations))\n\n            var trackXYPairs, promises2D;\n\n            trackXYPairs = [];\n            promises2D = [];\n            const promisesNV = []\n\n            for (let config of trackConfigurations) {\n                if (config) {\n                    var isLocal = config.url instanceof File,\n                        fn = isLocal ? config.url.name : config.url;\n                    if (\"annotation\" === config.type && config.color === undefined) {\n                        config.color = DEFAULT_ANNOTATION_COLOR;\n                    }\n                    config.height = this.layoutController.track_height;\n\n                    if (fn.endsWith(\".juicerformat\") || fn.endsWith(\"nv\") || fn.endsWith(\".juicerformat.gz\") || fn.endsWith(\"nv.gz\")) {\n                        promisesNV.push(this.loadNormalizationFile(config.url))\n                    }\n\n                    if (config.type === undefined) {\n                        // Assume this is a 2D track\n                        promises2D.push(hic.loadTrack2D(config));\n                    }\n                    else {\n                        var track = igv.createTrack(config, this);\n                        trackXYPairs.push({x: track, y: track});\n                    }\n                }\n            }\n\n            if (trackXYPairs.length > 0) {\n                this.layoutController.tracksLoaded(trackXYPairs);\n                this.updateLayout();\n            }\n\n            const tracks2D = await Promise.all(promises2D)\n            if (tracks2D && tracks2D.length > 0) {\n                this.tracks2D = self.tracks2D.concat(tracks2D);\n                this.eventBus.post(hic.Event(\"TrackLoad2D\", this.tracks2D));\n            }\n\n            const normVectors = await Promise.all(promisesNV)\n\n            this.contactMatrixView.stopSpinner();\n\n        }\n        catch (error) {\n            hic.presentError(errorPrefix, error);\n            this.contactMatrixView.stopSpinner();\n        }\n\n        function inferTypes(trackConfigurations) {\n\n            var promises = [];\n            trackConfigurations.forEach(function (config) {\n\n                var url = config.url;\n\n                if (url && typeof url === \"string\" && url.includes(\"drive.google.com\")) {\n\n                    promises.push(igv.Google.getDriveFileInfo(config.url)\n\n                        .then(function (json) {\n                            // Temporarily switch URL to infer tipes\n                            config.url = json.originalFilename;\n                            igv.inferTrackTypes(config);\n                            if (config.name === undefined) {\n                                config.name = json.originalFilename;\n                            }\n                            config.url = url;\n                            return config;\n                        })\n                    );\n                }\n\n                else {\n                    igv.inferTrackTypes(config);\n                    if (!config.name) {\n                        config.name = hic.extractFilename(config.url);\n                    }\n                    promises.push(Promise.resolve(config));\n                }\n\n            });\n\n            return promises;\n        }\n\n\n    }\n\n\n    hic.Browser.prototype.loadNormalizationFile = function (url) {\n\n        var self = this;\n\n        if (!this.dataset) return;\n\n        self.eventBus.post(hic.Event(\"NormalizationFileLoad\", \"start\"));\n\n        return this.dataset.hicReader.readNormalizationVectorFile(url, this.dataset.chromosomes)\n\n            .then(function (normVectors) {\n\n                Object.assign(self.dataset.normVectorCache, normVectors);\n\n                normVectors[\"types\"].forEach(function (type) {\n\n                    if (!self.dataset.normalizationTypes) {\n                        self.dataset.normalizationTypes = [];\n                    }\n                    if (_.contains(self.dataset.normalizationTypes, type) === false) {\n                        self.dataset.normalizationTypes.push(type);\n                    }\n\n                    self.eventBus.post(hic.Event(\"NormVectorIndexLoad\", self.dataset));\n                });\n\n                return normVectors;\n            })\n\n    }\n\n\n    hic.Browser.prototype.renderTracks = function () {\n        var self = this;\n        this.trackRenderers.forEach(function (xyTrackRenderPair, index) {\n            self.renderTrackXY(xyTrackRenderPair);\n        });\n\n    };\n\n    /**\n     * Render the XY pair of tracks.\n     *\n     * @param xy\n     */\n    hic.Browser.prototype.renderTrackXY = function (xy) {\n\n        var self = this;\n\n        xy.x.readyToPaint()\n\n            .then(function (ignore) {\n                return xy.y.readyToPaint();\n            })\n\n            .then(function (ignore) {\n                self.stopSpinner();\n                xy.x.repaint();\n                xy.y.repaint();\n            })\n            .catch(function (error) {\n                self.stopSpinner();\n                console.error(error);\n            })\n    }\n\n\n    hic.Browser.prototype.reset = function () {\n        var self = this;\n        self.dataset = undefined;\n        self.controlDataset = undefined;\n        self.layoutController.removeAllTrackXYPairs();\n        self.contactMatrixView.clearCaches();\n        self.tracks2D = [];\n        self.tracks = [];\n\n        self.$contactMaplabel.text(\"\");\n        self.$contactMaplabel.attr('title', \"\");\n        self.$controlMaplabel.text(\"\");\n        self.$controlMaplabel.attr('title', \"\");\n    }\n\n\n    hic.Browser.prototype.clearSession = function () {\n        // Clear current datasets.\n        this.dataset = undefined;\n        this.controlDataset = undefined;\n        this.setDisplayMode('A');\n    }\n\n    /**\n     * Load a .hic file\n     *\n     * NOTE: public API function\n     *\n     * @return a promise for a dataset\n     * @param config\n     */\n    hic.Browser.prototype.loadHicFile = async function (config) {\n\n        if (!config.url) {\n            console.log(\"No .hic url specified\");\n            return undefined;\n        }\n\n        this.clearSession();\n\n        this.contactMatrixView.startSpinner();\n        this.isLoadingHICFile = true;\n\n        const name = await extractName(config)\n        const prefix = this.controlDataset ? \"A: \" : \"\";\n        this.$contactMaplabel.text(prefix + name);\n        this.$contactMaplabel.attr('title', name);\n        config.name = name;\n\n\n        const hicReader = new hic.HiCReader(config);\n        const dataset = await hicReader.loadDataset(config)\n        this.dataset = dataset;\n\n        const previousGenomeId = this.genome ? this.genome.id : undefined;\n        this.genome = new hic.Genome(this.dataset.genomeId, this.dataset.chromosomes);\n        // TODO -- this is not going to work with browsers on different assemblies on the same page.\n        igv.browser.genome = this.genome;\n\n        if (this.genome.id !== previousGenomeId) {\n            this.eventBus.post(hic.Event(\"GenomeChange\", this.genome.id));\n        }\n        this.eventBus.post(hic.Event(\"MapLoad\", this.dataset));\n\n        this.isLoadingHICFile = false;\n        this.stopSpinner();\n\n        if (config.state) {\n            this.setState(config.state);\n        } else if (config.synchState && this.canBeSynched(config.synchState)) {\n            this.syncState(config.synchState);\n        } else {\n            this.setState(defaultState.clone());\n        }\n\n        // Initiate loading of the norm vector index, but don't block if the \"nvi\" parameter is not available.\n        // Let it load in the background\n        const eventBus = this.eventBus\n        if (config.nvi) {\n            await dataset.getNormVectorIndex(config)\n            eventBus.post(hic.Event(\"NormVectorIndexLoad\", dataset));\n        }\n        else {\n            dataset.getNormVectorIndex(config)\n                .then(function (nvi) {\n                    if (!config.isControl) {\n                        eventBus.post(hic.Event(\"NormVectorIndexLoad\", dataset));\n                    }\n                })\n        }\n    }\n\n    /**\n     * Compare 2 datasets for compatibility.  Compatibility is defined as from the same assembly, even if\n     * different IDs are used (e.g. GRCh38 vs hg38)\n     * @param d1\n     * @param d2\n     */\n    function areCompatible(d1, d2) {\n        return (d1.genomeId === d2.genomeId) || d1.compareChromosomes(d2)\n    }\n\n    /**\n     * Load a .hic file for a control map\n     *\n     * NOTE: public API function\n     *\n     * @return a promise for a dataset\n     * @param config\n     */\n    hic.Browser.prototype.loadHicControlFile = async function (config) {\n\n        this.isLoadingHICFile = true\n        this.controlUrl = config.url\n        this.contactMatrixView.startSpinner()\n\n        const name = await extractName(config)\n        config.name = name\n\n\n        const hicReader = new hic.HiCReader(config)\n        const dataset = await hicReader.loadDataset(config)\n\n        if (!this.dataset || areCompatible(this.dataset, dataset)) {\n            this.controlDataset = dataset;\n            if (this.dataset) {\n                this.$contactMaplabel.text(\"A: \" + this.dataset.name);\n            }\n            this.$controlMaplabel.text(\"B: \" + dataset.name);\n            this.$controlMaplabel.attr('title', dataset.name);\n\n            //For the control dataset, block until the norm vector index is loaded\n            await dataset.getNormVectorIndex(config)\n\n            this.isLoadingHICFile = false;\n            this.stopSpinner();\n            this.eventBus.post(hic.Event(\"ControlMapLoad\", this.controlDataset));\n            this.contactMatrixView.update();\n        }\n        else {\n            igv.presentAlert('\"B\" map genome (' + dataset.genomeId + ') does not match \"A\" map genome (' + this.genome.id + ')');\n            this.isLoadingHICFile = false;\n            this.stopSpinner();\n        }\n\n\n    }\n\n\n    /**\n     * Return a promise to extract the name of the dataset.  The promise is neccessacary because\n     * google drive urls require a call to the API\n     *\n     * @returns Promise for the name\n     */\n    async function extractName(config) {\n\n        if (config.name === undefined && typeof config.url === \"string\" && config.url.includes(\"drive.google.com\")) {\n            const json = await igv.Google.getDriveFileInfo(config.url)\n            return json.originalFilename;\n        } else {\n            if (config.name === undefined) {\n                return hic.extractFilename(config.url);\n            } else {\n                return config.name;\n            }\n        }\n    }\n\n\n    function findDefaultZoom(bpResolutions, defaultPixelSize, chrLength) {\n\n        var viewDimensions = this.contactMatrixView.getViewDimensions(),\n            d = Math.max(viewDimensions.width, viewDimensions.height),\n            nBins = d / defaultPixelSize,\n            z;\n\n        for (z = bpResolutions.length - 1; z >= 0; z--) {\n            if (chrLength / bpResolutions[z] <= nBins) {\n                return z;\n            }\n        }\n        return 0;\n\n    }\n\n    hic.Browser.prototype.parseGotoInput = async function (string) {\n\n        var self = this,\n            loci = string.split(' '),\n            xLocus,\n            yLocus;\n\n\n        if (loci.length === 1) {\n            xLocus = self.parseLocusString(loci[0]);\n            yLocus = xLocus;\n        } else {\n            xLocus = self.parseLocusString(loci[0]);\n            yLocus = self.parseLocusString(loci[1]);\n            if (yLocus === undefined) yLocus = xLocus;\n        }\n\n        if (xLocus === undefined) {\n            // Try a gene name search.\n            const result = await hic.geneSearch(this.genome.id, loci[0].trim())\n\n            if (result) {\n                igv.selectedGene = loci[0].trim();\n                xLocus = self.parseLocusString(result);\n                yLocus = xLocus;\n                self.state.selectedGene = loci[0].trim();\n                self.goto(xLocus.chr, xLocus.start, xLocus.end, yLocus.chr, yLocus.start, yLocus.end, 5000);\n            }\n            else {\n                alert('No feature found with name \"' + loci[0] + '\"');\n            }\n\n        } else {\n\n            if (xLocus.wholeChr && yLocus.wholeChr) {\n                self.setChromosomes(xLocus.chr, yLocus.chr);\n            }\n            else {\n                self.goto(xLocus.chr, xLocus.start, xLocus.end, yLocus.chr, yLocus.start, yLocus.end);\n            }\n        }\n\n    };\n\n    hic.Browser.prototype.findMatchingZoomIndex = function (targetResolution, resolutionArray) {\n        var z;\n        for (z = resolutionArray.length - 1; z > 0; z--) {\n            if (resolutionArray[z] >= targetResolution) {\n                return z;\n            }\n        }\n        return 0;\n    };\n\n    hic.Browser.prototype.parseLocusString = function (locus) {\n\n        var self = this,\n            parts,\n            chromosome,\n            extent,\n            locusObject = {},\n            numeric;\n\n        parts = locus.trim().split(':');\n\n\n        chromosome = this.genome.getChromosome(_.first(parts).toLowerCase());\n\n        if (!chromosome) {\n            return undefined;\n        } else {\n            locusObject.chr = chromosome.index;\n        }\n\n\n        if (parts.length === 1) {\n            // Chromosome name only\n            locusObject.start = 0;\n            locusObject.end = this.dataset.chromosomes[locusObject.chr].size;\n            locusObject.wholeChr = true;\n        } else {\n            extent = parts[1].split(\"-\");\n            if (extent.length !== 2) {\n                return undefined;\n            }\n            else {\n                numeric = extent[0].replace(/\\,/g, '');\n                locusObject.start = isNaN(numeric) ? undefined : parseInt(numeric, 10) - 1;\n\n                numeric = extent[1].replace(/\\,/g, '');\n                locusObject.end = isNaN(numeric) ? undefined : parseInt(numeric, 10);\n            }\n        }\n        return locusObject;\n    };\n\n\n    /**\n     * @param scaleFactor Values range from greater then 1 to decimal values less then one\n     *                    Value > 1 are magnification (zoom in)\n     *                    Decimal values (.9, .75, .25, etc.) are minification (zoom out)\n     * @param anchorPx -- anchor position in pixels (should not move after transformation)\n     * @param anchorPy\n     */\n    hic.Browser.prototype.pinchZoom = async function (anchorPx, anchorPy, scaleFactor) {\n\n        const bpResolutions = this.dataset.bpResolutions\n        let currentResolution\n        let newResolution\n        let newZoom\n        let newPixelSize\n        let zoomChanged\n\n        currentResolution = bpResolutions[this.state.zoom];\n\n        if (this.state.chr1 === 0) {\n\n            this.zoomAndCenter(1, anchorPx, anchorPy);\n            return;\n\n        }\n\n        if (this.resolutionLocked ||\n            (this.state.zoom === bpResolutions.length - 1 && scaleFactor > 1) ||\n            (this.state.zoom === 0 && scaleFactor < 1)) {\n            // Can't change resolution level, must adjust pixel size\n            newResolution = currentResolution;\n            newPixelSize = Math.min(MAX_PIXEL_SIZE, this.state.pixelSize * scaleFactor);\n            newZoom = this.state.zoom;\n            zoomChanged = false;\n        }\n        else {\n            const targetResolution = (currentResolution / this.state.pixelSize) / scaleFactor;\n            newZoom = this.findMatchingZoomIndex(targetResolution, bpResolutions);\n            newResolution = bpResolutions[newZoom];\n            zoomChanged = newZoom !== this.state.zoom;\n            newPixelSize = Math.min(MAX_PIXEL_SIZE, newResolution / targetResolution);\n        }\n\n        const z = await minZoom.call(this, this.state.chr1, this.state.chr2)\n\n\n        if (!this.resolutionLocked && scaleFactor < 1 && newZoom < z) {\n            this.setChromosomes(0, 0);\n        }\n        else {\n            const minPS = await minPixelSize.call(this, this.state.chr1, this.state.chr2, newZoom)\n\n            const state = this.state;\n\n            newPixelSize = Math.max(newPixelSize, minPS);\n\n            // Genomic anchor  -- this position should remain at anchorPx, anchorPy after state change\n            const gx = (state.x + anchorPx / state.pixelSize) * currentResolution;\n            const gy = (state.y + anchorPy / state.pixelSize) * currentResolution;\n\n            state.x = gx / newResolution - anchorPx / newPixelSize;\n            state.y = gy / newResolution - anchorPy / newPixelSize;\n\n            state.zoom = newZoom;\n            state.pixelSize = newPixelSize;\n\n            this.clamp();\n            this.eventBus.post(hic.Event(\"LocusChange\", {\n                state: state,\n                resolutionChanged: zoomChanged\n            }));\n\n        }\n\n    }\n\n    hic.Browser.prototype.wheelClickZoom = async function (direction, centerPX, centerPY) {\n\n        var self = this;\n\n        if (this.resolutionLocked || self.state.chr1 === 0) {   // Resolution locked OR whole genome view\n            this.zoomAndCenter(direction, centerPX, centerPY);\n        }\n        else {\n            const z = await minZoom.call(self, self.state.chr1, self.state.chr2)\n            var newZoom = self.state.zoom + direction;\n            if (direction < 0 && newZoom < z) {\n                self.setChromosomes(0, 0);\n            }\n            else {\n                self.zoomAndCenter(direction, centerPX, centerPY);\n            }\n\n        }\n\n    }\n\n    // Zoom in response to a double-click\n    hic.Browser.prototype.zoomAndCenter = async function (direction, centerPX, centerPY) {\n\n        if (!this.dataset) return;\n\n        if (this.state.chr1 === 0 && direction > 0) {\n            var genomeCoordX = centerPX * this.dataset.wholeGenomeResolution / this.state.pixelSize,\n                genomeCoordY = centerPY * this.dataset.wholeGenomeResolution / this.state.pixelSize,\n                chrX = this.genome.getChromsosomeForCoordinate(genomeCoordX),\n                chrY = this.genome.getChromsosomeForCoordinate(genomeCoordY);\n            this.setChromosomes(chrX.index, chrY.index);\n        }\n\n        else {\n            var self = this,\n                bpResolutions = this.dataset.bpResolutions,\n                viewDimensions = this.contactMatrixView.getViewDimensions(),\n                dx = centerPX === undefined ? 0 : centerPX - viewDimensions.width / 2,\n                dy = centerPY === undefined ? 0 : centerPY - viewDimensions.height / 2,\n                newPixelSize, shiftRatio;\n\n\n            this.state.x += (dx / this.state.pixelSize);\n            this.state.y += (dy / this.state.pixelSize);\n\n            if (this.resolutionLocked ||\n                (direction > 0 && this.state.zoom === bpResolutions.length - 1) ||\n                (direction < 0 && this.state.zoom === 0)) {\n\n                const minPS = await minPixelSize.call(this, this.state.chr1, this.state.chr2, this.state.zoom)\n\n\n                var state = self.state;\n\n                newPixelSize = Math.max(Math.min(MAX_PIXEL_SIZE, state.pixelSize * (direction > 0 ? 2 : 0.5)),\n                    minPS);\n\n                shiftRatio = (newPixelSize - state.pixelSize) / newPixelSize;\n                state.pixelSize = newPixelSize;\n                state.x += shiftRatio * (viewDimensions.width / state.pixelSize);\n                state.y += shiftRatio * (viewDimensions.height / state.pixelSize);\n\n                self.clamp();\n                self.eventBus.post(hic.Event(\"LocusChange\", {state: state, resolutionChanged: false}));\n\n            } else {\n                this.setZoom(this.state.zoom + direction);\n            }\n        }\n    };\n\n    hic.Browser.prototype.setZoom = async function (zoom) {\n\n        var bpResolutions, currentResolution, viewDimensions, xCenter, yCenter, newResolution, newXCenter, newYCenter,\n            newPixelSize, zoomChanged,\n            self = this;\n        ;\n\n        // Shift x,y to maintain center, if possible\n        bpResolutions = this.dataset.bpResolutions;\n        currentResolution = bpResolutions[this.state.zoom];\n        viewDimensions = this.contactMatrixView.getViewDimensions();\n        xCenter = this.state.x + viewDimensions.width / (2 * this.state.pixelSize);    // center in bins\n        yCenter = this.state.y + viewDimensions.height / (2 * this.state.pixelSize);    // center in bins\n        newResolution = bpResolutions[zoom];\n        newXCenter = xCenter * (currentResolution / newResolution);\n        newYCenter = yCenter * (currentResolution / newResolution);\n\n        const minPS = await minPixelSize.call(this, this.state.chr1, this.state.chr2, zoom)\n\n        var state = self.state;\n        newPixelSize = Math.max(defaultPixelSize, minPS);\n        zoomChanged = (state.zoom !== zoom);\n\n        state.zoom = zoom;\n        state.x = Math.max(0, newXCenter - viewDimensions.width / (2 * newPixelSize));\n        state.y = Math.max(0, newYCenter - viewDimensions.height / (2 * newPixelSize));\n        state.pixelSize = newPixelSize;\n        self.clamp();\n\n        self.eventBus.post(hic.Event(\"LocusChange\", {state: state, resolutionChanged: zoomChanged}));\n\n    };\n\n    hic.Browser.prototype.setChromosomes = async function (chr1, chr2) {\n\n        var self = this;\n\n        this.state.chr1 = Math.min(chr1, chr2);\n        this.state.chr2 = Math.max(chr1, chr2);\n        this.state.x = 0;\n        this.state.y = 0;\n\n        const z = await minZoom.call(this, chr1, chr2)\n        self.state.zoom = z;\n\n        const minPS = await minPixelSize.call(self, self.state.chr1, self.state.chr2, self.state.zoom)\n        self.state.pixelSize = Math.min(100, Math.max(defaultPixelSize, minPS));\n        self.eventBus.post(hic.Event(\"LocusChange\", {state: self.state, resolutionChanged: true}));\n\n\n    };\n\n    hic.Browser.prototype.updateLayout = function () {\n\n        var self = this;\n        this.clamp();\n\n        this.trackRenderers.forEach(function (xyTrackRenderPair, index) {\n            sync(xyTrackRenderPair.x, index);\n            sync(xyTrackRenderPair.y, index);\n        });\n\n        function sync(trackRenderer, index) {\n            trackRenderer.$viewport.css({order: index});\n            trackRenderer.syncCanvas();\n        }\n\n        this.layoutController.xAxisRuler.update();\n        this.layoutController.yAxisRuler.update();\n\n        this.update();\n\n    };\n\n    async function minZoom(chr1, chr2) {\n\n        const viewDimensions = this.contactMatrixView.getViewDimensions();\n        const chr1Length = this.dataset.chromosomes[chr1].size;\n        const chr2Length = this.dataset.chromosomes[chr2].size;\n        const binSize = Math.max(chr1Length / viewDimensions.width, chr2Length / viewDimensions.height);\n\n        const matrix = await this.dataset.getMatrix(chr1, chr2)\n        return matrix.findZoomForResolution(binSize);\n    }\n\n    async function minPixelSize(chr1, chr2, z) {\n\n        const viewDimensions = this.contactMatrixView.getViewDimensions();\n        const chr1Length = this.dataset.chromosomes[chr1].size;\n        const chr2Length = this.dataset.chromosomes[chr2].size;\n\n        const matrix = await this.dataset.getMatrix(chr1, chr2)\n        const zd = matrix.getZoomDataByIndex(z, \"BP\");\n        const binSize = zd.zoom.binSize;\n        const nBins1 = chr1Length / binSize;\n        const nBins2 = chr2Length / binSize;\n        return (Math.min(viewDimensions.width / nBins1, viewDimensions.height / nBins2));\n\n    }\n\n    /**\n     * Set the matrix state.  Used to restore state from a bookmark\n     * @param state  browser state\n     */\n    hic.Browser.prototype.setState = async function (state) {\n\n        this.state = state;\n        // Possibly adjust pixel size\n        const minPS = await minPixelSize.call(this, this.state.chr1, this.state.chr2, this.state.zoom)\n        this.state.pixelSize = Math.max(state.pixelSize, minPS);\n        this.eventBus.post(new hic.Event(\"LocusChange\", {state: this.state, resolutionChanged: true}));\n\n    };\n\n\n    /**\n     * Return a modified state object used for synching.  Other datasets might have different chromosome ordering\n     * and resolution arrays\n     */\n    hic.Browser.prototype.getSyncState = function () {\n        return {\n            chr1Name: this.dataset.chromosomes[this.state.chr1].name,\n            chr2Name: this.dataset.chromosomes[this.state.chr2].name,\n            binSize: this.dataset.bpResolutions[this.state.zoom],\n            binX: this.state.x,            // TODO -- tranlsate to lower right corner\n            binY: this.state.y,\n            pixelSize: this.state.pixelSize\n        };\n    }\n\n    /**\n     * Return true if this browser can be synched to the given state\n     * @param syncState\n     */\n    hic.Browser.prototype.canBeSynched = function (syncState) {\n\n        return this.dataset &&\n            (this.dataset.getChrIndexFromName(syncState.chr1Name) !== undefined) &&\n            (this.dataset.getChrIndexFromName(syncState.chr2Name) !== undefined);\n\n    }\n\n    /**\n     * Used to synch state with other browsers\n     * @param state  browser state\n     */\n    hic.Browser.prototype.syncState = function (syncState) {\n\n        if (!this.dataset) return;\n\n        var chr1 = this.genome.getChromosome(syncState.chr1Name),\n            chr2 = this.genome.getChromosome(syncState.chr2Name),\n            zoom = this.dataset.getZoomIndexForBinSize(syncState.binSize, \"BP\"),\n            x = syncState.binX,\n            y = syncState.binY,\n            pixelSize = syncState.pixelSize;\n\n        if (!(chr1 && chr2)) {\n            return;   // Can't be synched.\n        }\n\n        if (zoom === undefined) {\n            // Get the closest zoom available and adjust pixel size.   TODO -- cache this somehow\n            zoom = this.findMatchingZoomIndex(syncState.binSize, this.dataset.bpResolutions);\n\n            // Compute equivalent in basepairs / pixel\n            pixelSize = (syncState.pixelSize / syncState.binSize) * this.dataset.bpResolutions[zoom];\n\n            // Translate bins so that origin is unchanged in basepairs\n            x = (syncState.binX / syncState.pixelSize) * pixelSize;\n            y = (syncState.binY / syncState.pixelSize) * pixelSize;\n\n            if (pixelSize > MAX_PIXEL_SIZE) {\n                console.log(\"Cannot synch map \" + this.dataset.name + \" (resolution \" + syncState.binSize + \" not available)\");\n                return;\n            }\n        }\n\n\n        var zoomChanged = (this.state.zoom !== zoom);\n        this.state.chr1 = chr1.index;\n        this.state.chr2 = chr2.index;\n        this.state.zoom = zoom;\n        this.state.x = x;\n        this.state.y = y;\n        this.state.pixelSize = pixelSize;\n\n        this.eventBus.post(hic.Event(\"LocusChange\", {state: this.state, resolutionChanged: zoomChanged}, false));\n\n    };\n\n    hic.Browser.prototype.setNormalization = function (normalization) {\n\n        this.state.normalization = normalization;\n        this.eventBus.post(hic.Event(\"NormalizationChange\", this.state.normalization))\n        this.repaintMatrix();\n    };\n\n\n    hic.Browser.prototype.shiftPixels = function (dx, dy) {\n\n        var self = this;\n\n        if (!this.dataset) return;\n        if (self.updating) return;\n\n        this.state.x += (dx / this.state.pixelSize);\n        this.state.y += (dy / this.state.pixelSize);\n        this.clamp();\n\n        var locusChangeEvent = hic.Event(\"LocusChange\", {\n            state: this.state,\n            resolutionChanged: false,\n            dragging: true\n        });\n        locusChangeEvent.dragging = true;\n        this.eventBus.post(locusChangeEvent);\n\n\n    };\n\n\n    hic.Browser.prototype.goto = function (chr1, bpX, bpXMax, chr2, bpY, bpYMax, minResolution) {\n\n\n        var xCenter,\n            yCenter,\n            targetResolution,\n            newResolution,\n            viewDimensions = this.contactMatrixView.getViewDimensions(),\n            bpResolutions = this.dataset.bpResolutions,\n            viewWidth = viewDimensions.width,\n            maxExtent, newZoom, newPixelSize, newXBin, newYBin,\n            zoomChanged;\n\n        targetResolution = Math.max((bpXMax - bpX) / viewDimensions.width, (bpYMax - bpY) / viewDimensions.height);\n\n        if (minResolution && targetResolution < minResolution) {\n            maxExtent = viewWidth * minResolution;\n            xCenter = (bpX + bpXMax) / 2;\n            yCenter = (bpY + bpYMax) / 2;\n            bpX = Math.max(xCenter - maxExtent / 2);\n            bpY = Math.max(0, yCenter - maxExtent / 2);\n            targetResolution = minResolution;\n        }\n\n\n        if (true === this.resolutionLocked && minResolution === undefined) {\n            zoomChanged = false;\n            newZoom = this.state.zoom;\n        } else {\n            newZoom = this.findMatchingZoomIndex(targetResolution, bpResolutions);\n            zoomChanged = (newZoom !== this.state.zoom);\n        }\n\n        newResolution = bpResolutions[newZoom];\n        newPixelSize = Math.min(MAX_PIXEL_SIZE, Math.max(1, newResolution / targetResolution));\n        newXBin = bpX / newResolution;\n        newYBin = bpY / newResolution;\n\n        this.state.chr1 = chr1;\n        this.state.chr2 = chr2;\n        this.state.zoom = newZoom;\n        this.state.x = newXBin;\n        this.state.y = newYBin;\n        this.state.pixelSize = newPixelSize;\n\n        this.contactMatrixView.clearCaches();\n        this.eventBus.post(hic.Event(\"LocusChange\", {state: this.state, resolutionChanged: zoomChanged}));\n\n    };\n\n    hic.Browser.prototype.clamp = function () {\n        var viewDimensions = this.contactMatrixView.getViewDimensions(),\n            chr1Length = this.dataset.chromosomes[this.state.chr1].size,\n            chr2Length = this.dataset.chromosomes[this.state.chr2].size,\n            binSize = this.dataset.bpResolutions[this.state.zoom],\n            maxX = (chr1Length / binSize) - (viewDimensions.width / this.state.pixelSize),\n            maxY = (chr2Length / binSize) - (viewDimensions.height / this.state.pixelSize);\n\n        // Negative maxX, maxY indicates pixelSize is not enough to fill view.  In this case we clamp x, y to 0,0\n        maxX = Math.max(0, maxX);\n        maxY = Math.max(0, maxY);\n\n\n        this.state.x = Math.min(Math.max(0, this.state.x), maxX);\n        this.state.y = Math.min(Math.max(0, this.state.y), maxY);\n    };\n\n    hic.Browser.prototype.receiveEvent = function (event) {\n        var self = this;\n\n        if (\"LocusChange\" === event.type) {\n\n            if (event.propogate) {\n\n                self.synchedBrowsers.forEach(function (browser) {\n                    browser.syncState(self.getSyncState());\n                })\n\n            }\n\n            this.update(event);\n        }\n\n    };\n\n    /**\n     * Update the maps and tracks.\n     *\n     * Data load functions for tracks and the map are not neccessarily thread safe.   Although JS is single-threaded,\n     * the ascyncronous nature of XmLHttpRequests makes it possible to call these functions multiple times\n     * simultaneously.   To prevent this we check for an update in progress before proceeding.   If an update\n     * is in progress the call to self is deferred with a timeout until the currently executing update completes.\n     *\n     * This might involve asynchronous data loads,  insure that all data loads are complete\n     * before painting track.\n     *\n     * @param event\n     */\n    hic.Browser.prototype.update = async function (event) {\n\n        const self = this;\n\n        // Allow only 1 update at a time, if an update is in progress queue up until its finished\n        if (this.updating) {\n            if (this.updateTimer) {\n                clearTimeout(this.updateTimer);\n            }\n            this.updateTimer = setTimeout(function () {\n                    self.update(event);\n                    self.updateTimer = null;\n                },\n                100)\n            return;\n        }\n\n        try {\n            this.updating = true;\n            this.contactMatrixView.startSpinner();\n            await this.contactMatrixView.readyToPaint();\n            for (let xyTrackRenderPair of this.trackRenderers) {\n                await xyTrackRenderPair.x.readyToPaint()\n                await xyTrackRenderPair.y.readyToPaint()\n            }\n\n            if (event !== undefined && \"LocusChange\" === event.type) {\n                this.layoutController.xAxisRuler.locusChange(event);\n                this.layoutController.yAxisRuler.locusChange(event);\n            }\n            this.contactMatrixView.repaint();\n            this.renderTracks();\n            this.stopSpinner();\n            this.updating = false;\n\n        } catch (error) {\n            self.stopSpinner();\n            self.updating = false;\n            console.error(error);\n        }\n    }\n\n\n    hic.Browser.prototype.repaintMatrix = function () {\n        this.contactMatrixView.imageTileCache = {};\n        this.contactMatrixView.initialImage = undefined;\n        this.contactMatrixView.update();\n    }\n\n\n    hic.Browser.prototype.resolution = function () {\n        return this.dataset.bpResolutions[this.state.zoom];\n    };\n\n\n// Set default values for config properties\n    function setDefaults(config) {\n\n        defaultPixelSize = 1;\n        defaultState = new hic.State(0, 0, 0, 0, 0, defaultPixelSize, \"NONE\");\n\n        if (config.figureMode === true) {\n            config.showLocusGoto = false;\n            config.showHicContactMapLabel = false;\n            config.showChromosomeSelector = false;\n        }\n        else {\n            if (undefined === config.width) {\n                config.width = defaultSize.width;\n            }\n            if (undefined === config.height) {\n                config.height = defaultSize.height;\n            }\n            if (undefined === config.showLocusGoto) {\n                config.showLocusGoto = true;\n            }\n            if (undefined === config.showHicContactMapLabel) {\n                config.showHicContactMapLabel = true;\n            }\n            if (undefined === config.showChromosomeSelector) {\n                config.showChromosomeSelector = true\n            }\n        }\n\n        if (config.state) {\n            // convert to state object\n            config.state = new hic.State(config.state.chr1, config.state.chr2, config.state.zoom, config.state.x,\n                config.state.y, config.state.pixelSize, config.state.normalization)\n        }\n    }\n\n    function getNviString(dataset) {\n\n        if (dataset.hicReader.normalizationVectorIndexRange) {\n            var range = dataset.hicReader.normalizationVectorIndexRange,\n                nviString = String(range.start) + \",\" + String(range.size);\n            return nviString\n        }\n        else {\n            return undefined;\n        }\n    }\n\n// parseUri 1.2.2\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\n\n    function parseUri(str) {\n        var o = parseUri.options,\n            m = o.parser[o.strictMode ? \"strict\" : \"loose\"].exec(str),\n            uri = {},\n            i = 14;\n\n        while (i--) uri[o.key[i]] = m[i] || \"\";\n\n        uri[o.q.name] = {};\n        uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n            if ($1) uri[o.q.name][$1] = $2;\n        });\n\n        return uri;\n    }\n\n    parseUri.options = {\n        strictMode: false,\n        key: [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\", \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"],\n        q: {\n            name: \"queryKey\",\n            parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n        },\n        parser: {\n            strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n            loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n        }\n    };\n\n\n    function gup(href, name) {\n        name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n        var regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n        var regex = new RegExp(regexS);\n        var results = regex.exec(href);\n        if (results == null)\n            return undefined;\n        else\n            return results[1];\n    }\n\n\n    function replaceAll(str, target, replacement) {\n        return str.split(target).join(replacement);\n    }\n\n\n    var urlShortcuts = {\n        \"*s3e/\": \"https://hicfiles.s3.amazonaws.com/external/\",\n        \"*s3/\": \"https://hicfiles.s3.amazonaws.com/\",\n        \"*s3e_/\": \"http://hicfiles.s3.amazonaws.com/external/\",\n        \"*s3_/\": \"http://hicfiles.s3.amazonaws.com/\",\n        \"*enc/\": \"https://www.encodeproject.org/files/\"\n    }\n\n\n    hic.Browser.prototype.getQueryString = function () {\n\n        var queryString, nviString, trackString, displayMode;\n\n        if (!(this.dataset && this.dataset.url)) return \"\";   // URL is required\n\n        queryString = [];\n\n        queryString.push(paramString(\"hicUrl\", this.dataset.url));\n\n        if (this.dataset.name) {\n            queryString.push(paramString(\"name\", this.dataset.name));\n        }\n\n        queryString.push(paramString(\"state\", this.state.stringify()));\n\n        queryString.push(paramString(\"colorScale\", this.contactMatrixView.getColorScale().stringify()));\n\n        if (igv.selectedGene) {\n            queryString.push(paramString(\"selectedGene\", igv.selectedGene));\n        }\n\n        nviString = getNviString(this.dataset);\n        if (nviString) {\n            queryString.push(paramString(\"nvi\", nviString));\n        }\n\n        if (this.controlDataset) {\n\n            queryString.push(paramString(\"controlUrl\", this.controlUrl));\n\n            if (this.controlDataset.name) {\n                queryString.push(paramString(\"controlName\", this.controlDataset.name))\n            }\n\n            displayMode = this.getDisplayMode();\n            if (displayMode) {\n                queryString.push(paramString(\"displayMode\", this.getDisplayMode()));\n            }\n\n            nviString = getNviString(this.controlDataset);\n            if (nviString) {\n                queryString.push(paramString(\"controlNvi\", nviString));\n            }\n\n            if (this.controlMapWidget.getDisplayModeCycle() !== undefined) {\n                queryString.push(paramString(\"cycle\", \"true\"))\n            }\n\n        }\n\n\n        if (this.trackRenderers.length > 0 || this.tracks2D.length > 0) {\n            trackString = \"\";\n\n            this.trackRenderers.forEach(function (trackRenderer) {\n                var track = trackRenderer.x.track,\n                    config = track.config,\n                    url = config.url,\n                    dataRange = track.dataRange;\n\n                if (typeof url === \"string\") {\n                    if (trackString.length > 0) trackString += \"|||\";\n                    trackString += url;\n                    trackString += \"|\" + (track.name ? replaceAll(track.name, \"|\", \"$\") : '');\n                    trackString += \"|\" + (dataRange ? (dataRange.min + \"-\" + dataRange.max) : \"\");\n                    trackString += \"|\" + track.color;\n                }\n            });\n\n            this.tracks2D.forEach(function (track) {\n\n                var config = track.config,\n                    url = config.url;\n\n                if (typeof url === \"string\") {\n                    if (trackString.length > 0) trackString += \"|||\";\n                    trackString += url;\n                    trackString += \"|\" + (track.name ? replaceAll(track.name, \"|\", \"$\") : '');\n                    trackString += \"|\";   // Data range\n                    trackString += \"|\" + track.color;\n                }\n            });\n\n            if (trackString.length > 0) {\n                queryString.push(paramString(\"tracks\", trackString));\n            }\n        }\n\n        var captionDiv = document.getElementById('hic-caption');\n        if (captionDiv) {\n            var captionText = captionDiv.textContent;\n            if (captionText) {\n                captionText = captionText.trim();\n                if (captionText) {\n                    queryString.push(paramString(\"caption\", captionText));\n                }\n            }\n        }\n\n        // if (this.config.normVectorFiles && this.config.normVectorFiles.length > 0) {\n        //\n        //     var normVectorString = \"\";\n        //     this.config.normVectorFiles.forEach(function (url) {\n        //\n        //         if (normVectorString.length > 0) normVectorString += \"|||\";\n        //         normVectorString += url;\n        //\n        //     });\n        //     queryString.push(paramString(\"normVectorFiles\", normVectorString));\n        // }\n\n        return queryString.join(\"&\");\n\n        function paramString(key, value) {\n            return key + \"=\" + paramEncode(value)\n        }\n\n    };\n\n    /**\n     * Extend config properties with query parameters\n     *\n     * @param query\n     * @param config\n     */\n    igv.Browser.decodeQuery = function (query, config, uriDecode) {\n\n        var hicUrl, name, stateString, colorScale, trackString, selectedGene, nvi, normVectorString,\n            controlUrl, ratioColorScale, controlName, displayMode, controlNvi, captionText, cycle;\n\n\n        hicUrl = query[\"hicUrl\"];\n        name = query[\"name\"];\n        stateString = query[\"state\"];\n        colorScale = query[\"colorScale\"];\n        trackString = query[\"tracks\"];\n        selectedGene = query[\"selectedGene\"];\n        nvi = query[\"nvi\"];\n        normVectorString = query[\"normVectorFiles\"];\n\n        controlUrl = query[\"controlUrl\"];\n        controlName = query[\"controlName\"];\n        ratioColorScale = query[\"ratioColorScale\"];\n        displayMode = query[\"displayMode\"];\n        controlNvi = query[\"controlNvi\"];\n        captionText = query[\"caption\"];\n        cycle = query[\"cycle\"];\n\n        if (hicUrl) {\n            hicUrl = parapmDecode(hicUrl, uriDecode);\n            Object.keys(urlShortcuts).forEach(function (key) {\n                var value = urlShortcuts[key];\n                if (hicUrl.startsWith(key)) hicUrl = hicUrl.replace(key, value);\n            });\n            config.url = hicUrl;\n\n        }\n        if (name) {\n            config.name = parapmDecode(name, uriDecode);\n        }\n        if (controlUrl) {\n            controlUrl = parapmDecode(controlUrl, uriDecode);\n            Object.keys(urlShortcuts).forEach(function (key) {\n                var value = urlShortcuts[key];\n                if (controlUrl.startsWith(key)) controlUrl = controlUrl.replace(key, value);\n            });\n            config.controlUrl = controlUrl;\n        }\n        if (controlName) {\n            config.controlName = parapmDecode(controlName, uriDecode);\n        }\n\n        if (stateString) {\n            stateString = parapmDecode(stateString, uriDecode);\n            config.state = destringifyStateV0(stateString);\n\n        }\n        if (colorScale) {\n            colorScale = parapmDecode(colorScale, uriDecode);\n            config.colorScale = hic.destringifyColorScale(colorScale);\n        }\n\n        if (displayMode) {\n            config.displayMode = parapmDecode(displayMode, uriDecode);\n        }\n\n        if (trackString) {\n            trackString = parapmDecode(trackString, uriDecode);\n            config.tracks = destringifyTracksV0(trackString);\n\n            // If an oAuth token is provided append it to track configs.\n            if (config.tracks && config.oauthToken) {\n                config.tracks.forEach(function (t) {\n                    t.oauthToken = config.oauthToken;\n                })\n            }\n        }\n\n        if (selectedGene) {\n            igv.selectedGene = selectedGene;\n        }\n\n        if (captionText) {\n            captionText = parapmDecode(captionText, uriDecode);\n            var captionDiv = document.getElementById(\"hic-caption\");\n            if (captionDiv) {\n                captionDiv.textContent = captionText;\n            }\n        }\n\n        config.cycle = cycle;\n\n        // Norm vector file loading disabled -- too slow\n        // if (normVectorString) {\n        //     config.normVectorFiles = normVectorString.split(\"|||\");\n        // }\n\n        if (nvi) {\n            config.nvi = parapmDecode(nvi, uriDecode);\n        }\n        if (controlNvi) {\n            config.controlNvi = parapmDecode(controlNvi, uriDecode);\n        }\n\n        function destringifyStateV0(string) {\n            var tokens = string.split(\",\");\n            return new hic.State(\n                parseInt(tokens[0]),    // chr1\n                parseInt(tokens[1]),    // chr2\n                parseFloat(tokens[2]), // zoom\n                parseFloat(tokens[3]), // x\n                parseFloat(tokens[4]), // y\n                parseFloat(tokens[5]), // pixelSize\n                tokens.length > 6 ? tokens[6] : \"NONE\"   // normalization\n            )\n        }\n\n        function destringifyTracksV0(tracks) {\n\n            var trackStringList = tracks.split(\"|||\"),\n                configList = [], keys, key, i, len;\n\n            trackStringList.forEach(function (trackString) {\n                var tokens,\n                    url,\n                    config,\n                    name,\n                    dataRangeString,\n                    color,\n                    r;\n\n                tokens = trackString.split(\"|\");\n                color = tokens.pop();\n\n                url = tokens[0];\n\n                if (url && url.trim().length > 0) {\n\n                    keys = Object.keys(urlShortcuts);\n                    for (i = 0, len = keys.length; i < len; i++) {\n                        key = keys[i];\n                        var value = urlShortcuts[key];\n                        if (url.startsWith(key)) {\n                            url = url.replace(key, value);\n                            break;\n                        }\n                    }\n                    config = {url: url};\n\n                    if (tokens.length > 1) {\n                        name = tokens[1];\n                    }\n\n                    if (tokens.length > 2) {\n                        dataRangeString = tokens[2];\n                    }\n\n                    if (name) {\n                        config.name = replaceAll(name, \"$\", \"|\");\n                    }\n\n                    if (dataRangeString) {\n                        if (dataRangeString.startsWith(\"-\")) {\n                            r = dataRangeString.substring(1).split(\"-\");\n                            config.min = -parseFloat(r[0]);\n                            config.max = parseFloat(r[1]);\n                        } else {\n                            r = dataRangeString.split(\"-\");\n                            config.min = parseFloat(r[0]);\n                            config.max = parseFloat(r[1]);\n                        }\n                    }\n\n                    if (color) {\n                        config.color = color;\n                    }\n\n                    configList.push(config);\n                }\n\n            });\n\n            return configList;\n\n        }\n\n    }\n\n    /**\n     * Minimally encode a parameter string (i.e. value in a query string).  In general its not neccessary\n     * to fully % encode parameter values (see RFC3986).\n     *\n     * @param str\n     */\n    function paramEncode(str) {\n        var s = replaceAll(str, '&', '%26');\n        s = replaceAll(s, ' ', '+');\n        s = replaceAll(s, \"#\", \"%23\");\n        s = replaceAll(s, \"?\", \"%3F\");\n        s = replaceAll(s, \"=\", \"%3D\");\n        return s;\n    }\n\n    function parapmDecode(str, uriDecode) {\n\n        if (uriDecode) {\n            return decodeURIComponent(str);   // Still more backward compatibility\n        }\n        else {\n            var s = replaceAll(str, '%26', '&');\n            s = replaceAll(s, '%20', ' ');\n            s = replaceAll(s, '+', ' ');\n            s = replaceAll(s, \"%7C\", \"|\");\n            s = replaceAll(s, \"%23\", \"#\");\n            s = replaceAll(s, \"%3F\", \"?\");\n            s = replaceAll(s, \"%3D\", \"=\");\n            return s;\n        }\n    }\n\n    /**\n     * Encode an array of strings.  A \"|\" is used as a delimiter, therefore any \"|\" in individual elements\n     * must be encoded.\n     *\n     * @param array\n     * @returns {string}\n     */\n    function encodeArray(array) {\n\n        var arrayStr = \"\", i;\n\n        if (array.length > 0) {\n            arrayStr += encodeArrayElement(array[0]);\n            for (i = 1; i < array.length; i++) {\n                arrayStr += \"|\";\n                arrayStr += encodeArrayElement(array[i]);\n            }\n        }\n        return arrayStr;\n\n        function encodeArrayElement(elem) {\n            var s = paramEncode(elem);\n            s = replaceAll(s, \"|\", \"%7C\");\n            return s;\n        }\n    }\n\n    /**\n     * Decode a string to an array of strings.  Its assumed that the string was created with encodeArray.\n     *\n     * @param str\n     * @returns {Array}\n     */\n    function decodeArray(str) {\n\n        var array, elements;\n        array = [];\n        elements = str.split(\"|\");\n        elements.forEach(function (elem) {\n            array.push(decodeArrayElement(elem));\n        })\n        return array;\n\n        function decodeArrayElement(elem) {\n            var s = paramDecode(elem, false);\n            s = replaceAll(s, \"%7C\", \"|\");\n            return s;\n        }\n    }\n\n\n    // mock igv browser objects for igv.js compatibility\n    function createIGV($hic_container, hicBrowser, trackMenuReplacement) {\n\n        igv.browser =\n            {\n                constants: {defaultColor: \"rgb(0,0,150)\"},\n\n                // Compatibility wit igv menus\n                trackContainerDiv: hicBrowser.layoutController.$x_track_container.get(0)\n            };\n\n        igv.trackMenuItem = function () {\n            return trackMenuReplacement.trackMenuItem_Replacement.apply(trackMenuReplacement, arguments);\n        };\n\n        igv.trackMenuItemList = function () {\n            return trackMenuReplacement.trackMenuItemList_Replacement.apply(trackMenuReplacement, arguments);\n        };\n\n        igv.popover = new igv.Popover($hic_container, igv.browser);\n\n        igv.alertDialog = new igv.AlertDialog(hicBrowser.$root, hicBrowser);\n\n        hicBrowser.inputDialog = new igv.InputDialog($hic_container, hicBrowser);\n\n        hicBrowser.trackRemovalDialog = new igv.TrackRemovalDialog($hic_container, hicBrowser);\n\n        hicBrowser.dataRangeDialog = new igv.DataRangeDialog($hic_container, hicBrowser);\n\n    }\n\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including \n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell \n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the \n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial \n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING \n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND \n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY \n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, \n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN \n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/3/17.\n */\n\nvar hic = (function (hic) {\n\n    hic.ColorScaleWidget = function (browser, $container) {\n\n        var self = this,\n            $fa,\n            rgbString;\n\n        this.browser = browser;\n\n        this.$container = $('<div class=\"hic-colorscale-widget-container\">');\n        $container.append(this.$container);\n\n\n        // '-' color swatch\n        rgbString = getRGBString('-', \"blue\");                    // TODO -- get the default from browser.\n        this.$minusButton = hic.colorSwatch(rgbString);\n        this.$container.append(this.$minusButton);\n        this.$minusButton.hide();\n\n        this.minusColorPicker = createColorPicker(browser, this.$minusButton, '-', function () {\n            self.minusColorPicker.$container.hide()\n        });\n\n        // this.minusColorPicker.$container.draggable();\n        this.minusColorPicker.$container.hide();\n\n        // '+' color swatch\n        rgbString = getRGBString('+', \"red\");                     // TODO -- get the default from browser\n        this.$plusButton = hic.colorSwatch(rgbString);\n        this.$container.append(this.$plusButton);\n\n        this.plusColorPicker = createColorPicker(browser, this.$plusButton, '+', function () {\n            self.plusColorPicker.$container.hide()\n        });\n\n        // this.plusColorPicker.$container.draggable();\n        this.plusColorPicker.$container.hide();\n\n\n\n        this.$minusButton.on('click', function (e) {\n            self.presentColorPicker($(this), self.minusColorPicker.$container);\n        });\n\n        this.$plusButton.on('click', function (e) {\n            self.presentColorPicker($(this), self.plusColorPicker.$container);\n        });\n\n\n        // threshold\n        // this.$high_colorscale_input = $('<input type=\"text\" placeholder=\"\">');\n        this.$high_colorscale_input = $('<input>', { 'type': 'text', 'placeholder': '', 'title': 'color scale input'});\n        this.$container.append(this.$high_colorscale_input);\n        this.$high_colorscale_input.on('change', function (e) {\n            var numeric;\n            numeric = igv.numberUnFormatter($(this).val());\n            if (isNaN(numeric)) {\n                // do nothing\n            } else {\n                browser.setColorScaleThreshold(numeric);\n            }\n        });\n\n        // threshold -\n        $fa = $(\"<i>\", { class: 'fa fa-minus', 'aria-hidden': 'true', 'title': 'negative threshold' });\n        $fa.on('click', function (e) {\n            updateThreshold(1.0 / 2.0);\n        });\n        this.$container.append($fa);\n\n        // threshold +\n        $fa = $(\"<i>\", { class: 'fa fa-plus', 'aria-hidden': 'true', 'title': 'positive threshold' });\n        $fa.on('click', function (e) {\n            updateThreshold(2.0);\n        });\n        this.$container.append($fa);\n\n\n        this.browser.eventBus.subscribe(\"MapLoad\", this);\n        this.browser.eventBus.subscribe(\"ColorScale\", this);\n        this.browser.eventBus.subscribe(\"DisplayMode\", this);\n\n        function updateThreshold(scaleFactor) {\n            var threshold, colorScale;\n            colorScale = browser.getColorScale();\n            threshold = colorScale.getThreshold() * scaleFactor;\n            browser.setColorScaleThreshold(threshold);\n            self.$high_colorscale_input.val(igv.numberFormatter(colorScale.getThreshold()));\n        }\n\n        function getRGBString(type, defaultColor) {\n            var colorScale, comps;\n\n            colorScale = browser.getColorScale();\n            if (colorScale) {\n                comps = colorScale.getColorComponents(type);\n                return igv.Color.rgbColor(comps.r, comps.g, comps.b);\n            }\n            else {\n                return defaultColor;\n            }\n        }\n\n    };\n\n    hic.ColorScaleWidget.prototype.presentColorPicker = function ($presentingButton, $colorpicker) {\n\n        this.$plusButton.find('.fa-square').css({'-webkit-text-stroke-color': 'transparent'});\n        this.$minusButton.find('.fa-square').css({'-webkit-text-stroke-color': 'transparent'});\n\n        this.$presentingButton = $presentingButton;\n        this.$presentingButton.find('.fa-square').css({'-webkit-text-stroke-color': 'black'});\n\n        $colorpicker.show();\n    };\n\n    hic.ColorScaleWidget.prototype.receiveEvent = function (event) {\n\n        var colorScale;\n\n        colorScale = this.browser.getColorScale();\n        this.$high_colorscale_input.val(igv.numberFormatter(colorScale.getThreshold()));\n\n        if (\"DisplayMode\" === event.type) {\n\n            if (\"AOB\" === event.data || \"BOA\" === event.data) {\n                this.$minusButton.show();\n            }\n            else {\n                this.$minusButton.hide();\n            }\n        }\n\n\n    };\n\n    function createColorPicker(browser, $presentingButton, type, closeHandler) {\n\n        const config =\n            {\n                $parent: $presentingButton,\n                width: 456,\n                height: undefined,\n                closeHandler: closeHandler\n            };\n\n        let colorPicker = new igv.genericContainer(config);\n\n        function colorHandler(hexString) {\n            var rgbString,\n                rgb;\n\n            $presentingButton.find('.fa-square').css({ color: hexString });\n\n            rgbString = igv.Color.hexToRgb(hexString);\n\n            rgb = rgbString\n                .split('(')\n                .pop()\n                .split(')')\n                .shift()\n                .split(',')\n                .map(function (str) { return parseInt(str, 10); });\n\n            browser.getColorScale().setColorComponents({ r: rgb[0], g: rgb[1], b: rgb[2] }, type);\n            browser.repaintMatrix();\n\n        }\n\n        igv.createColorSwatchSelector(colorPicker.$container, colorHandler, undefined);\n\n\n        return colorPicker;\n    }\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n\n/**\n * @author Jim Robinson\n */\n\n\nvar hic = (function (hic) {\n\n\n    hic.Dataset = function (hicReader) {\n        this.hicReader = hicReader;\n        this.url = hicReader.path;\n        this.matrixCache = {};\n        this.blockCache = {};\n        this.blockCacheKeys = [];\n        this.normVectorCache = {};\n        this.normalizationTypes = ['NONE'];\n\n        // Cache at most 10 blocks\n        this.blockCacheLimit = hic.isMobile() ? 4 : 10;\n\n        this.remote = (typeof this.url === 'string')\n    };\n\n    hic.Dataset.prototype.clearCaches = function () {\n        this.matrixCache = {};\n        this.blockCache = {};\n        this.normVectorCache = {};\n        this.colorScaleCache = {};\n    };\n\n    hic.Dataset.prototype.getMatrix = function (chr1, chr2) {\n\n        var self = this,\n            reader = this.hicReader,\n            key = \"\" + Math.min(chr1, chr2) + \"_\" + Math.max(chr1, chr2);\n\n        if (this.matrixCache.hasOwnProperty(key)) {\n            return Promise.resolve(self.matrixCache[key]);\n\n        } else {\n            return reader.readMatrix(key)\n\n                .then(function (matrix) {\n                    self.matrixCache[key] = matrix;\n                    return matrix;\n                })\n        }\n    }\n\n    hic.Dataset.prototype.getNormalizedBlock = function (zd, blockNumber, normalization, eventBus) {\n\n        var self = this;\n\n        return self.getBlock(zd, blockNumber)\n\n            .then(function (block) {\n\n                if (normalization === undefined || \"NONE\" === normalization || block === null || block === undefined) {\n                    return block;\n                }\n                else {\n                    // Get the norm vectors serially, its very likely they are the same and the second will be cached\n                    return self.getNormalizationVector(normalization, zd.chr1.index, zd.zoom.unit, zd.zoom.binSize)\n\n                        .then(function (nv1) {\n\n                            return self.getNormalizationVector(normalization, zd.chr2.index, zd.zoom.unit, zd.zoom.binSize)\n\n                                .then(function (nv2) {\n\n                                    var normRecords = [],\n                                        normBlock;\n\n                                    if (nv1 === undefined || nv2 === undefined) {\n                                        console.log(\"Undefined normalization vector for: \" + normalization);\n                                        if (eventBus) {\n                                            eventBus.post(new hic.Event(\"NormalizationExternalChange\", \"NONE\"));\n                                        }\n                                        return block;\n                                    }\n\n                                    else {\n                                        block.records.forEach(function (record) {\n\n                                            var x = record.bin1,\n                                                y = record.bin2,\n                                                counts,\n                                                nvnv = nv1.data[x] * nv2.data[y];\n\n                                            if (nvnv[x] !== 0 && !isNaN(nvnv)) {\n                                                counts = record.counts / nvnv;\n                                                //countArray.push(counts);\n                                                normRecords.push(new hic.ContactRecord(x, y, counts));\n                                            }\n                                        })\n\n                                        normBlock = new hic.Block(blockNumber, zd, normRecords);   // TODO - cache this?\n\n                                        //normBlock.percentile95 = block.percentile95;\n\n                                        return normBlock;\n                                    }\n                                })\n                        })\n                }\n            })\n    }\n\n    hic.Dataset.prototype.getBlock = function (zd, blockNumber) {\n\n        var self = this,\n            key = \"\" + zd.chr1.name + \"_\" + zd.chr2.name + \"_\" + zd.zoom.binSize + \"_\" + zd.zoom.unit + \"_\" + blockNumber;\n\n\n        if (this.blockCache.hasOwnProperty(key)) {\n            return Promise.resolve(this.blockCache[key]);\n        } else {\n\n            var reader = self.hicReader;\n\n            return reader.readBlock(blockNumber, zd)\n\n                .then(function (block) {\n\n                    if (self.blockCacheKeys.length > self.blockCacheLimit) {\n                        delete self.blockCache[self.blockCacheKeys[0]];\n                        self.blockCacheKeys.shift();\n                    }\n\n                    self.blockCacheKeys.push(key);\n                    self.blockCache[key] = block;\n\n                    return block;\n\n                })\n\n        }\n    };\n\n    hic.Dataset.prototype.getNormalizationVector = function (type, chrIdx, unit, binSize) {\n\n        var self = this,\n            key = hic.getNormalizationVectorKey(type, chrIdx, unit, binSize);\n\n        if (this.normVectorCache.hasOwnProperty(key)) {\n            return Promise.resolve(this.normVectorCache[key]);\n        } else {\n\n            var reader = self.hicReader;\n\n            return reader.readNormalizationVector(type, chrIdx, unit, binSize)\n\n                .then(function (nv) {\n\n                    self.normVectorCache[key] = nv;\n\n                    return nv;\n\n                })\n\n        }\n    };\n\n    hic.Dataset.prototype.getZoomIndexForBinSize = function (binSize, unit) {\n        var i,\n            resolutionArray;\n\n        unit = unit || \"BP\";\n\n        if (unit === \"BP\") {\n            resolutionArray = this.bpResolutions;\n        }\n        else if (unit === \"FRAG\") {\n            resolutionArray = this.fragResolutions;\n        } else {\n            throw new Error(\"Invalid unit: \" + unit);\n        }\n\n        for (i = 0; i < resolutionArray.length; i++) {\n            if (resolutionArray[i] === binSize) return i;\n        }\n\n        return -1;\n    }\n\n    hic.Dataset.prototype.getChrIndexFromName = function (chrName) {\n        var i;\n        for (i = 0; i < this.chromosomes.length; i++) {\n            if (chrName === this.chromosomes[i].name) return i;\n        }\n        return undefined;\n    }\n\n    hic.Dataset.prototype.compareChromosomes = function (otherDataset) {\n        const chrs = this.chromosomes;\n        const otherChrs = otherDataset.chromosomes;\n        if(chrs.length !== otherChrs.length) {\n            return false;\n        }\n        for(let i = 0; i<chrs.length; i++) {\n            if(chrs[i].size !== otherChrs[i].size) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    hic.Dataset.prototype.getNormVectorIndex = async function (config) {\n\n        var self = this;\n\n        if (this.hicReader.normVectorIndex) {\n            return Promise.resolve(hicReader.normVectorIndex);\n        }\n        else {\n\n            // If NVI was not supplied, try fetching it\n            let nviKey;\n            if (!config.nvi && this.remote) {\n                const url = new URL(this.url)\n                nviKey = encodeURIComponent(url.hostname + url.pathname)\n                const nviResponse = await fetch('https://t5dvc6kn3f.execute-api.us-east-1.amazonaws.com/dev/nvi/' + nviKey, {\n                    method: 'GET',\n                    redirect: 'follow',\n                    mode: 'cors',\n                })\n                if (nviResponse.status === 200) {\n                    const nvi = await nviResponse.text()\n                    if (nvi) {\n                        config.nvi = nvi\n                    }\n                }\n            }\n            if (config.nvi) {\n                const nviArray = decodeURIComponent(config.nvi).split(\",\")\n                const range = {start: parseInt(nviArray[0]), size: parseInt(nviArray[1])};\n                return self.hicReader.readNormVectorIndex(self, range)\n\n\n            } else {\n                return self.hicReader.readNormExpectedValuesAndNormVectorIndex(self)\n                    .then(function (ignore) {\n\n                        return self.hicReader.normVectorIndex;\n                    })\n                    .catch(function (error) {\n                        igv.presentAlert(\"Error loading normalization vectors\");\n                        console.log(error);\n                    });\n            }\n\n        }\n    }\n\n\n    hic.Block = function (blockNumber, zoomData, records) {\n        this.blockNumber = blockNumber;\n        this.zoomData = zoomData;\n        this.records = records;\n    };\n\n    hic.ContactRecord = function (bin1, bin2, counts) {\n        this.bin1 = bin1;\n        this.bin2 = bin2;\n        this.counts = counts;\n    };\n\n    hic.ContactRecord.prototype.getKey = function () {\n        return \"\" + this.bin1 + \"_\" + this.bin2;\n    }\n\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/3/17.\n */\n\nvar hic = (function (hic) {\n\n    hic.LocusGoto = function (browser, $container) {\n        var $label;\n\n        this.browser = browser;\n\n        this.$container = $(\"<div>\", { class:'hic-chromosome-goto-container',  title:'Chromosome Goto' });\n        $container.append(this.$container);\n\n        this.$resolution_selector = $('<input type=\"text\" placeholder=\"chr-x-axis chr-y-axis\">');\n        this.$container.append(this.$resolution_selector);\n\n        this.$resolution_selector.on('change', function (e) {\n            browser.parseGotoInput( $(this).val() );\n            $(this).blur();\n        });\n\n        this.browser.eventBus.subscribe(\"LocusChange\", this);\n    };\n\n    hic.LocusGoto.prototype.receiveEvent = function (event) {\n\n        var self = this,\n            bpPerBin,\n            pixelsPerBin,\n            dimensionsPixels,\n            chrs,\n            startBP1,\n            startBP2,\n            endBP1,\n            endBP2,\n            xy,\n            state,\n            chr1,\n            chr2;\n\n        if (event.type === \"LocusChange\") {\n\n            state = event.data.state || self.browser.state;\n            if (0 === state.chr1) {\n                xy = 'All';\n            } else {\n                chr1 = self.browser.dataset.chromosomes[state.chr1];\n                chr2 = self.browser.dataset.chromosomes[state.chr2];\n\n                bpPerBin = this.browser.dataset.bpResolutions[state.zoom];\n                dimensionsPixels = this.browser.contactMatrixView.getViewDimensions();\n                pixelsPerBin = state.pixelSize;\n\n                startBP1 = 1 + Math.round(state.x * bpPerBin);\n                startBP2 = 1 + Math.round(state.y * bpPerBin);\n\n                endBP1 = Math.min(chr1.size, Math.round(((dimensionsPixels.width / pixelsPerBin) * bpPerBin)) + startBP1 - 1);\n                endBP2 = Math.min(chr2.size, Math.round(((dimensionsPixels.height / pixelsPerBin) * bpPerBin)) + startBP2 - 1);\n\n                xy = chr1.name + \":\" + igv.numberFormatter(startBP1) + \"-\" + igv.numberFormatter(endBP1) + \" \" +\n                    chr2.name + \":\" + igv.numberFormatter(startBP2) + \"-\" + igv.numberFormatter(endBP2);\n\n            }\n\n            this.$resolution_selector.val(xy);\n        }\n\n\n    };\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n\n/**\n * @author Jim Robinson\n */\n\n\nvar hic = (function (hic) {\n\n    var Short_MIN_VALUE = -32768;\n\n    hic.HiCReader = function (config) {\n\n        this.path = config.url;\n        this.headPath = config.headURL || this.path;\n        this.config = config;\n        this.fragmentSitesCache = {};\n        this.loadFragData = config.loadFragData;\n\n    };\n\n    hic.HiCReader.prototype.loadDataset = function (config) {\n\n        var self = this,\n            dataset = new hic.Dataset(this);\n\n        dataset.name = config.name;\n\n        return readHeader(dataset)\n\n            .then(function (ignore) {\n                return readFooter(dataset)\n            })\n            .then(function (ignore) {\n                return dataset;\n            })\n\n\n        function readHeader (dataset) {\n\n            return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: {start: 0, size: 64000}}))\n\n                .then(function (data) {\n\n                    var chr, binaryParser, nBpResolutions, nFragResolutions, nSites, nChrs, nAttributes, tmp;\n\n                    if (!data) {\n                        return undefined;\n                    }\n\n                    binaryParser = new igv.BinaryParser(new DataView(data));\n\n                    self.magic = binaryParser.getString();\n                    self.version = binaryParser.getInt();\n                    self.masterIndexPos = binaryParser.getLong();\n\n                    dataset.genomeId = binaryParser.getString();\n\n\n                    dataset.attributes = {};\n                    nAttributes = binaryParser.getInt();\n                    while (nAttributes-- > 0) {\n                        dataset.attributes[binaryParser.getString()] = binaryParser.getString();\n                    }\n\n                    dataset.chromosomes = [];\n                    nChrs = binaryParser.getInt(), i = 0;\n                    while (nChrs-- > 0) {\n                        chr = {\n                            index: i,\n                            name: binaryParser.getString(),\n                            size: binaryParser.getInt()\n                        };\n                        if (chr.name.toLowerCase() === \"all\") {\n                            self.wholeGenomeChromosome = chr;\n                            dataset.wholeGenomeResolution = Math.round(chr.size * (1000 / 500));    // Hardcoded in juicer\n                        }\n                        dataset.chromosomes.push(chr);\n                        i++;\n                    }\n\n                    self.chromosomes = dataset.chromosomes;  // Needed for certain reading functions\n\n                    dataset.bpResolutions = [];\n\n                    nBpResolutions = binaryParser.getInt();\n                    while (nBpResolutions-- > 0) {\n                        dataset.bpResolutions.push(binaryParser.getInt());\n                    }\n\n                    if (this.loadFragData) {\n                        dataset.fragResolutions = [];\n                        nFragResolutions = binaryParser.getInt();\n                        while (nFragResolutions-- > 0) {\n                            dataset.fragResolutions.push(binaryParser.getInt());\n                        }\n\n                        if (nFragResolutions > 0) {\n                            dataset.sites = [];\n                            nSites = binaryParser.getInt();\n                            while (nSites-- > 0) {\n                                dataset.sites.push(binaryParser.getInt());\n                            }\n                        }\n                    }\n\n                    // Attempt to determine genomeId if not recognized\n                    if (!Object.keys(knownGenomes).includes(dataset.genomeId)) {\n                        tmp = matchGenome(dataset.chromosomes);\n                        if (tmp) dataset.genomeId = tmp;\n                    }\n\n                    return self;\n\n                })\n\n        };\n\n        function readFooter (dataset) {\n\n            var range = {start: self.masterIndexPos, size: 4};\n\n            return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: range}))\n\n                .then(function (data) {\n\n                    var key, pos, size, binaryParser, nBytes;\n\n                    if (!data) {\n                        return null;\n                    }\n\n                    binaryParser = new igv.BinaryParser(new DataView(data));\n                    nBytes = binaryParser.getInt();\n                    range = {start: self.masterIndexPos + 4, size: nBytes};\n\n                    return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: range}))\n\n                        .then(function (data) {\n\n                            if (!data) {\n                                return undefined;\n                            }\n\n                            var binaryParser = new igv.BinaryParser(new DataView(data));\n                            self.masterIndex = {};\n                            var nEntries = binaryParser.getInt();\n\n                            while (nEntries-- > 0) {\n                                key = binaryParser.getString();\n                                pos = binaryParser.getLong();\n                                size = binaryParser.getInt();\n                                self.masterIndex[key] = {start: pos, size: size};\n                            }\n\n                            dataset.expectedValueVectors = {};\n\n                            nEntries = binaryParser.getInt();\n\n                            // while (nEntries-- > 0) {\n                            //     type = \"NONE\";\n                            //     unit = binaryParser.getString();\n                            //     binSize = binaryParser.getInt();\n                            //     nValues = binaryParser.getInt();\n                            //     values = [];\n                            //     while (nValues-- > 0) {\n                            //         values.push(binaryParser.getDouble());\n                            //     }\n                            //\n                            //     nChrScaleFactors = binaryParser.getInt();\n                            //     normFactors = {};\n                            //     while (nChrScaleFactors-- > 0) {\n                            //         normFactors[binaryParser.getInt()] = binaryParser.getDouble();\n                            //     }\n                            //\n                            //     // key = unit + \"_\" + binSize + \"_\" + type;\n                            //     //  NOT USED YET SO DON'T STORE\n                            //     //  dataset.expectedValueVectors[key] =\n                            //     //      new ExpectedValueFunction(type, unit, binSize, values, normFactors);\n                            // }\n\n                            self.normExpectedValueVectorsPosition = self.masterIndexPos + 4 + nBytes;\n\n                            return self;\n                        })\n                })\n        };\n\n    }\n    /**\n     * This function is used when the position of the norm vector index is unknown.  We must read through the expected\n     * values to find the index\n     *\n     * @param dataset\n     * @returns {Promise}\n     */\n    hic.HiCReader.prototype.readNormExpectedValuesAndNormVectorIndex = function (dataset) {\n\n        var self = this,\n            range, nEntries, nviStart, byteCount;\n\n        if (this.normExpectedValueVectorsPosition === undefined) {\n            return Promise.resolve();\n        }\n\n        if (this.normVectorIndex) {\n            return Promise.resolve(this.normVectorIndex);\n        }\n\n        return skipExpectedValues.call(self, self.normExpectedValueVectorsPosition)\n\n            .then(function (nvi) {\n\n                nviStart = nvi;\n                byteCount = 4;\n\n                range = {start: nviStart, size: 4}\n\n                return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: range}))\n            })\n\n            .then(function (data) {\n\n                var range, binaryParser, sizeEstimate;\n\n                binaryParser = new igv.BinaryParser(new DataView(data));\n                nEntries = binaryParser.getInt();\n\n                sizeEstimate = nEntries * 30;\n                range = {start: nviStart + byteCount, size: sizeEstimate}\n                return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: range}))\n\n            })\n            .then(function (data) {\n                dataset.normalizedExpectedValueVectors = {};\n                self.normVectorIndex = {};\n\n                return processEntries(nEntries, data)\n            })\n\n            .then(function (ignore) {\n\n\n                self.normalizationVectorIndexRange = {\n                    start: nviStart,\n                    size: byteCount\n                };\n\n                return self.normVectorIndex;\n\n            })\n            .catch(function (e) {\n                igv.presentAlert(\"Error reading normalization vectors\")\n                console.error(e);\n                self.normalizationVectorIndexRange = undefined;\n            })\n\n\n        function processEntries(nEntries, data) {\n\n            var key, type, unit, binSize, p0, chrIdx, filePosition, sizeInBytes, sizeEstimate;\n\n            var binaryParser = new igv.BinaryParser(new DataView(data));\n\n            while (nEntries-- > 0) {\n\n                if (binaryParser.available() < 100) {\n\n                    nEntries++;   // Reset counter as entry is not processed\n\n                    byteCount += binaryParser.position;\n\n                    sizeEstimate = Math.max(1000, nEntries * 30);\n                    range = {start: nviStart + byteCount, size: sizeEstimate}\n\n                    return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: range}))\n                        .then(function (data) {\n                            return processEntries(nEntries, data);\n                        })\n                }\n\n                type = binaryParser.getString();      //15\n                chrIdx = binaryParser.getInt();       //4\n                unit = binaryParser.getString();      //3\n                binSize = binaryParser.getInt();      //4\n                filePosition = binaryParser.getLong();  //8\n                sizeInBytes = binaryParser.getInt();     //4\n                key = hic.getNormalizationVectorKey(type, chrIdx, unit, binSize);\n\n                if (_.contains(dataset.normalizationTypes, type) === false) {\n                    dataset.normalizationTypes.push(type);\n                }\n                self.normVectorIndex[key] = {filePosition: filePosition, size: sizeInBytes};\n\n            }\n            byteCount += binaryParser.position;\n            return Promise.resolve(self);\n        }\n\n\n    };\n\n    /**\n     * This function is used when the position of the norm vector index is unknown.  We must read through the expected\n     * values to find the index\n     *\n     * @param dataset\n     * @returns {Promise}\n     */\n    function skipExpectedValues(start) {\n\n        var self = this, range;\n\n        var range = {start: start, size: 4};\n\n        return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: range}))\n\n            .then(function (data) {\n                var binaryParser = new igv.BinaryParser(new DataView(data));\n                var nEntries = binaryParser.getInt();   // Total # of expected value chunks\n                if (nEntries === 0) {\n                    return range.start + range.size;\n                }\n                else {\n                    return parseNext(start + 4, nEntries);\n                }     // Skip 4 bytes for int\n            })\n\n\n        function parseNext(start, nEntries) {\n\n            var range = {start: start, size: 500},\n                chunkSize = 0,\n                p0 = start;\n\n            return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: range}))\n\n                .then(function (data) {\n                    var binaryParser = new igv.BinaryParser(new DataView(data));\n                    var nValues, nChrScaleFactors;\n                    binaryParser.getString(); // type\n                    binaryParser.getString(); // unit\n                    binaryParser.getInt(); // binSize\n                    nValues = binaryParser.getInt();\n                    chunkSize += binaryParser.position + nValues * 8;\n                    return start + chunkSize;\n                })\n                .then(function (start) {\n                    var range = {start: start, size: 4};\n                    return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: range}))\n                })\n                .then(function (data) {\n                    var binaryParser = new igv.BinaryParser(new DataView(data));\n                    var nChrScaleFactors = binaryParser.getInt();\n                    chunkSize += (4 + nChrScaleFactors * (4 + 8));\n                    return chunkSize;\n                })\n                .then(function (chunkSize) {\n                    nEntries--;\n                    if (nEntries === 0) {\n                        return Promise.resolve(p0 + chunkSize);\n                    }\n                    else {\n                        return parseNext(p0 + chunkSize, nEntries);\n                    }\n                })\n\n        }\n\n\n        function parseEntry(binaryParser) {\n\n            var p0 = binaryParser.position;\n\n            var nValues, nChrScaleFactors;\n\n            if (available() < 28) return false;\n\n            var type = binaryParser.getString(); // type\n            binaryParser.getString(); // unit\n            binaryParser.getInt(); // binSize\n            nValues = binaryParser.getInt();\n            values = [];\n\n            if (available() < nValues * 8 + 4) return false;\n\n            while (nValues-- > 0) {\n                binaryParser.getDouble();    // value\n                //values.push(binaryParser.getDouble());\n            }\n\n            nChrScaleFactors = binaryParser.getInt();\n            //normFactors = {};\n\n            if (available() < nChrScaleFactors * (4 + 8)) return false;\n            while (nChrScaleFactors-- > 0) {\n                binaryParser.getInt();\n                binaryParser.getDouble();\n                //normFactors[binaryParser.getInt()] = binaryParser.getDouble();\n            }\n\n            console.log(\"Size = \" + (binaryParser.position - p0));\n\n            return true;\n            // key = unit + \"_\" + binSize + \"_\" + type;\n            // NOT USED YET SO DON'T STORE\n            //   dataset.normalizedExpectedValueVectors[key] =\n            //       new ExpectedValueFunction(type, unit, binSize, values, normFactors);\n\n            function available() {\n                return binaryParser.length - binaryParser.position - 1;\n            }\n        }\n    }\n\n    /**\n     * Return a promise to load the normalization vector index\n     *\n     * @param dataset\n     * @param range  -- file range {position, size}\n     * @returns Promise for the normalization vector index\n     */\n    hic.HiCReader.prototype.readNormVectorIndex = function (dataset, range) {\n\n        if (this.normVectorIndex) {\n            return Promise.resolve(this.normVectorIndex);\n        }\n\n        var self = this;\n        self.normalizationVectorIndexRange = range;\n\n\n        return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {range: range}))\n\n            .then(function (data) {\n\n                var key, pos, size, binaryParser, p0, nEntries, type, chrIdx, unit, binSize, filePosition, sizeInBytes,\n                    normalizationIndexPosition;\n\n                if (!data) {\n                    return undefined;\n                }\n\n                binaryParser = new igv.BinaryParser(new DataView(data));\n\n\n                // Normalization vector index\n                if (undefined === self.normVectorIndex) self.normVectorIndex = {};\n\n                p0 = binaryParser.position;\n                normalizationIndexPosition = range.start + p0;\n\n                nEntries = binaryParser.getInt();\n                while (nEntries-- > 0) {\n                    type = binaryParser.getString();\n                    chrIdx = binaryParser.getInt();\n                    unit = binaryParser.getString();\n                    binSize = binaryParser.getInt();\n                    filePosition = binaryParser.getLong();\n                    sizeInBytes = binaryParser.getInt();\n\n                    key = hic.getNormalizationVectorKey(type, chrIdx, unit, binSize);\n\n                    if (_.contains(dataset.normalizationTypes, type) === false) {\n                        dataset.normalizationTypes.push(type);\n                    }\n                    self.normVectorIndex[key] = {filePosition: filePosition, size: sizeInBytes};\n                }\n\n                return self.normVectorIndex;\n\n            })\n    }\n\n    hic.HiCReader.prototype.readMatrix = function (key) {\n\n        var self = this,\n            idx = self.masterIndex[key];\n\n        if (idx === null || idx === undefined) {\n            return Promise.resolve(undefined);\n        }\n\n        return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {\n            range: {\n                start: idx.start,\n                size: idx.size\n            }\n        }))\n\n            .then(function (data) {\n\n                    if (!data) {\n                        return null;\n                    }\n\n\n                    var dis = new igv.BinaryParser(new DataView(data));\n                    var c1 = dis.getInt();\n                    var c2 = dis.getInt();\n                    var chr1 = self.chromosomes[c1];\n                    var chr2 = self.chromosomes[c2];\n\n                    // # of resolution levels (bp and frags)\n                    var nResolutions = dis.getInt();\n                    var zdList = [];\n                    var p1 = getSites.call(self, chr1.name);\n                    var p2 = getSites.call(self, chr2.name);\n\n                    return Promise.all([p1, p2])\n\n                        .then(function (results) {\n                            var sites1 = results[0];\n                            var sites2 = results[1];\n\n                            while (nResolutions-- > 0) {\n                                var zd = parseMatixZoomData(chr1, chr2, sites1, sites2, dis);\n                                zdList.push(zd);\n                            }\n\n                            return new Matrix(c1, c2, zdList);\n\n                        })\n                }\n            )\n\n    };\n\n    hic.HiCReader.prototype.readBlock = function (blockNumber, zd) {\n\n        var self = this,\n            idx = null,\n            i, j;\n\n        var blockIndex = zd.blockIndexMap;\n        if (blockIndex) {\n            var idx = blockIndex[blockNumber];\n        }\n        if (!idx) {\n            return Promise.resolve(undefined);\n        }\n        else {\n\n            return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {\n                range: {\n                    start: idx.filePosition,\n                    size: idx.size\n                }\n            }))\n                .then(function (data) {\n\n                    if (!data) {\n                        return undefined;\n                    }\n\n                    var inflate = new Zlib.Inflate(new Uint8Array(data));\n                    var plain = inflate.decompress();\n                    data = plain.buffer;\n\n\n                    var parser = new igv.BinaryParser(new DataView(data));\n                    var nRecords = parser.getInt();\n                    var records = [];\n\n                    if (self.version < 7) {\n                        for (i = 0; i < nRecords; i++) {\n                            var binX = parser.getInt();\n                            var binY = parser.getInt();\n                            var counts = parser.getFloat();\n                            records.push(new hic.ContactRecord(binX, binY, counts));\n                        }\n                    } else {\n\n                        var binXOffset = parser.getInt();\n                        var binYOffset = parser.getInt();\n\n                        var useShort = parser.getByte() == 0;\n                        var type = parser.getByte();\n\n                        if (type === 1) {\n                            // List-of-rows representation\n                            var rowCount = parser.getShort();\n\n                            for (i = 0; i < rowCount; i++) {\n\n                                binY = binYOffset + parser.getShort();\n                                var colCount = parser.getShort();\n\n                                for (j = 0; j < colCount; j++) {\n\n                                    binX = binXOffset + parser.getShort();\n                                    counts = useShort ? parser.getShort() : parser.getFloat();\n                                    records.push(new hic.ContactRecord(binX, binY, counts));\n                                }\n                            }\n                        } else if (type == 2) {\n\n                            var nPts = parser.getInt();\n                            var w = parser.getShort();\n\n                            for (i = 0; i < nPts; i++) {\n                                //int idx = (p.y - binOffset2) * w + (p.x - binOffset1);\n                                var row = Math.floor(i / w);\n                                var col = i - row * w;\n                                var bin1 = binXOffset + col;\n                                var bin2 = binYOffset + row;\n\n                                if (useShort) {\n                                    counts = parser.getShort();\n                                    if (counts != Short_MIN_VALUE) {\n                                        records.push(new hic.ContactRecord(bin1, bin2, counts));\n                                    }\n                                } else {\n                                    counts = parser.getFloat();\n                                    if (!isNaN(counts)) {\n                                        records.push(new hic.ContactRecord(bin1, bin2, counts));\n                                    }\n                                }\n\n                            }\n\n                        } else {\n                            throw new Error(\"Unknown block type: \" + type);\n                        }\n\n                    }\n\n                    return new hic.Block(blockNumber, zd, records);\n                })\n\n\n        }\n    };\n\n\n    function getSites(chrName) {\n\n        var self = this;\n        var sites, entry;\n\n        sites = self.fragmentSitesCache[chrName];\n\n        if (sites) {\n            return Promise.resolve(sites);\n\n        } else if (self.fragmentSitesIndex) {\n\n            entry = self.fragmentSitesIndex[chrName];\n\n            if (entry !== undefined && entry.nSites > 0) {\n\n                return readSites(entry.position, entry.nSites)\n                    .then(function (sites) {\n                        self.fragmentSitesCache[chrName] = sites;\n                        return sites;\n\n                    })\n            }\n        }\n        else {\n            return Promise.resolve(undefined);\n        }\n\n    }\n\n    function parseMatixZoomData(chr1, chr2, chr1Sites, chr2Sites, dis) {\n\n        var unit, sumCounts, occupiedCellCount, stdDev, percent95, binSize, zoom, blockBinCount,\n            blockColumnCount, zd, nBlocks, blockIndex, nBins1, nBins2, avgCount, blockNumber,\n            filePosition, blockSizeInBytes;\n\n        unit = dis.getString();\n\n        dis.getInt();                // Old \"zoom\" index -- not used, must be read\n\n        // Stats.  Not used yet, but we need to read them anyway\n        sumCounts = dis.getFloat();\n        occupiedCellCount = dis.getFloat();\n        stdDev = dis.getFloat();\n        percent95 = dis.getFloat();\n\n        binSize = dis.getInt();\n        zoom = {unit: unit, binSize: binSize};\n\n        blockBinCount = dis.getInt();\n        blockColumnCount = dis.getInt();\n\n        zd = new MatrixZoomData(chr1, chr2, zoom, blockBinCount, blockColumnCount, chr1Sites, chr2Sites);\n\n        nBlocks = dis.getInt();\n        blockIndex = {};\n\n        while (nBlocks-- > 0) {\n            blockNumber = dis.getInt();\n            filePosition = dis.getLong();\n            blockSizeInBytes = dis.getInt();\n            blockIndex[blockNumber] = {filePosition: filePosition, size: blockSizeInBytes};\n        }\n        zd.blockIndexMap = blockIndex;\n\n        nBins1 = (chr1.size / binSize);\n        nBins2 = (chr2.size / binSize);\n        avgCount = (sumCounts / nBins1) / nBins2;   // <= trying to avoid overflows\n\n        zd.averageCount = avgCount;\n        zd.sumCounts = sumCounts;\n        zd.stdDev = stdDev;\n        zd.occupiedCellCount = occupiedCellCount;\n        zd.percent95 = percent95;\n\n        return zd;\n    }\n\n    hic.HiCReader.prototype.readNormalizationVector = function (type, chrIdx, unit, binSize) {\n\n        var self = this,\n            idx,\n            key = hic.getNormalizationVectorKey(type, chrIdx, unit.toString(), binSize);\n\n\n        if (this.normVectorIndex == null) {\n            return Promise.resolve(undefined);\n        }\n\n        idx = this.normVectorIndex[key];\n        if (!idx) {\n            alert(\"Normalization option \" + type + \" not available at this resolution\");\n            return Promise.resolve(undefined);\n        }\n\n        return igv.xhr.loadArrayBuffer(self.path, igv.buildOptions(self.config, {\n            range: {\n                start: idx.filePosition,\n                size: idx.size\n            }\n        }))\n            .then(function (data) {\n\n                var parser, nValues, values, allNaN, i;\n\n                if (!data) {\n                    return undefined;\n                }\n\n                // var inflate = new Zlib.Inflate(new Uint8Array(data));\n                // var plain = inflate.decompress();\n                // data = plain.buffer;\n\n                parser = new igv.BinaryParser(new DataView(data));\n                nValues = parser.getInt();\n                values = [];\n                allNaN = true;\n                for (i = 0; i < nValues; i++) {\n                    values[i] = parser.getDouble();\n                    if (!isNaN(values[i])) {\n                        allNaN = false;\n                    }\n                }\n                if (allNaN) {\n                    return undefined;\n                } else {\n                    return new hic.NormalizationVector(type, chrIdx, unit, binSize, values);\n                }\n\n\n            })\n\n    }\n\n\n    hic.HiCReader.prototype.readNormalizationVectorFile = function (url, chromosomes) {\n\n        var self = this;\n        var options = igv.buildOptions({});    // Add oauth token, if any\n\n        return igv.xhr\n\n            .loadString(url, options)\n\n            .then(function (data) {\n\n                var lines = data.split('\\n'),\n                    len = lines.length,\n                    line, i, type, chr, binSize, unit, tokens, values, v, key, chrIdx, chrMap, vectors, types;\n\n                types = new Set();\n                vectors = {};\n                chrMap = {};\n                chromosomes.forEach(function (chr) {\n                    chrMap[chr.name] = chr.index;\n                    if (chr.name.startsWith(\"chr\")) {\n                        chrMap[chr.name.substring(3)] = chr.index;\n                    } else {\n                        chrMap[\"chr\" + chr.name] = chr.index;\n                    }\n                })\n\n                for (i = 0; i < len; i++) {\n                    line = lines[i].trim();\n                    if (line.startsWith(\"vector\")) {\n\n                        if (key) {\n                            vectors[key] = new hic.NormalizationVector(type, chrIdx, unit, binSize, values)\n                        }\n                        values = [];\n\n                        tokens = line.split(\"\\t\");\n                        type = tokens[1];\n                        chr = tokens[2];\n                        binSize = tokens[3];\n                        unit = tokens[4];\n\n\n                        chrIdx = chrMap[chr];\n                        if (chrIdx) {\n                            types.add(type);\n                            key = hic.getNormalizationVectorKey(type, chrIdx, unit.toString(), binSize);\n                        } else {\n                            key = undefined;\n                            console.log(\"Unknown chromosome: \" + chr);\n                        }\n\n\n                    }\n                    else {\n                        if (key && values) {\n                            v = (line.length === 0 || line == \".\") ? NaN : parseFloat(line);\n                            values.push(v);\n                        }\n                    }\n                }\n\n                // Last one\n                if (key && values && values.length > 0) {\n                    vectors[key] = new hic.NormalizationVector(type, chrIdx, unit, binSize, values);\n                }\n\n                vectors.types = types;\n\n                return vectors;\n            })\n\n    };\n\n\n    function MatrixZoomData(chr1, chr2, zoom, blockBinCount, blockColumnCount, chr1Sites, chr2Sites) {\n        this.chr1 = chr1;    // chromosome index\n        this.chr2 = chr2;\n        this.zoom = zoom;\n        this.blockBinCount = blockBinCount;\n        this.blockColumnCount = blockColumnCount;\n        this.chr1Sites = chr1Sites;\n        this.chr2Sites = chr2Sites;\n    }\n\n    MatrixZoomData.prototype.getKey = function () {\n        return this.chr1.name + \"_\" + this.chr2.name + \"_\" + this.zoom.unit + \"_\" + this.zoom.binSize;\n    };\n\n    function Matrix(chr1, chr2, zoomDataList) {\n\n        var self = this;\n\n        this.chr1 = chr1;\n        this.chr2 = chr2;\n        this.bpZoomData = [];\n        this.fragZoomData = [];\n\n        zoomDataList.forEach(function (zd) {\n            if (zd.zoom.unit === \"BP\") {\n                self.bpZoomData.push(zd);\n            } else {\n                self.fragZoomData.push(zd);\n            }\n        });\n    }\n\n    Matrix.prototype.getZoomDataByIndex = function (index, unit) {\n        var zdArray = \"FRAG\" === unit ? this.fragZoomData : this.bpZoomData;\n        return zdArray[index];\n    };\n\n\n    Matrix.prototype.findZoomForResolution = function (binSize, unit) {\n\n        var i, zdArray = \"FRAG\" === unit ? this.fragZoomData : this.bpZoomData;\n\n        for (i = 1; i < zdArray.length; i++) {\n            var zd = zdArray[i];\n            if (zd.zoom.binSize < binSize) {\n                return i - 1;\n            }\n        }\n        return zdArray.length - 1;\n\n    }\n\n// Legacy implementation, used only in tests.\n    Matrix.prototype.getZoomData = function (zoom) {\n\n        var zdArray = zoom.unit === \"BP\" ? this.bpZoomData : this.fragZoomData,\n            i;\n\n        for (i = 0; i < zdArray.length; i++) {\n            var zd = zdArray[i];\n            if (zoom.binSize === zd.zoom.binSize) {\n                return zd;\n            }\n        }\n\n        return undefined;\n    };\n\n\n    function ExpectedValueFunction(normType, unit, binSize, values, normFactors) {\n        this.normType = normType;\n        this.unit = unit;\n        this.binSize = binSize;\n        this.values = values;\n        this.normFactors = normFactors;\n    }\n\n\n    function matchGenome(chromosomes) {\n\n        var keys = Object.keys(knownGenomes),\n            i, l;\n\n        if (chromosomes.length < 4) return undefined;\n\n        for (i = 0; i < keys.length; i++) {\n            l = knownGenomes[keys[i]];\n            if (chromosomes[1].size === l[0] && chromosomes[2].size === l[1] && chromosomes[3].size === l[2]) {\n                return keys[i];\n            }\n        }\n\n        return undefined;\n\n\n    }\n\n    var knownGenomes = {\n\n        \"hg19\": [249250621, 243199373, 198022430],\n        \"hg38\": [248956422, 242193529, 198295559],\n        \"mm10\": [195471971, 182113224, 160039680],\n        \"mm9\": [197195432, 181748087, 159599783]\n\n    }\n\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/4/17.\n */\n\nvar hic = (function (hic) {\n\n    hic.ResolutionSelector = function (browser, $parent) {\n        var self = this;\n\n        this.browser = browser;\n\n        this.$container = $(\"<div>\", { class:'hic-resolution-selector-container',  title:'Resolution' });\n        $parent.append(this.$container);\n\n        // label container\n        this.$label_container = $('<div id=\"hic-resolution-label-container\">');\n        this.$container.append(this.$label_container);\n\n        // Resolution (kb)\n        this.$label = $(\"<div>\");\n        this.$label_container.append(this.$label);\n        this.$label.text('Resolution (kb)');\n        this.$label.hide();\n\n        // lock/unlock\n        this.$resolution_lock = $('<i id=\"hic-resolution-lock\" class=\"fa fa-unlock\" aria-hidden=\"true\">');\n        this.$label_container.append(this.$resolution_lock);\n        this.$label_container.on('click', function (e) {\n            self.browser.resolutionLocked = !(self.browser.resolutionLocked);\n            self.setResolutionLock(self.browser.resolutionLocked);\n        });\n\n        this.$resolution_selector = $('<select name=\"select\">');\n        this.$container.append(this.$resolution_selector);\n\n        this.$resolution_selector.attr('name', 'resolution_selector');\n\n        this.$resolution_selector.on('change', function (e) {\n            var zoomIndex = parseInt($(this).val());\n            self.browser.setZoom(zoomIndex);\n        });\n\n\n        this.browser.eventBus.subscribe(\"LocusChange\", this);\n        this.browser.eventBus.subscribe(\"MapLoad\", this);\n        this.browser.eventBus.subscribe(\"ControlMapLoad\", this);\n    };\n\n    hic.ResolutionSelector.prototype.setResolutionLock = function (resolutionLocked) {\n        this.$resolution_lock.removeClass( (true === resolutionLocked) ? 'fa-unlock' : 'fa-lock');\n        this.$resolution_lock.addClass(    (true === resolutionLocked) ? 'fa-lock' : 'fa-unlock');\n    };\n\n    hic.ResolutionSelector.prototype.receiveEvent = function (event) {\n\n        var self = this,\n            htmlString,\n            selectedIndex,\n            isWholeGenome,\n            divisor,\n            list;\n\n        if (event.type === \"LocusChange\") {\n\n            if (true === event.data.resolutionChanged) {\n                this.browser.resolutionLocked = false;\n                self.setResolutionLock(this.browser.resolutionLocked);\n            }\n\n            isWholeGenome = (0 === event.data.state.chr1);\n\n            this.$label.text(isWholeGenome ? 'Resolution (mb)' : 'Resolution (kb)');\n\n            selectedIndex = isWholeGenome ? 0 : this.browser.state.zoom;\n            divisor = isWholeGenome ? 1e6 : 1e3;\n            list = isWholeGenome ? [ this.browser.dataset.wholeGenomeResolution ] : this.browser.dataset.bpResolutions;\n\n            htmlString = optionListHTML(list, selectedIndex, divisor);\n            this.$resolution_selector.empty();\n            this.$resolution_selector.append(htmlString);\n\n            this.$resolution_selector\n                .find('option')\n                .filter(function (index) {\n                    return index === selectedIndex;\n                })\n                .prop('selected', true);\n            \n\n        } else if (event.type === \"MapLoad\") {\n\n            this.browser.resolutionLocked = false;\n            this.setResolutionLock(this.browser.resolutionLocked);\n\n            htmlString = optionListHTML(event.data.bpResolutions, this.browser.state.zoom, 1e3);\n            this.$resolution_selector.empty();\n            this.$resolution_selector.append(htmlString);\n        } else if (event.type === \"ControlMapLoad\") {\n\n\n\n        }\n\n        function harmonizeContactAndControlResolutuionOptions($options, resolutions) {\n\n            var dictionary;\n\n            dictionary = resolutionDictionary(resolutions);\n\n            // reset\n            $options.removeAttr('disabled');\n            $options.each(function( index ) {\n                var $option,\n                    str;\n\n                $option = $(this);\n                str = $option.data('resolution');\n                if (undefined === dictionary[ str ]) {\n                    $option.attr('disabled', 'disabled');\n                }\n\n            });\n\n            function resolutionDictionary(list) {\n                var d = {};\n                list.forEach(function (resolution) {\n                    d[ resolution.toString() ] = resolution;\n                });\n                return d;\n            }\n\n        }\n\n        function optionListHTML(resolutions, selectedIndex, divisor) {\n            var list;\n\n            list = resolutions.map(function (resolution, index) {\n                var selected, unit, pretty;\n\n                if(resolution >= 1e6) {\n                    divisor = 1e6\n                    unit = 'mb'\n                } else if(resolution >= 1e3) {\n                    divisor = 1e3\n                    unit = 'kb'\n                } else {\n                    divisor = 1\n                    unit = 'bp'\n                }\n\n                pretty = igv.numberFormatter( Math.round( resolution/divisor ) ) + ' ' + unit;\n                selected = selectedIndex === index;\n\n                return '<option' + ' data-resolution=' + resolution.toString() + ' value=' + index + (selected ? ' selected': '') + '>' + pretty + '</option>';\n            });\n\n            return list.join('');\n        }\n\n    };\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n\n/**\n * @author Jim Robinson\n */\n\nvar hic = (function (hic) {\n\n    hic.Ruler = function (browser, axis, $parent) {\n        var id;\n\n        this.browser = browser;\n        this.axis = axis;\n\n        id = browser.id + '_' + this.axis + '-axis';\n        this.$axis = $(\"<div>\", {id: id});\n        $parent.append(this.$axis);\n\n        // canvas\n        this.$canvas = $('<canvas>');\n        this.$axis.append(this.$canvas);\n\n        this.$canvas.width(this.$axis.width());\n        this.$canvas.attr('width', this.$axis.width());\n\n        this.$canvas.height(this.$axis.height());\n        this.$canvas.attr('height', this.$axis.height());\n\n        // whole genome container\n        id = browser.id + '_' + this.axis + '-axis-whole-genome-container';\n        this.$wholeGenomeContainer = $(\"<div>\", { id: id });\n        this.$axis.append(this.$wholeGenomeContainer);\n\n        this.ctx = this.$canvas.get(0).getContext(\"2d\");\n\n        this.yAxisTransformWithContext = function (context) {\n            context.scale(-1, 1);\n            context.rotate(Math.PI / 2.0);\n        };\n\n        this.setAxisTransform(axis);\n\n        this.browser.eventBus.subscribe('MapLoad', this);\n        this.browser.eventBus.subscribe(\"UpdateContactMapMousePosition\", this);\n\n\n    };\n\n    hic.Ruler.prototype.wholeGenomeLayout = function ($axis, $wholeGenomeContainer, axisName, dataset) {\n\n        var self = this,\n            list,\n            dimen,\n            extent,\n            scraps,\n            $div,\n            $firstDiv,\n            $e,\n            id,\n            className;\n\n        // discard current tiles\n        $wholeGenomeContainer.empty();\n\n        list = dataset.chromosomes.filter(function (chromosome) {\n            return 'all' !== chromosome.name.toLowerCase();\n        });\n\n        extent = 0;    // could use reduce for this\n        list.forEach(function (chromosome) {\n            extent += chromosome.size;\n        });\n\n\n        dimen = 'x' === axisName ? $axis.width() : $axis.height();\n        scraps = 0;\n        this.bboxes = [];\n        $firstDiv = undefined;\n\n        list.forEach(function (chr) {\n            var size,\n                percentage;\n\n            percentage = (chr.bpLength) / extent;\n\n            if (percentage * dimen < 1.0) {\n                scraps += percentage;\n            } else {\n\n                className = self.axis + '-axis-whole-genome-chromosome-container';\n                $div = $(\"<div>\", { class: className });\n                $wholeGenomeContainer.append($div);\n                $div.data('label', chr.name);\n\n                if (!$firstDiv) {\n                    $firstDiv = $div;\n                }\n\n                if ('x' === axisName) {\n                    size = Math.round(percentage * dimen) - 2;\n                    $div.width(size);\n                } else {\n                    size = Math.round(percentage * dimen) - 2;\n                    $div.height(size);\n                }\n\n                className = self.axis + '-axis-whole-genome-chromosome';\n                $e = $(\"<div>\", { class: className });\n                $div.append($e);\n                $e.text($div.data('label'));\n                // $e.css({ 'background-color': igv.Color.randomRGBConstantAlpha(128, 255, 0.75) });\n\n                decorate.call(self, $div);\n            }\n\n        });\n\n        scraps *= dimen;\n        scraps = Math.floor(scraps);\n        if (scraps >= 1) {\n\n            className = self.axis + '-axis-whole-genome-chromosome-container';\n            $div = $(\"<div>\", { class: className });\n            $wholeGenomeContainer.append($div);\n            $div.data('label', '-');\n\n            $div.width(scraps);\n\n            className = self.axis + '-axis-whole-genome-chromosome';\n            $e = $(\"<div>\", { class: className });\n            $div.append($e);\n            $e.text($div.data('label'));\n            // $e.css({ 'background-color': igv.Color.randomRGBConstantAlpha(128, 255, 0.75) });\n\n            decorate.call(self, $div);\n        }\n\n        $wholeGenomeContainer.children().each(function (index) {\n            self.bboxes.push(bbox(axisName, $(this), $firstDiv));\n        });\n\n\n        // initially hide\n        this.hideWholeGenome();\n\n        function decorate($d) {\n            var self = this;\n\n            $d.on('click', function (e) {\n                var $o;\n                $o = $(this).first();\n                self.browser.parseGotoInput( $o.text() );\n\n                self.unhighlightWholeChromosome();\n                self.otherRuler.unhighlightWholeChromosome();\n            });\n\n            // DIAGNOSTIC BACKGROUND COLOR\n            // $d.css({ 'background-color': igv.Color.randomRGB(128, 255) });\n            // return;\n\n            $d.hover(\n                function () {\n                    hoverHandler.call(self, $(this), true);\n                },\n\n                function () {\n                    hoverHandler.call(self, $(this), false);\n                }\n            );\n\n        }\n\n        function hoverHandler($e, doHover) {\n\n            var target,\n                $target;\n\n            target = $e.data('label');\n\n            this.otherRuler.$wholeGenomeContainer.children().each(function (index) {\n                if (target === $(this).data('label')) {\n                    $target = $(this);\n                }\n            });\n\n            if (true === doHover) {\n                $e.addClass('hic-whole-genome-chromosome-highlight');\n                $target.addClass('hic-whole-genome-chromosome-highlight');\n            } else {\n                $e.removeClass('hic-whole-genome-chromosome-highlight');\n                $target.removeClass('hic-whole-genome-chromosome-highlight');\n            }\n        }\n\n    };\n\n    function bbox(axis, $child, $firstChild) {\n        var delta,\n            size,\n            o,\n            fo;\n\n        o = 'x' === axis ? $child.offset().left : $child.offset().top;\n        fo = 'x' === axis ? $firstChild.offset().left : $firstChild.offset().top;\n\n        delta = o - fo;\n        size = 'x' === axis ? $child.width() : $child.height();\n\n        return {$e: $child, a: delta, b: delta + size};\n\n    }\n\n    function hitTest(bboxes, value) {\n        var $result,\n            success;\n\n        success = false;\n        $result = undefined;\n        bboxes.forEach(function (bbox) {\n\n            if (false === success) {\n\n                if (value < bbox.a) {\n                    // nuthin\n                } else if (value > bbox.b) {\n                    // nuthin\n                } else {\n                    $result = bbox.$e;\n                    success = true;\n                }\n\n            }\n\n        });\n\n        return $result;\n    }\n\n    hic.Ruler.prototype.hideWholeGenome = function () {\n        this.$wholeGenomeContainer.hide();\n        this.$canvas.show();\n    };\n\n    hic.Ruler.prototype.showWholeGenome = function () {\n        this.$canvas.hide();\n        this.$wholeGenomeContainer.show();\n    };\n\n    hic.Ruler.prototype.setAxisTransform = function (axis) {\n\n        this.canvasTransform = ('y' === axis) ? this.yAxisTransformWithContext : identityTransformWithContext;\n\n        this.labelReflectionTransform = ('y' === axis) ? reflectionTransformWithContext : function (context, exe) {\n        };\n\n    };\n\n    hic.Ruler.prototype.unhighlightWholeChromosome = function () {\n        this.$wholeGenomeContainer.children().removeClass('hic-whole-genome-chromosome-highlight');\n    };\n\n    hic.Ruler.prototype.receiveEvent = function (event) {\n        var offset,\n            $e;\n\n        if ('MapLoad' === event.type) {\n            this.wholeGenomeLayout(this.$axis, this.$wholeGenomeContainer, this.axis, event.data);\n        } else if ('UpdateContactMapMousePosition' === event.type) {\n\n            if(this.bboxes) {\n                this.unhighlightWholeChromosome();\n                offset = 'x' === this.axis ? event.data.x : event.data.y;\n                $e = hitTest(this.bboxes, offset);\n                if ($e) {\n                    // console.log(this.axis + ' highlight chr ' + $e.text());\n                    $e.addClass('hic-whole-genome-chromosome-highlight');\n                }\n            }\n        }\n\n    };\n\n    hic.Ruler.prototype.locusChange = function (event) {\n\n        this.update();\n\n    };\n\n    hic.Ruler.prototype.updateWidthWithCalculation = function (calc) {\n\n        this.$axis.css('width', calc);\n\n        this.$canvas.width(this.$axis.width());\n        this.$canvas.attr('width', this.$axis.width());\n\n        this.wholeGenomeLayout(this.$axis, this.$wholeGenomeContainer, this.axis, this.browser.dataset);\n\n        this.update();\n    };\n\n    hic.Ruler.prototype.updateHeight = function (height) {\n\n        this.$canvas.height(height);\n        this.$canvas.attr('height', height);\n\n        this.wholeGenomeLayout(this.$axis, this.$wholeGenomeContainer, this.axis, this.browser.dataset);\n\n        this.update();\n    };\n\n    hic.Ruler.prototype.update = function () {\n\n        var w,\n            h,\n            bin,\n            config = {},\n            browser = this.browser;\n\n        if (isBrowserInWholeGenomeView(browser.state)) {\n            this.showWholeGenome();\n            return;\n        }\n\n        this.hideWholeGenome();\n\n        identityTransformWithContext(this.ctx);\n        igv.graphics.fillRect(this.ctx, 0, 0, this.$canvas.width(), this.$canvas.height(), {fillStyle: igv.Color.rgbColor(255, 255, 255)});\n\n        this.canvasTransform(this.ctx);\n\n        w = ('x' === this.axis) ? this.$canvas.width() : this.$canvas.height();\n        h = ('x' === this.axis) ? this.$canvas.height() : this.$canvas.width();\n\n        igv.graphics.fillRect(this.ctx, 0, 0, w, h, {fillStyle: igv.Color.rgbColor(255, 255, 255)});\n\n        config.bpPerPixel = browser.dataset.bpResolutions[browser.state.zoom] / browser.state.pixelSize;\n\n        bin = ('x' === this.axis) ? browser.state.x : browser.state.y;\n        config.bpStart = bin * browser.dataset.bpResolutions[browser.state.zoom];\n\n        config.rulerTickMarkReferencePixels = Math.max(Math.max(this.$canvas.width(), this.$canvas.height()), Math.max(this.$otherRulerCanvas.width(), this.$otherRulerCanvas.height()));\n\n        config.rulerLengthPixels = w;\n        config.rulerHeightPixels = h;\n\n        config.height = Math.min(this.$canvas.width(), this.$canvas.height());\n\n        this.draw(config);\n    };\n\n    hic.Ruler.prototype.draw = function (options) {\n\n        var self = this,\n            fontStyle,\n            tickSpec,\n            majorTickSpacing,\n            nTick,\n            pixelLast,\n            pixel,\n            tickSpacingPixels,\n            labelWidthPixels,\n            modulo,\n            l,\n            yShim,\n            tickHeight,\n            rulerLabel,\n            chrSize,\n            chrName,\n            chromosomes = this.browser.dataset.chromosomes;\n\n        chrName = ('x' === this.axis) ? chromosomes[this.browser.state.chr1].name : chromosomes[this.browser.state.chr2].name;\n        chrSize = ('x' === this.axis) ? chromosomes[this.browser.state.chr1].size : chromosomes[this.browser.state.chr2].size;\n\n        if (options.chrName === \"all\") {\n            // drawAll.call(this);\n            console.log('draw whole genome');\n        } else {\n\n            igv.graphics.fillRect(this.ctx, 0, 0, options.rulerLengthPixels, options.rulerHeightPixels, {fillStyle: igv.Color.rgbColor(255, 255, 255)});\n\n            fontStyle = {\n                textAlign: 'center',\n                font: '9px PT Sans',\n                fillStyle: \"rgba(64, 64, 64, 1)\",\n                strokeStyle: \"rgba(64, 64, 64, 1)\"\n            };\n\n            tickSpec = findSpacing(Math.floor(options.rulerTickMarkReferencePixels * options.bpPerPixel));\n            majorTickSpacing = tickSpec.majorTick;\n\n            // Find starting point closest to the current origin\n            nTick = Math.floor(options.bpStart / majorTickSpacing) - 1;\n\n            pixel = pixelLast = 0;\n\n            igv.graphics.setProperties(this.ctx, fontStyle);\n            this.ctx.lineWidth = 1.0;\n\n            yShim = 1;\n            tickHeight = 8;\n            while (pixel < options.rulerLengthPixels) {\n\n                l = Math.floor(nTick * majorTickSpacing);\n\n                pixel = Math.round(((l - 1) - options.bpStart + 0.5) / options.bpPerPixel);\n\n                rulerLabel = formatNumber(l / tickSpec.unitMultiplier, 0) + \" \" + tickSpec.majorUnit;\n\n                tickSpacingPixels = Math.abs(pixel - pixelLast);\n                labelWidthPixels = this.ctx.measureText(rulerLabel).width;\n\n                if (labelWidthPixels > tickSpacingPixels) {\n\n                    if (tickSpacingPixels < 32) {\n                        modulo = 4;\n                    } else {\n                        modulo = 2;\n                    }\n                } else {\n                    modulo = 1;\n                }\n\n                // modulo = 1;\n                if (0 === nTick % modulo) {\n\n                    if (Math.floor((pixel * options.bpPerPixel) + options.bpStart) < chrSize) {\n\n                        // console.log('   label delta(' + Math.abs(pixel - pixelLast) + ') modulo(' + modulo + ') bpp(' + options.bpPerPixel + ')');\n\n                        this.ctx.save();\n                        this.labelReflectionTransform(this.ctx, pixel);\n                        igv.graphics.fillText(this.ctx, rulerLabel, pixel, options.height - (tickHeight / 0.75));\n                        this.ctx.restore();\n\n                    }\n\n                } else {\n                    // console.log('no label');\n                }\n\n                if (Math.floor((pixel * options.bpPerPixel) + options.bpStart) < chrSize) {\n                    igv.graphics.strokeLine(this.ctx,\n                        pixel, options.height - tickHeight,\n                        pixel, options.height - yShim);\n                }\n\n                pixelLast = pixel;\n                nTick++;\n\n            } // while (pixel < options.rulerLengthPixels)\n\n            igv.graphics.strokeLine(this.ctx, 0, options.height - yShim, options.rulerLengthPixels, options.height - yShim);\n\n        }\n\n        function formatNumber(anynum, decimal) {\n            //decimal  - the number of decimals after the digit from 0 to 3\n            //-- Returns the passed number as a string in the xxx,xxx.xx format.\n            //anynum = eval(obj.value);\n            var divider = 10;\n            switch (decimal) {\n                case 0:\n                    divider = 1;\n                    break;\n                case 1:\n                    divider = 10;\n                    break;\n                case 2:\n                    divider = 100;\n                    break;\n                default:       //for 3 decimal places\n                    divider = 1000;\n            }\n\n            var workNum = Math.abs((Math.round(anynum * divider) / divider));\n\n            var workStr = \"\" + workNum;\n\n            if (-1 === workStr.indexOf(\".\")) {\n                workStr += \".\"\n            }\n\n            var dStr = workStr.substr(0, workStr.indexOf(\".\"));\n            var dNum = dStr - 0;\n            var pStr = workStr.substr(workStr.indexOf(\".\"));\n\n            while (pStr.length - 1 < decimal) {\n                pStr += \"0\"\n            }\n\n            if ('.' === pStr) {\n                pStr = '';\n            }\n\n            //--- Adds a comma in the thousands place.\n            if (dNum >= 1000) {\n                var dLen = dStr.length;\n                dStr = parseInt(\"\" + (dNum / 1000)) + \",\" + dStr.substring(dLen - 3, dLen)\n            }\n\n            //-- Adds a comma in the millions place.\n            if (dNum >= 1000000) {\n                dLen = dStr.length;\n                dStr = parseInt(\"\" + (dNum / 1000000)) + \",\" + dStr.substring(dLen - 7, dLen)\n            }\n            var retval = dStr + pStr;\n            //-- Put numbers in parentheses if negative.\n            if (anynum < 0) {\n                retval = \"(\" + retval + \")\";\n            }\n\n            //You could include a dollar sign in the return value.\n            //retval =  \"$\"+retval\n            return retval;\n        }\n\n        function drawAll() {\n\n            var self = this,\n                lastX = 0,\n                yShim = 2,\n                tickHeight = 10;\n\n            _.each(self.browser.genome.chromosomes, function (chromosome) {\n\n                var chrName = chromosome.name,\n                    bp = self.browser.genome.getGenomeCoordinate(chrName, chromosome.size),\n                    x = Math.round((bp - options.bpStart ) / options.bpPerPixel),\n                    chrLabel = chrName.startsWith(\"chr\") ? chrName.substr(3) : chrName;\n\n                self.ctx.textAlign = 'center';\n                igv.graphics.strokeLine(self.ctx, x, self.height - tickHeight, x, self.height - yShim);\n                igv.graphics.fillText(self.ctx, chrLabel, (lastX + x) / 2, self.height - (tickHeight / 0.75));\n\n                lastX = x;\n\n            });\n            igv.graphics.strokeLine(self.ctx, 0, self.height - yShim, options.rulerLengthPixels, self.height - yShim);\n        }\n\n    };\n\n    function isBrowserInWholeGenomeView (state) {\n        return 0 === state.chr1 && state.chr1 === state.chr1;\n    }\n\n    function TickSpacing(majorTick, majorUnit, unitMultiplier) {\n        this.majorTick = majorTick;\n        this.majorUnit = majorUnit;\n        this.unitMultiplier = unitMultiplier;\n    }\n\n    function findSpacing(rulerLengthBP) {\n\n        if (rulerLengthBP < 10) {\n            return new TickSpacing(1, \"\", 1);\n        }\n\n\n        // How many zeroes?\n        var nZeroes = Math.floor(log10(rulerLengthBP));\n        var majorUnit = \"\";\n        var unitMultiplier = 1;\n        if (nZeroes > 9) {\n            majorUnit = \"gb\";\n            unitMultiplier = 1000000000;\n        }\n        if (nZeroes > 6) {\n            majorUnit = \"mb\";\n            unitMultiplier = 1000000;\n        } else if (nZeroes > 3) {\n            majorUnit = \"kb\";\n            unitMultiplier = 1000;\n        }\n\n        var nMajorTicks = rulerLengthBP / Math.pow(10, nZeroes - 1);\n        if (nMajorTicks < 25) {\n            return new TickSpacing(Math.pow(10, nZeroes - 1), majorUnit, unitMultiplier);\n        } else {\n            return new TickSpacing(Math.pow(10, nZeroes) / 2, majorUnit, unitMultiplier);\n        }\n\n        function log10(x) {\n            var dn = Math.log(10);\n            return Math.log(x) / dn;\n        }\n    }\n\n    function reflectionTransformWithContext(context, exe) {\n        context.translate(exe, 0);\n        context.scale(-1, 1);\n        context.translate(-exe, 0);\n    }\n\n    function identityTransformWithContext(context) {\n        // 3x2 matrix. column major. (sx 0 0 sy tx ty).\n        context.setTransform(1, 0, 0, 1, 0, 0);\n    }\n\n    return hic;\n})(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n\n/**\n * @author Jim Robinson\n */\n\n\nvar hic = (function (hic) {\n\n\n    hic.State = function (chr1, chr2, zoom, x, y, pixelSize, normalization) {\n\n        if(chr1 !== undefined) {\n            if (chr1 <= chr2) {\n                this.chr1 = chr1;\n                this.chr2 = chr2;\n                this.x = x;\n                this.y = y;\n            }\n            else {\n                // Transpose\n                this.chr1 = chr2;\n                this.chr2 = chr1;\n                this.x = y;\n                this.y = x;\n            }\n            this.zoom = zoom;\n            this.pixelSize = pixelSize;\n\n            if (\"undefined\" === normalization) {\n                console.log(\"No normalization defined !!!\");\n                normalization = undefined;\n            }\n\n            this.normalization = normalization;\n        }\n    };\n\n    hic.State.prototype.stringify = function () {\n        return \"\" + this.chr1 + \",\" + this.chr2 + \",\" + this.zoom + \",\" + this.x + \",\" + this.y + \",\" + this.pixelSize + \",\" + this.normalization;\n    }\n\n    hic.State.prototype.clone = function () {\n        return Object.assign(new hic.State(), this);\n    }\n\n    hic.State.prototype.equals = function(state) {\n        var s1 = JSON.stringify(this);\n        var s2 = JSON.stringify(state);\n        return s1 === s2;\n    }\n\n\n    hic.destringifyState = function (string) {\n\n        var tokens = string.split(\",\");\n        return new hic.State(\n            parseInt(tokens[0]),    // chr1\n            parseInt(tokens[1]),    // chr2\n            parseFloat(tokens[2]), // zoom\n            parseFloat(tokens[3]), // x\n            parseFloat(tokens[4]), // y\n            parseFloat(tokens[5]), // pixelSize\n            tokens.length > 6 ? tokens[6] : \"NONE\"   // normalization\n        )\n\n    }\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\nvar hic = (function (hic) {\n\n    hic.Straw = function (config) {\n\n        config.loadFragData = true;\n\n        this.config = config;\n        this.reader = new hic.HiCReader(config);\n\n    }\n\n//straw <NONE/VC/VC_SQRT/KR> <hicFile> <chr1>[:x1:x2] <chr2>[:y1:y2] <BP/FRAG> <binsize>\n//     \n    hic.Straw.prototype.getContactRecords = function (normalization, region1, region2, units, binsize) {\n\n        var self = this,\n            chr1 = region1.chr,\n            chr2 = region2.chr,\n            x1 = (region1.start === undefined) ? undefined :  region1.start / binsize,\n            x2 = (region1.end === undefined) ? undefined : region1.end / binsize,\n            y1 = (region2.start === undefined) ? undefined : region2.start / binsize,\n            y2 = (region2.end === undefined) ? undefined : region2.end / binsize;\n\n        return getDataset.call(self)\n\n            .then(function (dataset) {\n\n                self.dataset = dataset;\n\n                if(\"ALL\" === chr1.toUpperCase()) chr1 = chr1.toUpperCase();\n                if(\"ALL\" === chr2.toUpperCase()) chr2 = chr2.toUpperCase();\n\n                var chr1idx = dataset.getChrIndexFromName(chr1),\n                    chr2idx = dataset.getChrIndexFromName(chr2);\n\n                if (chr1idx === undefined || chr2idx === undefined) {\n                    throw new Error(\"One or both chromosomes not in this dataset\");\n                }\n\n                return dataset.getMatrix(chr1idx, chr2idx)\n            })\n            .then(function (matrix) {\n\n                // Find the requested resolution\n                var z = undefined === binsize ? 0 : self.dataset.getZoomIndexForBinSize(binsize, units);\n                if (z === -1) {\n                    throw new Error(\"Invalid bin size\");\n                }\n\n                var zd = matrix.bpZoomData[z],\n                    blockBinCount = zd.blockBinCount,   // Dimension in bins of a block (width = height = blockBinCount)\n                    col1 = x1 === undefined ? 0 : Math.floor(x1 / blockBinCount),\n                    col2 = x1 === undefined ? zd.blockColumnCount : Math.floor(x2 / blockBinCount),\n                    row1 = y1 === undefined ? 0 : Math.floor(y1 / blockBinCount),\n                    row2 = y2 === undefined ? zd.blockColumnCount :  Math.floor(y2 / blockBinCount),\n                    row, column, sameChr, blockNumber,\n                    promises = [];\n\n                sameChr = chr1 === chr2;\n\n                for (row = row1; row <= row2; row++) {\n                    for (column = col1; column <= col2; column++) {\n                        if (sameChr && row < column) {\n                            blockNumber = column * zd.blockColumnCount + row;\n                        }\n                        else {\n                            blockNumber = row * zd.blockColumnCount + column;\n                        }\n                        promises.push(self.dataset.getNormalizedBlock(zd, blockNumber, normalization))\n                    }\n                }\n\n                return Promise.all(promises);\n            })\n            .then(function (blocks) {\n\n                var contactRecords = [];\n\n                blocks.forEach(function (block) {\n                    if (!block) { // This is most likely caused by a base pair range outside the chromosome\n                        return;\n                    }\n                    block.records.forEach(function(rec) {\n                        // TODO -- transpose?\n                        if(x1 === undefined || (rec.bin1 >= x1 && rec.bin1 <= x2 && rec.bin2 >= y1 && rec.bin2 <= y2)) {\n                            contactRecords.push(rec);\n                        }\n                    });\n                });\n                \n                return contactRecords;\n            });\n    }\n\n\n    function getDataset() {\n\n        if (this.dataset) {\n            return Promise.resolve(this.dataset);\n        }\n        else {\n            return this.reader.loadDataset(this.config);\n        }\n    }\n\n\n    return hic;\n})(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n\n/**\n * @author Jim Robinson\n */\n\n\nvar hic = (function (hic) {\n\n    hic.Track2D = function (config, features) {\n\n        var self = this;\n\n        this.config = config;\n        this.name = config.name;\n        this.featureMap = {};\n        this.featureCount = 0;\n        this.isVisible = true;\n        if(config.color && hic.validateColor(config.color)) {\n            this.color = this.color = config.color;    // If specified, this will override colors of individual records.\n        }\n        this.repColor = features.length > 0 ? features[0].color : \"black\";\n\n        features.forEach(function (f) {\n\n            self.featureCount++;\n\n            var key = getKey(f.chr1, f.chr2),\n                list = self.featureMap[key];\n\n            if (!list) {\n                list = [];\n                self.featureMap[key] = list;\n            }\n            list.push(f);\n        });\n\n    };\n    \n    hic.Track2D.prototype.getColor = function() {\n        return this.color || this.repColor;\n    }\n\n    hic.Track2D.prototype.getFeatures = function (chr1, chr2) {\n        var key = getKey(chr1, chr2),\n            features = this.featureMap[key];\n\n        return features || this.featureMap[getAltKey(chr1, chr2)];\n    };\n\n    hic.loadTrack2D = function (config) {\n\n        return igv.xhr.loadString(config.url, igv.buildOptions(config))\n\n            .then(function (data) {\n\n                var features = parseData(data, isBedPE(config));\n\n                return new hic.Track2D(config, features);\n            })\n    }\n\n    function isBedPE(config) {\n\n        if (typeof config.url === \"string\") {\n            return config.url.toLowerCase().indexOf(\".bedpe\") > 0;\n        } else if (typeof config.name === \"string\") {\n            return config.name.toLowerCase().indexOf(\".bedpe\") > 0;\n        }\n        else {\n            return true;  // Default\n        }\n    }\n\n    function parseData(data, isBedPE) {\n\n        if (!data) return null;\n\n        var feature,\n            lines = igv.splitLines(data),\n            len = lines.length,\n            tokens,\n            allFeatures = [],\n            line,\n            i,\n            delimiter = \"\\t\",\n            start,\n            colorColumn;\n\n        start = isBedPE ? 0 : 1;\n        colorColumn = isBedPE ? 10 : 6;\n\n        for (i = start; i < len; i++) {\n\n            line = lines[i];\n\n            if(line.startsWith(\"#\") || line.startsWith(\"track\") || line.startsWith(\"browser\")) {\n                continue;\n            }\n\n            tokens = lines[i].split(delimiter);\n            if (tokens.length < 7) {\n                //console.log(\"Could not parse line: \" + line);\n                continue;\n            }\n\n            feature = {\n                chr1: tokens[0],\n                x1: parseInt(tokens[1]),\n                x2: parseInt(tokens[2]),\n                chr2: tokens[3],\n                y1: parseInt(tokens[4]),\n                y2: parseInt(tokens[5]),\n                color: \"rgb(\" + tokens[colorColumn] + \")\"\n            }\n\n            if(!Number.isNaN(feature.x1)) {\n                allFeatures.push(feature);\n            }\n        }\n\n        return allFeatures;\n    }\n\n    function getKey(chr1, chr2) {\n        return chr1 > chr2 ? chr2 + \"_\" + chr1 : chr1 + \"_\" + chr2;\n    }\n\n    function getAltKey(chr1, chr2) {\n        var chr1Alt = chr1.startsWith(\"chr\") ? chr1.substr(3) : \"chr\" + chr1,\n            chr2Alt = chr2.startsWith(\"chr\") ? chr2.substr(3) : \"chr\" + chr2;\n        return chr1 > chr2 ? chr2Alt + \"_\" + chr1Alt : chr1Alt + \"_\" + chr2Alt;\n    }\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/8/17.\n */\nvar hic = (function (hic) {\n\n    var urlShorteners;\n\n    hic.setURLShortener = function (shortenerConfigs) {\n\n        if (!shortenerConfigs || shortenerConfigs === \"none\") {\n\n        } else {\n            urlShorteners = [];\n            shortenerConfigs.forEach(function (config) {\n                urlShorteners.push(getShortener(config));\n            })\n        }\n\n        function getShortener(shortener) {\n            if (shortener.provider) {\n                if (shortener.provider === \"google\") {\n                    return new GoogleURL(shortener);\n                }\n                else if (shortener.provider === \"bitly\") {\n                    return new BitlyURL(shortener);\n                }\n                else {\n                    igv.presentAlert(\"Unknown url shortener provider: \" + shortener.provider);\n                }\n            }\n            else {    // Custom\n                if (typeof shortener.shortenURL === \"function\" &&\n                    typeof shortener.expandURL === \"function\" &&\n                    typeof shortener.hostname === \"string\") {\n                    return shortener;\n                }\n                else {\n                    igv.presentAlert(\"URL shortener object must define functions 'shortenURL' and 'expandURL' and string constant 'hostname'\")\n                }\n            }\n        }\n    }\n\n    hic.shortenURL = function (url) {\n        if (urlShorteners) {\n            return urlShorteners[0].shortenURL(url);\n        }\n        else {\n            return Promise.resolve(url);\n        }\n    }\n\n    /**\n     * Returns a promise to expand the URL\n     */\n    hic.expandURL = function (url) {\n\n        var urlObject = new URL(url),\n            hostname = urlObject.hostname,\n            i,\n            expander;\n\n        if (urlShorteners) {\n            for (i = 0; i < urlShorteners.length; i++) {\n                expander = urlShorteners[i];\n                if (hostname === expander.hostname) {\n                    return expander.expandURL(url);\n                }\n            }\n        }\n\n        igv.presentAlert(\"No expanders for URL: \" + url);\n\n        return Promise.resolve(url);\n    }\n\n    hic.shortJuiceboxURL = function (base) {\n\n        var url, queryString,\n            self = this;\n\n        url = base + \"?juicebox=\";\n\n        queryString = \"{\";\n        hic.allBrowsers.forEach(function (browser, index) {\n            queryString += encodeURIComponent(browser.getQueryString());\n            queryString += (index === hic.allBrowsers.length - 1 ? \"}\" : \"},{\");\n        });\n\n        url = url + encodeURIComponent(queryString);\n\n        if (url.length > 2048) {\n            return Promise.resolve(url)\n        }\n        else {\n            return self.shortenURL(url)\n\n                .then(function (shortURL) {\n\n                    // Now shorten a second time, with short url as a parameter.  This solves the problem of\n                    // the expanded url (after a redirect) being over the browser limit.\n\n                    var idx, href, url;\n\n                    href = window.location.href;\n                    idx = href.indexOf(\"?\");\n                    if (idx > 0) {\n                        href = href.substr(0, idx);\n                    }\n\n                    url = href + \"?juiceboxURL=\" + shortURL;\n                    return url;\n                })\n        }\n    };\n\n\n    hic.decodeJBUrl = function (jbURL) {\n\n        var q, parts, config;\n\n        q = hic.extractQuery(jbURL)[\"juicebox\"];\n\n        if (q.startsWith(\"%7B\")) {\n            q = decodeURIComponent(q);\n        }\n\n        q = q.substr(1, q.length - 2);  // Strip leading and trailing bracket\n        parts = q.split(\"},{\");\n\n        return {\n            queryString: decodeURIComponent(parts[0]),\n            oauthToken: oauthToken\n        }\n    }\n\n\n    var BitlyURL = function (config) {\n        this.api = \"https://api-ssl.bitly.com\";\n        this.apiKey = (!config.apiKey || \"ABCD\" === config.apiKey) ? fetchBitlyApiKey : config.apiKey;\n        this.hostname = config.hostname ? config.hostname : \"bit.ly\";\n        this.devIP = \"192.168.1.11\";   // For development, replace with your IP address. Bitly will not shorten localhost !\n    }\n\n\n    BitlyURL.prototype.shortenURL = function (url) {\n\n        var self = this;\n\n        if (url.startsWith(\"http://localhost\")) url = url.replace(\"localhost\", this.devIP);  // Dev hack\n\n        return getApiKey.call(this)\n\n            .then(function (key) {\n                var endpoint = self.api + \"/v3/shorten?access_token=\" + key + \"&longUrl=\" + encodeURIComponent(url);\n\n                return igv.xhr.loadJson(endpoint, {})\n            })\n\n            .then(function (json) {\n                // TODO check status code\n                if (500 === json.status_code) {\n                    igv.presentAlert(\"Error shortening URL: \" + json.status_txt)\n                    return undefined\n                } else {\n                    return json.data.url;\n                }\n            })\n    };\n\n\n    BitlyURL.prototype.expandURL = function (url) {\n\n        var self = this;\n\n        return getApiKey.call(this)\n\n            .then(function (key) {\n\n                var endpoint = self.api + \"/v3/expand?access_token=\" + key + \"&shortUrl=\" + encodeURIComponent(url);\n\n                return igv.xhr.loadJson(endpoint, {})\n            })\n\n            .then(function (json) {\n\n                var longUrl = json.data.expand[0].long_url;\n\n                // Fix some Bitly \"normalization\"\n                longUrl = longUrl.replace(\"{\", \"%7B\").replace(\"}\", \"%7D\");\n\n                return longUrl;\n\n            })\n    }\n\n\n    var GoogleURL = function (config) {\n        this.api = \"https://www.googleapis.com/urlshortener/v1/url\";\n        this.apiKey = (!config.apiKey || \"ABCD\" === config.apiKey) ? fetchGoogleApiKey : config.apiKey;\n        this.hostname = config.hostname || \"goo.gl\";\n    }\n\n    GoogleURL.prototype.shortenURL = function (url) {\n\n        var self = this;\n\n        return getApiKey.call(this)\n\n            .then(function (key) {\n\n                var endpoint = self.api + \"?key=\" + key;\n\n                return igv.xhr.loadJson(endpoint,\n                    {\n                        sendData: JSON.stringify({\"longUrl\": url}),\n                        contentType: \"application/json\"\n                    })\n            })\n            .then(function (json) {\n                return json.id;\n            })\n    }\n\n\n    GoogleURL.prototype.expandURL = function (url) {\n\n        var self = this;\n        return getApiKey.call(this)\n\n            .then(function (apiKey) {\n\n                var endpoint;\n\n                if (url.includes(\"goo.gl\")) {\n\n                    endpoint = self.api + \"?shortUrl=\" + url + \"&key=\" + apiKey;\n\n                    return igv.xhr.loadJson(endpoint, {contentType: \"application/json\"})\n                        .then(function (json) {\n                            return json.longUrl;\n                        })\n                }\n                else {\n                    // Not a google url or no api key\n                    return Promise.resolve(url);\n                }\n            })\n    }\n\n    function getApiKey() {\n\n        var self = this, token;\n\n        if (typeof self.apiKey === \"string\") {\n            return Promise.resolve(self.apiKey);\n        }\n        else if (typeof self.apiKey === \"function\") {\n\n            token = self.apiKey();\n\n            if (typeof token.then === \"function\") {\n                return token.then(function (key) {\n                    self.apiKey = key;\n                    return key;\n                })\n            } else {\n                self.apiKey = token;\n                return Promise.resolve(token);\n            }\n        }\n        else {\n            throw new Error(\"Unknown apiKey type: \" + this.apiKey);\n        }\n    }\n\n\n// Example function for fetching an api key.\n    function fetchBitlyApiKey() {\n        return igv.xhr.loadJson(\"https://s3.amazonaws.com/igv.org.restricted/bitly.json\", {})\n            .then(function (json) {\n                return json[\"apiKey\"];\n            })\n            .catch(function (error) {\n                console.error(error);\n            })\n    }\n\n// Example function for fetching an api key.\n    function fetchGoogleApiKey() {\n        return igv.xhr.loadJson(\"https://s3.amazonaws.com/igv.org.restricted/google.json\", {})\n            .then(function (json) {\n                return json[\"apiKey\"];\n            })\n            .catch(function (error) {\n                console.error(error);\n            })\n    }\n\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/8/17.\n */\nvar hic = (function (hic) {\n\n    hic.colorSwatch = function (rgbString, doPlusOrMinusOrUndefined) {\n        var $swatch,\n            $span,\n            $fa_square,\n            $fa_plus_minus,\n            $fa,\n            str;\n\n        $swatch = $('<div>', {class: 'igv-color-swatch'});\n\n        $fa = $('<i>', { class: 'fa fa-square fa-2x', 'aria-hidden': 'true', 'title': 'Present color swatches' });\n        $swatch.append($fa);\n        $fa.css({ color: rgbString });\n\n        // if (undefined === doPlusOrMinusOrUndefined) {\n        //     $fa = $('<i>', { class: 'fa fa-square fa-lg' });\n        //     $swatch.append($fa);\n        //     $fa.css({color: rgbString});\n        //\n        // } else {\n        //\n        //     $span = $('<span>', { class: 'fa-stack' });\n        //     $swatch.append($span);\n        //\n        //     // background square\n        //     $fa_square = $('<i>', { class: 'fa fa-square fa-stack-2x' });\n        //     $span.append($fa_square);\n        //     $fa_square.css({ color: rgbString, '-webkit-text-stroke-width':'2px', '-webkit-text-stroke-color':'transparent' });\n        //\n        //     // foreground +/-\n        //     // str = '+' === doPlusOrMinusOrUndefined ? 'fa fa-plus fa-stack-1x' : 'fa fa-minus fa-stack-1x';\n        //     str = '';\n        //     $fa_plus_minus = $('<i>', { class: str });\n        //     $span.append($fa_plus_minus);\n        //     $fa_plus_minus.css({ color: 'white' });\n        //\n        // }\n\n\n        return $swatch;\n    };\n\n    hic.setApiKey = function (key) {\n\n        hic.apiKey = key;\n        igv.setApiKey(key);\n\n    };\n\n    hic.extractFilename = function (urlOrFile) {\n        var idx,\n            str;\n\n        if (igv.isFilePath(urlOrFile)) {\n            return urlOrFile.name;\n        }\n        else {\n\n            str = urlOrFile.split('?').shift();\n            idx = urlOrFile.lastIndexOf(\"/\");\n\n            return idx > 0 ? str.substring(idx + 1) : str;\n        }\n    };\n\n    hic.igvSupports = function (path) {\n        var config = {url: path};\n        igv.inferTrackTypes(config);\n        return config.type !== undefined;\n    };\n\n    hic.throttle = function (fn, threshhold, scope) {\n        var last,\n            deferTimer;\n\n        threshhold || (threshhold = 200);\n\n        return function () {\n            var context,\n                now,\n                args;\n\n            context = scope || this;\n            now = +new Date;\n            args = arguments;\n\n            if (last && now < last + threshhold) {\n                // hold on to it\n                clearTimeout(deferTimer);\n                deferTimer = setTimeout(function () {\n                    last = now;\n                    fn.apply(context, args);\n                }, threshhold);\n            } else {\n                last = now;\n                fn.apply(context, args);\n            }\n        }\n    };\n\n    hic.reflectionRotationWithContext = function (context) {\n        context.scale(-1, 1);\n        context.rotate(Math.PI / 2.0);\n    };\n\n    hic.reflectionAboutYAxisAtOffsetWithContext = function (context, exe) {\n        context.translate(exe, 0);\n        context.scale(-1, 1);\n        context.translate(-exe, 0);\n    };\n\n    hic.identityTransformWithContext = function (context) {\n        // 3x2 matrix. column major. (sx 0 0 sy tx ty).\n        context.setTransform(1, 0, 0, 1, 0, 0);\n    };\n\n    hic.Math = {\n\n        mean: function (array) {\n\n            var t = 0, n = 0,\n                i;\n            for (i = 0; i < array.length; i++) {\n                if (!isNaN(array[i])) {\n                    t += array[i];\n                    n++;\n                }\n            }\n            return n > 0 ? t / n : 0;\n        },\n\n        percentile: function (array, p) {\n\n            if (array.length === 0) return undefined;\n\n            var k = Math.floor(array.length * ((100 - p) / 100));\n            if (k == 0) {\n                array.sort(function (a, b) {\n                    return b - a\n                });\n                return array[0];\n            }\n\n            return this.selectElement(array, k);\n\n        },\n\n        selectElement: function (array, k) {\n\n            // Credit Steve Hanov http://stevehanov.ca/blog/index.php?id=122\n            var heap = new BinaryHeap(),\n                i;\n\n            for (i = 0; i < array.length; i++) {\n\n                var item = array[i];\n\n                // If we have not yet found k items, or the current item is larger than\n                // the smallest item on the heap, add current item\n                if (heap.content.length < k || item > heap.content[0]) {\n                    // If the heap is full, remove the smallest element on the heap.\n                    if (heap.content.length === k) {\n                        var r = heap.pop();\n                    }\n                    heap.push(item)\n                }\n            }\n\n            return heap.content[0];\n        }\n    };\n\n    hic.extractQuery = function (uri) {\n        var i1, i2, i, j, s, query, tokens;\n\n        query = {};\n        i1 = uri.indexOf(\"?\");\n        i2 = uri.lastIndexOf(\"#\");\n\n        if (i1 >= 0) {\n            if (i2 < 0) i2 = uri.length;\n\n            for (i = i1 + 1; i < i2;) {\n\n                j = uri.indexOf(\"&\", i);\n                if (j < 0) j = i2;\n\n                s = uri.substring(i, j);\n                tokens = s.split(\"=\", 2);\n                if (tokens.length === 2) {\n                    query[tokens[0]] = tokens[1];\n                }\n\n                i = j + 1;\n            }\n        }\n        return query;\n    }\n\n\n    function BinaryHeap() {\n        this.content = [];\n    }\n\n    BinaryHeap.prototype = {\n        push: function (element) {\n            // Add the new element to the end of the array.\n            this.content.push(element);\n            // Allow it to bubble up.\n            this.bubbleUp(this.content.length - 1);\n        },\n\n        pop: function () {\n            // Store the first element so we can return it later.\n            var result = this.content[0];\n            // Get the element at the end of the array.\n            var end = this.content.pop();\n            // If there are any elements left, put the end element at the\n            // start, and let it sink down.\n            if (this.content.length > 0) {\n                this.content[0] = end;\n                this.sinkDown(0);\n            }\n            return result;\n        },\n\n        remove: function (node) {\n            var length = this.content.length;\n            // To remove a value, we must search through the array to find\n            // it.\n            for (var i = 0; i < length; i++) {\n                if (this.content[i] != node) continue;\n                // When it is found, the process seen in 'pop' is repeated\n                // to fill up the hole.\n                var end = this.content.pop();\n                // If the element we popped was the one we needed to remove,\n                // we're done.\n                if (i == length - 1) break;\n                // Otherwise, we replace the removed element with the popped\n                // one, and allow it to float up or sink down as appropriate.\n                this.content[i] = end;\n                this.bubbleUp(i);\n                this.sinkDown(i);\n                break;\n            }\n        },\n\n        size: function () {\n            return this.content.length;\n        },\n\n        bubbleUp: function (n) {\n            // Fetch the element that has to be moved.\n            var element = this.content[n], score = element;\n            // When at 0, an element can not go up any further.\n            while (n > 0) {\n                // Compute the parent element's index, and fetch it.\n                var parentN = Math.floor((n + 1) / 2) - 1,\n                    parent = this.content[parentN];\n                // If the parent has a lesser score, things are in order and we\n                // are done.\n                if (score >= parent)\n                    break;\n\n                // Otherwise, swap the parent with the current element and\n                // continue.\n                this.content[parentN] = element;\n                this.content[n] = parent;\n                n = parentN;\n            }\n        },\n\n        sinkDown: function (n) {\n            // Look up the target element and its score.\n            var length = this.content.length,\n                element = this.content[n],\n                elemScore = element;\n\n            while (true) {\n                // Compute the indices of the child elements.\n                var child2N = (n + 1) * 2, child1N = child2N - 1;\n                // This is used to store the new position of the element,\n                // if any.\n                var swap = null;\n                // If the first child exists (is inside the array)...\n                if (child1N < length) {\n                    // Look it up and compute its score.\n                    var child1 = this.content[child1N],\n                        child1Score = child1;\n                    // If the score is less than our element's, we need to swap.\n                    if (child1Score < elemScore)\n                        swap = child1N;\n                }\n                // Do the same checks for the other child.\n                if (child2N < length) {\n                    var child2 = this.content[child2N],\n                        child2Score = child2;\n                    if (child2Score < (swap == null ? elemScore : child1Score))\n                        swap = child2N;\n                }\n\n                // No need to swap further, we are done.\n                if (swap == null) break;\n\n                // Otherwise, swap and continue.\n                this.content[n] = this.content[swap];\n                this.content[swap] = element;\n                n = swap;\n            }\n        }\n    };\n\n    hic.isMobile = function () {\n        return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n    }\n\n    igv.presentAlert = function (alert, $parent) {\n\n        var string;\n\n        string = alert.message || alert;\n\n        if (httpMessages.hasOwnProperty(string)) {\n            string = httpMessages[string];\n        }\n\n        igv.alertDialog.configure({ label: string });\n        igv.alertDialog.present($parent);\n    };\n\n    hic.presentError = function(prefix, error) {\n\n        var msg = error.message;\n        if(httpMessages.hasOwnProperty(msg)) {\n            msg = httpMessages[msg];\n        }\n        igv.presentAlert(prefix + \": \" + msg);\n\n    };\n\n    hic.validateColor = function (str) {\n        var div = document.createElement(\"div\");\n        div.style.borderColor = str;\n        return div.style.borderColor !== \"\";\n    };\n\n    var httpMessages = {\n        \"401\": \"Access unauthorized\",\n        \"403\": \"Access forbidden\",\n        \"404\": \"Not found\"\n    }\n\n    return hic;\n\n})(hic || {});\n\n/**\n * Created by dat on 4/4/17.\n */\nvar hic = (function (hic) {\n\n    hic.LayoutController = function (browser, $root) {\n\n        this.browser = browser;\n\n        createNavBar.call(this, browser, $root);\n\n        createAllContainers.call(this, browser, $root);\n\n        this.scrollbar_height = 20;\n        this.axis_height = 32;\n\n        this.track_height = 32;\n\n    };\n\n    // Dupes of corresponding juicebox.scss variables\n    // Invariant during app running. If edited in juicebox.scss they MUST be kept in sync\n    hic.LayoutController.nav_bar_label_height = 36;\n    hic.LayoutController.nav_bar_widget_container_height = 36;\n    hic.LayoutController.nav_bar_shim_height = 4;\n\n    hic.LayoutController.navbarHeight = function (figureMode) {\n        var height;\n        if (true === figureMode) {\n            height = hic.LayoutController.nav_bar_label_height;\n        } else {\n            height = (2 * hic.LayoutController.nav_bar_label_height) + (2 * hic.LayoutController.nav_bar_widget_container_height) + hic.LayoutController.nav_bar_shim_height;\n        }\n        // console.log('navbar height ' + height);\n        return height;\n    };\n\n    function createNavBar(browser, $root) {\n\n        var id,\n            $navbar_container,\n            $map_container,\n            $upper_widget_container,\n            $lower_widget_container,\n            $e,\n            $browser_panel_delete_button,\n            $fa;\n\n        $navbar_container = $('<div class=\"hic-navbar-container\">');\n        $root.append($navbar_container);\n\n        if (true === browser.config.figureMode) {\n            $navbar_container.height(hic.LayoutController.navbarHeight(browser.config.figureMode));\n        } else {\n\n            $navbar_container.on('click', function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                hic.Browser.setCurrentBrowser(browser);\n            });\n\n        }\n\n        // container: contact map label | menu button | browser delete button\n        id = browser.id + '_contact-map-' + 'hic-nav-bar-map-container';\n        $map_container = $(\"<div>\", { id: id });\n        $navbar_container.append($map_container);\n\n        // contact map label\n        id = browser.id + '_contact-map-' + 'hic-nav-bar-map-label';\n        browser.$contactMaplabel = $(\"<div>\", {id: id});\n        $map_container.append(browser.$contactMaplabel);\n\n        // navbar button container\n        $e = $(\"<div>\", { class: 'hic-nav-bar-button-container' });\n        $map_container.append($e);\n\n        // menu present/dismiss button\n        browser.$menuPresentDismiss = $(\"<i>\", { class: 'fa fa-bars fa-lg', 'title':'Present menu' });\n        $e.append(browser.$menuPresentDismiss);\n        browser.$menuPresentDismiss.on('click', function (e) {\n            browser.toggleMenu();\n        });\n\n        // browser delete button\n        browser.$browser_panel_delete_button = $(\"<i>\", { class: 'fa fa-minus-circle fa-lg', 'title':'Delete browser panel' });\n        $e.append(browser.$browser_panel_delete_button);\n\n        browser.$browser_panel_delete_button.on('click', function (e) {\n            hic.deleteBrowserPanel(browser);\n        });\n\n        // hide delete buttons for now. Delete button is only\n        // if there is more then one browser instance.\n        browser.$browser_panel_delete_button.hide();\n\n\n        // container: control map label\n        id = browser.id + '_control-map-' + 'hic-nav-bar-map-container';\n        $map_container = $(\"<div>\", { id: id });\n        $navbar_container.append($map_container);\n\n        // control map label\n        id = browser.id + '_control-map-' + 'hic-nav-bar-map-label';\n        browser.$controlMaplabel = $(\"<div>\", {id: id});\n        $map_container.append(browser.$controlMaplabel);\n        \n        // upper widget container\n        id = browser.id + '_upper_' + 'hic-nav-bar-widget-container';\n        $upper_widget_container = $(\"<div>\", {id: id});\n        $navbar_container.append($upper_widget_container);\n\n        // location box / goto\n        browser.locusGoto = new hic.LocusGoto(browser, $upper_widget_container);\n\n        // resolution widget\n        browser.resolutionSelector = new hic.ResolutionSelector(browser, $upper_widget_container);\n        browser.resolutionSelector.setResolutionLock(browser.resolutionLocked);\n\n        if (true === browser.config.figureMode) {\n            browser.$contactMaplabel.addClass('hidden-text');\n            $upper_widget_container.hide();\n        } else {\n\n            // lower widget container\n            id = browser.id + '_lower_' + 'hic-nav-bar-widget-container';\n            $lower_widget_container = $(\"<div>\", {id: id});\n            $navbar_container.append($lower_widget_container);\n\n            // colorscale\n            browser.colorscaleWidget = new hic.ColorScaleWidget(browser, $lower_widget_container);\n\n            // control map\n            browser.controlMapWidget = new hic.ControlMapWidget(browser, $lower_widget_container);\n\n            // normalization\n            browser.normalizationSelector = new hic.NormalizationWidget(browser, $lower_widget_container);\n\n            // resolution widget\n            // browser.resolutionSelector = new hic.ResolutionSelector(browser, $lower_widget_container);\n            // browser.resolutionSelector.setResolutionLock(browser.resolutionLocked);\n\n        }\n\n    }\n\n    function createAllContainers(browser, $root) {\n\n        var id,\n            tokens,\n            height_calc,\n            $container,\n            $e;\n\n        // .hic-x-track-container\n        id = browser.id + '_' + 'x-track-container';\n        this.$x_track_container = $(\"<div>\", {id: id});\n        $root.append(this.$x_track_container);\n\n        // track labels\n        id = browser.id + '_' + 'track-shim';\n        this.$track_shim = $(\"<div>\", {id: id});\n        this.$x_track_container.append(this.$track_shim);\n\n        // x-tracks\n        id = browser.id + '_' + 'x-tracks';\n        this.$x_tracks = $(\"<div>\", {id: id});\n        this.$x_track_container.append(this.$x_tracks);\n\n        // crosshairs guide\n        id = browser.id + '_' + 'y-track-guide';\n        this.$y_track_guide = $(\"<div>\", {id: id});\n        this.$x_tracks.append(this.$y_track_guide);\n\n        // content container\n        id = browser.id + '_' + 'content-container';\n        this.$content_container = $(\"<div>\", {id: id});\n        $root.append(this.$content_container);\n\n        // If we are in mini-mode we must recalculate the content container height\n        // to coinside with the root browser container height\n        if (true === browser.config.figureMode) {\n            tokens = _.map([hic.LayoutController.navbarHeight(browser.config.figureMode)], function (number) {\n                return number.toString() + 'px';\n            });\n            height_calc = 'calc(100% - (' + tokens.join(' + ') + '))';\n\n            this.$content_container.css('height', height_calc);\n        }\n\n\n        // menu\n        createMenu(browser, $root);\n\n\n        // container: x-axis\n        id = browser.id + '_' + 'x-axis-container';\n        $container = $(\"<div>\", {id: id});\n        this.$content_container.append($container);\n        this.xAxisRuler = new hic.Ruler(browser, 'x', $container);\n\n\n        // container: y-tracks | y-axis | viewport | y-scrollbar\n        id = browser.id + '_' + 'y-tracks-y-axis-viewport-y-scrollbar';\n        $container = $(\"<div>\", {id: id});\n        this.$content_container.append($container);\n\n        // y-tracks\n        id = browser.id + '_' + 'y-tracks';\n        this.$y_tracks = $(\"<div>\", {id: id});\n        $container.append(this.$y_tracks);\n\n        // crosshairs guide\n        id = browser.id + '_' + 'x-track-guide';\n        this.$x_track_guide = $(\"<div>\", {id: id});\n        this.$y_tracks.append(this.$x_track_guide);\n\n        // y-axis\n        this.yAxisRuler = new hic.Ruler(browser, 'y', $container);\n\n        this.xAxisRuler.$otherRulerCanvas = this.yAxisRuler.$canvas;\n        this.xAxisRuler.otherRuler = this.yAxisRuler;\n\n        this.yAxisRuler.$otherRulerCanvas = this.xAxisRuler.$canvas;\n        this.yAxisRuler.otherRuler = this.xAxisRuler;\n\n        // viewport | y-scrollbar\n        browser.contactMatrixView = new hic.ContactMatrixView(browser, $container);\n\n        // container: x-scrollbar\n        id = browser.id + '_' + 'x-scrollbar-container';\n        $container = $(\"<div>\", {id: id});\n        this.$content_container.append($container);\n\n        // x-scrollbar\n        $container.append(browser.contactMatrixView.scrollbarWidget.$x_axis_scrollbar_container);\n\n    }\n\n    function createMenu(browser, $root) {\n\n        var $menu,\n            $div,\n            $fa,\n            config;\n\n        // menu\n        $menu = $('<div>', {class: 'hic-menu'});\n        $root.append($menu);\n\n        // menu close button\n        $div = $('<div>', {class: 'hic-menu-close-button'});\n        $menu.append($div);\n\n        // $fa = $(\"<i>\", { class:'fa fa-minus-circle fa-lg' });\n        $fa = $(\"<i>\", {class: 'fa fa-times'});\n        $div.append($fa);\n\n        $fa.on('click', function (e) {\n            browser.toggleMenu();\n        });\n\n\n        // chromosome select widget\n        browser.chromosomeSelector = new hic.ChromosomeSelectorWidget(browser, $menu);\n\n        if (true === browser.config.figureMode) {\n\n            browser.chromosomeSelector.$container.hide();\n\n            // colorscale\n            browser.colorscaleWidget = new hic.ColorScaleWidget(browser, $menu);\n\n            // normalization\n            browser.normalizationSelector = new hic.NormalizationWidget(browser, $menu);\n\n            // resolution widget\n            browser.resolutionSelector = new hic.ResolutionSelector(browser, $menu);\n            browser.resolutionSelector.setResolutionLock(browser.resolutionLocked);\n        }\n\n        config =\n        {\n            title: '2D Annotations',\n            loadTitle: 'Load:',\n            alertMessage: 'No 2D annotations currently loaded for this map'\n        };\n        browser.annotation2DWidget = new hic.AnnotationWidget(browser, $menu, config, function () {\n            return browser.tracks2D;\n        });\n\n        config =\n        {\n            title: 'Tracks',\n            loadTitle: 'Load Tracks:',\n            alertMessage: 'No tracks currently loaded for this map'\n        };\n\n        browser.annotation1DDWidget = new hic.AnnotationWidget(browser, $menu, config, function () {\n            return browser.trackRenderers;\n        });\n\n        browser.$menu = $menu;\n\n        browser.$menu.hide();\n\n    }\n\n    hic.LayoutController.prototype.tracksLoaded = function (trackXYPairs) {\n        var self = this,\n            trackRendererPair;\n\n        self.doLayoutTrackXYPairCount(trackXYPairs.length + self.browser.trackRenderers.length);\n\n        trackXYPairs.forEach(function (trackPair, index) {\n\n            var w, h;\n\n            trackRendererPair = {};\n            w = h = self.track_height;\n            trackRendererPair.x = new hic.TrackRenderer(self.browser, {\n                width: undefined,\n                height: h\n            }, self.$x_tracks, trackRendererPair, trackPair, 'x', index);\n            trackRendererPair.y = new hic.TrackRenderer(self.browser, {\n                width: w,\n                height: undefined\n            }, self.$y_tracks, trackRendererPair, trackPair, 'y', index);\n\n            self.browser.trackRenderers.push(trackRendererPair);\n\n        });\n\n\n\n    }\n\n\n    hic.LayoutController.prototype.removeAllTrackXYPairs = function () {\n        var self = this,\n            indices;\n\n        indices = _.range(_.size(this.browser.trackRenderers));\n\n        if (0 === _.size(indices)) {\n            return;\n        }\n\n        _.each(indices, function (unused) {\n            var discard,\n                index;\n\n            // select last track to dicard\n            discard = _.last(self.browser.trackRenderers);\n\n            // discard DOM element's\n            discard['x'].$viewport.remove();\n            discard['y'].$viewport.remove();\n\n            // remove discard from list\n            index = self.browser.trackRenderers.indexOf(discard);\n            self.browser.trackRenderers.splice(index, 1);\n\n            discard = undefined;\n            self.doLayoutTrackXYPairCount(_.size(self.browser.trackRenderers));\n        });\n\n        // this.browser.updateLayout();\n    };\n\n    hic.LayoutController.prototype.removeLastTrackXYPair = function () {\n        var index,\n            discard;\n\n        if (_.size(this.browser.trackRenderers) > 0) {\n\n            // select last track to dicard\n            discard = _.last(this.browser.trackRenderers);\n\n            // discard DOM element's\n            discard['x'].$viewport.remove();\n            discard['y'].$viewport.remove();\n\n            // remove discard from list\n            index = this.browser.trackRenderers.indexOf(discard);\n            this.browser.trackRenderers.splice(index, 1);\n\n            discard = undefined;\n            this.doLayoutTrackXYPairCount(_.size(this.browser.trackRenderers));\n\n            this.browser.updateLayout();\n\n        } else {\n            console.log('No more tracks.');\n        }\n\n    };\n\n    hic.LayoutController.prototype.removeTrackRendererPair = function (trackRendererPair) {\n\n        var index,\n            discard;\n\n        if (_.size(this.browser.trackRenderers) > 0) {\n\n            discard = trackRendererPair;\n\n            // discard DOM element's\n            discard['x'].$viewport.remove();\n            discard['y'].$viewport.remove();\n\n            // remove discard from list\n            index = this.browser.trackRenderers.indexOf(discard);\n            this.browser.trackRenderers.splice(index, 1);\n\n            this.doLayoutTrackXYPairCount(_.size(this.browser.trackRenderers));\n\n            this.browser.updateLayout();\n\n\n        } else {\n            console.log('No more tracks.');\n        }\n\n    };\n\n    hic.LayoutController.prototype.doLayoutTrackXYPairCount = function (trackXYPairCount) {\n\n        var track_aggregate_height,\n            tokens,\n            width_calc,\n            height_calc;\n\n\n        track_aggregate_height = (0 === trackXYPairCount) ? 0 : trackXYPairCount * this.track_height;\n\n        tokens = _.map([hic.LayoutController.navbarHeight(this.browser.config.figureMode), track_aggregate_height], function (number) {\n            return number.toString() + 'px';\n        });\n        height_calc = 'calc(100% - (' + tokens.join(' + ') + '))';\n\n        tokens = _.map([track_aggregate_height, this.axis_height, this.scrollbar_height], function (number) {\n            return number.toString() + 'px';\n        });\n        width_calc = 'calc(100% - (' + tokens.join(' + ') + '))';\n\n        // x-track container\n        this.$x_track_container.height(track_aggregate_height);\n\n        // track labels\n        this.$track_shim.width(track_aggregate_height);\n\n        // x-tracks\n        this.$x_tracks.css('width', width_calc);\n\n\n        // content container\n        this.$content_container.css('height', height_calc);\n\n        // x-axis - repaint canvas\n        this.xAxisRuler.updateWidthWithCalculation(width_calc);\n\n        // y-tracks\n        this.$y_tracks.width(track_aggregate_height);\n\n        // y-axis - repaint canvas\n        this.yAxisRuler.updateHeight(this.yAxisRuler.$axis.height());\n\n        // viewport\n        this.browser.contactMatrixView.$viewport.css('width', width_calc);\n\n        // x-scrollbar\n        this.browser.contactMatrixView.scrollbarWidget.$x_axis_scrollbar_container.css('width', width_calc);\n\n    };\n\n    hic.LayoutController.prototype.doLayoutWithRootContainerSize = function (size) {\n\n        var count;\n\n        this.browser.$root.width(size.width);\n        this.browser.$root.height(size.height + hic.LayoutController.navbarHeight(this.browser.config.figureMode));\n\n        count = _.size(this.browser.trackRenderers) > 0 ? _.size(this.browser.trackRenderers) : 0;\n        this.doLayoutTrackXYPairCount(count);\n\n        this.browser.updateLayout();\n    };\n\n    return hic;\n})(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including \n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell \n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the \n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial \n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING \n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND \n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY \n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, \n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN \n * THE SOFTWARE.\n *\n */\n\n\n/**\n * @author Jim Robinson\n */\n\n\nvar hic = (function (hic) {\n\n\n    hic.NormalizationVector = function (type, chrIdx, unit, resolution, values) {\n     \n\n        var mean = hic.Math.mean(values), i;\n        if (mean > 0) {\n            for (i = 0; i < values.length; i++) {\n                values[i] /= mean;\n            }\n        }\n        \n        this.type = type;\n        this.chrIdx = chrIdx;\n        this.unit = unit;\n        this.resolution = resolution;\n        this.data = values;\n    }\n\n    hic.getNormalizationVectorKey = function (type, chrIdx, unit, resolution) {\n        return type + \"_\" + chrIdx + \"_\" + unit + \"_\" + resolution;\n    }\n\n    hic.NormalizationVector.prototype.getKey = function () {\n        return NormalizationVector.getKey(this.type, this.chrIdx, this.unit, this.resolution);\n    }\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/21/17.\n */\nvar hic = (function (hic) {\n\n    var labels =\n    {\n        NONE: 'None',\n        VC: 'Coverage',\n        VC_SQRT: 'Coverage - Sqrt',\n        KR: 'Balanced',\n        INTER_VC: 'Interchromosomal Coverage',\n        INTER_VC_SQRT: 'Interchromosomal Coverage - Sqrt',\n        INTER_KR: 'Interchromosomal Balanced',\n        GW_VC: 'Genome-wide Coverage',\n        GW_VC_SQRT: 'Genome-wide Coverage - Sqrt',\n        GW_KR: 'Genome-wide Balanced'\n    };\n\n    hic.NormalizationWidget = function (browser, $parent) {\n        var self = this,\n            $label;\n\n        this.browser = browser;\n\n        // container\n        this.$container = $(\"<div>\", { class:'hic-normalization-selector-container',  title:'Normalization' });\n        $parent.append(this.$container);\n\n        // label\n        $label = $('<div>');\n        $label.text( (true === browser.config.figureMode) ? 'Normalization' : 'Norm');\n        this.$container.append($label);\n        // $label.hide();\n\n        // select\n        this.$normalization_selector = $('<select name=\"select\">');\n        this.$normalization_selector.attr('name', 'normalization_selector');\n        this.$normalization_selector.on('change', function (e) {\n            self.browser.setNormalization($(this).val());\n        });\n        this.$container.append(this.$normalization_selector);\n\n        // spinner\n        this.$spinner = $('<div>');\n        this.$spinner.text('Loading ...');\n        this.$container.append(this.$spinner);\n        this.$spinner.hide();\n\n        this.browser.eventBus.subscribe(\"MapLoad\", this);\n        this.browser.eventBus.subscribe(\"NormVectorIndexLoad\", this);\n        this.browser.eventBus.subscribe(\"NormalizationFileLoad\", this);\n        this.browser.eventBus.subscribe(\"NormalizationExternalChange\", this);\n\n    };\n\n    hic.NormalizationWidget.prototype.startNotReady = function () {\n        this.$normalization_selector.hide();\n        this.$spinner.show();\n    };\n\n    hic.NormalizationWidget.prototype.stopNotReady = function () {\n        this.$spinner.hide();\n        this.$normalization_selector.show();\n    };\n\n    hic.NormalizationWidget.prototype.receiveEvent = function (event) {\n\n        // TODO -- this is quite fragile.  If the NormVectorIndexLoad event is received before MapLoad you'll never see the pulldown widget\n        if (\"MapLoad\" === event.type) {\n            // TODO -- start norm widget \"not ready\" state\n            this.startNotReady();\n\n            updateOptions.call(this);\n\n        } else if (\"NormVectorIndexLoad\" === event.type) {\n\n            updateOptions.call(this);\n\n            // TODO -- end norm widget \"not ready\" state\n            this.stopNotReady();\n\n        } else if (\"NormalizationFileLoad\" === event.type) {\n            if(event.data === \"start\") {\n                this.startNotReady();\n            } else {\n                this.stopNotReady();\n            }\n        }  else if (\"NormalizationExternalChange\" === event.type) {\n\n            var filter = this.$normalization_selector\n                .find('option')\n                .filter(function (index) {\n                    var s1 = this.value;\n                    var s2 = event.data;\n                    return s1 === s2;\n                })\n                .prop('selected', true);\n        }\n\n        function updateOptions() {\n            var dataset = event.data,\n                normalizationTypes,\n                elements,\n                norm = this.browser.state.normalization;\n\n            normalizationTypes = dataset.normalizationTypes;\n            if(normalizationTypes) {\n                elements = normalizationTypes.map(function (normalization) {\n                    var label,\n                        labelPresentation,\n                        isSelected,\n                        titleString,\n                        valueString;\n\n                    label = labels[normalization] || normalization;\n                    isSelected = (norm === normalization);\n                    titleString = (label === undefined ? '' : ' title = \"' + label + '\" ');\n                    valueString = ' value=' + normalization + (isSelected ? ' selected' : '');\n\n                    labelPresentation = '&nbsp &nbsp' + label + '&nbsp &nbsp';\n                    return '<option' + titleString + valueString + '>' + labelPresentation + '</option>';\n                });\n\n                this.$normalization_selector.empty();\n                this.$normalization_selector.append(elements.join(''));\n            }\n        }\n    };\n\n    return hic;\n\n})\n(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/7/17.\n */\nvar hic = (function (hic) {\n\n    hic.ScrollbarWidget = function (browser) {\n\n        var self = this,\n            id;\n\n        this.browser = browser;\n        this.isDragging = false;\n\n        // x-axis\n        id = browser.id + '_' + 'x-axis-scrollbar-container';\n        this.$x_axis_scrollbar_container = $(\"<div>\", { id:id });\n\n        id = browser.id + '_' + 'x-axis-scrollbar';\n        this.$x_axis_scrollbar = $(\"<div>\", { id:id });\n        this.$x_axis_scrollbar_container.append(this.$x_axis_scrollbar);\n\n        this.$x_label = $('<div>');\n        this.$x_label.text('');\n        this.$x_axis_scrollbar.append(this.$x_label);\n\n        // y-axis\n        id = browser.id + '_' + 'y-axis-scrollbar-container';\n        this.$y_axis_scrollbar_container = $(\"<div>\", { id:id });\n\n        id = browser.id + '_' + 'y-axis-scrollbar';\n        this.$y_axis_scrollbar = $(\"<div>\", { id:id });\n        this.$y_axis_scrollbar_container.append(this.$y_axis_scrollbar);\n\n        this.$y_label = $('<div class=\"scrollbar-label-rotation-in-place\">');\n        this.$y_label.text('');\n        this.$y_axis_scrollbar.append(this.$y_label);\n\n        // this.$x_axis_scrollbar_container.hide();\n        // this.$y_axis_scrollbar_container.hide();\n\n        // this.$x_axis_scrollbar.draggable({\n        //     containment: 'parent',\n        //     start: function() {\n        //         self.isDragging = true;\n        //     },\n        //     drag: hic.throttle(xAxisDragger, 250),\n        //     stop: function() {\n        //         self.isDragging = false;\n        //     }\n        // });\n\n        // this.$y_axis_scrollbar.draggable({\n        //\n        //     containment: 'parent',\n        //     start: function() {\n        //         self.isDragging = true;\n        //     },\n        //     drag: hic.throttle(yAxisDragger, 250),\n        //     stop: function() {\n        //         self.isDragging = false;\n        //     }\n        // });\n\n        this.browser.eventBus.subscribe(\"LocusChange\", this);\n\n        // function xAxisDragger () {\n        //     var bin,\n        //         st = self.browser.state;\n        //\n        //     bin = self.css2Bin(self.browser.hicReader.chromosomes[ self.browser.state.chr1 ], self.$x_axis_scrollbar, 'left');\n        //     self.browser.setState( new hic.State(st.chr1, st.chr2, st.zoom, bin, st.y, st.pixelSize) );\n        // }\n\n        // function yAxisDragger () {\n        //     var bin,\n        //         st = self.browser.state;\n        //\n        //     bin = self.css2Bin(self.browser.hicReader.chromosomes[ self.browser.state.chr2 ], self.$y_axis_scrollbar, 'top');\n        //     self.browser.setState( new hic.State(st.chr1, st.chr2, st.zoom, st.x, bin, st.pixelSize) );\n        // }\n    };\n\n    hic.ScrollbarWidget.prototype.css2Bin = function(chromosome, $element, attribute) {\n        var numer,\n            denom,\n            percentage;\n\n        numer = $element.css(attribute).slice(0, -2);\n        denom = $element.parent().css('left' === attribute ? 'width' : 'height').slice(0, -2);\n        percentage = parseInt(numer, 10)/parseInt(denom, 10);\n\n        return percentage * chromosome.size / this.browser.dataset.bpResolutions[ this.browser.state.zoom ];\n    };\n\n    hic.ScrollbarWidget.prototype.receiveEvent = function(event) {\n        var self = this,\n            chromosomeLengthsBin,\n            chromosomeLengthsPixel,\n            width,\n            height,\n            pixels,\n            widthBin,\n            heightBin,\n            bins,\n            percentage,\n            percentages,\n            str;\n\n        if (!this.isDragging && event.type === \"LocusChange\") {\n\n            var state = event.data.state,\n                dataset = self.browser.dataset;\n\n            if (0 === state.chr1) {\n                this.$x_axis_scrollbar.hide();\n                this.$y_axis_scrollbar.hide();\n            } else {\n\n                this.$x_axis_scrollbar.show();\n                this.$y_axis_scrollbar.show();\n\n                this.$x_axis_scrollbar_container.show();\n                this.$y_axis_scrollbar_container.show();\n\n                chromosomeLengthsBin = _.map([state.chr1, state.chr2], function (index) {\n                    // bp / bp-per-bin -> bin\n                    return dataset.chromosomes[index].size / dataset.bpResolutions[state.zoom];\n                });\n\n                chromosomeLengthsPixel = _.map(chromosomeLengthsBin, function (bin) {\n                    // bin * pixel-per-bin -> pixel\n                    return bin * state.pixelSize;\n                });\n\n                pixels = [this.browser.contactMatrixView.getViewDimensions().width, this.browser.contactMatrixView.getViewDimensions().height];\n\n                // pixel / pixel-per-bin -> bin\n                bins = [ _.first(pixels)/state.pixelSize, _.last(pixels)/state.pixelSize ];\n\n                // bin / bin -> percentage\n                percentages = _.map(bins, function(bin, i){\n                    var binPercentage,\n                        pixelPercentage;\n\n                    binPercentage = Math.min(bin, chromosomeLengthsBin[ i ]) / chromosomeLengthsBin[ i ];\n                    pixelPercentage = Math.min(chromosomeLengthsPixel[ i ], pixels[ i ])/pixels[ i ];\n                    return Math.max(1, Math.round(100 * binPercentage * pixelPercentage));\n                });\n                this.$x_axis_scrollbar.css('width', (_.first(percentages).toString() + '%'));\n                this.$y_axis_scrollbar.css('height', (_.last(percentages).toString() + '%'));\n\n\n                // bin / bin -> percentage\n                percentage = Math.round(100 * state.x / _.first(chromosomeLengthsBin));\n                percentage = percentage.toString() + '%';\n                this.$x_axis_scrollbar.css('left', percentage);\n\n                // bin / bin -> percentage\n                percentage = Math.round(100 * state.y / _.last(chromosomeLengthsBin));\n                percentage = percentage.toString() + '%';\n                this.$y_axis_scrollbar.css('top', percentage);\n\n                this.$x_label.text( dataset.chromosomes[ state.chr1 ].name );\n                this.$y_label.text( dataset.chromosomes[ state.chr2 ].name );\n\n            }\n\n        }\n    };\n\n    return hic;\n})(hic || {});\n\n/*\n *  The MIT License (MIT)\n *\n * Copyright (c) 2016-2017 The Regents of the University of California\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n * associated documentation files (the \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial\n * portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * Created by dat on 3/14/17.\n */\nvar hic = (function (hic) {\n\n    hic.SweepZoom = function (browser, $target) {\n        var id;\n\n        id = browser.id + '_' + 'sweep-zoom-container';\n\n        this.browser = browser;\n        this.$rulerSweeper = $(\"<div>\", {id: id});\n        this.$rulerSweeper.hide();\n        this.$target = $target;\n        this.sweepRect = {};\n    };\n\n    hic.SweepZoom.prototype.initialize = function (pageCoords) {\n\n        this.anchor = pageCoords;\n        this.coordinateFrame = this.$rulerSweeper.parent().offset();\n        this.aspectRatio = this.$target.width() / this.$target.height();\n        this.sweepRect.x = {\n            x: pageCoords.x,\n            y: pageCoords.y,\n            width: 1,\n            height: 1\n        };\n        this.clipped = {value: false};\n    };\n\n    hic.SweepZoom.prototype.update = function (pageCoords) {\n\n        var anchor = this.anchor,\n            dx = Math.abs(pageCoords.x - anchor.x),\n            dy = Math.abs(pageCoords.y - anchor.y);\n\n        // Adjust deltas to conform to aspect ratio\n        if (dx / dy > this.aspectRatio) {\n            dy = dx / this.aspectRatio;\n        } else {\n            dx = dy * this.aspectRatio;\n        }\n\n        this.sweepRect.width = dx;\n        this.sweepRect.height = dy;\n        this.sweepRect.x = anchor.x < pageCoords.x ? anchor.x : anchor.x - dx;\n        this.sweepRect.y = anchor.y < pageCoords.y ? anchor.y : anchor.y - dy;\n\n\n        this.$rulerSweeper.width(this.sweepRect.width);\n        this.$rulerSweeper.height(this.sweepRect.height);\n\n\n        this.$rulerSweeper.offset(\n            {\n                left: this.sweepRect.x,\n                top: this.sweepRect.y\n            }\n        );\n        this.$rulerSweeper.show();\n\n    };\n\n    hic.SweepZoom.prototype.commit = function () {\n        var state,\n            resolution,\n            posX,\n            posY,\n            x,\n            y,\n            width,\n            height,\n            xMax,\n            yMax,\n            minimumResolution;\n\n        this.$rulerSweeper.hide();\n\n        state = this.browser.state;\n\n        // bp-per-bin\n        resolution = this.browser.resolution();\n\n        // Convert page -> offset coordinates\n        posX = this.sweepRect.x - this.$target.offset().left;\n        posY = this.sweepRect.y - this.$target.offset().top;\n\n\n        // bp = ((bin + pixel/pixel-per-bin) / bp-per-bin)\n        x = (state.x + (posX / state.pixelSize)) * resolution;\n        y = (state.y + (posY / state.pixelSize)) * resolution;\n\n        // bp = ((bin + pixel/pixel-per-bin) / bp-per-bin)\n        width = (this.sweepRect.width / state.pixelSize) * resolution;\n        height = (this.sweepRect.height / state.pixelSize) * resolution;\n\n        // bp = bp + bp\n        xMax = x + width;\n        yMax = y + height;\n\n        minimumResolution = this.browser.dataset.bpResolutions[ this.browser.dataset.bpResolutions.length - 1 ];\n        this.browser.goto(state.chr1, x, xMax, state.chr2, y, yMax, minimumResolution);\n\n    };\n\n\n    return hic;\n})(hic || {});\n\n/**\n * Created by dat on 5/3/17.\n */\n\nvar hic = (function (hic) {\n\n    hic.TrackLabel = function ($track) {\n\n        var $container;\n\n        this.$track = $track;\n\n        $('.clickedit')\n            .hide()\n            .focusout(endEdit)\n            .keyup(function(e) {\n                if ((e.which && 13 === e.which) || (e.keyCode && 13 === e.keyCode)) {\n                    endEdit(e);\n                    return false;\n                } else {\n                    return true;\n                }\n            })\n            .prev()\n            .click(function() {\n                $(this).hide();\n                $(this)\n                    .next()\n                    .show()\n                    .focus();\n            });\n\n        function endEdit(e) {\n            var input,\n                label,\n                str;\n\n            input = $(e.target);\n            str = ('' === input.val()) ? hic.TrackLabel.defaultText() : input.val();\n\n            label = input && input.prev();\n            label.text(str);\n\n            input.hide();\n            label.show();\n        }\n\n    };\n\n    hic.TrackLabel.defaultText = function () {\n        return 'Untitled';\n    };\n\n    return hic;\n})(hic || {});\n\n\n\n\n\n\n\n\n/**\n * Created by dat on 5/7/17.\n */\n\nvar hic = (function (hic) {\n\n    hic.TrackMenuReplacement = function (browser) {\n        this.browser = browser;\n    };\n\n    hic.TrackMenuReplacement.prototype.popoverPresentTrackGearMenuReplacement = function (pageX, pageY, trackView) {\n\n        var $container,\n            items;\n\n        items = igv.trackMenuItemList(this, trackView);\n        if (_.size(items) > 0) {\n\n            this.$popoverContent.empty();\n            this.$popoverContent.removeClass(\"igv-popover-track-popup-content\");\n\n            $container = $('<div class=\"igv-track-menu-container\">');\n            this.$popoverContent.append($container);\n\n            _.each(items, function(item) {\n\n                if (item.init) {\n                    item.init();\n                }\n\n                $container.append(item.object);\n\n            });\n\n            this.$popover.css({ left: pageX + 'px', top: pageY + 'px' });\n            this.$popover.show();\n        }\n    };\n\n    hic.TrackMenuReplacement.prototype.trackMenuItemList_Replacement = function (popover, trackRenderer) {\n\n        var menuItems = [];\n\n        menuItems.push(hic.trackRenameMenuItem(trackRenderer));\n\n        if (trackRenderer.track.menuItemList) {\n            menuItems = menuItems.concat(trackRenderer.track.menuItemList());\n        }\n\n        menuItems.push('<hr/>');\n        menuItems.push(hic.trackRemovalMenuItem(trackRenderer));\n\n        return menuItems;\n    };\n\n    hic.trackRenameMenuItem = function (trackRenderer) {\n\n        var $e, menuClickHandler;\n\n        $e = $('<div>');\n        $e.text('Set track name');\n\n        menuClickHandler = function menuClickHandler() {\n\n            var dialogClickHandler;\n\n            dialogClickHandler = function dialogClickHandler() {\n                var value = trackRenderer.browser.inputDialog.$input.val().trim();\n                value = ('' === value || undefined === value) ? 'untitled' : value;\n                trackRenderer.setTrackName(value);\n            };\n\n            trackRenderer.browser.inputDialog.configure({\n                label: 'Track Name',\n                input: trackRenderer.track.name,\n                click: dialogClickHandler\n            });\n            trackRenderer.browser.inputDialog.present($(trackRenderer.trackDiv));\n        };\n\n        return { object: $e, click: menuClickHandler };\n    };\n\n    hic.trackRemovalMenuItem = function (trackRenderer) {\n\n        var $e, menuClickHandler;\n\n        $e = $('<div>');\n        $e.text('Remove track');\n\n        menuClickHandler = function menuClickHandler() {\n            var browser = trackRenderer.browser;\n            browser.layoutController.removeTrackRendererPair(trackRenderer.trackRenderPair);\n        };\n\n        return { object: $e, click: menuClickHandler };\n    };\n\n    hic.TrackMenuReplacement.prototype.DEPRICATED_trackMenuItemList_Replacement = function (popover, trackRenderer) {\n\n        var self = this,\n            menuItems = [],\n            all;\n\n        menuItems.push(\n            igv.trackMenuItem(\n                popover,\n                trackRenderer,\n                \"Set track name\",\n                function () {\n                    return \"Track Name\"\n                },\n                trackRenderer.track.name,\n                function () {\n\n                    // var value = igv.dialog.$dialogInput.val().trim();\n                    //\n                    // trackRenderer.track.name = ('' === value || undefined === value) ? 'untitled' : value;\n                    //\n                    // trackRenderer.$label.text(trackRenderer.track.name);\n                },\n                undefined));\n\n        all = [];\n        if (trackRenderer.track.menuItemList) {\n            all = menuItems.concat( igv.trackMenuItemListHelper(trackRenderer.track.menuItemList(popover)) );\n        }\n\n        all.push(\n            igv.trackMenuItem(\n                popover,\n                trackRenderer,\n                \"Remove track\",\n                function () {\n                    var label = \"Remove \" + trackRenderer.track.name;\n                    return '<div class=\"igv-dialog-label-centered\">' + label + '</div>';\n                },\n                undefined,\n                function () {\n                    var browser;\n\n                    browser = trackRenderer.browser;\n                    browser.layoutController.removeTrackRendererPair(trackRenderer.trackRenderPair);\n                    popover.hide();\n                },\n                true));\n\n        return all;\n    };\n\n    hic.TrackMenuReplacement.prototype.trackMenuItem_Replacement = function (trackRenderer, menuItemLabel, dialogLabelHandler, dialogInputValue, dialogClickHandler) {\n\n        var $e,\n            clickHandler;\n\n        $e = $('<div>');\n        $e.text(menuItemLabel);\n\n        clickHandler = function () {\n\n            igv.inputDialog.configure(dialogLabelHandler, dialogInputValue, dialogClickHandler, undefined, undefined);\n            igv.inputDialog.show(trackRenderer.$viewport);\n\n        };\n\n        return { object: $e, click: clickHandler };\n\n    };\n\n\n    return hic;\n})(hic || {});\n\n\n/**\n * Created by dat on 4/5/17.\n */\nvar hic = (function (hic) {\n\n    hic.TrackRenderer = function (browser, size, $container, trackRenderPair, trackPair, axis, order) {\n\n        this.browser = browser;\n\n        this.trackRenderPair = trackRenderPair;\n\n        this.track = trackPair[axis];\n\n        this.id = _.uniqueId('trackRenderer_');\n        this.axis = axis;\n        this.initializationHelper($container, size, order);\n    };\n\n    hic.TrackRenderer.prototype.initializationHelper = function ($container, size, order) {\n\n        var self = this,\n            str,\n            doShowLabelAndGear,\n            $x_track_label,\n            $x_track_menu_container,\n            spinner;\n\n        // track canvas container\n        this.$viewport = ('x' === this.axis) ? $('<div class=\"x-track-canvas-container\">') : $('<div class=\"y-track-canvas-container\">');\n        if (size.width) {\n            this.$viewport.width(size.width);\n        }\n        if (size.height) {\n            this.$viewport.height(size.height);\n        }\n        $container.append(this.$viewport);\n        this.$viewport.css({order: order});\n\n        // canvas\n        this.$canvas = $('<canvas>');\n        this.$viewport.append(this.$canvas);\n        this.ctx = this.$canvas.get(0).getContext(\"2d\");\n\n        if ('x' === this.axis) {\n\n            // label\n            this.$label = $('<div class=\"x-track-label\">');\n            str = this.track.name || 'untitled';\n            this.$label.text(str);\n\n            // note the pre-existing state of track labels/gear. hide/show accordingly.\n            $x_track_label = $container.find(this.$label);\n            doShowLabelAndGear = (0 === _.size($x_track_label)) ? true : $x_track_label.is(':visible');\n\n            this.$viewport.append(this.$label);\n        }\n\n        // IGV STYLE SPINNER\n        // spinner = igv.spinner(\"24px\")\n        // if ('x' === this.axis) {\n        //     spinner.style.position = \"absolute\";\n        //     spinner.style.left = \"0px\";\n        //     spinner.style.top = \"0px\"\n        // }\n        // this.$viewport[0].appendChild(spinner);\n\n        // track spinner container\n        this.$spinner = ('x' === this.axis) ? $('<div class=\"x-track-spinner\">') : $('<div class=\"y-track-spinner\">');\n        this.$viewport.append(this.$spinner);\n\n        // throbber\n        // size: see $hic-viewport-spinner-size in .scss files\n        this.throbber = Throbber({color: 'rgb(64, 64, 64)', size: 32, padding: 7});\n        this.throbber.appendTo(this.$spinner.get(0));\n        this.stopSpinner();\n\n        if ('x' === this.axis) {\n\n            this.$menu_container = $('<div class=\"x-track-menu-container\">');\n            this.$viewport.append(this.$menu_container);\n\n            this.$menu_button = $('<i class=\"fa fa-cog\" aria-hidden=\"true\">');\n            this.$menu_container.append(this.$menu_button);\n\n            this.$menu_button.click(function (e) {\n                e.stopPropagation();\n                igv.popover.presentTrackGearMenu(e.pageX, e.pageY, self, igv.browser);\n            });\n\n            this.$viewport.on('click', function (e) {\n\n                e.stopPropagation();\n\n                // self.$label.toggle();\n                // self.$menu_container.toggle();\n\n                $container.find('.x-track-label').toggle();\n                $container.find('.x-track-menu-container').toggle();\n            });\n\n            if (doShowLabelAndGear) {\n                this.$label.show();\n                this.$menu_container.show();\n            } else {\n                this.$label.hide();\n                this.$menu_container.hide();\n            }\n\n            // compatibility with igv menus\n            this.track.trackView = this;\n            this.track.trackView.trackDiv = this.$viewport.get(0);\n\n        }\n\n        this.configTrackTransforms();\n\n    };\n\n    hic.TrackRenderer.prototype.configTrackTransforms = function () {\n\n        this.canvasTransform = ('y' === this.axis) ? hic.reflectionRotationWithContext : hic.identityTransformWithContext;\n\n        this.labelReflectionTransform = ('y' === this.axis) ? hic.reflectionAboutYAxisAtOffsetWithContext : function (context, exe) { /* nuthin */\n        };\n\n    };\n\n    hic.TrackRenderer.prototype.syncCanvas = function () {\n\n        this.$canvas.width(this.$viewport.width());\n        this.$canvas.attr('width', this.$viewport.width());\n\n        this.$canvas.height(this.$viewport.height());\n        this.$canvas.attr('height', this.$viewport.height());\n\n    };\n\n    hic.TrackRenderer.prototype.setTrackName = function (name) {\n\n        if ('x' === this.axis) {\n            this.track.name = name;\n            this.$label.text(name);\n        }\n\n    };\n\n    hic.TrackRenderer.prototype.setColor = function (color) {\n\n        setColor(this.trackRenderPair.x);\n        setColor(this.trackRenderPair.y);\n\n        function setColor(trackRenderer) {\n            trackRenderer.tile = undefined;\n            trackRenderer.track.color = color;\n        }\n\n        this.browser.renderTrackXY(this.trackRenderPair);\n\n    };\n\n    hic.TrackRenderer.prototype.dataRange = function () {\n        return this.track.dataRange ? this.track.dataRange : undefined;\n    };\n\n    hic.TrackRenderer.prototype.setDataRange = function (min, max, autoscale) {\n\n        setDataRange.call(this.trackRenderPair.x);\n        setDataRange.call(this.trackRenderPair.y);\n\n        function setDataRange() {\n\n            this.tile = undefined\n\n            this.track.dataRange = {\n                min: min,\n                max: max\n            }\n\n            this.track.autscale = autoscale;\n        }\n\n        this.browser.renderTrackXY(this.trackRenderPair);\n\n    };\n\n    /**\n     * Return a promise to get the renderer ready to paint,  that is with a valid tile, loading features\n     * and drawing tile if neccessary.\n     *\n     * @returns {*}\n     */\n    hic.TrackRenderer.prototype.readyToPaint = function () {\n        var self = this,\n            genomicState, chrName, lengthPixel, lengthBP, startBP, endBP;\n\n        genomicState = self.browser.genomicState(self.axis);\n        chrName = genomicState.chromosome.name;\n\n        if (self.tile && self.tile.containsRange(chrName, genomicState.startBP, genomicState.endBP, genomicState.bpp)) {\n\n            return Promise.resolve();\n\n        } else if (genomicState.bpp * Math.max(self.$canvas.width(), self.$canvas.height()) > self.track.visibilityWindow) {\n\n            return Promise.resolve();\n\n        } else {\n\n            // Expand the requested range so we can pan a bit without reloading\n            lengthPixel = 3 * Math.max(self.$canvas.width(), self.$canvas.height());\n            lengthBP = Math.round(genomicState.bpp * lengthPixel);\n            startBP = Math.max(0, Math.round(genomicState.startBP - lengthBP / 3));\n            endBP = startBP + lengthBP;\n\n            self.startSpinner();\n\n            return self.track\n\n                .getFeatures(genomicState.chromosome.name, startBP, endBP, genomicState.bpp)\n\n                .then(function (features) {\n\n                    var buffer, ctx;\n                    buffer = document.createElement('canvas');\n                    buffer.width = 'x' === self.axis ? lengthPixel : self.$canvas.width();\n                    buffer.height = 'x' === self.axis ? self.$canvas.height() : lengthPixel;\n                    ctx = buffer.getContext(\"2d\");\n                    if (features) {\n\n                        if (features.length === 0) {\n                            console.log(\"Zero\");\n                        }\n\n                        self.canvasTransform(ctx);\n\n                        self.drawConfiguration =\n                            {\n                                features: features,\n                                context: ctx,\n                                pixelWidth: lengthPixel,\n                                pixelHeight: Math.min(buffer.width, buffer.height),\n                                bpStart: startBP,\n                                bpEnd: endBP,\n                                bpPerPixel: genomicState.bpp,\n                                genomicState: genomicState,\n                                viewportContainerX: (genomicState.startBP - startBP) / genomicState.bpp,\n                                viewportContainerWidth: Math.max(self.$canvas.width(), self.$canvas.height()),\n                                labelTransform: self.labelReflectionTransform\n                            };\n\n                        self.track.draw(self.drawConfiguration);\n\n\n                    } else {\n                        ctx.clearRect(0, 0, self.$canvas.width(), self.$canvas.height());\n                    }\n\n                    self.tile = new Tile(chrName, startBP, endBP, genomicState.bpp, buffer);\n                    return \"OK\";\n\n                })\n        }\n    }\n\n    /**\n     *\n     */\n    hic.TrackRenderer.prototype.repaint = function () {\n\n        var self = this,\n            genomicState,\n            chrName;\n\n        genomicState = self.browser.genomicState(self.axis);\n        if (!this.checkZoomIn()) {\n                self.tile = undefined;\n                self.ctx.clearRect(0, 0, self.$canvas.width(), self.$canvas.height());\n            }\n\n\n        chrName = genomicState.chromosome.name;\n\n        if (self.tile && self.tile.containsRange(chrName, genomicState.startBP, genomicState.endBP, genomicState.bpp)) {\n            self.drawTileWithGenomicState(self.tile, genomicState);\n\n        } else {\n            self.readyToPaint()\n                .then(function (ignore) {\n                    self.drawTileWithGenomicState(self.tile, genomicState);\n                })\n                .catch(function (error) {\n                    console.error(error);\n                })\n\n        }\n\n    };\n\n    hic.TrackRenderer.prototype.checkZoomIn = function () {\n\n        if (this.track.visibilityWindow && this.track.visibilityWindow > 0) {\n\n            if ((genomicState.bpp * Math.max(this.$canvas.width(), this.$canvas.height()) > this.track.visibilityWindow)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n\n    hic.TrackRenderer.prototype.drawTileWithGenomicState = function (tile, genomicState) {\n\n        if (tile) {\n\n            this.ctx.clearRect(0, 0, this.$canvas.width(), this.$canvas.height());\n\n            this.offsetPixel = Math.round((tile.startBP - genomicState.startBP) / genomicState.bpp);\n            if ('x' === this.axis) {\n                this.ctx.drawImage(tile.buffer, this.offsetPixel, 0);\n            } else {\n                this.ctx.drawImage(tile.buffer, 0, this.offsetPixel);\n            }\n\n            // this.ctx.save();\n            // this.ctx.restore();\n        }\n    };\n\n    hic.TrackRenderer.prototype.startSpinner = function () {\n\n        this.browser.startSpinner();\n\n        //igv.startSpinnerAtParentElement(this.$viewport[0]);\n\n        //    this.$spinner.show();\n        //    this.throbber.start();\n        //    console.log(\"Spinner show\");\n    };\n\n    hic.TrackRenderer.prototype.stopSpinner = function () {\n\n        this.browser.stopSpinner();\n\n        //igv.stopSpinnerAtParentElement(this.$viewport[0]);\n\n        //    this.throbber.stop();\n        //    this.$spinner.hide();\n        //    console.log(\"Spinner stop\");\n    };\n\n    hic.TrackRenderer.prototype.isLoading = function () {\n        return !(undefined === this.loading);\n    };\n\n    Tile = function (chr, startBP, endBP, bpp, buffer) {\n        this.chr = chr;\n        this.startBP = startBP;\n        this.endBP = endBP;\n        this.bpp = bpp;\n        this.buffer = buffer;\n    };\n\n    Tile.prototype.containsRange = function (chr, startBP, endBP, bpp) {\n        return chr === this.chr && this.bpp === bpp && this.startBP <= startBP && this.endBP >= endBP;\n    };\n\n    return hic;\n\n})\n(hic || {});\n\n// Just return a value to define the module export.\n//\nreturn hic;\n})()"],"sourceRoot":""}