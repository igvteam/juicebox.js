!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.hic=e():t.hic=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(e,n,r){var o,s,a,l;function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){h(o,r,i,s,a,"next",t)}function a(t){h(o,r,i,s,a,"throw",t)}s(void 0)})}}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports=function(){var h,f,d=r(1);
/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */f="undefined"!=typeof window?window:this,h=function(t){var e=[],r=t.document,i=e.slice,s=e.concat,l=e.push,c=e.indexOf,h={},u=h.toString,f=h.hasOwnProperty,d={},g=function t(e,n){return new t.fn.init(e,n)},m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,y=/-([\da-z])/gi,w=function(t,e){return e.toUpperCase()};function b(t){var e=!!t&&"length"in t&&t.length,n=g.type(t);return"function"!==n&&!g.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}g.fn=g.prototype={jquery:"1.12.4",constructor:g,selector:"",length:0,toArray:function(){return i.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:i.call(this)},pushStack:function(t){var e=g.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return g.each(this,t)},map:function(t){return this.pushStack(g.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},g.extend=g.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"===p(s)||g.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(i=arguments[a]))for(r in i)t=s[r],s!==(n=i[r])&&(c&&n&&(g.isPlainObject(n)||(e=g.isArray(n)))?(e?(e=!1,o=t&&g.isArray(t)?t:[]):o=t&&g.isPlainObject(t)?t:{},s[r]=g.extend(c,o,n)):void 0!==n&&(s[r]=n));return s},g.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===g.type(t)},isArray:Array.isArray||function(t){return"array"===g.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!g.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==g.type(t)||t.nodeType||g.isWindow(t))return!1;try{if(t.constructor&&!f.call(t,"constructor")&&!f.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!d.ownFirst)for(e in t)return f.call(t,e);for(e in t);return void 0===e||f.call(t,e)},type:function(t){return null==t?t+"":"object"===p(t)||"function"==typeof t?h[u.call(t)]||"object":p(t)},globalEval:function(e){e&&g.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(v,"ms-").replace(y,w)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(b(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(m,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(b(Object(t))?g.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){var r;if(e){if(c)return c.call(e,t,n);for(r=e.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;)t[i++]=e[r++];if(n!=n)for(;void 0!==e[r];)t[i++]=e[r++];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(b(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return s.apply([],a)},guid:1,proxy:function(t,e){var n,r,o;if("string"==typeof e&&(o=t[e],e=t,t=o),g.isFunction(t))return n=i.call(arguments,2),r=function(){return t.apply(e||this,n.concat(i.call(arguments)))},r.guid=t.guid=t.guid||g.guid++,r},now:function(){return+new Date},support:d}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=e[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){h["[object "+e+"]"]=e.toLowerCase()});var x=
/*!
         * Sizzle CSS Selector Engine v2.2.1
         * http://sizzlejs.com/
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license
         * http://jquery.org/license
         *
         * Date: 2015-10-17
         */
function(t){var e,n,r,i,o,s,a,l,c,h,u,p,f,d,g,m,v,y,w,b="sizzle"+1*new Date,x=t.document,C=0,k=0,S=ot(),_=ot(),T=ot(),M=function(t,e){return t===e&&(u=!0),0},D=1<<31,R={}.hasOwnProperty,E=[],L=E.pop,B=E.push,A=E.push,$=E.slice,z=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F="\\["+I+"*("+P+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+I+"*\\]",O=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(I+"+","g"),j=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),U=new RegExp("^"+I+"*,"+I+"*"),W=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),V=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),q=new RegExp(O),G=new RegExp("^"+P+"$"),K={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),nt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},rt=function(){p()};try{A.apply(E=$.call(x.childNodes),x.childNodes),E[x.childNodes.length].nodeType}catch(t){A={apply:E.length?function(t,e){B.apply(t,$.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function it(t,e,r,i){var o,a,c,h,u,d,v,y,C=e&&e.ownerDocument,k=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==k&&9!==k&&11!==k)return r;if(!i&&((e?e.ownerDocument||e:x)!==f&&p(e),e=e||f,g)){if(11!==k&&(d=J.exec(t)))if(o=d[1]){if(9===k){if(!(c=e.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(C&&(c=C.getElementById(o))&&w(e,c)&&c.id===o)return r.push(c),r}else{if(d[2])return A.apply(r,e.getElementsByTagName(t)),r;if((o=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!T[t+" "]&&(!m||!m.test(t))){if(1!==k)C=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((h=e.getAttribute("id"))?h=h.replace(tt,"\\$&"):e.setAttribute("id",h=b),v=s(t),a=v.length,u=G.test(h)?"#"+h:"[id='"+h+"']";a--;)v[a]=u+" "+gt(v[a]);y=v.join(","),C=Q.test(t)&&ft(e.parentNode)||e}if(y)try{return A.apply(r,C.querySelectorAll(y)),r}catch(t){}finally{h===b&&e.removeAttribute("id")}}}return l(t.replace(j,"$1"),e,r,i)}function ot(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function st(t){return t[b]=!0,t}function at(t){var e=f.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ct(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||D)-(~t.sourceIndex||D);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function ut(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return st(function(e){return e=+e,st(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=it.support={},o=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},p=it.setDocument=function(t){var e,i,s=t?t.ownerDocument||t:x;return s!==f&&9===s.nodeType&&s.documentElement?(d=(f=s).documentElement,g=!o(f),(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=at(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=at(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(f.getElementsByClassName),n.getById=at(function(t){return d.appendChild(t).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),n.getById?(r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}},r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}}):(delete r.find.ID,r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=Y.test(f.querySelectorAll))&&(at(function(t){d.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+I+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+I+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),at(function(t){var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+I+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(t){n.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",O)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=Y.test(d.compareDocumentPosition),w=e||Y.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},M=e?function(t,e){if(t===e)return u=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===f||t.ownerDocument===x&&w(x,t)?-1:e===f||e.ownerDocument===x&&w(x,e)?1:h?z(h,t)-z(h,e):0:4&r?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t===f?-1:e===f?1:i?-1:o?1:h?z(h,t)-z(h,e):0;if(i===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?ct(s[r],a[r]):s[r]===x?-1:a[r]===x?1:0},f):f},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&p(t),e=e.replace(V,"='$1']"),n.matchesSelector&&g&&!T[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return it(e,f,null,[t]).length>0},it.contains=function(t,e){return(t.ownerDocument||t)!==f&&p(t),w(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==f&&p(t);var i=r.attrHandle[e.toLowerCase()],o=i&&R.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,r=[],i=0,o=0;if(u=!n.detectDuplicates,h=!n.sortStable&&t.slice(0),t.sort(M),u){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return h=null,t},i=it.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=it.selectors={cacheLength:50,createPseudo:st,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+I+")"+t+"("+I+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=it.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var c,h,u,p,f,d,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,w=!1;if(m){if(o){for(;g;){for(p=e;p=p[g];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&y){for(u=(p=m)[b]||(p[b]={}),h=u[p.uniqueID]||(u[p.uniqueID]={}),c=h[t]||[],f=c[0]===C&&c[1],w=f&&c[2],p=f&&m.childNodes[f];p=++f&&p&&p[g]||(w=f=0)||d.pop();)if(1===p.nodeType&&++w&&p===e){h[t]=[C,f,w];break}}else if(y&&(u=(p=e)[b]||(p[b]={}),h=u[p.uniqueID]||(u[p.uniqueID]={}),c=h[t]||[],f=c[0]===C&&c[1],w=f),!1===w)for(;(p=++f&&p&&p[g]||(w=f=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++w||(y&&(u=p[b]||(p[b]={}),(h=u[p.uniqueID]||(u[p.uniqueID]={}))[t]=[C,w]),p!==e)););return(w-=i)===r||w%r==0&&w/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var r,o=i(t,e),s=o.length;s--;)r=z(t,o[s]),t[r]=!(n[r]=o[s])}):function(t){return i(t,0,n)}):i}},pseudos:{not:st(function(t){var e=[],n=[],r=a(t.replace(j,"$1"));return r[b]?st(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return it(t,e).length>0}}),contains:st(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:st(function(t){return G.test(t||"")||it.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:pt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ut(e);function dt(){}function gt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function mt(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=k++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,l,c,h=[C,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(c=e[b]||(e[b]={}),l=c[e.uniqueID]||(c[e.uniqueID]={}),(a=l[r])&&a[0]===C&&a[1]===o)return h[2]=a[2];if(l[r]=h,h[2]=t(e,n,s))return!0}}}function vt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function yt(t,e,n,r,i){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function wt(t,e,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),st(function(o,s,a,l){var c,h,u,p=[],f=[],d=s.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)it(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:yt(g,p,t,a,l),v=n?i||(o?t:d||r)?[]:s:m;if(n&&n(m,v,a,l),r)for(c=yt(v,f),r(c,[],a,l),h=c.length;h--;)(u=c[h])&&(v[f[h]]=!(m[f[h]]=u));if(o){if(i||t){if(i){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(m[h]=u);i(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=i?z(o,u):p[h])>-1&&(o[c]=!(s[c]=u))}}else v=yt(v===s?v.splice(d,v.length):v),i?i(null,s,v,l):A.apply(s,v)})}function bt(t){for(var e,n,i,o=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],l=s?1:0,h=mt(function(t){return t===e},a,!0),u=mt(function(t){return z(e,t)>-1},a,!0),p=[function(t,n,r){var i=!s&&(r||n!==c)||((e=n).nodeType?h(t,n,r):u(t,n,r));return e=null,i}];l<o;l++)if(n=r.relative[t[l].type])p=[mt(vt(p),n)];else{if((n=r.filter[t[l].type].apply(null,t[l].matches))[b]){for(i=++l;i<o&&!r.relative[t[i].type];i++);return wt(l>1&&vt(p),l>1&&gt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(j,"$1"),n,l<i&&bt(t.slice(l,i)),i<o&&bt(t=t.slice(i)),i<o&&gt(t))}p.push(n)}return vt(p)}return dt.prototype=r.filters=r.pseudos,r.setFilters=new dt,s=it.tokenize=function(t,e){var n,i,o,s,a,l,c,h=_[t+" "];if(h)return e?0:h.slice(0);for(a=t,l=[],c=r.preFilter;a;){for(s in n&&!(i=U.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),n=!1,(i=W.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(j," ")}),a=a.slice(n.length)),r.filter)!(i=K[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?it.error(t):_(t,l).slice(0)},a=it.compile=function(t,e){var n,i=[],o=[],a=T[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=bt(e[n]))[b]?i.push(a):o.push(a);(a=T(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,s,a,l,h){var u,d,m,v=0,y="0",w=o&&[],b=[],x=c,k=o||i&&r.find.TAG("*",h),S=C+=null==x?1:Math.random()||.1,_=k.length;for(h&&(c=s===f||s||h);y!==_&&null!=(u=k[y]);y++){if(i&&u){for(d=0,s||u.ownerDocument===f||(p(u),a=!g);m=t[d++];)if(m(u,s||f,a)){l.push(u);break}h&&(C=S)}n&&((u=!m&&u)&&v--,o&&w.push(u))}if(v+=y,n&&y!==v){for(d=0;m=e[d++];)m(w,b,s,a);if(o){if(v>0)for(;y--;)w[y]||b[y]||(b[y]=L.call(l));b=yt(b)}A.apply(l,b),h&&!o&&b.length>0&&v+e.length>1&&it.uniqueSort(l)}return h&&(C=S,c=x),w};return n?st(o):o}(o,i))).selector=t}return a},l=it.select=function(t,e,i,o){var l,c,h,u,p,f="function"==typeof t&&t,d=!o&&s(t=f.selector||t);if(i=i||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(h=c[0]).type&&n.getById&&9===e.nodeType&&g&&r.relative[c[1].type]){if(!(e=(r.find.ID(h.matches[0].replace(et,nt),e)||[])[0]))return i;f&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(l=K.needsContext.test(t)?0:c.length;l--&&(h=c[l],!r.relative[u=h.type]);)if((p=r.find[u])&&(o=p(h.matches[0].replace(et,nt),Q.test(c[0].type)&&ft(e.parentNode)||e))){if(c.splice(l,1),!(t=o.length&&gt(c)))return A.apply(i,o),i;break}}return(f||a(t,d))(o,e,!g,i,!e||Q.test(t)&&ft(e.parentNode)||e),i},n.sortStable=b.split("").sort(M).join("")===b,n.detectDuplicates=!!u,p(),n.sortDetached=at(function(t){return 1&t.compareDocumentPosition(f.createElement("div"))}),at(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&at(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),at(function(t){return null==t.getAttribute("disabled")})||lt(N,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),it}(t);g.find=x,g.expr=x.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=x.uniqueSort,g.text=x.getText,g.isXMLDoc=x.isXML,g.contains=x.contains;var C=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&g(t).is(n))break;r.push(t)}return r},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},S=g.expr.match.needsContext,_=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,T=/^.[^:#\[\.,]*$/;function M(t,e,n){if(g.isFunction(e))return g.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return g.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(T.test(e))return g.filter(e,t,n);e=g.filter(e,t)}return g.grep(t,function(t){return g.inArray(t,e)>-1!==n})}g.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?g.find.matchesSelector(r,t)?[r]:[]:g.find.matches(t,g.grep(e,function(t){return 1===t.nodeType}))},g.fn.extend({find:function(t){var e,n=[],r=this,i=r.length;if("string"!=typeof t)return this.pushStack(g(t).filter(function(){for(e=0;e<i;e++)if(g.contains(r[e],this))return!0}));for(e=0;e<i;e++)g.find(t,r[e],n);return(n=this.pushStack(i>1?g.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&S.test(t)?g(t):t||[],!1).length}});var D,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||D,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:R.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof g?e[0]:e,g.merge(this,g.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:r,!0)),_.test(i[1])&&g.isPlainObject(e))for(i in e)g.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=r.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return D.find(t);this.length=1,this[0]=o}return this.context=r,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):g.isFunction(t)?void 0!==n.ready?n.ready(t):t(g):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),g.makeArray(t,this))}).prototype=g.fn,D=g(r);var E=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}g.fn.extend({has:function(t){var e,n=g(t,this),r=n.length;return this.filter(function(){for(e=0;e<r;e++)if(g.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=S.test(t)||"string"!=typeof t?g(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?g.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?g.inArray(this[0],g(t)):g.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),g.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C(t,"parentNode")},parentsUntil:function(t,e,n){return C(t,"parentNode",n)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return C(t,"nextSibling")},prevAll:function(t){return C(t,"previousSibling")},nextUntil:function(t,e,n){return C(t,"nextSibling",n)},prevUntil:function(t,e,n){return C(t,"previousSibling",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return g.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:g.merge([],t.childNodes)}},function(t,e){g.fn[t]=function(n,r){var i=g.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=g.filter(r,i)),this.length>1&&(L[t]||(i=g.uniqueSort(i)),E.test(t)&&(i=i.reverse())),this.pushStack(i)}});var A,$,z=/\S+/g;function N(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",I),t.removeEventListener("load",I)):(r.detachEvent("onreadystatechange",I),t.detachEvent("onload",I))}function I(){(r.addEventListener||"load"===t.event.type||"complete"===r.readyState)&&(N(),g.ready())}for($ in g.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return g.each(t.match(z)||[],function(t,n){e[n]=!0}),e}(t):g.extend({},t);var e,n,r,i,o=[],s=[],a=-1,l=function(){for(i=t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){g.each(n,function(n,r){g.isFunction(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==g.type(r)&&e(r)})}(arguments),n&&!e&&l()),this},remove:function(){return g.each(arguments,function(t,e){for(var n;(n=g.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?g.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},g.extend({Deferred:function(t){var e=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return g.Deferred(function(n){g.each(e,function(e,o){var s=g.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&g.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?g.extend(t,r):r}},i={};return r.pipe=r.then,g.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,o=0,s=i.call(arguments),a=s.length,l=1!==a||t&&g.isFunction(t.promise)?a:0,c=1===l?t:g.Deferred(),h=function(t,n,r){return function(o){n[t]=this,r[t]=arguments.length>1?i.call(arguments):o,r===e?c.notifyWith(n,r):--l||c.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)s[o]&&g.isFunction(s[o].promise)?s[o].promise().progress(h(o,n,e)).done(h(o,r,s)).fail(c.reject):--l;return l||c.resolveWith(r,s),c.promise()}}),g.fn.ready=function(t){return g.ready.promise().done(t),this},g.extend({isReady:!1,readyWait:1,holdReady:function(t){t?g.readyWait++:g.ready(!0)},ready:function(t){(!0===t?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==t&&--g.readyWait>0||(A.resolveWith(r,[g]),g.fn.triggerHandler&&(g(r).triggerHandler("ready"),g(r).off("ready"))))}}),g.ready.promise=function(e){if(!A)if(A=g.Deferred(),"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll)t.setTimeout(g.ready);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",I),t.addEventListener("load",I);else{r.attachEvent("onreadystatechange",I),t.attachEvent("onload",I);var n=!1;try{n=null==t.frameElement&&r.documentElement}catch(t){}n&&n.doScroll&&function e(){if(!g.isReady){try{n.doScroll("left")}catch(n){return t.setTimeout(e,50)}N(),g.ready()}}()}return A.promise(e)},g.ready.promise(),g(d))break;d.ownFirst="0"===$,d.inlineBlockNeedsLayout=!1,g(function(){var t,e,n,i;(n=r.getElementsByTagName("body")[0])&&n.style&&(e=r.createElement("div"),(i=r.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",d.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=r.createElement("div");d.deleteExpando=!0;try{delete t.test}catch(t){d.deleteExpando=!1}t=null}();var P,F=function(t){var e=g.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},O=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/([A-Z])/g;function j(t,e,n){if(void 0===n&&1===t.nodeType){var r="data-"+e.replace(H,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:O.test(n)?g.parseJSON(n):n)}catch(t){}g.data(t,e,n)}else n=void 0}return n}function U(t){var e;for(e in t)if(("data"!==e||!g.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function W(t,n,r,i){if(F(t)){var o,s,a=g.expando,l=t.nodeType,c=l?g.cache:t,h=l?t[a]:t[a]&&a;if(h&&c[h]&&(i||c[h].data)||void 0!==r||"string"!=typeof n)return h||(h=l?t[a]=e.pop()||g.guid++:a),c[h]||(c[h]=l?{}:{toJSON:g.noop}),"object"!==p(n)&&"function"!=typeof n||(i?c[h]=g.extend(c[h],n):c[h].data=g.extend(c[h].data,n)),s=c[h],i||(s.data||(s.data={}),s=s.data),void 0!==r&&(s[g.camelCase(n)]=r),"string"==typeof n?null==(o=s[n])&&(o=s[g.camelCase(n)]):o=s,o}}function V(t,e,n){if(F(t)){var r,i,o=t.nodeType,s=o?g.cache:t,a=o?t[g.expando]:g.expando;if(s[a]){if(e&&(r=n?s[a]:s[a].data)){e=g.isArray(e)?e.concat(g.map(e,g.camelCase)):e in r?[e]:(e=g.camelCase(e))in r?[e]:e.split(" "),i=e.length;for(;i--;)delete r[e[i]];if(n?!U(r):!g.isEmptyObject(r))return}(n||(delete s[a].data,U(s[a])))&&(o?g.cleanData([t],!0):d.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}g.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?g.cache[t[g.expando]]:t[g.expando])&&!U(t)},data:function(t,e,n){return W(t,e,n)},removeData:function(t,e){return V(t,e)},_data:function(t,e,n){return W(t,e,n,!0)},_removeData:function(t,e){return V(t,e,!0)}}),g.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=g.data(o),1===o.nodeType&&!g._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=g.camelCase(r.slice(5)),j(o,r,i[r]));g._data(o,"parsedAttrs",!0)}return i}return"object"===p(t)?this.each(function(){g.data(this,t)}):arguments.length>1?this.each(function(){g.data(this,t,e)}):o?j(o,t,g.data(o,t)):void 0},removeData:function(t){return this.each(function(){g.removeData(this,t)})}}),g.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=g._data(t,e),n&&(!r||g.isArray(n)?r=g._data(t,e,g.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=g.queue(t,e),r=n.length,i=n.shift(),o=g._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){g.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return g._data(t,n)||g._data(t,n,{empty:g.Callbacks("once memory").add(function(){g._removeData(t,e+"queue"),g._removeData(t,n)})})}}),g.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?g.queue(this[0],t):void 0===e?this:this.each(function(){var n=g.queue(this,t,e);g._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&g.dequeue(this,t)})},dequeue:function(t){return this.each(function(){g.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=g.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=g._data(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}}),d.shrinkWrapBlocks=function(){return null!=P?P:(P=!1,(e=r.getElementsByTagName("body")[0])&&e.style?(t=r.createElement("div"),(n=r.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(r.createElement("div")).style.width="5px",P=3!==t.offsetWidth),e.removeChild(n),P):void 0);var t,e,n};var q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,G=new RegExp("^(?:([+-])=|)("+q+")([a-z%]*)$","i"),K=["Top","Right","Bottom","Left"],X=function(t,e){return t=e||t,"none"===g.css(t,"display")||!g.contains(t.ownerDocument,t)};function Z(t,e,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return g.css(t,e,"")},l=a(),c=n&&n[3]||(g.cssNumber[e]?"":"px"),h=(g.cssNumber[e]||"px"!==c&&+l)&&G.exec(g.css(t,e));if(h&&h[3]!==c){c=c||h[3],n=n||[],h=+l||1;do{h/=o=o||".5",g.style(t,e,h+c)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(h=+h||+l||0,i=n[1]?h+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=h,r.end=i)),i}var Y,J,Q,tt=function t(e,n,r,i,o,s,a){var l=0,c=e.length,h=null==r;if("object"===g.type(r))for(l in o=!0,r)t(e,n,l,r[l],!0,s,a);else if(void 0!==i&&(o=!0,g.isFunction(i)||(a=!0),h&&(a?(n.call(e,i),n=null):(h=n,n=function(t,e,n){return h.call(g(t),n)})),n))for(;l<c;l++)n(e[l],r,a?i:i.call(e[l],l,n(e[l],r)));return o?e:h?n.call(e):c?n(e[0],r):s},et=/^(?:checkbox|radio)$/i,nt=/<([\w:-]+)/,rt=/^$|\/(?:java|ecma)script/i,it=/^\s+/,ot="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function st(t){var e=ot.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}Y=r.createElement("div"),J=r.createDocumentFragment(),Q=r.createElement("input"),Y.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d.leadingWhitespace=3===Y.firstChild.nodeType,d.tbody=!Y.getElementsByTagName("tbody").length,d.htmlSerialize=!!Y.getElementsByTagName("link").length,d.html5Clone="<:nav></:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,Q.type="checkbox",Q.checked=!0,J.appendChild(Q),d.appendChecked=Q.checked,Y.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!Y.cloneNode(!0).lastChild.defaultValue,J.appendChild(Y),(Q=r.createElement("input")).setAttribute("type","radio"),Q.setAttribute("checked","checked"),Q.setAttribute("name","t"),Y.appendChild(Q),d.checkClone=Y.cloneNode(!0).cloneNode(!0).lastChild.checked,d.noCloneEvent=!!Y.addEventListener,Y[g.expando]=1,d.attributes=!Y.getAttribute(g.expando);var at={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function lt(t,e){var n,r,i=0,o=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(r=n[i]);i++)!e||g.nodeName(r,e)?o.push(r):g.merge(o,lt(r,e));return void 0===e||e&&g.nodeName(t,e)?g.merge([t],o):o}function ct(t,e){for(var n,r=0;null!=(n=t[r]);r++)g._data(n,"globalEval",!e||g._data(e[r],"globalEval"))}at.optgroup=at.option,at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td;var ht=/<|&#?\w+;/,ut=/<tbody/i;function pt(t){et.test(t.type)&&(t.defaultChecked=t.checked)}function ft(t,e,n,r,i){for(var o,s,a,l,c,h,u,p=t.length,f=st(e),m=[],v=0;v<p;v++)if((s=t[v])||0===s)if("object"===g.type(s))g.merge(m,s.nodeType?[s]:s);else if(ht.test(s)){for(l=l||f.appendChild(e.createElement("div")),c=(nt.exec(s)||["",""])[1].toLowerCase(),u=at[c]||at._default,l.innerHTML=u[1]+g.htmlPrefilter(s)+u[2],o=u[0];o--;)l=l.lastChild;if(!d.leadingWhitespace&&it.test(s)&&m.push(e.createTextNode(it.exec(s)[0])),!d.tbody)for(s="table"!==c||ut.test(s)?"<table>"!==u[1]||ut.test(s)?0:l:l.firstChild,o=s&&s.childNodes.length;o--;)g.nodeName(h=s.childNodes[o],"tbody")&&!h.childNodes.length&&s.removeChild(h);for(g.merge(m,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=f.lastChild}else m.push(e.createTextNode(s));for(l&&f.removeChild(l),d.appendChecked||g.grep(lt(m,"input"),pt),v=0;s=m[v++];)if(r&&g.inArray(s,r)>-1)i&&i.push(s);else if(a=g.contains(s.ownerDocument,s),l=lt(f.appendChild(s),"script"),a&&ct(l),n)for(o=0;s=l[o++];)rt.test(s.type||"")&&n.push(s);return l=null,f}!function(){var e,n,i=r.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(d[e]=n in t)||(i.setAttribute(n,"t"),d[e]=!1===i.attributes[n].expando);i=null}();var dt=/^(?:input|select|textarea)$/i,gt=/^key/,mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,vt=/^(?:focusinfocus|focusoutblur)$/,yt=/^([^.]*)(?:\.(.+)|)/;function wt(){return!0}function bt(){return!1}function xt(){try{return r.activeElement}catch(t){}}function Ct(t,e,n,r,i,o){var s,a;if("object"===p(e)){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)Ct(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=bt;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return g().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=g.guid++)),t.each(function(){g.event.add(this,e,i,r,n)})}g.event={global:{},add:function(t,e,n,r,i){var o,s,a,l,c,h,u,p,f,d,m,v=g._data(t);if(v){for(n.handler&&(n=(l=n).handler,i=l.selector),n.guid||(n.guid=g.guid++),(s=v.events)||(s=v.events={}),(h=v.handle)||((h=v.handle=function(t){return void 0===g||t&&g.event.triggered===t.type?void 0:g.event.dispatch.apply(h.elem,arguments)}).elem=t),a=(e=(e||"").match(z)||[""]).length;a--;)f=m=(o=yt.exec(e[a])||[])[1],d=(o[2]||"").split(".").sort(),f&&(c=g.event.special[f]||{},f=(i?c.delegateType:c.bindType)||f,c=g.event.special[f]||{},u=g.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&g.expr.match.needsContext.test(i),namespace:d.join(".")},l),(p=s[f])||((p=s[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,r,d,h)||(t.addEventListener?t.addEventListener(f,h,!1):t.attachEvent&&t.attachEvent("on"+f,h))),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),g.event.global[f]=!0);t=null}},remove:function(t,e,n,r,i){var o,s,a,l,c,h,u,p,f,d,m,v=g.hasData(t)&&g._data(t);if(v&&(h=v.events)){for(c=(e=(e||"").match(z)||[""]).length;c--;)if(f=m=(a=yt.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),f){for(u=g.event.special[f]||{},p=h[f=(r?u.delegateType:u.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)s=p[o],!i&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||r&&r!==s.selector&&("**"!==r||!s.selector)||(p.splice(o,1),s.selector&&p.delegateCount--,u.remove&&u.remove.call(t,s));l&&!p.length&&(u.teardown&&!1!==u.teardown.call(t,d,v.handle)||g.removeEvent(t,f,v.handle),delete h[f])}else for(f in h)g.event.remove(t,f+e[c],n,r,!0);g.isEmptyObject(h)&&(delete v.handle,g._removeData(t,"events"))}},trigger:function(e,n,i,o){var s,a,l,c,h,u,d,m=[i||r],v=f.call(e,"type")?e.type:e,y=f.call(e,"namespace")?e.namespace.split("."):[];if(l=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!vt.test(v+g.event.triggered)&&(v.indexOf(".")>-1&&(y=v.split("."),v=y.shift(),y.sort()),a=v.indexOf(":")<0&&"on"+v,(e=e[g.expando]?e:new g.Event(v,"object"===p(e)&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:g.makeArray(n,[e]),h=g.event.special[v]||{},o||!h.trigger||!1!==h.trigger.apply(i,n))){if(!o&&!h.noBubble&&!g.isWindow(i)){for(c=h.delegateType||v,vt.test(c+v)||(l=l.parentNode);l;l=l.parentNode)m.push(l),u=l;u===(i.ownerDocument||r)&&m.push(u.defaultView||u.parentWindow||t)}for(d=0;(l=m[d++])&&!e.isPropagationStopped();)e.type=d>1?c:h.bindType||v,(s=(g._data(l,"events")||{})[e.type]&&g._data(l,"handle"))&&s.apply(l,n),(s=a&&l[a])&&s.apply&&F(l)&&(e.result=s.apply(l,n),!1===e.result&&e.preventDefault());if(e.type=v,!o&&!e.isDefaultPrevented()&&(!h._default||!1===h._default.apply(m.pop(),n))&&F(i)&&a&&i[v]&&!g.isWindow(i)){(u=i[a])&&(i[a]=null),g.event.triggered=v;try{i[v]()}catch(t){}g.event.triggered=void 0,u&&(i[a]=u)}return e.result}},dispatch:function(t){t=g.event.fix(t);var e,n,r,o,s,a,l=i.call(arguments),c=(g._data(this,"events")||{})[t.type]||[],h=g.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,t)){for(a=g.event.handlers.call(this,t,c),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(s.namespace)||(t.handleObj=s,t.data=s.data,void 0!==(r=((g.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],n=0;n<a;n++)void 0===r[i=(o=e[n]).selector+" "]&&(r[i]=o.needsContext?g(i,this).index(l)>-1:g.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&s.push({elem:l,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[g.expando])return t;var e,n,i,o=t.type,s=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=mt.test(o)?this.mouseHooks:gt.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new g.Event(s),e=i.length;e--;)t[n=i[e]]=s[n];return t.target||(t.target=s.srcElement||r),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,s):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,s=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||r).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xt()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===xt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(g.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return g.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var r=g.extend(new g.Event,n,{type:t,isSimulated:!0});g.event.trigger(r,null,e),r.isDefaultPrevented()&&n.preventDefault()}},g.removeEvent=r.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var r="on"+e;t.detachEvent&&(void 0===t[r]&&(t[r]=null),t.detachEvent(r,n))},g.Event=function(t,e){if(!(this instanceof g.Event))return new g.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?wt:bt):this.type=t,e&&g.extend(this,e),this.timeStamp=t&&t.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:bt,isPropagationStopped:bt,isImmediatePropagationStopped:bt,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=wt,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=wt,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=wt,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){g.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||g.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),d.submit||(g.event.special.submit={setup:function(){if(g.nodeName(this,"form"))return!1;g.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=g.nodeName(e,"input")||g.nodeName(e,"button")?g.prop(e,"form"):void 0;n&&!g._data(n,"submit")&&(g.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),g._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&g.event.simulate("submit",this.parentNode,t))},teardown:function(){if(g.nodeName(this,"form"))return!1;g.event.remove(this,"._submit")}}),d.change||(g.event.special.change={setup:function(){if(dt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(g.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),g.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),g.event.simulate("change",this,t)})),!1;g.event.add(this,"beforeactivate._change",function(t){var e=t.target;dt.test(e.nodeName)&&!g._data(e,"change")&&(g.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||g.event.simulate("change",this.parentNode,t)}),g._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return g.event.remove(this,"._change"),!dt.test(this.nodeName)}}),d.focusin||g.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){g.event.simulate(e,t.target,g.event.fix(t))};g.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=g._data(r,e);i||r.addEventListener(t,n,!0),g._data(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=g._data(r,e)-1;i?g._data(r,e,i):(r.removeEventListener(t,n,!0),g._removeData(r,e))}}}),g.fn.extend({on:function(t,e,n,r){return Ct(this,t,e,n,r)},one:function(t,e,n,r){return Ct(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,g(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===p(t)){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=bt),this.each(function(){g.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){g.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return g.event.trigger(t,e,n,!0)}});var kt=/ jQuery\d+="(?:null|\d+)"/g,St=new RegExp("<(?:"+ot+")[\\s/>]","i"),_t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Tt=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^true\/(.*)/,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Et=st(r).appendChild(r.createElement("div"));function Lt(t,e){return g.nodeName(t,"table")&&g.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function Bt(t){return t.type=(null!==g.find.attr(t,"type"))+"/"+t.type,t}function At(t){var e=Dt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function $t(t,e){if(1===e.nodeType&&g.hasData(t)){var n,r,i,o=g._data(t),s=g._data(e,o),a=o.events;if(a)for(n in delete s.handle,s.events={},a)for(r=0,i=a[n].length;r<i;r++)g.event.add(e,n,a[n][r]);s.data&&(s.data=g.extend({},s.data))}}function zt(t,e){var n,r,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!d.noCloneEvent&&e[g.expando]){for(r in(i=g._data(e)).events)g.removeEvent(e,r,i.handle);e.removeAttribute(g.expando)}"script"===n&&e.text!==t.text?(Bt(e).text=t.text,At(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),d.html5Clone&&t.innerHTML&&!g.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&et.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function Nt(t,e,n,r){e=s.apply([],e);var i,o,a,l,c,h,u=0,p=t.length,f=p-1,m=e[0],v=g.isFunction(m);if(v||p>1&&"string"==typeof m&&!d.checkClone&&Mt.test(m))return t.each(function(i){var o=t.eq(i);v&&(e[0]=m.call(this,i,o.html())),Nt(o,e,n,r)});if(p&&(h=ft(e,t[0].ownerDocument,!1,t,r),i=h.firstChild,1===h.childNodes.length&&(h=i),i||r)){for(l=g.map(lt(h,"script"),Bt),a=l.length;u<p;u++)o=h,u!==f&&(o=g.clone(o,!0,!0),a&&g.merge(l,lt(o,"script"))),n.call(t[u],o,u);if(a)for(c=l[l.length-1].ownerDocument,g.map(l,At),u=0;u<a;u++)o=l[u],rt.test(o.type||"")&&!g._data(o,"globalEval")&&g.contains(c,o)&&(o.src?g._evalUrl&&g._evalUrl(o.src):g.globalEval((o.text||o.textContent||o.innerHTML||"").replace(Rt,"")));h=i=null}return t}function It(t,e,n){for(var r,i=e?g.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||g.cleanData(lt(r)),r.parentNode&&(n&&g.contains(r.ownerDocument,r)&&ct(lt(r,"script")),r.parentNode.removeChild(r));return t}g.extend({htmlPrefilter:function(t){return t.replace(_t,"<$1></$2>")},clone:function(t,e,n){var r,i,o,s,a,l=g.contains(t.ownerDocument,t);if(d.html5Clone||g.isXMLDoc(t)||!St.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Et.innerHTML=t.outerHTML,Et.removeChild(o=Et.firstChild)),!(d.noCloneEvent&&d.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||g.isXMLDoc(t)))for(r=lt(o),a=lt(t),s=0;null!=(i=a[s]);++s)r[s]&&zt(i,r[s]);if(e)if(n)for(a=a||lt(t),r=r||lt(o),s=0;null!=(i=a[s]);s++)$t(i,r[s]);else $t(t,o);return(r=lt(o,"script")).length>0&&ct(r,!l&&lt(t,"script")),r=a=i=null,o},cleanData:function(t,n){for(var r,i,o,s,a=0,l=g.expando,c=g.cache,h=d.attributes,u=g.event.special;null!=(r=t[a]);a++)if((n||F(r))&&(o=r[l],s=o&&c[o])){if(s.events)for(i in s.events)u[i]?g.event.remove(r,i):g.removeEvent(r,i,s.handle);c[o]&&(delete c[o],h||void 0===r.removeAttribute?r[l]=void 0:r.removeAttribute(l),e.push(o))}}}),g.fn.extend({domManip:Nt,detach:function(t){return It(this,t,!0)},remove:function(t){return It(this,t)},text:function(t){return tt(this,function(t){return void 0===t?g.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(t))},null,t,arguments.length)},append:function(){return Nt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.appendChild(t)}})},prepend:function(){return Nt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&g.cleanData(lt(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&g.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return g.clone(this,t,e)})},html:function(t){return tt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(kt,""):void 0;if("string"==typeof t&&!Tt.test(t)&&(d.htmlSerialize||!St.test(t))&&(d.leadingWhitespace||!it.test(t))&&!at[(nt.exec(t)||["",""])[1].toLowerCase()]){t=g.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(g.cleanData(lt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,function(e){var n=this.parentNode;g.inArray(this,t)<0&&(g.cleanData(lt(this)),n&&n.replaceChild(e,this))},t)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){g.fn[t]=function(t){for(var n,r=0,i=[],o=g(t),s=o.length-1;r<=s;r++)n=r===s?this:this.clone(!0),g(o[r])[e](n),l.apply(i,n.get());return this.pushStack(i)}});var Pt,Ft={HTML:"block",BODY:"block"};function Ot(t,e){var n=g(e.createElement(t)).appendTo(e.body),r=g.css(n[0],"display");return n.detach(),r}function Ht(t){var e=r,n=Ft[t];return n||("none"!==(n=Ot(t,e))&&n||(Pt=(Pt||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),(e=(Pt[0].contentWindow||Pt[0].contentDocument).document).write(),e.close(),n=Ot(t,e),Pt.detach()),Ft[t]=n),n}var jt=/^margin/,Ut=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),Wt=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=s[o];return i},Vt=r.documentElement;!function(){var e,n,i,o,s,a,l=r.createElement("div"),c=r.createElement("div");function h(){var h,u,p=r.documentElement;p.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",e=i=a=!1,n=s=!0,t.getComputedStyle&&(u=t.getComputedStyle(c),e="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,i="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",n="4px"===(u||{marginRight:"4px"}).marginRight,(h=c.appendChild(r.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",h.style.marginRight=h.style.width="0",c.style.width="1px",s=!parseFloat((t.getComputedStyle(h)||{}).marginRight),c.removeChild(h)),c.style.display="none",(o=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(h=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===h[0].offsetHeight)&&(h[0].style.display="",h[1].style.display="none",o=0===h[0].offsetHeight)),p.removeChild(l)}c.style&&(c.style.cssText="float:left;opacity:.5",d.opacity="0.5"===c.style.opacity,d.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===c.style.backgroundClip,(l=r.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),d.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,g.extend(d,{reliableHiddenOffsets:function(){return null==e&&h(),o},boxSizingReliable:function(){return null==e&&h(),i},pixelMarginRight:function(){return null==e&&h(),n},pixelPosition:function(){return null==e&&h(),e},reliableMarginRight:function(){return null==e&&h(),s},reliableMarginLeft:function(){return null==e&&h(),a}}))}();var qt,Gt,Kt=/^(top|right|bottom|left)$/;function Xt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}t.getComputedStyle?(qt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Gt=function(t,e,n){var r,i,o,s,a=t.style;return n=n||qt(t),""!==(s=n?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==s||g.contains(t.ownerDocument,t)||(s=g.style(t,e)),n&&!d.pixelMarginRight()&&Ut.test(s)&&jt.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o),void 0===s?s:s+""}):Vt.currentStyle&&(qt=function(t){return t.currentStyle},Gt=function(t,e,n){var r,i,o,s,a=t.style;return n=n||qt(t),null==(s=n?n[e]:void 0)&&a&&a[e]&&(s=a[e]),Ut.test(s)&&!Kt.test(e)&&(r=a.left,i=t.runtimeStyle,(o=i&&i.left)&&(i.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=r,o&&(i.left=o)),void 0===s?s:s+""||"auto"});var Zt=/alpha\([^)]*\)/i,Yt=/opacity\s*=\s*([^)]*)/i,Jt=/^(none|table(?!-c[ea]).+)/,Qt=new RegExp("^("+q+")(.*)$","i"),te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],re=r.createElement("div").style;function ie(t){if(t in re)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=ne.length;n--;)if((t=ne[n]+e)in re)return t}function oe(t,e){for(var n,r,i,o=[],s=0,a=t.length;s<a;s++)(r=t[s]).style&&(o[s]=g._data(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&X(r)&&(o[s]=g._data(r,"olddisplay",Ht(r.nodeName)))):(i=X(r),(n&&"none"!==n||!i)&&g._data(r,"olddisplay",i?n:g.css(r,"display"))));for(s=0;s<a;s++)(r=t[s]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function se(t,e,n){var r=Qt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function ae(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=g.css(t,n+K[o],!0,i)),r?("content"===n&&(s-=g.css(t,"padding"+K[o],!0,i)),"margin"!==n&&(s-=g.css(t,"border"+K[o]+"Width",!0,i))):(s+=g.css(t,"padding"+K[o],!0,i),"padding"!==n&&(s+=g.css(t,"border"+K[o]+"Width",!0,i)));return s}function le(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=qt(t),s=d.boxSizing&&"border-box"===g.css(t,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Gt(t,e,o))<0||null==i)&&(i=t.style[e]),Ut.test(i))return i;r=s&&(d.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+ae(t,e,n||(s?"border":"content"),r,o)+"px"}function ce(t,e,n,r,i){return new ce.prototype.init(t,e,n,r,i)}g.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Gt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:d.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=g.camelCase(e),l=t.style;if(e=g.cssProps[a]||(g.cssProps[a]=ie(a)||a),s=g.cssHooks[e]||g.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:l[e];if("string"===(o=p(n))&&(i=G.exec(n))&&i[1]&&(n=Z(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(g.cssNumber[a]?"":"px")),d.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,r)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,r){var i,o,s,a=g.camelCase(e);return e=g.cssProps[a]||(g.cssProps[a]=ie(a)||a),(s=g.cssHooks[e]||g.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=Gt(t,e,r)),"normal"===o&&e in ee&&(o=ee[e]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),g.each(["height","width"],function(t,e){g.cssHooks[e]={get:function(t,n,r){if(n)return Jt.test(g.css(t,"display"))&&0===t.offsetWidth?Wt(t,te,function(){return le(t,e,r)}):le(t,e,r)},set:function(t,n,r){var i=r&&qt(t);return se(0,n,r?ae(t,e,r,d.boxSizing&&"border-box"===g.css(t,"boxSizing",!1,i),i):0)}}}),d.opacity||(g.cssHooks.opacity={get:function(t,e){return Yt.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=g.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===g.trim(o.replace(Zt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||r&&!r.filter)||(n.filter=Zt.test(o)?o.replace(Zt,i):o+" "+i)}}),g.cssHooks.marginRight=Xt(d.reliableMarginRight,function(t,e){if(e)return Wt(t,{display:"inline-block"},Gt,[t,"marginRight"])}),g.cssHooks.marginLeft=Xt(d.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Gt(t,"marginLeft"))||(g.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(t,e){g.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+K[r]+e]=o[r]||o[r-2]||o[0];return i}},jt.test(t)||(g.cssHooks[t+e].set=se)}),g.fn.extend({css:function(t,e){return tt(this,function(t,e,n){var r,i,o={},s=0;if(g.isArray(e)){for(r=qt(t),i=e.length;s<i;s++)o[e[s]]=g.css(t,e[s],!1,r);return o}return void 0!==n?g.style(t,e,n):g.css(t,e)},t,e,arguments.length>1)},show:function(){return oe(this,!0)},hide:function(){return oe(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){X(this)?g(this).show():g(this).hide()})}}),g.Tween=ce,ce.prototype={constructor:ce,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||g.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(g.cssNumber[n]?"":"px")},cur:function(){var t=ce.propHooks[this.prop];return t&&t.get?t.get(this):ce.propHooks._default.get(this)},run:function(t){var e,n=ce.propHooks[this.prop];return this.options.duration?this.pos=e=g.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ce.propHooks._default.set(this),this}},ce.prototype.init.prototype=ce.prototype,ce.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=g.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){g.fx.step[t.prop]?g.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[g.cssProps[t.prop]]&&!g.cssHooks[t.prop]?t.elem[t.prop]=t.now:g.style(t.elem,t.prop,t.now+t.unit)}}},ce.propHooks.scrollTop=ce.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},g.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},g.fx=ce.prototype.init,g.fx.step={};var he,ue,pe=/^(?:toggle|show|hide)$/,fe=/queueHooks$/;function de(){return t.setTimeout(function(){he=void 0}),he=g.now()}function ge(t,e){var n,r={height:t},i=0;for(e=e?1:0;i<4;i+=2-e)n=K[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function me(t,e,n){for(var r,i=(ve.tweeners[e]||[]).concat(ve.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function ve(t,e,n){var r,i,o=0,s=ve.prefilters.length,a=g.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=he||de(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),o<1&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:g.extend({},e),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},n),originalProperties:e,originalOptions:n,startTime:he||de(),duration:n.duration,tweens:[],createTween:function(e,n){var r=g.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),h=c.props;for(function(t,e){var n,r,i,o,s;for(n in t)if(r=g.camelCase(n),i=e[r],o=t[n],g.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=g.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(h,c.opts.specialEasing);o<s;o++)if(r=ve.prefilters[o].call(c,t,h,c.opts))return g.isFunction(r.stop)&&(g._queueHooks(c.elem,c.opts.queue).stop=g.proxy(r.stop,r)),r;return g.map(h,me,c),g.isFunction(c.opts.start)&&c.opts.start.call(t,c),g.fx.timer(g.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}g.Animation=g.extend(ve,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return Z(n.elem,t,G.exec(e),n),n}]},tweener:function(t,e){g.isFunction(t)?(e=t,t=["*"]):t=t.match(z);for(var n,r=0,i=t.length;r<i;r++)n=t[r],ve.tweeners[n]=ve.tweeners[n]||[],ve.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,l,c,h=this,u={},p=t.style,f=t.nodeType&&X(t),m=g._data(t,"fxshow");for(r in n.queue||(null==(a=g._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,g.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===("none"===(c=g.css(t,"display"))?g._data(t,"olddisplay")||Ht(t.nodeName):c)&&"none"===g.css(t,"float")&&(d.inlineBlockNeedsLayout&&"inline"!==Ht(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.shrinkWrapBlocks()||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),e)if(i=e[r],pe.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;f=!0}u[r]=m&&m[r]||g.style(t,r)}else c=void 0;if(g.isEmptyObject(u))"inline"===("none"===c?Ht(t.nodeName):c)&&(p.display=c);else for(r in m?"hidden"in m&&(f=m.hidden):m=g._data(t,"fxshow",{}),o&&(m.hidden=!f),f?g(t).show():h.done(function(){g(t).hide()}),h.done(function(){var e;for(e in g._removeData(t,"fxshow"),u)g.style(t,e,u[e])}),u)s=me(f?m[r]:0,r,h),r in m||(m[r]=s.start,f&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}],prefilter:function(t,e){e?ve.prefilters.unshift(t):ve.prefilters.push(t)}}),g.speed=function(t,e,n){var r=t&&"object"===p(t)?g.extend({},t):{complete:n||!n&&e||g.isFunction(t)&&t,duration:t,easing:n&&e||e&&!g.isFunction(e)&&e};return r.duration=g.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in g.fx.speeds?g.fx.speeds[r.duration]:g.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g.isFunction(r.old)&&r.old.call(this),r.queue&&g.dequeue(this,r.queue)},r},g.fn.extend({fadeTo:function(t,e,n,r){return this.filter(X).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=g.isEmptyObject(t),o=g.speed(e,n,r),s=function(){var e=ve(this,g.extend({},t),o);(i||g._data(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=g.timers,s=g._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&fe.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||g.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=g._data(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=g.timers,s=r?r.length:0;for(n.finish=!0,g.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),g.each(["toggle","show","hide"],function(t,e){var n=g.fn[e];g.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ge(e,!0),t,r,i)}}),g.each({slideDown:ge("show"),slideUp:ge("hide"),slideToggle:ge("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){g.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),g.timers=[],g.fx.tick=function(){var t,e=g.timers,n=0;for(he=g.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||g.fx.stop(),he=void 0},g.fx.timer=function(t){g.timers.push(t),t()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){ue||(ue=t.setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){t.clearInterval(ue),ue=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(e,n){return e=g.fx&&g.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t,e=r.createElement("input"),n=r.createElement("div"),i=r.createElement("select"),o=i.appendChild(r.createElement("option"));(n=r.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),(t=n.getElementsByTagName("a")[0]).style.cssText="top:1px",d.getSetAttribute="t"!==n.className,d.style=/top/.test(t.getAttribute("style")),d.hrefNormalized="/a"===t.getAttribute("href"),d.checkOn=!!e.value,d.optSelected=o.selected,d.enctype=!!r.createElement("form").enctype,i.disabled=!0,d.optDisabled=!o.disabled,(e=r.createElement("input")).setAttribute("value",""),d.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),d.radioValue="t"===e.value}();var ye=/\r/g,we=/[\x20\t\r\n\f]+/g;g.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=g.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,g(this).val()):t)?i="":"number"==typeof i?i+="":g.isArray(i)&&(i=g.map(i,function(t){return null==t?"":t+""})),(e=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=g.valHooks[i.type]||g.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ye,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(t){var e=g.find.attr(t,"value");return null!=e?e:g.trim(g.text(t)).replace(we," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||i<0,s=o?null:[],a=o?i+1:r.length,l=i<0?a:o?i:0;l<a;l++)if(((n=r[l]).selected||l===i)&&(d.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(e=g(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=g.makeArray(e),s=i.length;s--;)if(r=i[s],g.inArray(g.valHooks.option.get(r),o)>-1)try{r.selected=n=!0}catch(t){r.scrollHeight}else r.selected=!1;return n||(t.selectedIndex=-1),i}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(t,e){if(g.isArray(e))return t.checked=g.inArray(g(t).val(),e)>-1}},d.checkOn||(g.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var be,xe,Ce=g.expr.attrHandle,ke=/^(?:checked|selected)$/i,Se=d.getSetAttribute,_e=d.input;g.fn.extend({attr:function(t,e){return tt(this,g.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){g.removeAttr(this,t)})}}),g.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?g.prop(t,e,n):(1===o&&g.isXMLDoc(t)||(e=e.toLowerCase(),i=g.attrHooks[e]||(g.expr.match.bool.test(e)?xe:be)),void 0!==n?null===n?void g.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=g.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!d.radioValue&&"radio"===e&&g.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(z);if(o&&1===t.nodeType)for(;n=o[i++];)r=g.propFix[n]||n,g.expr.match.bool.test(n)?_e&&Se||!ke.test(n)?t[r]=!1:t[g.camelCase("default-"+n)]=t[r]=!1:g.attr(t,n,""),t.removeAttribute(Se?n:r)}}),xe={set:function(t,e,n){return!1===e?g.removeAttr(t,n):_e&&Se||!ke.test(n)?t.setAttribute(!Se&&g.propFix[n]||n,n):t[g.camelCase("default-"+n)]=t[n]=!0,n}},g.each(g.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ce[e]||g.find.attr;_e&&Se||!ke.test(e)?Ce[e]=function(t,e,r){var i,o;return r||(o=Ce[e],Ce[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,Ce[e]=o),i}:Ce[e]=function(t,e,n){if(!n)return t[g.camelCase("default-"+e)]?e.toLowerCase():null}}),_e&&Se||(g.attrHooks.value={set:function(t,e,n){if(!g.nodeName(t,"input"))return be&&be.set(t,e,n);t.defaultValue=e}}),Se||(be={set:function(t,e,n){var r=t.getAttributeNode(n);if(r||t.setAttributeNode(r=t.ownerDocument.createAttribute(n)),r.value=e+="","value"===n||e===t.getAttribute(n))return e}},Ce.id=Ce.name=Ce.coords=function(t,e,n){var r;if(!n)return(r=t.getAttributeNode(e))&&""!==r.value?r.value:null},g.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:be.set},g.attrHooks.contenteditable={set:function(t,e,n){be.set(t,""!==e&&e,n)}},g.each(["width","height"],function(t,e){g.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),d.style||(g.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Te=/^(?:input|select|textarea|button|object)$/i,Me=/^(?:a|area)$/i;g.fn.extend({prop:function(t,e){return tt(this,g.prop,t,e,arguments.length>1)},removeProp:function(t){return t=g.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),g.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&g.isXMLDoc(t)||(e=g.propFix[e]||e,i=g.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=g.find.attr(t,"tabindex");return e?parseInt(e,10):Te.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.hrefNormalized||g.each(["href","src"],function(t,e){g.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),d.optSelected||(g.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this}),d.enctype||(g.propFix.enctype="encoding");var De=/[\t\r\n\f]/g;function Re(t){return g.attr(t,"class")||""}g.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,l=0;if(g.isFunction(t))return this.each(function(e){g(this).addClass(t.call(this,e,Re(this)))});if("string"==typeof t&&t)for(e=t.match(z)||[];n=this[l++];)if(i=Re(n),r=1===n.nodeType&&(" "+i+" ").replace(De," ")){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=g.trim(r),i!==a&&g.attr(n,"class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,l=0;if(g.isFunction(t))return this.each(function(e){g(this).removeClass(t.call(this,e,Re(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(z)||[];n=this[l++];)if(i=Re(n),r=1===n.nodeType&&(" "+i+" ").replace(De," ")){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=g.trim(r),i!==a&&g.attr(n,"class",a)}return this},toggleClass:function(t,e){var n=p(t);return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):g.isFunction(t)?this.each(function(n){g(this).toggleClass(t.call(this,n,Re(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=g(this),o=t.match(z)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||((e=Re(this))&&g._data(this,"__className__",e),g.attr(this,"class",e||!1===t?"":g._data(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+Re(n)+" ").replace(De," ").indexOf(e)>-1)return!0;return!1}}),g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){g.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),g.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ee=t.location,Le=g.now(),Be=/\?/,Ae=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;g.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,r=null,i=g.trim(e+"");return i&&!g.trim(i.replace(Ae,function(t,e,i,o){return n&&e&&(r=0),0===r?t:(n=i||e,r+=!o-!i,"")}))?Function("return "+i)():g.error("Invalid JSON: "+e)},g.parseXML=function(e){var n,r;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(r=new t.DOMParser,n=r.parseFromString(e,"text/xml")):((n=new t.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+e),n};var $e=/#.*$/,ze=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ie=/^(?:GET|HEAD)$/,Pe=/^\/\//,Fe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Oe={},He={},je="*/".concat("*"),Ue=Ee.href,We=Fe.exec(Ue.toLowerCase())||[];function Ve(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(z)||[];if(g.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function qe(t,e,n,r){var i={},o=t===He;function s(a){var l;return i[a]=!0,g.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),l}return s(e.dataTypes[0])||!i["*"]&&s("*")}function Ge(t,e){var n,r,i=g.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&g.extend(!0,t,n),t}function Ke(t){return t.style&&t.style.display||g.css(t,"display")}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ue,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(We[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ge(Ge(t,g.ajaxSettings),e):Ge(g.ajaxSettings,t)},ajaxPrefilter:Ve(Oe),ajaxTransport:Ve(He),ajax:function(e,n){"object"===p(e)&&(n=e,e=void 0),n=n||{};var r,i,o,s,a,l,c,h,u=g.ajaxSetup({},n),f=u.context||u,d=u.context&&(f.nodeType||f.jquery)?g(f):g.event,m=g.Deferred(),v=g.Callbacks("once memory"),y=u.statusCode||{},w={},b={},x=0,C="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!h)for(h={};e=Ne.exec(s);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=b[n]=b[n]||t,w[t]=e),this},overrideMimeType:function(t){return x||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)y[e]=[y[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||C;return c&&c.abort(e),S(0,e),this}};if(m.promise(k).complete=v.add,k.success=k.done,k.error=k.fail,u.url=((e||u.url||Ue)+"").replace($e,"").replace(Pe,We[1]+"//"),u.type=n.method||n.type||u.method||u.type,u.dataTypes=g.trim(u.dataType||"*").toLowerCase().match(z)||[""],null==u.crossDomain&&(r=Fe.exec(u.url.toLowerCase()),u.crossDomain=!(!r||r[1]===We[1]&&r[2]===We[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(We[3]||("http:"===We[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=g.param(u.data,u.traditional)),qe(Oe,u,n,k),2===x)return k;for(i in(l=g.event&&u.global)&&0==g.active++&&g.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Ie.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(Be.test(o)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=ze.test(o)?o.replace(ze,"$1_="+Le++):o+(Be.test(o)?"&":"?")+"_="+Le++)),u.ifModified&&(g.lastModified[o]&&k.setRequestHeader("If-Modified-Since",g.lastModified[o]),g.etag[o]&&k.setRequestHeader("If-None-Match",g.etag[o])),(u.data&&u.hasContent&&!1!==u.contentType||n.contentType)&&k.setRequestHeader("Content-Type",u.contentType),k.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+je+"; q=0.01":""):u.accepts["*"]),u.headers)k.setRequestHeader(i,u.headers[i]);if(u.beforeSend&&(!1===u.beforeSend.call(f,k,u)||2===x))return k.abort();for(i in C="abort",{success:1,error:1,complete:1})k[i](u[i]);if(c=qe(He,u,n,k)){if(k.readyState=1,l&&d.trigger("ajaxSend",[k,u]),2===x)return k;u.async&&u.timeout>0&&(a=t.setTimeout(function(){k.abort("timeout")},u.timeout));try{x=1,c.send(w,S)}catch(t){if(!(x<2))throw t;S(-1,t)}}else S(-1,"No Transport");function S(e,n,r,i){var h,p,w,b,C,S=n;2!==x&&(x=2,a&&t.clearTimeout(a),c=void 0,s=i||"",k.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(b=function(t,e,n){for(var r,i,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}r||(r=s)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),n[o]}(u,k,r)),b=function(t,e,n,r){var i,o,s,a,l,c={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(u,b,k,h),h?(u.ifModified&&((C=k.getResponseHeader("Last-Modified"))&&(g.lastModified[o]=C),(C=k.getResponseHeader("etag"))&&(g.etag[o]=C)),204===e||"HEAD"===u.type?S="nocontent":304===e?S="notmodified":(S=b.state,p=b.data,w=b.error,h=!w)):(w=S,!e&&S||(S="error",e<0&&(e=0))),k.status=e,k.statusText=(n||S)+"",h?m.resolveWith(f,[p,S,k]):m.rejectWith(f,[k,S,w]),k.statusCode(y),y=void 0,l&&d.trigger(h?"ajaxSuccess":"ajaxError",[k,u,h?p:w]),v.fireWith(f,[k,S]),l&&(d.trigger("ajaxComplete",[k,u]),--g.active||g.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return g.get(t,e,n,"json")},getScript:function(t,e){return g.get(t,void 0,e,"script")}}),g.each(["get","post"],function(t,e){g[e]=function(t,n,r,i){return g.isFunction(n)&&(i=i||r,r=n,n=void 0),g.ajax(g.extend({url:t,type:e,dataType:i,data:n,success:r},g.isPlainObject(t)&&t))}}),g._evalUrl=function(t){return g.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(t){if(g.isFunction(t))return this.each(function(e){g(this).wrapAll(t.call(this,e))});if(this[0]){var e=g(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return g.isFunction(t)?this.each(function(e){g(this).wrapInner(t.call(this,e))}):this.each(function(){var e=g(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=g.isFunction(t);return this.each(function(n){g(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)}).end()}}),g.expr.filters.hidden=function(t){return d.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:function(t){if(!g.contains(t.ownerDocument||r,t))return!0;for(;t&&1===t.nodeType;){if("none"===Ke(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}(t)},g.expr.filters.visible=function(t){return!g.expr.filters.hidden(t)};var Xe=/%20/g,Ze=/\[\]$/,Ye=/\r?\n/g,Je=/^(?:submit|button|image|reset|file)$/i,Qe=/^(?:input|select|textarea|keygen)/i;function tn(t,e,n,r){var i;if(g.isArray(e))g.each(e,function(e,i){n||Ze.test(t)?r(t,i):tn(t+"["+("object"===p(i)&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==g.type(e))r(t,e);else for(i in e)tn(t+"["+i+"]",e[i],n,r)}g.param=function(t,e){var n,r=[],i=function(t,e){e=g.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=g.ajaxSettings&&g.ajaxSettings.traditional),g.isArray(t)||t.jquery&&!g.isPlainObject(t))g.each(t,function(){i(this.name,this.value)});else for(n in t)tn(n,t[n],e,i);return r.join("&").replace(Xe,"+")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=g.prop(this,"elements");return t?g.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!g(this).is(":disabled")&&Qe.test(this.nodeName)&&!Je.test(t)&&(this.checked||!et.test(t))}).map(function(t,e){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,function(t){return{name:e.name,value:t.replace(Ye,"\r\n")}}):{name:e.name,value:n.replace(Ye,"\r\n")}}).get()}}),g.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?sn():r.documentMode>8?on():/^(get|post|head|put|delete|options)$/i.test(this.type)&&on()||sn()}:on;var en=0,nn={},rn=g.ajaxSettings.xhr();function on(){try{return new t.XMLHttpRequest}catch(t){}}function sn(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}t.attachEvent&&t.attachEvent("onunload",function(){for(var t in nn)nn[t](void 0,!0)}),d.cors=!!rn&&"withCredentials"in rn,(rn=d.ajax=!!rn)&&g.ajaxTransport(function(e){var n;if(!e.crossDomain||d.cors)return{send:function(r,i){var o,s=e.xhr(),a=++en;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];for(o in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)void 0!==r[o]&&s.setRequestHeader(o,r[o]+"");s.send(e.hasContent&&e.data||null),n=function(t,r){var o,l,c;if(n&&(r||4===s.readyState))if(delete nn[a],n=void 0,s.onreadystatechange=g.noop,r)4!==s.readyState&&s.abort();else{c={},o=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(t){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&i(o,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(n):s.onreadystatechange=nn[a]=n:n()},abort:function(){n&&n(void 0,!0)}}}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return g.globalEval(t),t}}}),g.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),g.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=r.head||g("head")[0]||r.documentElement;return{send:function(i,o){(e=r.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var an=[],ln=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=an.pop()||g.expando+"_"+Le++;return this[t]=!0,t}}),g.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=!1!==e.jsonp&&(ln.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ln.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=g.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ln,"$1"+i):!1!==e.jsonp&&(e.url+=(Be.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||g.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){void 0===o?g(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,an.push(i)),s&&g.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),g.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||r;var i=_.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=ft([t],e,o),o&&o.length&&g(o).remove(),g.merge([],i.childNodes))};var cn=g.fn.load;function hn(t){return g.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}return g.fn.load=function(t,e,n){if("string"!=typeof t&&cn)return cn.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=g.trim(t.slice(a,t.length)),t=t.slice(0,a)),g.isFunction(e)?(n=e,e=void 0):e&&"object"===p(e)&&(i="POST"),s.length>0&&g.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?g("<div>").append(g.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){g.fn[e]=function(t){return this.on(e,t)}}),g.expr.filters.animated=function(t){return g.grep(g.timers,function(e){return t===e.elem}).length},g.offset={setOffset:function(t,e,n){var r,i,o,s,a,l,c=g.css(t,"position"),h=g(t),u={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=g.css(t,"top"),l=g.css(t,"left"),("absolute"===c||"fixed"===c)&&g.inArray("auto",[o,l])>-1?(s=(r=h.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),g.isFunction(e)&&(e=e.call(t,n,g.extend({},a))),null!=e.top&&(u.top=e.top-a.top+s),null!=e.left&&(u.left=e.left-a.left+i),"using"in e?e.using.call(t,u):h.css(u)}},g.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){g.offset.setOffset(this,t,e)});var e,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(e=o.documentElement,g.contains(e,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=hn(o),{top:r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},r=this[0];return"fixed"===g.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),g.nodeName(t[0],"html")||(n=t.offset()),n.top+=g.css(t[0],"borderTopWidth",!0),n.left+=g.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-g.css(r,"marginTop",!0),left:e.left-n.left-g.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!g.nodeName(t,"html")&&"static"===g.css(t,"position");)t=t.offsetParent;return t||Vt})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);g.fn[t]=function(r){return tt(this,function(t,r,i){var o=hn(t);if(void 0===i)return o?e in o?o[e]:o.document.documentElement[r]:t[r];o?o.scrollTo(n?g(o).scrollLeft():i,n?i:g(o).scrollTop()):t[r]=i},t,r,arguments.length,null)}}),g.each(["top","left"],function(t,e){g.cssHooks[e]=Xt(d.pixelPosition,function(t,n){if(n)return n=Gt(t,e),Ut.test(n)?g(t).position()[e]+"px":n})}),g.each({Height:"height",Width:"width"},function(t,e){g.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){g.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return tt(this,function(e,n,r){var i;return g.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?g.css(e,n,s):g.style(e,n,r,s)},e,o?r:void 0,o,null)}})}),g.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),g.fn.size=function(){return this.length},g.fn.andSelf=g.fn.addBack,o=function(){return g}.apply(n,a=[]),g}(f),a=[o],void 0===(l="function"==typeof(s=function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n=0,r=Array.prototype.slice;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.cleanData=(e=t.cleanData,function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{(r=t._data(i,"events"))&&r.remove&&t(i).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,r){var i,o,s,a={},l=e.split(".")[0];e=e.split(".")[1];var c=l+"-"+e;return r||(r=n,n=t.Widget),t.isArray(r)&&(r=t.extend.apply(null,[{}].concat(r))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},i=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,i,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(r,function(e,r){t.isFunction(r)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function i(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=i,e=r.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=r}),o.prototype=t.widget.extend(s,{widgetEventPrefix:i&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),i?(t.each(i._childConstructors,function(e,n){var r=n.prototype;t.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete i._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(l=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,r){r=t(r||this.defaultElement||this)[0],this.element=t(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},r!==this&&(t.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===r&&this.destroy()}}),this.document=t(r.style?r.ownerDocument:r.document||r),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var r,i,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},r=e.split("."),e=r.shift(),r.length){for(i=s[e]=t.widget.extend({},this.options[e]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(e=r.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,r,i;for(n in e)i=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&i&&i.length&&(r=t(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],r=this;function i(i,o){var s,a;for(a=0;a<i.length;a++)s=r.classesElementLookup[i[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),r.classesElementLookup[i[a]]=s,n.push(i[a]),o&&e.classes[i[a]]&&n.push(e.classes[i[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(r,i){-1!==t.inArray(e.target,i)&&(n.classesElementLookup[r]=t(i.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,r){r="boolean"==typeof r?r:n;var i="string"==typeof t||null===t,o={extra:i?e:n,keys:i?t:e,element:i?this.element:t,add:r};return o.element.toggleClass(this._classes(o),r),this},_on:function(e,n,r){var i,o=this;"boolean"!=typeof e&&(r=n,n=e,e=!1),r?(n=i=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),t.each(r,function(r,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,h=l[2];h?i.on(c,h,a):n.on(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,r){var i,o,s=this.options[e];if(r=r||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(r,i,o){var s;"string"==typeof i&&(i={effect:i});var a=i?!0===i||"number"==typeof i?n:i.effect||n:e;"number"==typeof(i=i||{})&&(i={duration:i}),s=!t.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),s&&t.effects&&t.effects.effect[a]?r[e](i):a!==e&&r[a]?r[a](i.duration,i.easing,o):r.queue(function(n){t(this)[e](),o&&o.call(r[0]),n()})}}),t.widget,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,r){return!!t.data(e,r[3])}}),t.fn.scrollParent=function(e){var n=this.css("position"),r="absolute"===n,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!r||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var i=!1;
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t(document).on("mouseup",function(){i=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,r=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,i=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,r){var i,o=t.ui[e].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(t,e,n,r){var i,o=t.plugins[e];if(o&&(r||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)t.options[o[i][0]]&&o[i][1].apply(t.element,n)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),r=t(e.target);r.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",e,r))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,r=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(r=t.ui.ddmanager.drop(this,e)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,r=t.isFunction(n.helper),i=r?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,r,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=t(i.containment),(r=n[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=i.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,r,i,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,r){return r=r||this._uiHash(),t.ui.plugin.call(this,e,[n,r,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,r){var i=t.extend({},n,{item:r.element});r.sortables=[],t(r.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,i))})},stop:function(e,n,r){var i=t.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,t.each(r.sortables,function(){this.isOver?(this.isOver=0,r.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,i))})},drag:function(e,n,r){t.each(r.sortables,function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,t.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(i=!1),i})),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",e),r.dropped=o.element,t.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(e),n.position=r._generatePosition(e,!0),r._trigger("fromSortable",e),r.dropped=!1,t.each(r.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,r){var i=t("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(e,n,r){var i=r.options;i._cursor&&t("body").css("cursor",i._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,r){var i=t(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(e,n,r){var i=r.options;i._opacity&&t(n.helper).css("opacity",i._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,r){var i=r.options,o=!1,s=r.scrollParentNotHidden[0],a=r.document[0];s!==a&&"HTML"!==s.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+s.offsetHeight-e.pageY<i.scrollSensitivity?s.scrollTop=o=s.scrollTop+i.scrollSpeed:e.pageY-r.overflowOffset.top<i.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+s.offsetWidth-e.pageX<i.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+i.scrollSpeed:e.pageX-r.overflowOffset.left<i.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-t(a).scrollTop()<i.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<i.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-t(a).scrollLeft()<i.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<i.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+i.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(r,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,r){var i=r.options;r.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=t(this),n=e.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,r){var i,o,s,a,l,c,h,u,p,f,d=r.options,g=d.snapTolerance,m=n.offset.left,v=m+r.helperProportions.width,y=n.offset.top,w=y+r.helperProportions.height;for(p=r.snapElements.length-1;p>=0;p--)l=r.snapElements[p].left-r.margins.left,c=l+r.snapElements[p].width,h=r.snapElements[p].top-r.margins.top,u=h+r.snapElements[p].height,v<l-g||m>c+g||w<h-g||y>u+g||!t.contains(r.snapElements[p].item.ownerDocument,r.snapElements[p].item)?(r.snapElements[p].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[p].item})),r.snapElements[p].snapping=!1):("inner"!==d.snapMode&&(i=Math.abs(h-w)<=g,o=Math.abs(u-y)<=g,s=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:u,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left)),f=i||o||s||a,"outer"!==d.snapMode&&(i=Math.abs(h-y)<=g,o=Math.abs(u-w)<=g,s=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:h,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left)),!r.snapElements[p].snapping&&(i||o||s||a||f)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[p].item})),r.snapElements[p].snapping=i||o||s||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,r){var i,o=r.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(i=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",i+e)}),this.css("zIndex",i+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,r){var i=t(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(e,n,r){var i=r.options;i._zIndex&&t(n.helper).css("zIndex",i._zIndex)}}),t.ui.draggable})?s.apply(n,a):s)||(e.exports=l);var g=!0,m={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(t){t=t||{},this.files=[],this.comment=t.comment,this.password}};m.Zip.CompressionMethod={STORE:0,DEFLATE:8},m.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},m.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},m.Zip.FileHeaderSignature=[80,75,1,2],m.Zip.LocalFileHeaderSignature=[80,75,3,4],m.Zip.CentralDirectorySignature=[80,75,5,6],m.Zip.prototype.addFile=function(t,e){(e=e||{}).filename;var n,r=t.length,i=0;if(g&&t instanceof Array&&(t=new Uint8Array(t)),"number"!=typeof e.compressionMethod&&(e.compressionMethod=m.Zip.CompressionMethod.DEFLATE),e.compress)switch(e.compressionMethod){case m.Zip.CompressionMethod.STORE:break;case m.Zip.CompressionMethod.DEFLATE:i=m.CRC32.calc(t),t=this.deflateWithOption(t,e),n=!0;break;default:throw new Error("unknown compression method:"+e.compressionMethod)}this.files.push({buffer:t,option:e,compressed:n,encrypted:!1,size:r,crc32:i})},m.Zip.prototype.setPassword=function(t){this.password=t},m.Zip.prototype.compress=function(){var t,e,n,r,i,o,s,a,l,c,h,u,p,f,d,v,y,w,b,x,C,k,S,_,T,M,D=this.files,R=0,E=0;for(S=0,_=D.length;S<_;++S){if(f=(t=D[S]).option.filename?t.option.filename.length:0,d=t.option.extraField?t.option.extraField.length:0,v=t.option.comment?t.option.comment.length:0,!t.compressed)switch(t.crc32=m.CRC32.calc(t.buffer),t.option.compressionMethod){case m.Zip.CompressionMethod.STORE:break;case m.Zip.CompressionMethod.DEFLATE:t.buffer=this.deflateWithOption(t.buffer,t.option),t.compressed=!0;break;default:throw new Error("unknown compression method:"+t.option.compressionMethod)}if(void 0!==t.option.password||void 0!==this.password){for(k=this.createEncryptionKey(t.option.password||this.password),x=t.buffer,g?((C=new Uint8Array(x.length+12)).set(x,12),x=C):x.unshift(0,0,0,0,0,0,0,0,0,0,0,0),T=0;T<12;++T)x[T]=this.encode(k,11===S?255&t.crc32:256*Math.random()|0);for(M=x.length;T<M;++T)x[T]=this.encode(k,x[T]);t.buffer=x}R+=30+f+t.buffer.length,E+=46+f+v}for(o=22+(this.comment?this.comment.length:0),e=new(g?Uint8Array:Array)(R+E+o),n=0,i=(r=R)+E,S=0,_=D.length;S<_;++S){if(f=(t=D[S]).option.filename?t.option.filename.length:0,d=0,v=t.option.comment?t.option.comment.length:0,s=n,e[n++]=m.Zip.LocalFileHeaderSignature[0],e[n++]=m.Zip.LocalFileHeaderSignature[1],e[n++]=m.Zip.LocalFileHeaderSignature[2],e[n++]=m.Zip.LocalFileHeaderSignature[3],e[r++]=m.Zip.FileHeaderSignature[0],e[r++]=m.Zip.FileHeaderSignature[1],e[r++]=m.Zip.FileHeaderSignature[2],e[r++]=m.Zip.FileHeaderSignature[3],20,e[r++]=20,e[r++]=t.option.os||m.Zip.OperatingSystem.MSDOS,e[n++]=e[r++]=20,e[n++]=e[r++]=0,a=0,(t.option.password||this.password)&&(a|=m.Zip.Flags.ENCRYPT),e[n++]=e[r++]=255&a,e[n++]=e[r++]=a>>8&255,l=t.option.compressionMethod,e[n++]=e[r++]=255&l,e[n++]=e[r++]=l>>8&255,c=t.option.date||new Date,e[n++]=e[r++]=(7&c.getMinutes())<<5|c.getSeconds()/2|0,e[n++]=e[r++]=c.getHours()<<3|c.getMinutes()>>3,e[n++]=e[r++]=(c.getMonth()+1&7)<<5|c.getDate(),e[n++]=e[r++]=(c.getFullYear()-1980&127)<<1|c.getMonth()+1>>3,h=t.crc32,e[n++]=e[r++]=255&h,e[n++]=e[r++]=h>>8&255,e[n++]=e[r++]=h>>16&255,e[n++]=e[r++]=h>>24&255,u=t.buffer.length,e[n++]=e[r++]=255&u,e[n++]=e[r++]=u>>8&255,e[n++]=e[r++]=u>>16&255,e[n++]=e[r++]=u>>24&255,p=t.size,e[n++]=e[r++]=255&p,e[n++]=e[r++]=p>>8&255,e[n++]=e[r++]=p>>16&255,e[n++]=e[r++]=p>>24&255,e[n++]=e[r++]=255&f,e[n++]=e[r++]=f>>8&255,e[n++]=e[r++]=255&d,e[n++]=e[r++]=d>>8&255,e[r++]=255&v,e[r++]=v>>8&255,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,y=t.option.filename)if(g)e.set(y,n),e.set(y,r),n+=f,r+=f;else for(T=0;T<f;++T)e[n++]=e[r++]=y[T];if(w=t.option.extraField)if(g)e.set(w,n),e.set(w,r),n+=d,r+=d;else for(T=0;T<v;++T)e[n++]=e[r++]=w[T];if(b=t.option.comment)if(g)e.set(b,r),r+=v;else for(T=0;T<v;++T)e[r++]=b[T];if(g)e.set(t.buffer,n),n+=t.buffer.length;else for(T=0,M=t.buffer.length;T<M;++T)e[n++]=t.buffer[T]}if(e[i++]=m.Zip.CentralDirectorySignature[0],e[i++]=m.Zip.CentralDirectorySignature[1],e[i++]=m.Zip.CentralDirectorySignature[2],e[i++]=m.Zip.CentralDirectorySignature[3],e[i++]=0,e[i++]=0,e[i++]=0,e[i++]=0,e[i++]=255&_,e[i++]=_>>8&255,e[i++]=255&_,e[i++]=_>>8&255,e[i++]=255&E,e[i++]=E>>8&255,e[i++]=E>>16&255,e[i++]=E>>24&255,e[i++]=255&R,e[i++]=R>>8&255,e[i++]=R>>16&255,e[i++]=R>>24&255,v=this.comment?this.comment.length:0,e[i++]=255&v,e[i++]=v>>8&255,this.comment)if(g)e.set(this.comment,i),i+=v;else for(T=0,M=v;T<M;++T)e[i++]=this.comment[T];return e},m.Zip.prototype.deflateWithOption=function(t,e){return new m.RawDeflate(t,e.deflateOption).compress()},m.Zip.prototype.getByte=function(t){var e=65535&t[2]|2;return e*(1^e)>>8&255},m.Zip.prototype.encode=function(t,e){var n=this.getByte(t);return this.updateKeys(t,e),n^e},m.Zip.prototype.updateKeys=function(t,e){t[0]=m.CRC32.single(t[0],e),t[1]=1+(6681*(20173*(t[1]+(255&t[0]))>>>0)>>>0)>>>0,t[2]=m.CRC32.single(t[2],t[1]>>>24)},m.Zip.prototype.createEncryptionKey=function(t){var e,n,r=[305419896,591751049,878082192];for(g&&(r=new Uint32Array(r)),e=0,n=t.length;e<n;++e)this.updateKeys(r,255&t[e]);return r},m.Huffman.buildHuffmanTable=function(t){var e,n,r,i,o,s,a,l,c,h,u,p=t.length,f=0,d=Number.POSITIVE_INFINITY;for(l=0,c=p;l<c;++l)t[l]>f&&(f=t[l]),t[l]<d&&(d=t[l]);for(e=1<<f,n=new(g?Uint32Array:Array)(e),r=1,i=0,o=2;r<=f;){for(l=0;l<p;++l)if(t[l]===r){for(s=0,a=i,h=0;h<r;++h)s=s<<1|1&a,a>>=1;for(u=r<<16|l,h=s;h<e;h+=o)n[h]=u;++i}++r,i<<=1,o<<=1}return[n,f,d]};var v,y=m.Huffman.buildHuffmanTable;m.RawInflate=function(t,e){switch(this.buffer,this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=g?new Uint8Array(t):t,this.output,this.op,this.bfinal=!1,this.bufferType=m.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!e&&(e={})||(e.index&&(this.ip=e.index),e.bufferSize&&(this.bufferSize=e.bufferSize),e.bufferType&&(this.bufferType=e.bufferType),e.resize&&(this.resize=e.resize)),this.bufferType){case m.RawInflate.BufferType.BLOCK:this.op=m.RawInflate.MaxBackwardLength,this.output=new(g?Uint8Array:Array)(m.RawInflate.MaxBackwardLength+this.bufferSize+m.RawInflate.MaxCopyLength);break;case m.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new(g?Uint8Array:Array)(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},m.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},m.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case m.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case m.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},m.RawInflate.MaxBackwardLength=32768,m.RawInflate.MaxCopyLength=258,m.RawInflate.Order=(v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],g?new Uint16Array(v):v),m.RawInflate.LengthCodeTable=function(t){return g?new Uint16Array(t):t}([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),m.RawInflate.LengthExtraTable=function(t){return g?new Uint8Array(t):t}([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),m.RawInflate.DistCodeTable=function(t){return g?new Uint16Array(t):t}([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),m.RawInflate.DistExtraTable=function(t){return g?new Uint8Array(t):t}([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),m.RawInflate.FixedLiteralLengthTable=function(){var t,e,n=new(g?Uint8Array:Array)(288);for(t=0,e=n.length;t<e;++t)n[t]=t<=143?8:t<=255?9:t<=279?7:8;return y(n)}(),m.RawInflate.FixedDistanceTable=function(){var t,e,n=new(g?Uint8Array:Array)(30);for(t=0,e=n.length;t<e;++t)n[t]=5;return y(n)}(),m.RawInflate.prototype.parseBlock=function(){var t=this.readBits(3);switch(1&t&&(this.bfinal=!0),t>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+t)}},m.RawInflate.prototype.readBits=function(t){var e,n=this.bitsbuf,r=this.bitsbuflen,i=this.input,o=this.ip;if(o+(t-r+7>>3)>=i.length)throw new Error("input buffer is broken");for(;r<t;)n|=i[o++]<<r,r+=8;return e=n&(1<<t)-1,n>>>=t,r-=t,this.bitsbuf=n,this.bitsbuflen=r,this.ip=o,e},m.RawInflate.prototype.readCodeByTable=function(t){for(var e,n,r=this.bitsbuf,i=this.bitsbuflen,o=this.input,s=this.ip,a=o.length,l=t[0],c=t[1];i<c&&!(s>=a);)r|=o[s++]<<i,i+=8;if((n=(e=l[r&(1<<c)-1])>>>16)>i)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=i-n,this.ip=s,65535&e},m.RawInflate.prototype.parseUncompressedBlock=function(){var t,e,n=this.input,r=this.ip,i=this.output,o=this.op,s=n.length,a=i.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=s)throw new Error("invalid uncompressed block header: LEN");if(t=n[r++]|n[r++]<<8,r+1>=s)throw new Error("invalid uncompressed block header: NLEN");if(t===~(n[r++]|n[r++]<<8))throw new Error("invalid uncompressed block header: length verify");if(r+t>n.length)throw new Error("input buffer is broken");switch(this.bufferType){case m.RawInflate.BufferType.BLOCK:for(;o+t>i.length;){if(t-=e=a-o,g)i.set(n.subarray(r,r+e),o),o+=e,r+=e;else for(;e--;)i[o++]=n[r++];this.op=o,i=this.expandBufferBlock(),o=this.op}break;case m.RawInflate.BufferType.ADAPTIVE:for(;o+t>i.length;)i=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}if(g)i.set(n.subarray(r,r+t),o),o+=t,r+=t;else for(;t--;)i[o++]=n[r++];this.ip=r,this.op=o,this.output=i},m.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case m.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(m.RawInflate.FixedLiteralLengthTable,m.RawInflate.FixedDistanceTable);break;case m.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(m.RawInflate.FixedLiteralLengthTable,m.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},m.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var t,e,n,r,i,o,s,a,l,c=this.readBits(5)+257,h=this.readBits(5)+1,u=this.readBits(4)+4,p=new(g?Uint8Array:Array)(m.RawInflate.Order.length);for(a=0;a<u;++a)p[m.RawInflate.Order[a]]=this.readBits(3);if(!g)for(a=u,u=p.length;a<u;++a)p[m.RawInflate.Order[a]]=0;for(t=y(p),r=new(g?Uint8Array:Array)(c+h),a=0,l=c+h;a<l;)switch(i=this.readCodeByTable(t)){case 16:for(s=3+this.readBits(2);s--;)r[a++]=o;break;case 17:for(s=3+this.readBits(3);s--;)r[a++]=0;o=0;break;case 18:for(s=11+this.readBits(7);s--;)r[a++]=0;o=0;break;default:r[a++]=i,o=i}switch(e=y(g?r.subarray(0,c):r.slice(0,c)),n=y(g?r.subarray(c):r.slice(c)),this.bufferType){case m.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(e,n);break;case m.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(e,n);break;default:throw new Error("invalid inflate mode")}},m.RawInflate.prototype.decodeHuffmanBlock=function(t,e){var n=this.output,r=this.op;this.currentLitlenTable=t;for(var i,o,s,a,l=n.length-m.RawInflate.MaxCopyLength,c=m.RawInflate.LengthCodeTable,h=m.RawInflate.LengthExtraTable,u=m.RawInflate.DistCodeTable,p=m.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(t));)if(i<256)r>=l&&(this.op=r,n=this.expandBufferBlock(),r=this.op),n[r++]=i;else for(a=c[o=i-257],h[o]>0&&(a+=this.readBits(h[o])),s=u[i=this.readCodeByTable(e)],p[i]>0&&(s+=this.readBits(p[i])),r>=l&&(this.op=r,n=this.expandBufferBlock(),r=this.op);a--;)n[r]=n[r++-s];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},m.RawInflate.prototype.decodeHuffmanAdaptive=function(t,e){var n=this.output,r=this.op;this.currentLitlenTable=t;for(var i,o,s,a,l=n.length,c=m.RawInflate.LengthCodeTable,h=m.RawInflate.LengthExtraTable,u=m.RawInflate.DistCodeTable,p=m.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(t));)if(i<256)r>=l&&(l=(n=this.expandBufferAdaptive()).length),n[r++]=i;else for(a=c[o=i-257],h[o]>0&&(a+=this.readBits(h[o])),s=u[i=this.readCodeByTable(e)],p[i]>0&&(s+=this.readBits(p[i])),r+a>l&&(l=(n=this.expandBufferAdaptive()).length);a--;)n[r]=n[r++-s];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},m.RawInflate.prototype.expandBufferBlock=function(t){var e,n,r=new(g?Uint8Array:Array)(this.op-m.RawInflate.MaxBackwardLength),i=this.op-m.RawInflate.MaxBackwardLength,o=this.output;if(g)r.set(o.subarray(m.RawInflate.MaxBackwardLength,r.length));else for(e=0,n=r.length;e<n;++e)r[e]=o[e+m.RawInflate.MaxBackwardLength];if(this.blocks.push(r),this.totalpos+=r.length,g)o.set(o.subarray(i,i+m.RawInflate.MaxBackwardLength));else for(e=0;e<m.RawInflate.MaxBackwardLength;++e)o[e]=o[i+e];return this.op=m.RawInflate.MaxBackwardLength,o},m.RawInflate.prototype.expandBufferAdaptive=function(t){var e,n,r,i=this.input.length/this.ip+1|0,o=this.input,s=this.output;return t&&("number"==typeof t.fixRatio&&(i=t.fixRatio),"number"==typeof t.addRatio&&(i+=t.addRatio)),n=i<2?(r=(o.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<s.length?s.length+r:s.length<<1:s.length*i,g?(e=new Uint8Array(n)).set(s):e=s,this.output=e,this.output},m.RawInflate.prototype.concatBufferBlock=function(){var t,e,n,r,i,o=0,s=this.totalpos+(this.op-m.RawInflate.MaxBackwardLength),a=this.output,l=this.blocks,c=new(g?Uint8Array:Array)(s);if(0===l.length)return g?this.output.subarray(m.RawInflate.MaxBackwardLength,this.op):this.output.slice(m.RawInflate.MaxBackwardLength,this.op);for(e=0,n=l.length;e<n;++e)for(r=0,i=(t=l[e]).length;r<i;++r)c[o++]=t[r];for(e=m.RawInflate.MaxBackwardLength,n=this.op;e<n;++e)c[o++]=a[e];return this.blocks=[],this.buffer=c,this.buffer},m.RawInflate.prototype.concatBufferDynamic=function(){var t,e=this.op;return g?this.resize?(t=new Uint8Array(e)).set(this.output.subarray(0,e)):t=this.output.subarray(0,e):(this.output.length>e&&(this.output.length=e),t=this.output),this.buffer=t,this.buffer};y=m.Huffman.buildHuffmanTable;m.RawInflateStream=function(t,e,n){this.blocks=[],this.bufferSize=n||ZLIB_STREAM_RAW_INFLATE_BUFFER_SIZE,this.totalpos=0,this.ip=void 0===e?0:e,this.bitsbuf=0,this.bitsbuflen=0,this.input=g?new Uint8Array(t):t,this.output=new(g?Uint8Array:Array)(this.bufferSize),this.op=0,this.bfinal=!1,this.blockLength,this.resize=!1,this.litlenTable,this.distTable,this.sp=0,this.status=m.RawInflateStream.Status.INITIALIZED,this.ip_,this.bitsbuflen_,this.bitsbuf_},m.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},m.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},m.RawInflateStream.prototype.decompress=function(t,e){var n=!1;for(void 0!==t&&(this.input=t),void 0!==e&&(this.ip=e);!n;)switch(this.status){case m.RawInflateStream.Status.INITIALIZED:case m.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(n=!0);break;case m.RawInflateStream.Status.BLOCK_HEADER_END:case m.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case m.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(n=!0);break;case m.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(n=!0);break;case m.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(n=!0)}break;case m.RawInflateStream.Status.BLOCK_BODY_END:case m.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case m.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(n=!0);break;case m.RawInflateStream.BlockType.FIXED:case m.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(n=!0)}break;case m.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?n=!0:this.status=m.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},m.RawInflateStream.MaxBackwardLength=32768,m.RawInflateStream.MaxCopyLength=258,m.RawInflateStream.Order=function(t){return g?new Uint16Array(t):t}([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m.RawInflateStream.LengthCodeTable=function(t){return g?new Uint16Array(t):t}([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),m.RawInflateStream.LengthExtraTable=function(t){return g?new Uint8Array(t):t}([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),m.RawInflateStream.DistCodeTable=function(t){return g?new Uint16Array(t):t}([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),m.RawInflateStream.DistExtraTable=function(t){return g?new Uint8Array(t):t}([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),m.RawInflateStream.FixedLiteralLengthTable=function(){var t,e,n=new(g?Uint8Array:Array)(288);for(t=0,e=n.length;t<e;++t)n[t]=t<=143?8:t<=255?9:t<=279?7:8;return y(n)}(),m.RawInflateStream.FixedDistanceTable=function(){var t,e,n=new(g?Uint8Array:Array)(30);for(t=0,e=n.length;t<e;++t)n[t]=5;return y(n)}(),m.RawInflateStream.prototype.readBlockHeader=function(){var t;if(this.status=m.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(t=this.readBits(3))<0)return this.restore_(),-1;switch(1&t&&(this.bfinal=!0),t>>>=1){case 0:this.currentBlockType=m.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=m.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=m.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+t)}this.status=m.RawInflateStream.Status.BLOCK_HEADER_END},m.RawInflateStream.prototype.readBits=function(t){for(var e,n=this.bitsbuf,r=this.bitsbuflen,i=this.input,o=this.ip;r<t;){if(i.length<=o)return-1;n|=(e=i[o++])<<r,r+=8}return e=n&(1<<t)-1,n>>>=t,r-=t,this.bitsbuf=n,this.bitsbuflen=r,this.ip=o,e},m.RawInflateStream.prototype.readCodeByTable=function(t){for(var e,n,r=this.bitsbuf,i=this.bitsbuflen,o=this.input,s=this.ip,a=t[0],l=t[1];i<l;){if(o.length<=s)return-1;r|=o[s++]<<i,i+=8}if((n=(e=a[r&(1<<l)-1])>>>16)>i)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=i-n,this.ip=s,65535&e},m.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var t,e=this.input,n=this.ip;if(this.status=m.RawInflateStream.Status.BLOCK_BODY_START,n+4>=e.length)return-1;if((t=e[n++]|e[n++]<<8)===~(e[n++]|e[n++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=n,this.blockLength=t,this.status=m.RawInflateStream.Status.BLOCK_BODY_END},m.RawInflateStream.prototype.parseUncompressedBlock=function(){var t=this.input,e=this.ip,n=this.output,r=this.op,i=this.blockLength;for(this.status=m.RawInflateStream.Status.DECODE_BLOCK_START;i--;){if(r===n.length&&(n=this.expandBuffer({fixRatio:2})),e>=t.length)return this.ip=e,this.op=r,this.blockLength=i+1,-1;n[r++]=t[e++]}return i<0&&(this.status=m.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=e,this.op=r,0},m.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=m.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=m.RawInflateStream.FixedLiteralLengthTable,this.distTable=m.RawInflateStream.FixedDistanceTable,this.status=m.RawInflateStream.Status.BLOCK_BODY_END,0},m.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},m.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},m.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var t,e,n,r,i=new(g?Uint8Array:Array)(m.RawInflateStream.Order.length);if(this.status=m.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),t=this.readBits(5)+257,e=this.readBits(5)+1,n=this.readBits(4)+4,t<0||e<0||n<0)return this.restore_(),-1;try{(function(){var o,s,a,l,c,h,u=0;for(c=0;c<n;++c){if((o=this.readBits(3))<0)throw new Error("not enough input");i[m.RawInflateStream.Order[c]]=o}for(r=y(i),l=new(g?Uint8Array:Array)(t+e),c=0,h=t+e;c<h;){if((s=this.readCodeByTable(r))<0)throw new Error("not enough input");switch(s){case 16:if((o=this.readBits(2))<0)throw new Error("not enough input");for(a=3+o;a--;)l[c++]=u;break;case 17:if((o=this.readBits(3))<0)throw new Error("not enough input");for(a=3+o;a--;)l[c++]=0;u=0;break;case 18:if((o=this.readBits(7))<0)throw new Error("not enough input");for(a=11+o;a--;)l[c++]=0;u=0;break;default:l[c++]=s,u=s}}new(g?Uint8Array:Array)(t),new(g?Uint8Array:Array)(e),this.litlenTable=y(g?l.subarray(0,t):l.slice(0,t)),this.distTable=y(g?l.subarray(t):l.slice(t))}).call(this)}catch(t){return this.restore_(),-1}return this.status=m.RawInflateStream.Status.BLOCK_BODY_END,0},m.RawInflateStream.prototype.decodeHuffman=function(){var t,e,n,r,i,o=this.output,s=this.op,a=this.litlenTable,l=this.distTable,c=o.length;for(this.status=m.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(t=this.readCodeByTable(a))<0)return this.op=s,this.restore_(),-1;if(256===t)break;if(t<256)s===c&&(c=(o=this.expandBuffer()).length),o[s++]=t;else{if(e=t-257,r=m.RawInflateStream.LengthCodeTable[e],m.RawInflateStream.LengthExtraTable[e]>0){if((i=this.readBits(m.RawInflateStream.LengthExtraTable[e]))<0)return this.op=s,this.restore_(),-1;r+=i}if((t=this.readCodeByTable(l))<0)return this.op=s,this.restore_(),-1;if(n=m.RawInflateStream.DistCodeTable[t],m.RawInflateStream.DistExtraTable[t]>0){if((i=this.readBits(m.RawInflateStream.DistExtraTable[t]))<0)return this.op=s,this.restore_(),-1;n+=i}for(s+r>=c&&(c=(o=this.expandBuffer()).length);r--;)o[s]=o[s++-n];if(this.ip===this.input.length)return this.op=s,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=s,this.status=m.RawInflateStream.Status.DECODE_BLOCK_END},m.RawInflateStream.prototype.expandBuffer=function(t){var e,n,r,i=this.input.length/this.ip+1|0,o=this.input,s=this.output;return t&&("number"==typeof t.fixRatio&&(i=t.fixRatio),"number"==typeof t.addRatio&&(i+=t.addRatio)),n=i<2?(r=(o.length-this.ip)/this.litlenTable[2]/2*258|0)<s.length?s.length+r:s.length<<1:s.length*i,g?(e=new Uint8Array(n)).set(s):e=s,this.output=e,this.output},m.RawInflateStream.prototype.concatBuffer=function(){var t,e,n=this.op;return t=this.resize?g?new Uint8Array(this.output.subarray(this.sp,n)):this.output.slice(this.sp,n):g?this.output.subarray(this.sp,n):this.output.slice(this.sp,n),this.sp=n,n>m.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=m.RawInflateStream.MaxBackwardLength,g?(e=this.output,this.output=new Uint8Array(this.bufferSize+m.RawInflateStream.MaxBackwardLength),this.output.set(e.subarray(n-m.RawInflateStream.MaxBackwardLength,n))):this.output=this.output.slice(n-m.RawInflateStream.MaxBackwardLength)),t},m.Inflate=function(t,e){var n,r;switch(this.input=t,this.ip=0,this.rawinflate,this.verify,!e&&(e={})||(e.index&&(this.ip=e.index),e.verify&&(this.verify=e.verify)),n=t[this.ip++],r=t[this.ip++],15&n){case m.CompressionMethod.DEFLATE:this.method=m.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.rawinflate=new m.RawInflate(t,{index:this.ip,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})},m.Inflate.BufferType=m.RawInflate.BufferType,m.Inflate.prototype.decompress=function(){var t,e=this.input;if(t=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(e[this.ip++]<<24|e[this.ip++]<<16|e[this.ip++]<<8|e[this.ip++])>>>0!==m.Adler32(t))throw new Error("invalid adler-32 checksum");return t},m.InflateStream=function(t){this.input=void 0===t?new(g?Uint8Array:Array):t,this.ip=0,this.rawinflate=new m.RawInflateStream(this.input,this.ip),this.method,this.output=this.rawinflate.output},m.InflateStream.prototype.decompress=function(t){var e;if(void 0!==t)if(g){var n=new Uint8Array(this.input.length+t.length);n.set(this.input,0),n.set(t,this.input.length),this.input=n}else this.input=this.input.concat(t);return void 0===this.method&&this.readHeader()<0?new(g?Uint8Array:Array):(e=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=g?this.input.subarray(this.rawinflate.ip):this.input.slice(this.rawinflate.ip),this.ip=0),e)},m.InflateStream.prototype.readHeader=function(){var t=this.ip,e=this.input,n=e[t++],r=e[t++];if(void 0===n||void 0===r)return-1;switch(15&n){case m.CompressionMethod.DEFLATE:this.method=m.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.ip=t},m.Gunzip=function(t,e){this.input=t,this.ip=0,this.member=[],this.decompressed=!1},m.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},m.Gunzip.prototype.decompress=function(){for(var t=this.input.length;this.ip<t;)this.decodeMember();return this.decompressed=!0,this.concatMember()},m.Gunzip.prototype.decodeMember=function(){var t,e,n,r,i,o,s,a,l,c=new m.GunzipMember,h=this.input,u=this.ip;if(c.id1=h[u++],c.id2=h[u++],31!==c.id1||139!==c.id2)throw new Error("invalid file signature:"+c.id1+","+c.id2);switch(c.cm=h[u++],c.cm){case 8:break;default:throw new Error("unknown compression method: "+c.cm)}if(c.flg=h[u++],a=h[u++]|h[u++]<<8|h[u++]<<16|h[u++]<<24,c.mtime=new Date(1e3*a),c.xfl=h[u++],c.os=h[u++],(c.flg&m.Gzip.FlagsMask.FEXTRA)>0&&(c.xlen=h[u++]|h[u++]<<8,u=this.decodeSubField(u,c.xlen)),(c.flg&m.Gzip.FlagsMask.FNAME)>0){for(s=[],o=0;(i=h[u++])>0;)s[o++]=String.fromCharCode(i);c.name=s.join("")}if((c.flg&m.Gzip.FlagsMask.FCOMMENT)>0){for(s=[],o=0;(i=h[u++])>0;)s[o++]=String.fromCharCode(i);c.comment=s.join("")}if((c.flg&m.Gzip.FlagsMask.FHCRC)>0&&(c.crc16=65535&m.CRC32.calc(h,0,u),c.crc16!==(h[u++]|h[u++]<<8)))throw new Error("invalid header crc16");if(t=h[h.length-4]|h[h.length-3]<<8|h[h.length-2]<<16|h[h.length-1]<<24,h.length-u-4-4<512*t&&(r=t),e=new m.RawInflate(h,{index:u,bufferSize:r}),c.data=n=e.decompress(),u=e.ip,c.crc32=l=(h[u++]|h[u++]<<8|h[u++]<<16|h[u++]<<24)>>>0,m.CRC32.calc(n)!==l)throw new Error("invalid CRC-32 checksum: 0x"+m.CRC32.calc(n).toString(16)+" / 0x"+l.toString(16));if(c.isize=t=(h[u++]|h[u++]<<8|h[u++]<<16|h[u++]<<24)>>>0,(4294967295&n.length)!==t)throw new Error("invalid input size: "+(4294967295&n.length)+" / "+t);this.member.push(c),this.ip=u},m.Gunzip.prototype.decodeSubField=function(t,e){return t+e},m.Gunzip.prototype.concatMember=function(){var t,e,n,r=this.member,i=0,o=0;for(t=0,e=r.length;t<e;++t)o+=r[t].data.length;if(g)for(n=new Uint8Array(o),t=0;t<e;++t)n.set(r[t].data,i),i+=r[t].data.length;else{for(n=[],t=0;t<e;++t)n[t]=r[t].data;n=Array.prototype.concat.apply([],n)}return n},m.GunzipMember=function(){this.id1,this.id2,this.cm,this.flg,this.mtime,this.xfl,this.os,this.crc16,this.xlen,this.crc32,this.isize,this.name,this.comment,this.data},m.GunzipMember.prototype.getName=function(){return this.name},m.GunzipMember.prototype.getData=function(){return this.data},m.GunzipMember.prototype.getMtime=function(){return this.mtime},m.Gzip=function(t,e){this.input=t,this.ip=0,this.output,this.op=0,this.flags={},this.filename,this.comment,this.deflateOptions,e&&(e.flags&&(this.flags=e.flags),"string"==typeof e.filename&&(this.filename=e.filename),"string"==typeof e.comment&&(this.comment=e.comment),e.deflateOptions&&(this.deflateOptions=e.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},m.Gzip.DefaultBufferSize=32768,m.Gzip.prototype.compress=function(){var t,e,n,r,i,o,s,a,l=new(g?Uint8Array:Array)(m.Gzip.DefaultBufferSize),c=0,h=this.input,u=this.ip,p=this.filename,f=this.comment;if(l[c++]=31,l[c++]=139,l[c++]=8,t=0,this.flags.fname&&(t|=m.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(t|=m.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(t|=m.Gzip.FlagsMask.FHCRC),l[c++]=t,e=(Date.now?Date.now():+new Date)/1e3|0,l[c++]=255&e,l[c++]=e>>>8&255,l[c++]=e>>>16&255,l[c++]=e>>>24&255,l[c++]=0,l[c++]=m.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(s=0,a=p.length;s<a;++s)(o=p.charCodeAt(s))>255&&(l[c++]=o>>>8&255),l[c++]=255&o;l[c++]=0}if(this.flags.comment){for(s=0,a=f.length;s<a;++s)(o=f.charCodeAt(s))>255&&(l[c++]=o>>>8&255),l[c++]=255&o;l[c++]=0}return this.flags.fhcrc&&(n=65535&m.CRC32.calc(l,0,c),l[c++]=255&n,l[c++]=n>>>8&255),this.deflateOptions.outputBuffer=l,this.deflateOptions.outputIndex=c,l=(i=new m.RawDeflate(h,this.deflateOptions)).compress(),c=i.op,g&&(c+8>l.buffer.byteLength?(this.output=new Uint8Array(c+8),this.output.set(new Uint8Array(l.buffer)),l=this.output):l=new Uint8Array(l.buffer)),r=m.CRC32.calc(h),l[c++]=255&r,l[c++]=r>>>8&255,l[c++]=r>>>16&255,l[c++]=r>>>24&255,a=h.length,l[c++]=255&a,l[c++]=a>>>8&255,l[c++]=a>>>16&255,l[c++]=a>>>24&255,this.ip=u,g&&c<l.length&&(this.output=l=l.subarray(0,c)),l},m.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},m.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},m.Heap=function(t){this.buffer=new(g?Uint16Array:Array)(2*t),this.length=0},m.Heap.prototype.getParent=function(t){return 2*((t-2)/4|0)},m.Heap.prototype.getChild=function(t){return 2*t+2},m.Heap.prototype.push=function(t,e){var n,r,i,o=this.buffer;for(n=this.length,o[this.length++]=e,o[this.length++]=t;n>0&&(r=this.getParent(n),o[n]>o[r]);)i=o[n],o[n]=o[r],o[r]=i,i=o[n+1],o[n+1]=o[r+1],o[r+1]=i,n=r;return this.length},m.Heap.prototype.pop=function(){var t,e,n,r,i,o=this.buffer;for(e=o[0],t=o[1],this.length-=2,o[0]=o[this.length],o[1]=o[this.length+1],i=0;!((r=this.getChild(i))>=this.length)&&(r+2<this.length&&o[r+2]>o[r]&&(r+=2),o[r]>o[i]);)n=o[i],o[i]=o[r],o[r]=n,n=o[i+1],o[i+1]=o[r+1],o[r+1]=n,i=r;return{index:t,value:e,length:this.length}},m.RawDeflate=function(t,e){this.compressionType=m.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.freqsLitLen,this.freqsDist,this.input=g&&t instanceof Array?new Uint8Array(t):t,this.output,this.op=0,e&&(e.lazy&&(this.lazy=e.lazy),"number"==typeof e.compressionType&&(this.compressionType=e.compressionType),e.outputBuffer&&(this.output=g&&e.outputBuffer instanceof Array?new Uint8Array(e.outputBuffer):e.outputBuffer),"number"==typeof e.outputIndex&&(this.op=e.outputIndex)),this.output||(this.output=new(g?Uint8Array:Array)(32768))},m.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},m.RawDeflate.Lz77MinLength=3,m.RawDeflate.Lz77MaxLength=258,m.RawDeflate.WindowSize=32768,m.RawDeflate.MaxCodeLength=16,m.RawDeflate.HUFMAX=286,m.RawDeflate.FixedHuffmanTable=function(){var t,e=[];for(t=0;t<288;t++)switch(!0){case t<=143:e.push([t+48,8]);break;case t<=255:e.push([t-144+400,9]);break;case t<=279:e.push([t-256+0,7]);break;case t<=287:e.push([t-280+192,8]);break;default:throw"invalid literal: "+t}return e}(),m.RawDeflate.prototype.compress=function(){var t,e,n,r=this.input;switch(this.compressionType){case m.RawDeflate.CompressionType.NONE:for(e=0,n=r.length;e<n;)e+=(t=g?r.subarray(e,e+65535):r.slice(e,e+65535)).length,this.makeNocompressBlock(t,e===n);break;case m.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(r,!0),this.op=this.output.length;break;case m.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(r,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},m.RawDeflate.prototype.makeNocompressBlock=function(t,e){var n,r,i,o,s,a,l=this.output,c=this.op;if(g){for(l=new Uint8Array(this.output.buffer);l.length<=c+t.length+5;)l=new Uint8Array(l.length<<1);l.set(this.output)}if(n=e?1:0,r=m.RawDeflate.CompressionType.NONE,l[c++]=n|r<<1,o=65536+~(i=t.length)&65535,l[c++]=255&i,l[c++]=i>>>8&255,l[c++]=255&o,l[c++]=o>>>8&255,g)l.set(t,c),c+=t.length,l=l.subarray(0,c);else{for(s=0,a=t.length;s<a;++s)l[c++]=t[s];l.length=c}return this.op=c,this.output=l,l},m.RawDeflate.prototype.makeFixedHuffmanBlock=function(t,e){var n,r,i,o=new m.BitStream(g?new Uint8Array(this.output.buffer):this.output,this.op);return n=e?1:0,r=m.RawDeflate.CompressionType.FIXED,o.writeBits(n,1,!0),o.writeBits(r,2,!0),i=this.lz77(t),this.fixedHuffman(i,o),o.finish()},m.RawDeflate.prototype.makeDynamicHuffmanBlock=function(t,e){var n,r,i,o,s,a,l,c,h,u,p,f,d,v,y,w,b,x=new m.BitStream(g?new Uint8Array(this.output.buffer):this.output,this.op),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(19);for(n=e?1:0,r=m.RawDeflate.CompressionType.DYNAMIC,x.writeBits(n,1,!0),x.writeBits(r,2,!0),i=this.lz77(t),l=this.getLengths_(this.freqsLitLen,15),c=this.getCodesFromLengths_(l),h=this.getLengths_(this.freqsDist,7),u=this.getCodesFromLengths_(h),o=286;o>257&&0===l[o-1];o--);for(s=30;s>1&&0===h[s-1];s--);for(p=this.getTreeSymbols_(o,l,s,h),f=this.getLengths_(p.freqs,7),w=0;w<19;w++)k[w]=f[C[w]];for(a=19;a>4&&0===k[a-1];a--);for(d=this.getCodesFromLengths_(f),x.writeBits(o-257,5,!0),x.writeBits(s-1,5,!0),x.writeBits(a-4,4,!0),w=0;w<a;w++)x.writeBits(k[w],3,!0);for(w=0,b=p.codes.length;w<b;w++)if(v=p.codes[w],x.writeBits(d[v],f[v],!0),v>=16){switch(w++,v){case 16:y=2;break;case 17:y=3;break;case 18:y=7;break;default:throw"invalid code: "+v}x.writeBits(p.codes[w],y,!0)}return this.dynamicHuffman(i,[c,l],[u,h],x),x.finish()},m.RawDeflate.prototype.dynamicHuffman=function(t,e,n,r){var i,o,s,a,l,c,h,u;for(l=e[0],c=e[1],h=n[0],u=n[1],i=0,o=t.length;i<o;++i)if(s=t[i],r.writeBits(l[s],c[s],!0),s>256)r.writeBits(t[++i],t[++i],!0),a=t[++i],r.writeBits(h[a],u[a],!0),r.writeBits(t[++i],t[++i],!0);else if(256===s)break;return r},m.RawDeflate.prototype.fixedHuffman=function(t,e){var n,r,i;for(n=0,r=t.length;n<r;n++)if(i=t[n],m.BitStream.prototype.writeBits.apply(e,m.RawDeflate.FixedHuffmanTable[i]),i>256)e.writeBits(t[++n],t[++n],!0),e.writeBits(t[++n],5),e.writeBits(t[++n],t[++n],!0);else if(256===i)break;return e},m.RawDeflate.Lz77Match=function(t,e){this.length=t,this.backwardDistance=e},m.RawDeflate.Lz77Match.LengthCodeTable=function(t){return g?new Uint32Array(t):t}(function(){var t,e,n=[];for(t=3;t<=258;t++)e=r(t),n[t]=e[2]<<24|e[1]<<16|e[0];function r(t){switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case t<=12:return[265,t-11,1];case t<=14:return[266,t-13,1];case t<=16:return[267,t-15,1];case t<=18:return[268,t-17,1];case t<=22:return[269,t-19,2];case t<=26:return[270,t-23,2];case t<=30:return[271,t-27,2];case t<=34:return[272,t-31,2];case t<=42:return[273,t-35,3];case t<=50:return[274,t-43,3];case t<=58:return[275,t-51,3];case t<=66:return[276,t-59,3];case t<=82:return[277,t-67,4];case t<=98:return[278,t-83,4];case t<=114:return[279,t-99,4];case t<=130:return[280,t-115,4];case t<=162:return[281,t-131,5];case t<=194:return[282,t-163,5];case t<=226:return[283,t-195,5];case t<=257:return[284,t-227,5];case 258===t:return[285,t-258,0];default:throw"invalid length: "+t}}return n}()),m.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(t){var e;switch(!0){case 1===t:e=[0,t-1,0];break;case 2===t:e=[1,t-2,0];break;case 3===t:e=[2,t-3,0];break;case 4===t:e=[3,t-4,0];break;case t<=6:e=[4,t-5,1];break;case t<=8:e=[5,t-7,1];break;case t<=12:e=[6,t-9,2];break;case t<=16:e=[7,t-13,2];break;case t<=24:e=[8,t-17,3];break;case t<=32:e=[9,t-25,3];break;case t<=48:e=[10,t-33,4];break;case t<=64:e=[11,t-49,4];break;case t<=96:e=[12,t-65,5];break;case t<=128:e=[13,t-97,5];break;case t<=192:e=[14,t-129,6];break;case t<=256:e=[15,t-193,6];break;case t<=384:e=[16,t-257,7];break;case t<=512:e=[17,t-385,7];break;case t<=768:e=[18,t-513,8];break;case t<=1024:e=[19,t-769,8];break;case t<=1536:e=[20,t-1025,9];break;case t<=2048:e=[21,t-1537,9];break;case t<=3072:e=[22,t-2049,10];break;case t<=4096:e=[23,t-3073,10];break;case t<=6144:e=[24,t-4097,11];break;case t<=8192:e=[25,t-6145,11];break;case t<=12288:e=[26,t-8193,12];break;case t<=16384:e=[27,t-12289,12];break;case t<=24576:e=[28,t-16385,13];break;case t<=32768:e=[29,t-24577,13];break;default:throw"invalid distance"}return e},m.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var t,e=this.length,n=this.backwardDistance,r=[],i=0;return t=m.RawDeflate.Lz77Match.LengthCodeTable[e],r[i++]=65535&t,r[i++]=t>>16&255,r[i++]=t>>24,t=this.getDistanceCode_(n),r[i++]=t[0],r[i++]=t[1],r[i++]=t[2],r},m.RawDeflate.prototype.lz77=function(t){var e,n,r,i,o,s,a,l,c,h={},u=m.RawDeflate.WindowSize,p=g?new Uint16Array(2*t.length):[],f=0,d=0,v=new(g?Uint32Array:Array)(286),y=new(g?Uint32Array:Array)(30),w=this.lazy;if(!g){for(r=0;r<=285;)v[r++]=0;for(r=0;r<=29;)y[r++]=0}function b(t,e){var n,r,i=t.toLz77Array();for(n=0,r=i.length;n<r;++n)p[f++]=i[n];v[i[0]]++,y[i[3]]++,d=t.length+e-1,l=null}for(v[256]=1,e=0,n=t.length;e<n;++e){for(o=0,r=0,i=m.RawDeflate.Lz77MinLength;r<i&&e+r!==n;++r)o=o<<8|t[e+r];if(void 0===h[o]&&(h[o]=[]),s=h[o],d-- >0)s.push(e);else{for(;s.length>0&&e-s[0]>u;)s.shift();if(e+m.RawDeflate.Lz77MinLength>=n){for(l&&b(l,-1),r=0,i=n-e;r<i;++r)c=t[e+r],p[f++]=c,++v[c];break}s.length>0?(a=this.searchLongestMatch_(t,e,s),l?l.length<a.length?(c=t[e-1],p[f++]=c,++v[c],b(a,0)):b(l,-1):a.length<w?l=a:b(a,0)):l?b(l,-1):(c=t[e],p[f++]=c,++v[c]),s.push(e)}}return p[f++]=256,v[256]++,this.freqsLitLen=v,this.freqsDist=y,g?p.subarray(0,f):p},m.RawDeflate.prototype.searchLongestMatch_=function(t,e,n){var r,i,o,s,a,l,c=0,h=t.length;t:for(s=0,l=n.length;s<l;s++){if(r=n[l-s-1],o=m.RawDeflate.Lz77MinLength,c>m.RawDeflate.Lz77MinLength){for(a=c;a>m.RawDeflate.Lz77MinLength;a--)if(t[r+a-1]!==t[e+a-1])continue t;o=c}for(;o<m.RawDeflate.Lz77MaxLength&&e+o<h&&t[r+o]===t[e+o];)++o;if(o>c&&(i=r,c=o),o===m.RawDeflate.Lz77MaxLength)break}return new m.RawDeflate.Lz77Match(c,e-i)},m.RawDeflate.prototype.getTreeSymbols_=function(t,e,n,r){var i,o,s,a,l,c,h=new(g?Uint32Array:Array)(t+n),u=new(g?Uint32Array:Array)(316),p=new(g?Uint8Array:Array)(19);for(o=0,i=0;i<t;i++)h[o++]=e[i];for(i=0;i<n;i++)h[o++]=r[i];if(!g)for(i=0,a=p.length;i<a;++i)p[i]=0;for(l=0,i=0,a=h.length;i<a;i+=o){for(o=1;i+o<a&&h[i+o]===h[i];++o);if(s=o,0===h[i])if(s<3)for(;s-- >0;)u[l++]=0,p[0]++;else for(;s>0;)(c=s<138?s:138)>s-3&&c<s&&(c=s-3),c<=10?(u[l++]=17,u[l++]=c-3,p[17]++):(u[l++]=18,u[l++]=c-11,p[18]++),s-=c;else if(u[l++]=h[i],p[h[i]]++,--s<3)for(;s-- >0;)u[l++]=h[i],p[h[i]]++;else for(;s>0;)(c=s<6?s:6)>s-3&&c<s&&(c=s-3),u[l++]=16,u[l++]=c-3,p[16]++,s-=c}return{codes:g?u.subarray(0,l):u.slice(0,l),freqs:p}},m.RawDeflate.prototype.getLengths_=function(t,e){var n,r,i,o,s,a=t.length,l=new m.Heap(2*m.RawDeflate.HUFMAX),c=new(g?Uint8Array:Array)(a);if(!g)for(o=0;o<a;o++)c[o]=0;for(o=0;o<a;++o)t[o]>0&&l.push(o,t[o]);if(n=new Array(l.length/2),r=new(g?Uint32Array:Array)(l.length/2),1===n.length)return c[l.pop().index]=1,c;for(o=0,s=l.length/2;o<s;++o)n[o]=l.pop(),r[o]=n[o].value;for(i=this.reversePackageMerge_(r,r.length,e),o=0,s=n.length;o<s;++o)c[n[o].index]=i[o];return c},m.RawDeflate.prototype.reversePackageMerge_=function(t,e,n){var r,i,o,s,a,l=new(g?Uint16Array:Array)(n),c=new(g?Uint8Array:Array)(n),h=new(g?Uint8Array:Array)(e),u=new Array(n),p=new Array(n),f=new Array(n),d=(1<<n)-e,m=1<<n-1;function v(t){var n=p[t][f[t]];n===e?(v(t+1),v(t+1)):--h[n],++f[t]}for(l[n-1]=e,i=0;i<n;++i)d<m?c[i]=0:(c[i]=1,d-=m),d<<=1,l[n-2-i]=(l[n-1-i]/2|0)+e;for(l[0]=c[0],u[0]=new Array(l[0]),p[0]=new Array(l[0]),i=1;i<n;++i)l[i]>2*l[i-1]+c[i]&&(l[i]=2*l[i-1]+c[i]),u[i]=new Array(l[i]),p[i]=new Array(l[i]);for(r=0;r<e;++r)h[r]=n;for(o=0;o<l[n-1];++o)u[n-1][o]=t[o],p[n-1][o]=o;for(r=0;r<n;++r)f[r]=0;for(1===c[n-1]&&(--h[0],++f[n-1]),i=n-2;i>=0;--i){for(r=0,s=0,a=f[i+1],o=0;o<l[i];o++)(s=u[i+1][a]+u[i+1][a+1])>t[r]?(u[i][o]=s,p[i][o]=e,a+=2):(u[i][o]=t[r],p[i][o]=r,++r);f[i]=0,1===c[i]&&v(i)}return h},m.RawDeflate.prototype.getCodesFromLengths_=function(t){var e,n,r,i,o=new(g?Uint16Array:Array)(t.length),s=[],a=[],l=0;for(e=0,n=t.length;e<n;e++)s[t[e]]=1+(0|s[t[e]]);for(e=1,n=m.RawDeflate.MaxCodeLength;e<=n;e++)a[e]=l,l+=0|s[e],l<<=1;for(e=0,n=t.length;e<n;e++)for(l=a[t[e]],a[t[e]]+=1,o[e]=0,r=0,i=t[e];r<i;r++)o[e]=o[e]<<1|1&l,l>>>=1;return o},m.Unzip=function(t,e){e=e||{},this.input=g&&t instanceof Array?new Uint8Array(t):t,this.ip=0,this.eocdrOffset,this.numberOfThisDisk,this.startDisk,this.totalEntriesThisDisk,this.totalEntries,this.centralDirectorySize,this.centralDirectoryOffset,this.commentLength,this.comment,this.fileHeaderList,this.filenameToIndex,this.verify=e.verify||!1,this.password=e.password},m.Unzip.CompressionMethod=m.Zip.CompressionMethod,m.Unzip.FileHeaderSignature=m.Zip.FileHeaderSignature,m.Unzip.LocalFileHeaderSignature=m.Zip.LocalFileHeaderSignature,m.Unzip.CentralDirectorySignature=m.Zip.CentralDirectorySignature,m.Unzip.FileHeader=function(t,e){this.input=t,this.offset=e,this.length,this.version,this.os,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.fileCommentLength,this.diskNumberStart,this.internalFileAttributes,this.externalFileAttributes,this.relativeOffset,this.filename,this.extraField,this.comment},m.Unzip.FileHeader.prototype.parse=function(){var t=this.input,e=this.offset;if(t[e++]!==m.Unzip.FileHeaderSignature[0]||t[e++]!==m.Unzip.FileHeaderSignature[1]||t[e++]!==m.Unzip.FileHeaderSignature[2]||t[e++]!==m.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=t[e++],this.os=t[e++],this.needVersion=t[e++]|t[e++]<<8,this.flags=t[e++]|t[e++]<<8,this.compression=t[e++]|t[e++]<<8,this.time=t[e++]|t[e++]<<8,this.date=t[e++]|t[e++]<<8,this.crc32=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.compressedSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.plainSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.fileNameLength=t[e++]|t[e++]<<8,this.extraFieldLength=t[e++]|t[e++]<<8,this.fileCommentLength=t[e++]|t[e++]<<8,this.diskNumberStart=t[e++]|t[e++]<<8,this.internalFileAttributes=t[e++]|t[e++]<<8,this.externalFileAttributes=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,this.relativeOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,g?t.subarray(e,e+=this.fileNameLength):t.slice(e,e+=this.fileNameLength)),this.extraField=g?t.subarray(e,e+=this.extraFieldLength):t.slice(e,e+=this.extraFieldLength),this.comment=g?t.subarray(e,e+this.fileCommentLength):t.slice(e,e+this.fileCommentLength),this.length=e-this.offset},m.Unzip.LocalFileHeader=function(t,e){this.input=t,this.offset=e,this.length,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.filename,this.extraField},m.Unzip.LocalFileHeader.Flags=m.Zip.Flags,m.Unzip.LocalFileHeader.prototype.parse=function(){var t=this.input,e=this.offset;if(t[e++]!==m.Unzip.LocalFileHeaderSignature[0]||t[e++]!==m.Unzip.LocalFileHeaderSignature[1]||t[e++]!==m.Unzip.LocalFileHeaderSignature[2]||t[e++]!==m.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=t[e++]|t[e++]<<8,this.flags=t[e++]|t[e++]<<8,this.compression=t[e++]|t[e++]<<8,this.time=t[e++]|t[e++]<<8,this.date=t[e++]|t[e++]<<8,this.crc32=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.compressedSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.plainSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.fileNameLength=t[e++]|t[e++]<<8,this.extraFieldLength=t[e++]|t[e++]<<8,this.filename=String.fromCharCode.apply(null,g?t.subarray(e,e+=this.fileNameLength):t.slice(e,e+=this.fileNameLength)),this.extraField=g?t.subarray(e,e+=this.extraFieldLength):t.slice(e,e+=this.extraFieldLength),this.length=e-this.offset},m.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var t,e=this.input;for(t=e.length-12;t>0;--t)if(e[t]===m.Unzip.CentralDirectorySignature[0]&&e[t+1]===m.Unzip.CentralDirectorySignature[1]&&e[t+2]===m.Unzip.CentralDirectorySignature[2]&&e[t+3]===m.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=t);throw new Error("End of Central Directory Record not found")},m.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var t,e=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),t=this.eocdrOffset,e[t++]!==m.Unzip.CentralDirectorySignature[0]||e[t++]!==m.Unzip.CentralDirectorySignature[1]||e[t++]!==m.Unzip.CentralDirectorySignature[2]||e[t++]!==m.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=e[t++]|e[t++]<<8,this.startDisk=e[t++]|e[t++]<<8,this.totalEntriesThisDisk=e[t++]|e[t++]<<8,this.totalEntries=e[t++]|e[t++]<<8,this.centralDirectorySize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.centralDirectoryOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.commentLength=e[t++]|e[t++]<<8,this.comment=g?e.subarray(t,t+this.commentLength):e.slice(t,t+this.commentLength)},m.Unzip.prototype.parseFileHeader=function(){var t,e,n,r,i=[],o={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),t=this.centralDirectoryOffset,n=0,r=this.totalEntries;n<r;++n)(e=new m.Unzip.FileHeader(this.input,t)).parse(),t+=e.length,i[n]=e,o[e.filename]=n;if(this.centralDirectorySize<t-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=i,this.filenameToIndex=o}},m.Unzip.prototype.getFileData=function(t,e){e=e||{};var n,r,i,o,s,a,l,c,h=this.input,u=this.fileHeaderList;if(u||this.parseFileHeader(),void 0===u[t])throw new Error("wrong index");if(r=u[t].relativeOffset,(n=new m.Unzip.LocalFileHeader(this.input,r)).parse(),r+=n.length,i=n.compressedSize,0!=(n.flags&m.Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!e.password&&!this.password)throw new Error("please set password");for(a=this.createDecryptionKey(e.password||this.password),l=r,c=r+12;l<c;++l)this.decode(a,h[l]);for(l=r+=12,c=r+(i-=12);l<c;++l)h[l]=this.decode(a,h[l])}switch(n.compression){case m.Unzip.CompressionMethod.STORE:o=g?this.input.subarray(r,r+i):this.input.slice(r,r+i);break;case m.Unzip.CompressionMethod.DEFLATE:o=new m.RawInflate(this.input,{index:r,bufferSize:n.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(s=m.CRC32.calc(o),n.crc32!==s))throw new Error("wrong crc: file=0x"+n.crc32.toString(16)+", data=0x"+s.toString(16));return o},m.Unzip.prototype.getFilenames=function(){var t,e,n,r=[];for(this.fileHeaderList||this.parseFileHeader(),t=0,e=(n=this.fileHeaderList).length;t<e;++t)r[t]=n[t].filename;return r},m.Unzip.prototype.decompress=function(t,e){var n;if(this.filenameToIndex||this.parseFileHeader(),void 0===(n=this.filenameToIndex[t]))throw new Error(t+" not found");return this.getFileData(n,e)},m.Unzip.prototype.setPassword=function(t){this.password=t},m.Unzip.prototype.decode=function(t,e){return e^=this.getByte(t),this.updateKeys(t,e),e},m.Unzip.prototype.updateKeys=m.Zip.prototype.updateKeys,m.Unzip.prototype.createDecryptionKey=m.Zip.prototype.createEncryptionKey,m.Unzip.prototype.getByte=m.Zip.prototype.getByte,m.Util.stringToByteArray=function(t){var e,n,r=t.split("");for(e=0,n=r.length;e<n;e++)r[e]=(255&r[e].charCodeAt(0))>>>0;return r},m.Adler32=function(t){return"string"==typeof t&&(t=m.Util.stringToByteArray(t)),m.Adler32.update(1,t)},m.Adler32.update=function(t,e){for(var n,r=65535&t,i=t>>>16&65535,o=e.length,s=0;o>0;){o-=n=o>m.Adler32.OptimizationParameter?m.Adler32.OptimizationParameter:o;do{i+=r+=e[s++]}while(--n);r%=65521,i%=65521}return(i<<16|r)>>>0},m.Adler32.OptimizationParameter=1024,m.BitStream=function(t,e){if(this.index="number"==typeof e?e:0,this.bitindex=0,this.buffer=t instanceof(g?Uint8Array:Array)?t:new(g?Uint8Array:Array)(m.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},m.BitStream.DefaultBlockSize=32768,m.BitStream.prototype.expandBuffer=function(){var t,e=this.buffer,n=e.length,r=new(g?Uint8Array:Array)(n<<1);if(g)r.set(e);else for(t=0;t<n;++t)r[t]=e[t];return this.buffer=r},m.BitStream.prototype.writeBits=function(t,e,n){var r,i=this.buffer,o=this.index,s=this.bitindex,a=i[o];if(n&&e>1&&(t=e>8?function(t){return m.BitStream.ReverseTable[255&t]<<24|m.BitStream.ReverseTable[t>>>8&255]<<16|m.BitStream.ReverseTable[t>>>16&255]<<8|m.BitStream.ReverseTable[t>>>24&255]}(t)>>32-e:m.BitStream.ReverseTable[t]>>8-e),e+s<8)a=a<<e|t,s+=e;else for(r=0;r<e;++r)a=a<<1|t>>e-r-1&1,8==++s&&(s=0,i[o++]=m.BitStream.ReverseTable[a],a=0,o===i.length&&(i=this.expandBuffer()));i[o]=a,this.buffer=i,this.bitindex=s,this.index=o},m.BitStream.prototype.finish=function(){var t,e=this.buffer,n=this.index;return this.bitindex>0&&(e[n]<<=8-this.bitindex,e[n]=m.BitStream.ReverseTable[e[n]],n++),g?t=e.subarray(0,n):(e.length=n,t=e),t},m.BitStream.ReverseTable=function(t){return t}(function(){var t,e=new(g?Uint8Array:Array)(256);for(t=0;t<256;++t)e[t]=function(t){var e=t,n=7;for(t>>>=1;t;t>>>=1)e<<=1,e|=1&t,--n;return(e<<n&255)>>>0}(t);return e}());m.CRC32.calc=function(t,e,n){return m.CRC32.update(t,0,e,n)},m.CRC32.update=function(t,e,n,r){var i=m.CRC32.Table,o="number"==typeof n?n:n=0,s="number"==typeof r?r:t.length;for(e^=4294967295,o=7&s;o--;++n)e=e>>>8^i[255&(e^t[n])];for(o=s>>3;o--;n+=8)e=(e=(e=(e=(e=(e=(e=(e=e>>>8^i[255&(e^t[n])])>>>8^i[255&(e^t[n+1])])>>>8^i[255&(e^t[n+2])])>>>8^i[255&(e^t[n+3])])>>>8^i[255&(e^t[n+4])])>>>8^i[255&(e^t[n+5])])>>>8^i[255&(e^t[n+6])])>>>8^i[255&(e^t[n+7])];return(4294967295^e)>>>0},m.CRC32.single=function(t,e){return(m.CRC32.Table[255&(t^e)]^t>>>8)>>>0},m.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],m.CRC32.Table=g?new Uint32Array(m.CRC32.Table_):m.CRC32.Table_,m.Deflate=function(t,e){this.input=t,this.output=new(g?Uint8Array:Array)(m.Deflate.DefaultBufferSize),this.compressionType=m.Deflate.CompressionType.DYNAMIC,this.rawDeflate;var n,r={};for(n in!e&&(e={})||"number"==typeof e.compressionType&&(this.compressionType=e.compressionType),e)r[n]=e[n];r.outputBuffer=this.output,this.rawDeflate=new m.RawDeflate(this.input,r)},m.Deflate.DefaultBufferSize=32768,m.Deflate.CompressionType=m.RawDeflate.CompressionType,m.Deflate.compress=function(t,e){return new m.Deflate(t,e).compress()},m.Deflate.prototype.compress=function(){var t,e,n,r,i,o,s,a=0;switch(s=this.output,t=m.CompressionMethod.DEFLATE){case m.CompressionMethod.DEFLATE:e=Math.LOG2E*Math.log(m.RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(n=e<<4|t,s[a++]=n,0,t){case m.CompressionMethod.DEFLATE:switch(this.compressionType){case m.Deflate.CompressionType.NONE:i=0;break;case m.Deflate.CompressionType.FIXED:i=1;break;case m.Deflate.CompressionType.DYNAMIC:i=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return r=i<<6|0,r|=31-(256*n+r)%31,s[a++]=r,o=m.Adler32(this.input),this.rawDeflate.op=a,a=(s=this.rawDeflate.compress()).length,g&&((s=new Uint8Array(s.buffer)).length<=a+4&&(this.output=new Uint8Array(s.length+4),this.output.set(s),s=this.output),s=s.subarray(0,a+4)),s[a++]=o>>24&255,s[a++]=o>>16&255,s[a++]=o>>8&255,s[a++]=255&o,s};var w,b=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};!function(){var t=Array.prototype,e=Object.prototype,n=Function.prototype,r=t.push,i=t.slice,o=e.toString,s=e.hasOwnProperty,a=Array.isArray,l=Object.keys,c=n.bind,h=Object.create,u=function(){};b.VERSION="1.8.3";var f=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},d=function(t,e,n){return null==t?b.identity:b.isFunction(t)?f(t,e,n):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return d(t,e,1/0)};var g=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=t(o),a=s.length,l=0;l<a;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}},m=function(t){if(!b.isObject(t))return{};if(h)return h(t);u.prototype=t;var e=new u;return u.prototype=null,e},v=function(t){return function(e){return null==e?void 0:e[t]}},y=Math.pow(2,53)-1,w=v("length"),x=function(t){var e=w(t);return"number"==typeof e&&e>=0&&e<=y};function C(t){return function(e,n,r,i){n=f(n,i,4);var o=!x(e)&&b.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(r=e[o?o[a]:a],a+=t),function(e,n,r,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;r=n(r,e[a],a,e)}return r}(e,n,r,o,a,s)}}b.each=b.forEach=function(t,e,n){var r,i;if(e=f(e,n),x(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=b.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},b.map=b.collect=function(t,e,n){e=d(e,n);for(var r=!x(t)&&b.keys(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o},b.reduce=b.foldl=b.inject=C(1),b.reduceRight=b.foldr=C(-1),b.find=b.detect=function(t,e,n){var r;if(void 0!==(r=x(t)?b.findIndex(t,e,n):b.findKey(t,e,n))&&-1!==r)return t[r]},b.filter=b.select=function(t,e,n){var r=[];return e=d(e,n),b.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},b.reject=function(t,e,n){return b.filter(t,b.negate(d(e)),n)},b.every=b.all=function(t,e,n){e=d(e,n);for(var r=!x(t)&&b.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0},b.some=b.any=function(t,e,n){e=d(e,n);for(var r=!x(t)&&b.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,n,r){return x(t)||(t=b.values(t)),("number"!=typeof n||r)&&(n=0),b.indexOf(t,e,n)>=0},b.invoke=function(t,e){var n=i.call(arguments,2),r=b.isFunction(e);return b.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,n){var r,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,l=(t=x(t)?t:b.values(t)).length;a<l;a++)(r=t[a])>o&&(o=r);else e=d(e,n),b.each(t,function(t,n,r){((i=e(t,n,r))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},b.min=function(t,e,n){var r,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,l=(t=x(t)?t:b.values(t)).length;a<l;a++)(r=t[a])<o&&(o=r);else e=d(e,n),b.each(t,function(t,n,r){((i=e(t,n,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},b.shuffle=function(t){for(var e,n=x(t)?t:b.values(t),r=n.length,i=Array(r),o=0;o<r;o++)(e=b.random(0,o))!==o&&(i[o]=i[e]),i[e]=n[o];return i},b.sample=function(t,e,n){return null==e||n?(x(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,n){return e=d(e,n),b.pluck(b.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var k=function(t){return function(e,n,r){var i={};return n=d(n,r),b.each(e,function(r,o){var s=n(r,o,e);t(i,r,s)}),i}};b.groupBy=k(function(t,e,n){b.has(t,n)?t[n].push(e):t[n]=[e]}),b.indexBy=k(function(t,e,n){t[n]=e}),b.countBy=k(function(t,e,n){b.has(t,n)?t[n]++:t[n]=1}),b.toArray=function(t){return t?b.isArray(t)?i.call(t):x(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:x(t)?t.length:b.keys(t).length},b.partition=function(t,e,n){e=d(e,n);var r=[],i=[];return b.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},b.first=b.head=b.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:b.initial(t,t.length-e)},b.initial=function(t,e,n){return i.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},b.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:b.rest(t,Math.max(0,t.length-e))},b.rest=b.tail=b.drop=function(t,e,n){return i.call(t,null==e||n?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var S=function t(e,n,r,i){for(var o=[],s=0,a=i||0,l=w(e);a<l;a++){var c=e[a];if(x(c)&&(b.isArray(c)||b.isArguments(c))){n||(c=t(c,n,r));var h=0,u=c.length;for(o.length+=u;h<u;)o[s++]=c[h++]}else r||(o[s++]=c)}return o};function _(t){return function(e,n,r){n=d(n,r);for(var i=w(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function T(t,e,n){return function(r,o,s){var a=0,l=w(r);if("number"==typeof s)t>0?a=s>=0?s:Math.max(s+l,a):l=s>=0?Math.min(s+1,l):s+l+1;else if(n&&s&&l)return r[s=n(r,o)]===o?s:-1;if(o!=o)return(s=e(i.call(r,a,l),b.isNaN))>=0?s+a:-1;for(s=t>0?a:l-1;s>=0&&s<l;s+=t)if(r[s]===o)return s;return-1}}b.flatten=function(t,e){return S(t,e,!1)},b.without=function(t){return b.difference(t,i.call(arguments,1))},b.uniq=b.unique=function(t,e,n,r){b.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=d(n,r));for(var i=[],o=[],s=0,a=w(t);s<a;s++){var l=t[s],c=n?n(l,s,t):l;e?(s&&o===c||i.push(l),o=c):n?b.contains(o,c)||(o.push(c),i.push(l)):b.contains(i,l)||i.push(l)}return i},b.union=function(){return b.uniq(S(arguments,!0,!0))},b.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=w(t);r<i;r++){var o=t[r];if(!b.contains(e,o)){for(var s=1;s<n&&b.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},b.difference=function(t){var e=S(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,w).length||0,n=Array(e),r=0;r<e;r++)n[r]=b.pluck(t,r);return n},b.object=function(t,e){for(var n={},r=0,i=w(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},b.findIndex=_(1),b.findLastIndex=_(-1),b.sortedIndex=function(t,e,n,r){for(var i=(n=d(n,r,1))(e),o=0,s=w(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o},b.indexOf=T(1,b.findIndex,b.sortedIndex),b.lastIndexOf=T(-1,b.findLastIndex),b.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i};var M=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=m(t.prototype),s=t.apply(o,i);return b.isObject(s)?s:o};b.bind=function(t,e){if(c&&t.bind===c)return c.apply(t,i.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var n=i.call(arguments,2);return function r(){return M(t,r,e,this,n.concat(i.call(arguments)))}},b.partial=function(t){var e=i.call(arguments,1);return function n(){for(var r=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===b?arguments[r++]:e[s];for(;r<arguments.length;)o.push(arguments[r++]);return M(t,n,this,this,o)}},b.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)t[n=arguments[e]]=b.bind(t[n],t);return t},b.memoize=function(t,e){var n=function n(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return b.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},b.delay=function(t,e){var n=i.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:b.now(),s=null,o=t.apply(r,i),s||(r=i=null)};return function(){var c=b.now();a||!1!==n.leading||(a=c);var h=e-(c-a);return r=this,i=arguments,h<=0||h>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(r,i),s||(r=i=null)):s||!1===n.trailing||(s=setTimeout(l,h)),o}},b.debounce=function(t,e,n){var r,i,o,s,a,l=function l(){var c=b.now()-s;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=b.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(o,i),o=i=null),a}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},b.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},b.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},b.once=b.partial(b.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function E(t,n){var r=R.length,i=t.constructor,o=b.isFunction(i)&&i.prototype||e,s="constructor";for(b.has(t,s)&&!b.contains(n,s)&&n.push(s);r--;)(s=R[r])in t&&t[s]!==o[s]&&!b.contains(n,s)&&n.push(s)}b.keys=function(t){if(!b.isObject(t))return[];if(l)return l(t);var e=[];for(var n in t)b.has(t,n)&&e.push(n);return D&&E(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&E(t,e),e},b.values=function(t){for(var e=b.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},b.mapObject=function(t,e,n){e=d(e,n);for(var r,i=b.keys(t),o=i.length,s={},a=0;a<o;a++)s[r=i[a]]=e(t[r],r,t);return s},b.pairs=function(t){for(var e=b.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},b.invert=function(t){for(var e={},n=b.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},b.functions=b.methods=function(t){var e=[];for(var n in t)b.isFunction(t[n])&&e.push(n);return e.sort()},b.extend=g(b.allKeys),b.extendOwn=b.assign=g(b.keys),b.findKey=function(t,e,n){e=d(e,n);for(var r,i=b.keys(t),o=0,s=i.length;o<s;o++)if(e(t[r=i[o]],r,t))return r},b.pick=function(t,e,n){var r,i,o={},s=t;if(null==s)return o;b.isFunction(e)?(i=b.allKeys(s),r=f(e,n)):(i=S(arguments,!1,!1,1),r=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=i.length;a<l;a++){var c=i[a],h=s[c];r(h,c,s)&&(o[c]=h)}return o},b.omit=function(t,e,n){if(b.isFunction(e))e=b.negate(e);else{var r=b.map(S(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(r,e)}}return b.pick(t,e,n)},b.defaults=g(b.allKeys,!0),b.create=function(t,e){var n=m(t);return e&&b.extendOwn(n,e),n},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var n=b.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};b.isEqual=function(t,e){return function t(e,n,r,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof b&&(e=e._wrapped),n instanceof b&&(n=n._wrapped);var s=o.call(e);if(s!==o.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n}var a="[object Array]"===s;if(!a){if("object"!=p(e)||"object"!=p(n))return!1;var l=e.constructor,c=n.constructor;if(l!==c&&!(b.isFunction(l)&&l instanceof l&&b.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in n)return!1}i=i||[];for(var h=(r=r||[]).length;h--;)if(r[h]===e)return i[h]===n;if(r.push(e),i.push(n),a){if((h=e.length)!==n.length)return!1;for(;h--;)if(!t(e[h],n[h],r,i))return!1}else{var u,f=b.keys(e);if(h=f.length,b.keys(n).length!==h)return!1;for(;h--;)if(u=f[h],!b.has(n,u)||!t(e[u],n[u],r,i))return!1}return r.pop(),i.pop(),!0}(t,e)},b.isEmpty=function(t){return null==t||(x(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length)},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=a||function(t){return"[object Array]"===o.call(t)},b.isObject=function(t){var e=p(t);return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return o.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"object"!=("undefined"==typeof Int8Array?"undefined":p(Int8Array))&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===o.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&s.call(t,e)},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=v,b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,n){var r=Array(Math.max(0,t));e=f(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=b.invert(L),A=function(t){var e=function(e){return t[e]},n="(?:"+b.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};b.escape=A(L),b.unescape=A(B),b.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),b.isFunction(r)?r.call(t):r};var $=0;b.uniqueId=function(t){var e=++$+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,P=function(t){return"\\"+N[t]};b.template=function(t,e,n){!e&&n&&(e=n),e=b.defaults({},e,b.templateSettings);var r=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,s,a){return o+=t.slice(i,a).replace(I,P),i=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,b)},l=e.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},b.chain=function(t){var e=b(t);return e._chain=!0,e};var F=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var n=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return r.apply(t,arguments),F(this,n.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=t[e];b.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],F(this,t)}}),b.each(["concat","join","slice"],function(e){var n=t[e];b.prototype[e]=function(){return F(this,n.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped}}(),function(t,e){w=function(t){var e,n,r,i,o,s=t.document,a=Math,l=(t.setTimeout,"getContext"in s.createElement("canvas")),c=function(t,e){for(var n in t=t||{},e)t[n]=e[n];return t},h=function(){var e,n=[],r=!1,i=(e="RequestAnimationFrame",t.requestAnimationFrame||t["webkit"+e]||t["moz"+e]||t["o"+e]||t["ms"+e]||function(e){t.setTimeout(e,1e3/60)});function o(){i(o);for(var t=+new Date,e=0;e<n.length;e++){var r=n[e];r.elapsed=t-r.then,r.elapsed>r.fpsInterval&&(r.then=t-r.elapsed%r.fpsInterval,r.fn())}}return function(t,e){var i=+new Date;n.push({fpsInterval:1e3/t,then:i,startTime:i,elapsed:0,fn:e}),r||(r=!0,o())}}(),u=function(t,e,n){var r=n?-2:2;t.translate(e/r,e/r)},p=function(t,s,l,c){e=1-t||0,i=1,o=-1;var h=s.size;for(!1===s.clockwise&&(i=-1,o=1),l.clearRect(0,0,h,h),l.globalAlpha=s.alpha,l.lineWidth=s.strokewidth,n=0;n<s.lines;n++)r=n+c>=s.lines?n-s.lines+c:n+c,l.strokeStyle="rgba("+s.color.join(",")+","+a.max(0,r/s.lines-e).toFixed(2)+")",l.beginPath(),l.moveTo(h/2,h/2-s.padding/2),l.lineTo(h/2,0),l.lineWidth=s.strokewidth,l.stroke(),u(l,h,!1),l.rotate(i*(360/s.lines)*a.PI/180),u(l,h,!0);s.rotationspeed&&(u(l,h,!1),l.rotate(o*(360/s.lines/(20-2*s.rotationspeed))*a.PI/180),u(l,h,!0))};function f(t){if(!(this instanceof f))return new f(t);var e,n,r,i,o,c,u,d=this.elem=s.createElement("canvas"),g=this;isNaN(t)||(t={size:t}),this.o={size:34,rotationspeed:6,clockwise:!0,color:"#fff",fade:300,fallback:!1,alpha:1},this.configure(t),this.phase=-1,l?(this.ctx=d.getContext("2d"),d.width=d.height=this.o.size):this.o.fallback&&((d=this.elem=new Image).src=this.o.fallback),this.loop=(e=g.o,n=0,r=1e3/e.fade/e.fps,e.fps,i=g.step,o=d.style,(c=d.currentStyle)&&c.filter||o.filter,u="filter"in o&&e.fallback&&!l,function(){3==g.phase&&(n-=r)<=0&&(g.phase=0),1==g.phase&&(n+=r)>=1&&(g.phase=2),u?o.filter="alpha(opacity="+a.min(100*e.alpha,a.max(0,Math.round(100*n)))+")":!l&&e.fallback?o.opacity=n:l&&(p(n,e,g.ctx,i),i=0===i?g.o.lines:i-1)}),h(this.o.fps,this.loop)}return f.prototype={constructor:f,appendTo:function(t){return this.elem.style.display="none",t.appendChild(this.elem),this},configure:function(e){var n,r=this.o;return c(r,e||{}),n=function(e){if(!l)return{rgb:!1,alpha:1};var n,r=s.createElement("i");return r.style.display="none",r.style.color=e,s.body.appendChild(r),n=t.getComputedStyle(r,null).getPropertyValue("color").replace(/^rgba?\(([^\)]+)\)/,"$1").replace(/\s/g,"").split(",").splice(0,4),s.body.removeChild(r),r=null,{alpha:4==n.length?n.pop():1,rgb:n}}(r.color),c(r,c({padding:r.size/2,strokewidth:a.max(1,a.min(r.size/30,3)),lines:a.min(30,r.size/2+4),alpha:n.alpha||1,fps:a.min(30,r.size+4)},e)),r.color=n.rgb,this.step=r.lines,t.devicePixelRatio&&(this.elem.style.width=r.size+"px",this.elem.style.height=r.size+"px",r.size*=t.devicePixelRatio,r.padding*=t.devicePixelRatio,r.strokewidth*=t.devicePixelRatio),this},start:function(){return this.elem.style.display="block",-1==this.phase&&this.loop(),this.phase=1,this},stop:function(){return this.phase=3,this},toggle:function(){2==this.phase?this.stop():this.start()}},f}(t)}(window||this);
/**
 * @license Colors JS Library v1.2.4
 * Copyright 2012-2013 Matt Jordan
 * Licensed under Creative Commons Attribution-ShareAlike 3.0 Unported. (http://creativecommons.org/licenses/by-sa/3.0/)
 * https://github.com/mbjordan/Colors
 */
var x,C,k={};return x={render:function(t,e){var n,r={};if("object"==p(t))return"rgb"===e&&(n=["R","G","B","RGB"]),"hsv"===e&&(n=["H","S","V","HSV"]),"hsl"===e&&(n=["H","S","L","HSL"]),r[n[0]]=t[0],r[n[1]]=t[1],r[n[2]]=t[2],r[n[3]]=t[0]+" "+t[1]+" "+t[2],r.a=t,r},paddedHex:function(t){var e=(t<10?"0":"")+t.toString(16);return 1===e.length?"0"+e:e}},Number.prototype.round=function(t){return t=t||10,parseFloat(this.toFixed(t))},k.rgb2hex=function(t,e,n){return"#"+(t=x.paddedHex(t))+(e=void 0!==e?x.paddedHex(e):t)+(n=void 0!==n?x.paddedHex(n):t)},k.hex2rgb=function(t){return 6===(t=t.replace("#","")).length?x.render([parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)],"rgb"):parseInt(t,16)},k.hex2hsv=function(t){t="#"==t.charAt(0)?t.substring(1,7):t;var e,n,r,i=parseInt(t.substring(0,2),16)/255,o=parseInt(t.substring(2,4),16)/255,s=parseInt(t.substring(4,6),16)/255,a={h:0,s:0,v:0},l=Math.min(i,o,s),c=Math.max(i,o,s),h=c-l;return a.v=c,0===h?(a.h=0,a.s=0):(a.s=h/c,e=((c-i)/6+h/2)/h,n=((c-o)/6+h/2)/h,r=((c-s)/6+h/2)/h,i==c?a.h=r-n:o==c?a.h=1/3+e-r:s==c&&(a.h=2/3+n-e),a.h<0&&(a.h+=1),a.h>1&&(a.h-=1)),x.render([Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.v)],"hsv")},k.hsv2rgb=function(t,e,n){var r,i,o,s,a,l,c,h,u=[];switch("object"==p(t)?(r=t[0],i=t[1],o=t[2]):(r=t,i=e,o=n),l=(o/=100)*(1-(i/=100)),c=o*(1-(a=r/60-(s=Math.floor(r/60%6)))*i),h=o*(1-(1-a)*i),s){case 0:u=[o,h,l];break;case 1:u=[c,o,l];break;case 2:u=[l,o,h];break;case 3:u=[l,c,o];break;case 4:u=[h,l,o];break;case 5:u=[o,l,c]}return x.render([Math.min(255,Math.floor(256*u[0])),Math.min(255,Math.floor(256*u[1])),Math.min(255,Math.floor(256*u[2]))],"rgb")},k.rgb2hsl=function(t,e,n){var r,i,o,s,a,l,c,h,u;if("object"===p(t)?(r=t[0],i=t[1],o=t[2]):(r=t,i=e,o=n),r/=255,i/=255,o/=255,h=((a=Math.max(r,i,o))+(s=Math.min(r,i,o)))/2,a==s)l=c=0;else{switch(u=a-s,c=h>.5?u/(2-a-s):u/(a+s),a){case r:l=(i-o)/u+(i<o?6:0);break;case i:l=(o-r)/u+2;break;case o:l=(r-i)/u+4}l/=6}return x.render([Math.floor(360*l),(100*c).round(1),(100*h).round(1)],"hsl")},k.hsv2hsl=function(t,e,n){var r,i,o,s,a,l,c,h,u,f,d;return"object"==p(t)?(r=t[0],i=t[1],o=t[2]):(r=t,i=e,o=n),c=(l=this.hsv2rgb(r,i,o)).R/255,h=l.G/255,u=l.B/255,a=((f=Math.max(c,h,u))+(d=Math.min(c,h,u)))/2,s=0,f!=d&&(e=a<.5?(f-d)/(f+d):(f-d)/(2-f-d),t=c==f?(h-u)/(f-d):h==f?2+(u-c)/(f-d):4+(c-h)/(f-d)),a*=100,(s*=60)<0&&(s+=360),x.render([Math.floor(t),Math.floor(e),Math.floor(n)],"hsl")},k.name2hex=function(t){var e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}[t=t.toLowerCase()];return void 0===e?"Invalid Color Name":e},k.name2rgb=function(t){var e=this.name2hex(t),n="Invalid Color Name";return/^[a-fA-F0-9#]{7}$/.test(e)?this.hex2rgb(e):x.render([n,n,n],"rgb")},k.name2hsv=function(t){var e=this.name2hex(t),n="Invalid Color Name";return/^[a-fA-F0-9#]{7}$/.test(e)?this.hex2hsv(e):x.render([n,n,n],"hsv")},k.complement=function(t,e,n){var r,i;return"string"==typeof t&&/(#([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?)/.test(t)?(i="#",6===(t=t.replace("#","")).length&&(i+=x.paddedHex(255-this.hex2rgb(t.substr(0,2))),i+=x.paddedHex(255-this.hex2rgb(t.substr(2,2))),i+=x.paddedHex(255-this.hex2rgb(t.substr(4,2)))),3===t.length&&(i+=x.paddedHex(255-this.hex2rgb(t.substr(0,1)+t.substr(0,1))),i+=x.paddedHex(255-this.hex2rgb(t.substr(1,1)+t.substr(1,1))),i+=x.paddedHex(255-this.hex2rgb(t.substr(2,1)+t.substr(2,1)))),i):(void 0!==t&&void 0!==e&&void 0!==n&&(r=[255-t,255-e,255-n]),"object"==p(t)&&(r=[255-t[0],255-t[1],255-t[2]]),x.render(r,"rgb"))},k.rand=function(t){var e,n,r;if("hex"===t||void 0===t){var i,o,s="0123456789abcdef",a="";for(o=0;o<6;o++)i=Math.floor(Math.random()*s.length),a+=s.substring(i,i+1);return"#"+a}if("rgb"==t)return e=Math.floor(-254*Math.random()+255),n=Math.floor(-254*Math.random()+255),r=Math.floor(-254*Math.random()+255),x.render([e,n,r],"rgb")},C=function(t){return t.TrackRenderer=function(t,e,n,r,i,o,s){this.browser=t,this.trackRenderPair=r,this.track=i[o],this.id=b.uniqueId("trackRenderer_"),this.axis=o,this.initializationHelper(n,e,s)},t.TrackRenderer.prototype.initializationHelper=function(t,e,n){var r,i,o,s,a,l,c=this;this.$viewport="x"===this.axis?h('<div class="x-track-canvas-container">'):h('<div class="y-track-canvas-container">'),e.width&&this.$viewport.width(e.width),e.height&&this.$viewport.height(e.height),t.append(this.$viewport),this.$viewport.css({order:n}),this.$canvas=h("<canvas>"),this.$viewport.append(this.$canvas),this.ctx=this.$canvas.get(0).getContext("2d"),"x"===this.axis&&(this.$label=h('<div class="x-track-label">'),r=this.track.name||"untitled",this.$label.text(r),i=t.find(this.$label),0===b.size(i)||i.is(":visible"),this.$viewport.append(this.$label)),this.$spinner="x"===this.axis?h('<div class="x-track-spinner">'):h('<div class="y-track-spinner">'),this.$viewport.append(this.$spinner),this.throbber=w({color:"rgb(64, 64, 64)",size:32,padding:7}),this.throbber.appendTo(this.$spinner.get(0)),this.stopSpinner(),"x"===this.axis&&(this.colorPicker=(o=this.$viewport,s=function(t){c.setColor(t)},a={$parent:o,width:456,height:void 0,closeHandler:function(){c.colorPicker.$container.hide()}},l=new igv.genericContainer(a),igv.createColorSwatchSelector(l.$container,s),l),this.colorPicker.$container.hide()),"x"===this.axis&&(this.track.trackView=this,this.track.trackView.trackDiv=this.$viewport.get(0),igv.appendRightHandGutter.call(this,this.$viewport),this.$viewport.on("click",function(e){e.preventDefault(),e.stopPropagation(),t.find(".x-track-label").toggle(),t.find(".igv-right-hand-gutter").toggle()})),this.configTrackTransforms()},t.TrackRenderer.prototype.configTrackTransforms=function(){this.canvasTransform="y"===this.axis?t.reflectionRotationWithContext:t.identityTransformWithContext,this.labelReflectionTransform="y"===this.axis?t.reflectionAboutYAxisAtOffsetWithContext:function(t,e){}},t.TrackRenderer.prototype.syncCanvas=function(){this.$canvas.width(this.$viewport.width()),this.$canvas.attr("width",this.$viewport.width()),this.$canvas.height(this.$viewport.height()),this.$canvas.attr("height",this.$viewport.height())},t.TrackRenderer.prototype.presentColorPicker=function(){var t=this.trackDiv.getBoundingClientRect();this.colorPicker.origin={x:t.x,y:0},this.colorPicker.$container.offset({left:this.colorPicker.origin.x,top:this.colorPicker.origin.y}),this.colorPicker.$container.show()},t.TrackRenderer.prototype.setTrackName=function(t){"x"===this.axis&&(this.track.name=t,this.$label.text(t))},t.TrackRenderer.prototype.setColor=function(t){function e(e){e.tile=void 0,e.track.color=t}e(this.trackRenderPair.x),e(this.trackRenderPair.y),this.browser.renderTrackXY(this.trackRenderPair)},t.TrackRenderer.prototype.dataRange=function(){return this.track.dataRange?this.track.dataRange:void 0},t.TrackRenderer.prototype.setDataRange=function(t,e,n){void 0!==t&&(this.track.dataRange.min=t,this.track.config.min=t),void 0!==e&&(this.track.dataRange.max=e,this.track.config.max=e),this.track.autoscale=n,this.track.config.autoScale=n,this.repaint()},t.TrackRenderer.prototype.readyToPaint=u(d.mark(function t(){var e,n,r,i,o,s,a,l,c,h;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e=this).browser.genomicState(e.axis),r=n.chromosome.name,!e.tile||!e.tile.containsRange(r,n.startBP,n.endBP,n.bpp)){t.next=7;break}return t.abrupt("return");case 7:if(!(n.bpp*Math.max(e.$canvas.width(),e.$canvas.height())>e.track.visibilityWindow)){t.next=11;break}return t.abrupt("return");case 11:return i=3*Math.max(e.$canvas.width(),e.$canvas.height()),o=Math.round(n.bpp*i),s=Math.max(0,Math.round(n.startBP-o/3)),a=s+o,t.next=17,e.track.getFeatures(n.chromosome.name,s,a,n.bpp);case 17:return l=t.sent,(c=document.createElement("canvas")).width="x"===e.axis?i:e.$canvas.width(),c.height="x"===e.axis?e.$canvas.height():i,h=c.getContext("2d"),l?("function"==typeof e.track.doAutoscale?e.track.doAutoscale(l):e.track.dataRange=igv.doAutoscale(l),e.canvasTransform(h),e.drawConfiguration={features:l,context:h,pixelWidth:i,pixelHeight:Math.min(c.width,c.height),bpStart:s,bpEnd:a,bpPerPixel:n.bpp,genomicState:n,viewportContainerX:(n.startBP-s)/n.bpp,viewportContainerWidth:Math.max(e.$canvas.width(),e.$canvas.height()),labelTransform:e.labelReflectionTransform},e.track.draw(e.drawConfiguration)):h.clearRect(0,0,e.$canvas.width(),e.$canvas.height()),e.tile=new Tile(r,s,a,n.bpp,c),t.abrupt("return",e.tile);case 25:case"end":return t.stop()}},t,this)})),t.TrackRenderer.prototype.repaint=u(d.mark(function t(){var e,n;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.browser.genomicState(this.axis),this.checkZoomIn()||(this.tile=void 0,this.ctx.clearRect(0,0,this.$canvas.width(),this.$canvas.height())),n=e.chromosome.name,this.tile&&this.tile.containsRange(n,e.startBP,e.endBP,e.bpp)){t.next=6;break}return t.next=6,this.readyToPaint();case 6:this.drawTileWithGenomicState(this.tile,e);case 7:case"end":return t.stop()}},t,this)})),t.TrackRenderer.prototype.checkZoomIn=function(){return!(this.track.visibilityWindow&&this.track.visibilityWindow>0&&genomicState.bpp*Math.max(this.$canvas.width(),this.$canvas.height())>this.track.visibilityWindow)},t.TrackRenderer.prototype.drawTileWithGenomicState=function(t,e){t&&(this.ctx.clearRect(0,0,this.$canvas.width(),this.$canvas.height()),this.offsetPixel=Math.round((t.startBP-e.startBP)/e.bpp),"x"===this.axis?this.ctx.drawImage(t.buffer,this.offsetPixel,0):this.ctx.drawImage(t.buffer,0,this.offsetPixel))},t.TrackRenderer.prototype.startSpinner=function(){this.browser.startSpinner()},t.TrackRenderer.prototype.stopSpinner=function(){this.browser.stopSpinner()},t.TrackRenderer.prototype.isLoading=function(){return!(void 0===this.loading)},Tile=function(t,e,n,r,i){this.chr=t,this.startBP=e,this.endBP=n,this.bpp=r,this.buffer=i},Tile.prototype.containsRange=function(t,e,n,r){return t===this.chr&&this.bpp===r&&this.startBP<=e&&this.endBP>=n},t}((C=function(t){return t.TrackLabel=function(e){function n(e){var n,r,i;i=""===(n=h(e.target)).val()?t.TrackLabel.defaultText():n.val(),(r=n&&n.prev()).text(i),n.hide(),r.show()}this.$track=e,h(".clickedit").hide().focusout(n).keyup(function(t){return!(t.which&&13===t.which||t.keyCode&&13===t.keyCode)||(n(t),!1)}).prev().click(function(){h(this).hide(),h(this).next().show().focus()})},t.TrackLabel.defaultText=function(){return"Untitled"},t}((C=function(t){return t.SweepZoom=function(t,e){var n;n=t.id+"_sweep-zoom-container",this.browser=t,this.$rulerSweeper=h("<div>",{id:n}),this.$rulerSweeper.hide(),this.$target=e,this.sweepRect={}},t.SweepZoom.prototype.initialize=function(t){this.anchor=t,this.coordinateFrame=this.$rulerSweeper.parent().offset(),this.aspectRatio=this.$target.width()/this.$target.height(),this.sweepRect.x={x:t.x,y:t.y,width:1,height:1},this.clipped={value:!1}},t.SweepZoom.prototype.update=function(t){var e=this.anchor,n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);n/r>this.aspectRatio?r=n/this.aspectRatio:n=r*this.aspectRatio,this.sweepRect.width=n,this.sweepRect.height=r,this.sweepRect.x=e.x<t.x?e.x:e.x-n,this.sweepRect.y=e.y<t.y?e.y:e.y-r,this.$rulerSweeper.width(this.sweepRect.width),this.$rulerSweeper.height(this.sweepRect.height),this.$rulerSweeper.offset({left:this.sweepRect.x,top:this.sweepRect.y}),this.$rulerSweeper.show()},t.SweepZoom.prototype.commit=function(){var t,e,n,r,i,o,s,a,l;this.$rulerSweeper.hide(),t=this.browser.state,e=this.browser.resolution(),n=this.sweepRect.x-this.$target.offset().left,r=this.sweepRect.y-this.$target.offset().top,i=(t.x+n/t.pixelSize)*e,o=(t.y+r/t.pixelSize)*e,s=i+this.sweepRect.width/t.pixelSize*e,a=o+this.sweepRect.height/t.pixelSize*e,l=this.browser.dataset.bpResolutions[this.browser.dataset.bpResolutions.length-1],this.browser.goto(t.chr1,i,s,t.chr2,o,a,l)},t}((C=function(t){return t.ScrollbarWidget=function(t){var e;this.browser=t,this.isDragging=!1,e=t.id+"_x-axis-scrollbar-container",this.$x_axis_scrollbar_container=h("<div>",{id:e}),e=t.id+"_x-axis-scrollbar",this.$x_axis_scrollbar=h("<div>",{id:e}),this.$x_axis_scrollbar_container.append(this.$x_axis_scrollbar),this.$x_label=h("<div>"),this.$x_label.text(""),this.$x_axis_scrollbar.append(this.$x_label),e=t.id+"_y-axis-scrollbar-container",this.$y_axis_scrollbar_container=h("<div>",{id:e}),e=t.id+"_y-axis-scrollbar",this.$y_axis_scrollbar=h("<div>",{id:e}),this.$y_axis_scrollbar_container.append(this.$y_axis_scrollbar),this.$y_label=h('<div class="scrollbar-label-rotation-in-place">'),this.$y_label.text(""),this.$y_axis_scrollbar.append(this.$y_label),this.browser.eventBus.subscribe("LocusChange",this)},t.ScrollbarWidget.prototype.css2Bin=function(t,e,n){var r,i;return r=e.css(n).slice(0,-2),i=e.parent().css("left"===n?"width":"height").slice(0,-2),parseInt(r,10)/parseInt(i,10)*t.size/this.browser.dataset.bpResolutions[this.browser.state.zoom]},t.ScrollbarWidget.prototype.receiveEvent=function(t){var e,n,r,i,o,s;if(!this.isDragging&&"LocusChange"===t.type){var a=t.data.state,l=this.browser.dataset;0===a.chr1?(this.$x_axis_scrollbar.hide(),this.$y_axis_scrollbar.hide()):(this.$x_axis_scrollbar.show(),this.$y_axis_scrollbar.show(),this.$x_axis_scrollbar_container.show(),this.$y_axis_scrollbar_container.show(),e=b.map([a.chr1,a.chr2],function(t){return l.chromosomes[t].size/l.bpResolutions[a.zoom]}),n=b.map(e,function(t){return t*a.pixelSize}),r=[this.browser.contactMatrixView.getViewDimensions().width,this.browser.contactMatrixView.getViewDimensions().height],i=[b.first(r)/a.pixelSize,b.last(r)/a.pixelSize],s=b.map(i,function(t,i){var o,s;return o=Math.min(t,e[i])/e[i],s=Math.min(n[i],r[i])/r[i],Math.max(1,Math.round(100*o*s))}),this.$x_axis_scrollbar.css("width",b.first(s).toString()+"%"),this.$y_axis_scrollbar.css("height",b.last(s).toString()+"%"),o=(o=Math.round(100*a.x/b.first(e))).toString()+"%",this.$x_axis_scrollbar.css("left",o),o=(o=Math.round(100*a.y/b.last(e))).toString()+"%",this.$y_axis_scrollbar.css("top",o),this.$x_label.text(l.chromosomes[a.chr1].name),this.$y_label.text(l.chromosomes[a.chr2].name))}},t}((C=function(t){var e={NONE:"None",VC:"Coverage",VC_SQRT:"Coverage - Sqrt",KR:"Balanced",INTER_VC:"Interchromosomal Coverage",INTER_VC_SQRT:"Interchromosomal Coverage - Sqrt",INTER_KR:"Interchromosomal Balanced",GW_VC:"Genome-wide Coverage",GW_VC_SQRT:"Genome-wide Coverage - Sqrt",GW_KR:"Genome-wide Balanced"};return t.NormalizationWidget=function(t,e){var n,r=this;this.browser=t,this.$container=h("<div>",{class:"hic-normalization-selector-container",title:"Normalization"}),e.append(this.$container),(n=h("<div>")).text("Norm"),this.$container.append(n),this.$normalization_selector=h('<select name="select">'),this.$normalization_selector.attr("name","normalization_selector"),this.$normalization_selector.on("change",function(t){r.browser.setNormalization(h(this).val())}),this.$container.append(this.$normalization_selector),this.$spinner=h("<div>"),this.$spinner.text("Loading ..."),this.$container.append(this.$spinner),this.$spinner.hide(),this.browser.eventBus.subscribe("MapLoad",this),this.browser.eventBus.subscribe("NormVectorIndexLoad",this),this.browser.eventBus.subscribe("NormalizationFileLoad",this),this.browser.eventBus.subscribe("NormalizationExternalChange",this)},t.NormalizationWidget.prototype.startNotReady=function(){this.$normalization_selector.hide(),this.$spinner.show()},t.NormalizationWidget.prototype.stopNotReady=function(){this.$spinner.hide(),this.$normalization_selector.show()},t.NormalizationWidget.prototype.receiveEvent=function(t){if("NormVectorIndexLoad"===t.type)(function(){return n.apply(this,arguments)}).call(this),this.stopNotReady();else if("NormalizationFileLoad"===t.type)"start"===t.data?this.startNotReady():this.stopNotReady();else if("NormalizationExternalChange"===t.type)this.$normalization_selector.find("option").filter(function(e){return this.value===t.data}).prop("selected",!0);function n(){return(n=u(d.mark(function n(){var r,i,o,s;return d.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.data,s=this.browser.state.normalization,n.next=3,r.getNormalizationOptions();case 3:(i=n.sent)&&(o=i.map(function(t){var n;return"<option"+(void 0===(n=e[t]||t)?"":' title = "'+n+'" ')+(" value="+t+(s===t?" selected":""))+">"+("&nbsp &nbsp"+n+"&nbsp &nbsp")+"</option>"}),this.$normalization_selector.empty(),this.$normalization_selector.append(o.join("")));case 5:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}},t}((C=function(t){return t.NormalizationVector=function(e,n,r,i,o){var s,a=t.Math.mean(o);if(a>0)for(s=0;s<o.length;s++)o[s]/=a;this.type=e,this.chrIdx=n,this.unit=r,this.resolution=i,this.data=o},t.getNormalizationVectorKey=function(t,e,n,r){return t+"_"+e+"_"+n+"_"+r},t.NormalizationVector.prototype.getKey=function(){return NormalizationVector.getKey(this.type,this.chrIdx,this.unit,this.resolution)},t}((C=function(t){return t.LocalFile=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.file=e}var e,n,r;return e=t,(n=[{key:"read",value:function(){var t=u(d.mark(function t(e,n){var r;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.file,t.abrupt("return",new Promise(function(t,i){var o=new FileReader;if(o.onload=function(e){t(o.result)},o.onerror=function(t){i(null,o)},void 0!==e){var s=r.slice(e,e+n);o.readAsArrayBuffer(s)}else o.readAsArrayBuffer(r)}));case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}])&&c(e.prototype,n),r&&c(e,r),t}(),t}((C=function(t){return t.LayoutController=function(e,n){this.browser=e,function(e,n){var r,i,o,s,a,l;i=h('<div class="hic-navbar-container">'),n.append(i),i.on("click",function(n){n.stopPropagation(),n.preventDefault(),t.Browser.setCurrentBrowser(e)}),r=e.id+"_contact-map-hic-nav-bar-map-container",o=h("<div>",{id:r}),i.append(o),r=e.id+"_contact-map-hic-nav-bar-map-label",e.$contactMaplabel=h("<div>",{id:r}),o.append(e.$contactMaplabel),l=h("<div>",{class:"hic-nav-bar-button-container"}),o.append(l),e.$menuPresentDismiss=h("<i>",{class:"fa fa-bars fa-lg",title:"Present menu"}),l.append(e.$menuPresentDismiss),e.$menuPresentDismiss.on("click",function(t){e.toggleMenu()}),e.$browser_panel_delete_button=h("<i>",{class:"fa fa-minus-circle fa-lg",title:"Delete browser panel"}),l.append(e.$browser_panel_delete_button),e.$browser_panel_delete_button.on("click",function(n){t.deleteBrowserPanel(e)}),e.$browser_panel_delete_button.hide(),r=e.id+"_control-map-hic-nav-bar-map-container",o=h("<div>",{id:r}),i.append(o),r=e.id+"_control-map-hic-nav-bar-map-label",e.$controlMaplabel=h("<div>",{id:r}),o.append(e.$controlMaplabel),r=e.id+"_upper_hic-nav-bar-widget-container",s=h("<div>",{id:r}),i.append(s),e.locusGoto=new t.LocusGoto(e,s),e.resolutionSelector=new t.ResolutionSelector(e,s),e.resolutionSelector.setResolutionLock(e.resolutionLocked),r=e.id+"_lower_hic-nav-bar-widget-container",a=h("<div>",{id:r}),i.append(a),e.colorscaleWidget=new t.ColorScaleWidget(e,a),e.controlMapWidget=new t.ControlMapWidget(e,a),e.normalizationSelector=new t.NormalizationWidget(e,a)}.call(this,e,n),function(e,n){var r,i;r=e.id+"_x-track-container",this.$x_track_container=h("<div>",{id:r}),n.append(this.$x_track_container),r=e.id+"_track-shim",this.$track_shim=h("<div>",{id:r}),this.$x_track_container.append(this.$track_shim),r=e.id+"_x-tracks",this.$x_tracks=h("<div>",{id:r}),this.$x_track_container.append(this.$x_tracks),r=e.id+"_y-track-guide",this.$y_track_guide=h("<div>",{id:r}),this.$x_tracks.append(this.$y_track_guide),r=e.id+"_content-container",this.$content_container=h("<div>",{id:r}),n.append(this.$content_container),function(e,n){var r,i,o,s;r=h("<div>",{class:"hic-menu"}),n.append(r),i=h("<div>",{class:"hic-menu-close-button"}),r.append(i),o=h("<i>",{class:"fa fa-times"}),i.append(o),o.on("click",function(t){e.toggleMenu()}),e.chromosomeSelector=new t.ChromosomeSelectorWidget(e,r),s={title:"2D Annotations",loadTitle:"Load:",alertMessage:"No 2D annotations currently loaded for this map"},e.annotation2DWidget=new t.AnnotationWidget(e,r,s,function(){return e.tracks2D}),e.$menu=r,e.$menu.hide()}(e,n),r=e.id+"_x-axis-container",i=h("<div>",{id:r}),this.$content_container.append(i),this.xAxisRuler=new t.Ruler(e,"x",i),r=e.id+"_y-tracks-y-axis-viewport-y-scrollbar",i=h("<div>",{id:r}),this.$content_container.append(i),r=e.id+"_y-tracks",this.$y_tracks=h("<div>",{id:r}),i.append(this.$y_tracks),r=e.id+"_x-track-guide",this.$x_track_guide=h("<div>",{id:r}),this.$y_tracks.append(this.$x_track_guide),this.yAxisRuler=new t.Ruler(e,"y",i),this.xAxisRuler.$otherRulerCanvas=this.yAxisRuler.$canvas,this.xAxisRuler.otherRuler=this.yAxisRuler,this.yAxisRuler.$otherRulerCanvas=this.xAxisRuler.$canvas,this.yAxisRuler.otherRuler=this.xAxisRuler,e.contactMatrixView=new t.ContactMatrixView(e,i),r=e.id+"_x-scrollbar-container",i=h("<div>",{id:r}),this.$content_container.append(i),i.append(e.contactMatrixView.scrollbarWidget.$x_axis_scrollbar_container)}.call(this,e,n),this.scrollbar_height=20,this.axis_height=32,this.track_height=32,this.track_margin=2},t.LayoutController.nav_bar_label_height=36,t.LayoutController.nav_bar_widget_container_height=36,t.LayoutController.nav_bar_shim_height=4,t.LayoutController.navbarHeight=function(){return 2*t.LayoutController.nav_bar_label_height+2*t.LayoutController.nav_bar_widget_container_height+t.LayoutController.nav_bar_shim_height},t.LayoutController.prototype.tracksLoaded=function(e){var n,r=this;r.doLayoutTrackXYPairCount(e.length+r.browser.trackRenderers.length),e.forEach(function(e,i){var o,s;n={},o=s=r.track_height,n.x=new t.TrackRenderer(r.browser,{width:void 0,height:s},r.$x_tracks,n,e,"x",i),n.y=new t.TrackRenderer(r.browser,{width:o,height:void 0},r.$y_tracks,n,e,"y",i),r.browser.trackRenderers.push(n)})},t.LayoutController.prototype.removeAllTrackXYPairs=function(){var t,e=this;t=b.range(b.size(this.browser.trackRenderers)),0!==b.size(t)&&b.each(t,function(t){var n,r;(n=b.last(e.browser.trackRenderers)).x.$viewport.remove(),n.y.$viewport.remove(),r=e.browser.trackRenderers.indexOf(n),e.browser.trackRenderers.splice(r,1),n=void 0,e.doLayoutTrackXYPairCount(b.size(e.browser.trackRenderers))})},t.LayoutController.prototype.removeLastTrackXYPair=function(){var t,e;b.size(this.browser.trackRenderers)>0&&((e=b.last(this.browser.trackRenderers)).x.$viewport.remove(),e.y.$viewport.remove(),t=this.browser.trackRenderers.indexOf(e),this.browser.trackRenderers.splice(t,1),e=void 0,this.doLayoutTrackXYPairCount(b.size(this.browser.trackRenderers)),this.browser.updateLayout())},t.LayoutController.prototype.removeTrackRendererPair=function(t){var e,n;b.size(this.browser.trackRenderers)>0&&((n=t).x.$viewport.remove(),n.y.$viewport.remove(),e=this.browser.trackRenderers.indexOf(n),this.browser.trackRenderers.splice(e,1),this.doLayoutTrackXYPairCount(b.size(this.browser.trackRenderers)),this.browser.updateLayout())},t.LayoutController.prototype.doLayoutTrackXYPairCount=function(e){var n,r,i;n=0===e?0:e*(this.track_height+this.track_margin),i="calc(100% - ("+b.map([t.LayoutController.navbarHeight(),n],function(t){return t.toString()+"px"}).join(" + ")+"))",r="calc(100% - ("+b.map([n,this.axis_height,this.scrollbar_height],function(t){return t.toString()+"px"}).join(" + ")+"))",this.$x_track_container.height(n),this.$track_shim.width(n),this.$x_tracks.css("width",r),this.$content_container.css("height",i),this.xAxisRuler.updateWidthWithCalculation(r),this.$y_tracks.width(n),this.yAxisRuler.updateHeight(this.yAxisRuler.$axis.height()),this.browser.contactMatrixView.$viewport.css("width",r),this.browser.contactMatrixView.scrollbarWidget.$x_axis_scrollbar_container.css("width",r)},t.LayoutController.prototype.doLayoutWithRootContainerSize=function(e){var n;this.browser.$root.width(e.width),this.browser.$root.height(e.height+t.LayoutController.navbarHeight()),n=b.size(this.browser.trackRenderers)>0?b.size(this.browser.trackRenderers):0,this.doLayoutTrackXYPairCount(n),this.browser.updateLayout()},t}((C=function(t){return t.IGVReplacements=function(e){e.trackMenuItem=function(t,n,r,i,o){var s;return(s=h("<div>")).text(n),{object:s,click:function(){e.inputDialog.configure(r,i,o,void 0,void 0),e.inputDialog.show(t.$viewport)}}},e.trackMenuItemList=function(e){var n=[];return n.push(t.colorPickerMenuItem(e)),n.push(t.trackRenameMenuItem(e)),e.track.menuItemList&&(n=n.concat(e.track.menuItemList())),n.push("<hr/>"),n.push(t.trackRemovalMenuItem(e)),n}},t.colorPickerMenuItem=function(t){var e;return(e=h("<div>")).text("Set track color"),{object:e,click:function(){t.colorPicker.$container.show()}}},t.trackRenameMenuItem=function(t){var e;return(e=h("<div>")).text("Set track name"),{object:e,click:function(){var e;e=function(){var e=t.browser.inputDialog.$input.val().trim();e=""===e||void 0===e?"untitled":e,t.setTrackName(e)},t.browser.inputDialog.configure({label:"Track Name",input:t.track.name,click:e}),t.browser.inputDialog.present(h(t.trackDiv))}}},t.trackRemovalMenuItem=function(t){var e;return(e=h("<div>")).text("Remove track"),{object:e,click:function(){t.browser.layoutController.removeTrackRendererPair(t.trackRenderPair)}}},t}((C=function(t){function e(){this.content=[]}t.colorSwatch=function(t,e){var n,r;return n=h("<div>",{class:"igv-color-swatch"}),r=h("<i>",{class:"fa fa-square fa-2x",title:"Present color swatches"}),n.append(r),r.css({color:t}),n},t.setApiKey=function(e){t.apiKey=e,igv.setApiKey(e)},t.extractFilename=function(t){var e,n;return igv.isFilePath(t)?t.name:(n=t.split("?").shift(),(e=t.lastIndexOf("/"))>0?n.substring(e+1):n)},t.igvSupports=function(t){var e={url:t};return igv.inferTrackTypes(e),void 0!==e.type},t.throttle=function(t,e,n){var r,i;return e||(e=200),function(){var o,s,a;o=n||this,s=+new Date,a=arguments,r&&s<r+e?(clearTimeout(i),i=setTimeout(function(){r=s,t.apply(o,a)},e)):(r=s,t.apply(o,a))}},t.reflectionRotationWithContext=function(t){t.scale(-1,1),t.rotate(Math.PI/2)},t.reflectionAboutYAxisAtOffsetWithContext=function(t,e){t.translate(e,0),t.scale(-1,1),t.translate(-e,0)},t.identityTransformWithContext=function(t){t.setTransform(1,0,0,1,0,0)},t.Math={mean:function(t){var e,n=0,r=0;for(e=0;e<t.length;e++)isNaN(t[e])||(n+=t[e],r++);return r>0?n/r:0},percentile:function(t,e){if(0!==t.length){var n=Math.floor(t.length*((100-e)/100));return 0==n?(t.sort(function(t,e){return e-t}),t[0]):this.selectElement(t,n)}},selectElement:function(t,n){var r,i=new e;for(r=0;r<t.length;r++){var o=t[r];if(i.content.length<n||o>i.content[0]){if(i.content.length===n)i.pop();i.push(o)}}return i.content[0]}},t.extractQuery=function(t){var e,n,r,i,o,s;if(o={},e=t.indexOf("?"),n=t.lastIndexOf("#"),e>=0)for(n<0&&(n=t.length),r=e+1;r<n;)(i=t.indexOf("&",r))<0&&(i=n),2===(s=t.substring(r,i).split("=",2)).length&&(o[s[0]]=s[1]),r=i+1;return o},e.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),t},remove:function(t){for(var e=this.content.length,n=0;n<e;n++)if(this.content[n]==t){var r=this.content.pop();if(n==e-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(t){for(var e=this.content[t],n=e;t>0;){var r=Math.floor((t+1)/2)-1,i=this.content[r];if(n>=i)break;this.content[r]=e,this.content[t]=i,t=r}},sinkDown:function(t){for(var e=this.content.length,n=this.content[t],r=n;;){var i=2*(t+1),o=i-1,s=null;if(o<e){var a=this.content[o],l=a;a<r&&(s=o)}if(i<e)this.content[i]<(null==s?r:l)&&(s=i);if(null==s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}},t.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},igv.presentAlert=function(t,e){var r;r=t.message||t,n.hasOwnProperty(r)&&(r=n[r]),igv.alertDialog.configure({label:r}),igv.alertDialog.present(e)},t.presentError=function(t,e){var r=e.message;n.hasOwnProperty(r)&&(r=n[r]),igv.presentAlert(t+": "+r)},t.validateColor=function(t){var e=document.createElement("div");return e.style.borderColor=t,""!==e.style.borderColor};var n={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};return t}((C=function(t){var e;t.setURLShortener=function(t){t&&"none"!==t&&(e=[],t.forEach(function(t){e.push(function(t){if(t.provider){if("google"===t.provider)return new r(t);if("bitly"===t.provider)return new n(t);igv.presentAlert("Unknown url shortener provider: "+t.provider)}else{if("function"==typeof t.shortenURL&&"function"==typeof t.expandURL&&"string"==typeof t.hostname)return t;igv.presentAlert("URL shortener object must define functions 'shortenURL' and 'expandURL' and string constant 'hostname'")}}(t))}))},t.shortenURL=function(t){return e?e[0].shortenURL(t):Promise.resolve(t)},t.expandURL=function(t){var n,r,i=new URL(t).hostname;if(e)for(n=0;n<e.length;n++)if(i===(r=e[n]).hostname)return r.expandURL(t);return igv.presentAlert("No expanders for URL: "+t),Promise.resolve(t)},t.shortJuiceboxURL=function(){var e=u(d.mark(function e(n){var r,i,o,s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this,i="{",t.allBrowsers.forEach(function(e,n){i+=encodeURIComponent(e.getQueryString()),i+=n===t.allBrowsers.length-1?"}":"},{"}),s=a(i),!((r=n+"?juiceboxData="+s).length>2048)){e.next=9;break}return e.abrupt("return",r);case 9:return e.abrupt("return",o.shortenURL(r));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.decodeJBUrl=function(e){var n,r=t.extractQuery(e);if(r.hasOwnProperty("juicebox"))(n=r.juicebox).startsWith("%7B")&&(n=decodeURIComponent(n));else if(r.hasOwnProperty("juiceboxData")){n=function(t){t=t.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");for(var e=atob(t),n=[],r=0;r<e.length;r++)n.push(e.charCodeAt(r));var i=new m.RawInflate(n).decompress(),o="",s=!0,a=!1,l=void 0;try{for(var c,h=i[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var u=c.value;o+=String.fromCharCode(u)}}catch(t){a=!0,l=t}finally{try{s||null==h.return||h.return()}finally{if(a)throw l}}return o}(r.juiceboxData)}if(n){var i=(n=n.substr(1,n.length-2)).split("},{");return{queryString:decodeURIComponent(i[0]),oauthToken:oauthToken}}};var n=function(t){this.api="https://api-ssl.bitly.com",this.apiKey=t.apiKey&&"ABCD"!==t.apiKey?t.apiKey:o,this.hostname=t.hostname?t.hostname:"bit.ly",this.devIP="192.168.1.11"};n.prototype.shortenURL=function(t){var e=this;return t.startsWith("http://localhost")&&(t=t.replace("localhost",this.devIP)),i.call(this).then(function(n){var r=e.api+"/v3/shorten?access_token="+n+"&longUrl="+encodeURIComponent(t);return igv.xhr.loadJson(r,{})}).then(function(t){return 500===t.status_code?void igv.presentAlert("Error shortening URL: "+t.status_txt):t.data.url})},n.prototype.expandURL=function(t){var e=this;return i.call(this).then(function(n){var r=e.api+"/v3/expand?access_token="+n+"&shortUrl="+encodeURIComponent(t);return igv.xhr.loadJson(r,{})}).then(function(t){var e=t.data.expand[0].long_url;return e=e.replace("{","%7B").replace("}","%7D")})};var r=function(t){this.api="https://www.googleapis.com/urlshortener/v1/url",this.apiKey=t.apiKey&&"ABCD"!==t.apiKey?t.apiKey:s,this.hostname=t.hostname||"goo.gl"};function i(){var t,e=this;if("string"==typeof e.apiKey)return Promise.resolve(e.apiKey);if("function"==typeof e.apiKey)return"function"==typeof(t=e.apiKey()).then?t.then(function(t){return e.apiKey=t,t}):(e.apiKey=t,Promise.resolve(t));throw new Error("Unknown apiKey type: "+this.apiKey)}function o(){return igv.xhr.loadJson("https://s3.amazonaws.com/igv.org.restricted/bitly.json",{}).then(function(t){return t.apiKey}).catch(function(t){console.error(t)})}function s(){return igv.xhr.loadJson("https://s3.amazonaws.com/igv.org.restricted/google.json",{}).then(function(t){return t.apiKey}).catch(function(t){console.error(t)})}function a(t){var e,n,r;e=[];for(var i=0;i<t.length;i++)e.push(t.charCodeAt(i));return n=new m.RawDeflate(e).compress(),r=String.fromCharCode.apply(null,n),btoa(r).replace(/\+/g,".").replace(/\//g,"_").replace(/\=/g,"-")}return r.prototype.shortenURL=function(t){var e=this;return i.call(this).then(function(n){var r=e.api+"?key="+n;return igv.xhr.loadJson(r,{sendData:JSON.stringify({longUrl:t}),contentType:"application/json"})}).then(function(t){return t.id})},r.prototype.expandURL=function(t){var e=this;return i.call(this).then(function(n){var r;return t.includes("goo.gl")?(r=e.api+"?shortUrl="+t+"&key="+n,igv.xhr.loadJson(r,{contentType:"application/json"}).then(function(t){return t.longUrl})):Promise.resolve(t)})},t}((C=function(t){function e(t,e){return t>e?e+"_"+t:t+"_"+e}return t.Track2DDisplaceModes={displayAllMatrix:"displayAllMatrix",displayLowerMatrix:"displayLowerMatrix",displayUpperMatrix:"displayUpperMatrix"},t.Track2D=function(n,r){var i=this;this.config=n,this.name=n.name,this.featureMap={},this.featureCount=0,this.isVisible=!0,this.displayMode=t.Track2DDisplaceModes.displayAllMatrix,n.color&&t.validateColor(n.color)&&(this.color=this.color=n.color),this.repColor=r.length>0?r[0].color:"black",r.forEach(function(t){i.featureCount++;var n=e(t.chr1,t.chr2),r=i.featureMap[n];r||(r=[],i.featureMap[n]=r),r.push(t)})},t.Track2D.prototype.getColor=function(){return this.color||this.repColor},t.Track2D.prototype.getFeatures=function(t,n){var r=e(t,n);return this.featureMap[r]||this.featureMap[function(t,e){var n=t.startsWith("chr")?t.substr(3):"chr"+t,r=e.startsWith("chr")?e.substr(3):"chr"+e;return t>e?r+"_"+n:n+"_"+r}(t,n)]},t.loadTrack2D=function(e){return igv.xhr.loadString(e.url,igv.buildOptions(e)).then(function(n){var r=function(t,e){if(!t)return null;var n,r,i,o,s,a=igv.splitLines(t),l=a.length,c=[];for(s=e?10:6,o=e?0:1;o<l;o++)(i=a[o]).startsWith("#")||i.startsWith("track")||i.startsWith("browser")||(r=a[o].split("\t")).length<7||(n={chr1:r[0],x1:parseInt(r[1]),x2:parseInt(r[2]),chr2:r[3],y1:parseInt(r[4]),y2:parseInt(r[5]),color:"rgb("+r[s]+")"},Number.isNaN(n.x1)||c.push(n));return c}(n,function(t){return"string"==typeof t.url?t.url.toLowerCase().indexOf(".bedpe")>0:"string"!=typeof t.name||t.name.toLowerCase().indexOf(".bedpe")>0}(e));return new t.Track2D(e,r)})},t}((C=function(t){return t.State=function(t,e,n,r,i,o,s){void 0!==t&&(t<=e?(this.chr1=t,this.chr2=e,this.x=r,this.y=i):(this.chr1=e,this.chr2=t,this.x=i,this.y=r),this.zoom=n,this.pixelSize=o,"undefined"===s&&(s=void 0),this.normalization=s)},t.State.prototype.stringify=function(){return this.chr1+","+this.chr2+","+this.zoom+","+this.x+","+this.y+","+this.pixelSize+","+this.normalization},t.State.prototype.clone=function(){return Object.assign(new t.State,this)},t.State.prototype.equals=function(t){return JSON.stringify(this)===JSON.stringify(t)},t.destringifyState=function(e){var n=e.split(",");return new t.State(parseInt(n[0]),parseInt(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(n[4]),parseFloat(n[5]),n.length>6?n[6]:"NONE")},t}((C=function(t){function e(t,e,n){this.majorTick=t,this.majorUnit=e,this.unitMultiplier=n}function n(t,e){t.translate(e,0),t.scale(-1,1),t.translate(-e,0)}function r(t){t.setTransform(1,0,0,1,0,0)}return t.Ruler=function(t,e,n){var r;this.browser=t,this.axis=e,r=t.id+"_"+this.axis+"-axis",this.$axis=h("<div>",{id:r}),n.append(this.$axis),this.$canvas=h("<canvas>"),this.$axis.append(this.$canvas),this.$canvas.width(this.$axis.width()),this.$canvas.attr("width",this.$axis.width()),this.$canvas.height(this.$axis.height()),this.$canvas.attr("height",this.$axis.height()),r=t.id+"_"+this.axis+"-axis-whole-genome-container",this.$wholeGenomeContainer=h("<div>",{id:r}),this.$axis.append(this.$wholeGenomeContainer),this.ctx=this.$canvas.get(0).getContext("2d"),this.yAxisTransformWithContext=function(t){t.scale(-1,1),t.rotate(Math.PI/2)},this.setAxisTransform(e),this.browser.eventBus.subscribe("MapLoad",this),this.browser.eventBus.subscribe("UpdateContactMapMousePosition",this)},t.Ruler.prototype.wholeGenomeLayout=function(t,e,n,r){var i,o,s,a,l,c,u,p,f=this;function d(t){var e=this;t.on("click",function(t){var n;n=h(this).first(),e.browser.parseGotoInput(n.text()),e.unhighlightWholeChromosome(),e.otherRuler.unhighlightWholeChromosome()}),t.hover(function(){g.call(e,h(this),!0)},function(){g.call(e,h(this),!1)})}function g(t,e){var n,r;n=t.data("label"),this.otherRuler.$wholeGenomeContainer.children().each(function(t){n===h(this).data("label")&&(r=h(this))}),!0===e?(t.addClass("hic-whole-genome-chromosome-highlight"),r.addClass("hic-whole-genome-chromosome-highlight")):(t.removeClass("hic-whole-genome-chromosome-highlight"),r.removeClass("hic-whole-genome-chromosome-highlight"))}e.empty(),i=r.chromosomes.filter(function(t){return"all"!==t.name.toLowerCase()}),s=0,i.forEach(function(t){s+=t.size}),o="x"===n?t.width():t.height(),a=0,this.bboxes=[],c=void 0,i.forEach(function(t){var r,i;(i=t.bpLength/s)*o<1?a+=i:(p=f.axis+"-axis-whole-genome-chromosome-container",l=h("<div>",{class:p}),e.append(l),l.data("label",t.name),c||(c=l),"x"===n?(r=Math.round(i*o)-2,l.width(r)):(r=Math.round(i*o)-2,l.height(r)),p=f.axis+"-axis-whole-genome-chromosome",u=h("<div>",{class:p}),l.append(u),u.text(l.data("label")),d.call(f,l))}),a*=o,(a=Math.floor(a))>=1&&(p=f.axis+"-axis-whole-genome-chromosome-container",l=h("<div>",{class:p}),e.append(l),l.data("label","-"),l.width(a),p=f.axis+"-axis-whole-genome-chromosome",u=h("<div>",{class:p}),l.append(u),u.text(l.data("label")),d.call(f,l)),e.children().each(function(t){var e,r,i,o,s,a,l;f.bboxes.push((e=n,r=h(this),i=c,a="x"===e?r.offset().left:r.offset().top,l="x"===e?i.offset().left:i.offset().top,o=a-l,s="x"===e?r.width():r.height(),{$e:r,a:o,b:o+s}))}),this.hideWholeGenome()},t.Ruler.prototype.hideWholeGenome=function(){this.$wholeGenomeContainer.hide(),this.$canvas.show()},t.Ruler.prototype.showWholeGenome=function(){this.$canvas.hide(),this.$wholeGenomeContainer.show()},t.Ruler.prototype.setAxisTransform=function(t){this.canvasTransform="y"===t?this.yAxisTransformWithContext:r,this.labelReflectionTransform="y"===t?n:function(t,e){}},t.Ruler.prototype.unhighlightWholeChromosome=function(){this.$wholeGenomeContainer.children().removeClass("hic-whole-genome-chromosome-highlight")},t.Ruler.prototype.receiveEvent=function(t){var e,n,r,i,o,s;"MapLoad"===t.type?this.wholeGenomeLayout(this.$axis,this.$wholeGenomeContainer,this.axis,t.data):"UpdateContactMapMousePosition"===t.type&&this.bboxes&&(this.unhighlightWholeChromosome(),e="x"===this.axis?t.data.x:t.data.y,r=this.bboxes,i=e,s=!1,o=void 0,r.forEach(function(t){!1===s&&(i<t.a||i>t.b||(o=t.$e,s=!0))}),(n=o)&&n.addClass("hic-whole-genome-chromosome-highlight"))},t.Ruler.prototype.locusChange=function(t){this.update()},t.Ruler.prototype.updateWidthWithCalculation=function(t){this.$axis.css("width",t),this.$canvas.width(this.$axis.width()),this.$canvas.attr("width",this.$axis.width()),this.wholeGenomeLayout(this.$axis,this.$wholeGenomeContainer,this.axis,this.browser.dataset),this.update()},t.Ruler.prototype.updateHeight=function(t){this.$canvas.height(t),this.$canvas.attr("height",t),this.wholeGenomeLayout(this.$axis,this.$wholeGenomeContainer,this.axis,this.browser.dataset),this.update()},t.Ruler.prototype.update=function(){var t,e,n,i,o={},s=this.browser;0!==(i=s.state).chr1||i.chr1!=i.chr1?(this.hideWholeGenome(),r(this.ctx),igv.graphics.fillRect(this.ctx,0,0,this.$canvas.width(),this.$canvas.height(),{fillStyle:igv.Color.rgbColor(255,255,255)}),this.canvasTransform(this.ctx),t="x"===this.axis?this.$canvas.width():this.$canvas.height(),e="x"===this.axis?this.$canvas.height():this.$canvas.width(),igv.graphics.fillRect(this.ctx,0,0,t,e,{fillStyle:igv.Color.rgbColor(255,255,255)}),o.bpPerPixel=s.dataset.bpResolutions[s.state.zoom]/s.state.pixelSize,n="x"===this.axis?s.state.x:s.state.y,o.bpStart=n*s.dataset.bpResolutions[s.state.zoom],o.rulerTickMarkReferencePixels=Math.max(Math.max(this.$canvas.width(),this.$canvas.height()),Math.max(this.$otherRulerCanvas.width(),this.$otherRulerCanvas.height())),o.rulerLengthPixels=t,o.rulerHeightPixels=e,o.height=Math.min(this.$canvas.width(),this.$canvas.height()),this.draw(o)):this.showWholeGenome()},t.Ruler.prototype.draw=function(t){var n,r,i,o,s,a,l,c,h,u,p=this.browser.dataset.chromosomes;if("x"===this.axis?p[this.browser.state.chr1].name:p[this.browser.state.chr2].name,u="x"===this.axis?p[this.browser.state.chr1].size:p[this.browser.state.chr2].size,"all"===t.chrName);else{for(igv.graphics.fillRect(this.ctx,0,0,t.rulerLengthPixels,t.rulerHeightPixels,{fillStyle:igv.Color.rgbColor(255,255,255)}),n={textAlign:"center",font:"9px PT Sans",fillStyle:"rgba(64, 64, 64, 1)",strokeStyle:"rgba(64, 64, 64, 1)"},i=(r=function(t){if(t<10)return new e(1,"",1);var n=Math.floor((o=t,s=Math.log(10),Math.log(o)/s)),r="",i=1;var o,s;n>9&&(r="gb",i=1e9);n>6?(r="mb",i=1e6):n>3&&(r="kb",i=1e3);return t/Math.pow(10,n-1)<25?new e(Math.pow(10,n-1),r,i):new e(Math.pow(10,n)/2,r,i)}(Math.floor(t.rulerTickMarkReferencePixels*t.bpPerPixel))).majorTick,o=Math.floor(t.bpStart/i)-1,a=s=0,igv.graphics.setProperties(this.ctx,n),this.ctx.lineWidth=1,1,8;a<t.rulerLengthPixels;)c=Math.floor(o*i),a=Math.round((c-1-t.bpStart+.5)/t.bpPerPixel),h=f(c/r.unitMultiplier,0)+" "+r.majorUnit,l=Math.abs(a-s),0==o%(this.ctx.measureText(h).width>l?l<32?4:2:1)&&Math.floor(a*t.bpPerPixel+t.bpStart)<u&&(this.ctx.save(),this.labelReflectionTransform(this.ctx,a),igv.graphics.fillText(this.ctx,h,a,t.height-8/.75),this.ctx.restore()),Math.floor(a*t.bpPerPixel+t.bpStart)<u&&igv.graphics.strokeLine(this.ctx,a,t.height-8,a,t.height-1),s=a,o++;igv.graphics.strokeLine(this.ctx,0,t.height-1,t.rulerLengthPixels,t.height-1)}function f(t,e){var n=10;switch(e){case 0:n=1;break;case 1:n=10;break;case 2:n=100;break;default:n=1e3}var r=""+Math.abs(Math.round(t*n)/n);-1===r.indexOf(".")&&(r+=".");for(var i=r.substr(0,r.indexOf(".")),o=i-0,s=r.substr(r.indexOf("."));s.length-1<e;)s+="0";if("."===s&&(s=""),o>=1e3){var a=i.length;i=parseInt(""+o/1e3)+","+i.substring(a-3,a)}o>=1e6&&(a=i.length,i=parseInt(""+o/1e6)+","+i.substring(a-7,a));var l=i+s;return t<0&&(l="("+l+")"),l}},t}((C=function(t){return t.ResolutionSelector=function(t,e){var n=this;this.browser=t,this.$container=h("<div>",{class:"hic-resolution-selector-container",title:"Resolution"}),e.append(this.$container),this.$label_container=h('<div id="hic-resolution-label-container">'),this.$container.append(this.$label_container),this.$label=h("<div>"),this.$label_container.append(this.$label),this.$label.text("Resolution (kb)"),this.$label.hide(),this.$resolution_lock=h('<i id="hic-resolution-lock" class="fa fa-unlock" aria-hidden="true">'),this.$label_container.append(this.$resolution_lock),this.$label_container.on("click",function(t){n.browser.resolutionLocked=!n.browser.resolutionLocked,n.setResolutionLock(n.browser.resolutionLocked)}),this.$resolution_selector=h('<select name="select">'),this.$container.append(this.$resolution_selector),this.$resolution_selector.attr("name","resolution_selector"),this.$resolution_selector.on("change",function(t){var e=parseInt(h(this).val());n.browser.setZoom(e)}),this.browser.eventBus.subscribe("LocusChange",this),this.browser.eventBus.subscribe("MapLoad",this),this.browser.eventBus.subscribe("ControlMapLoad",this)},t.ResolutionSelector.prototype.setResolutionLock=function(t){this.$resolution_lock.removeClass(!0===t?"fa-unlock":"fa-lock"),this.$resolution_lock.addClass(!0===t?"fa-lock":"fa-unlock")},t.ResolutionSelector.prototype.receiveEvent=function(t){var e,n,r,i;function o(t,e,n){return t.map(function(t,r){var i,o,s;return t>=1e6?(n=1e6,o="mb"):t>=1e3?(n=1e3,o="kb"):(n=1,o="bp"),s=igv.numberFormatter(Math.round(t/n))+" "+o,i=e===r,t?"<option data-resolution="+t.toString()+" value="+r+(i?" selected":"")+">"+s+"</option>":""}).join("")}"LocusChange"===t.type?(!0===t.data.resolutionChanged&&(this.browser.resolutionLocked=!1,this.setResolutionLock(this.browser.resolutionLocked)),r=0===t.data.state.chr1,this.$label.text(r?"Resolution (mb)":"Resolution (kb)"),n=r?0:this.browser.state.zoom,i=r?1e6:1e3,e=o(r?[this.browser.dataset.wholeGenomeResolution]:this.browser.dataset.bpResolutions,n,i),this.$resolution_selector.empty(),this.$resolution_selector.append(e),this.$resolution_selector.find("option").filter(function(t){return t===n}).prop("selected",!0)):"MapLoad"===t.type?(this.browser.resolutionLocked=!1,this.setResolutionLock(this.browser.resolutionLocked),e=o(t.data.bpResolutions,this.browser.state.zoom,1e3),this.$resolution_selector.empty(),this.$resolution_selector.append(e)):t.type},t}((C=function(t){return t.LocusGoto=function(t,e){this.browser=t,this.$container=h("<div>",{class:"hic-chromosome-goto-container",title:"Chromosome Goto"}),e.append(this.$container),this.$resolution_selector=h('<input type="text" placeholder="chr-x-axis chr-y-axis">'),this.$container.append(this.$resolution_selector),this.$resolution_selector.on("change",function(e){t.parseGotoInput(h(this).val()),h(this).blur()}),this.browser.eventBus.subscribe("LocusChange",this)},t.LocusGoto.prototype.receiveEvent=function(t){var e,n,r,i,o,s,a,l,c,h,u;"LocusChange"===t.type&&(0===(c=t.data.state||this.browser.state).chr1?l="All":(h=this.browser.dataset.chromosomes[c.chr1],u=this.browser.dataset.chromosomes[c.chr2],e=this.browser.dataset.bpResolutions[c.zoom],r=this.browser.contactMatrixView.getViewDimensions(),n=c.pixelSize,i=1+Math.round(c.x*e),o=1+Math.round(c.y*e),s=Math.min(h.size,Math.round(r.width/n*e)+i-1),a=Math.min(u.size,Math.round(r.height/n*e)+o-1),l=h.name+":"+igv.numberFormatter(i)+"-"+igv.numberFormatter(s)+" "+u.name+":"+igv.numberFormatter(o)+"-"+igv.numberFormatter(a)),this.$resolution_selector.val(l))},t}((C=function(t){var e={hg19:[249250621,243199373,198022430],hg38:[248956422,242193529,198295559],mm10:[195471971,182113224,160039680],mm9:[197195432,181748087,159599783]};return t.Dataset=function(n){if(this.hicFile=n,this.matrixCache={},this.blockCache={},this.blockCacheKeys=[],this.normVectorCache={},this.normalizationTypes=["NONE"],this.blockCacheLimit=t.isMobile()?4:10,this.genomeId=n.genomeId,this.chromosomes=n.chromosomes,this.bpResolutions=n.bpResolutions,this.wholeGenomeChromosome=n.wholeGenomeChromosome,this.wholeGenomeResolution=n.wholeGenomeResolution,!Object.keys(e).includes(this.genomeId)){var r=function(t){var n,r,i=Object.keys(e);if(t.length<4)return;for(n=0;n<i.length;n++)if(r=e[i[n]],t[1].size===r[0]&&t[2].size===r[1]&&t[3].size===r[2])return i[n];return}(this.chromosomes);r&&(this.genomeId=r)}},t.Dataset.prototype.clearCaches=function(){this.matrixCache={},this.blockCache={},this.normVectorCache={},this.colorScaleCache={}},t.Dataset.prototype.getMatrix=function(){var t=u(d.mark(function t(e,n){var r,i,o;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e>n&&(r=e,e=n,n=r),i="".concat(e,"_").concat(n),!this.matrixCache.hasOwnProperty(i)){t.next=6;break}return t.abrupt("return",this.matrixCache[i]);case 6:return t.next=8,this.hicFile.readMatrix(e,n);case 8:return o=t.sent,this.matrixCache[i]=o,t.abrupt("return",o);case 11:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),t.Dataset.prototype.getNormalizedBlock=function(){var e=u(d.mark(function e(n,r,i,o){var s,a,l,c,h,u,p,f,g,m,v,y,w,b,x;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlock(n,r);case 2:if(s=e.sent,void 0!==i&&"NONE"!==i&&null!=s){e.next=7;break}return e.abrupt("return",s);case 7:return e.next=9,this.getNormalizationVector(i,n.chr1.index,n.zoom.unit,n.zoom.binSize);case 9:if(a=e.sent,n.chr1!==n.chr2){e.next=14;break}e.t0=a,e.next=17;break;case 14:return e.next=16,this.getNormalizationVector(i,n.chr2.index,n.zoom.unit,n.zoom.binSize);case 16:e.t0=e.sent;case 17:if(l=e.t0,c=[],void 0!==a&&void 0!==l){e.next=25;break}return igv.presentAlert("Normalization option "+i+" unavailable at this resolution."),o&&o.post(new t.Event("NormalizationExternalChange","NONE")),e.abrupt("return",s);case 25:for(u=!0,p=!1,f=void 0,e.prev=28,g=s.records[Symbol.iterator]();!(u=(m=g.next()).done);u=!0)v=m.value,y=v.bin1,w=v.bin2,0===(b=a.data[y]*l.data[w])[y]||isNaN(b)||(x=v.counts/b,c.push(new t.ContactRecord(y,w,x)));e.next=36;break;case 32:e.prev=32,e.t1=e.catch(28),p=!0,f=e.t1;case 36:e.prev=36,e.prev=37,u||null==g.return||g.return();case 39:if(e.prev=39,!p){e.next=42;break}throw f;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return h=new t.Block(r,n,c),e.abrupt("return",h);case 46:case"end":return e.stop()}},e,this,[[28,32,36,44],[37,,39,43]])}));return function(t,n,r,i){return e.apply(this,arguments)}}(),t.Dataset.prototype.getBlock=function(){var t=u(d.mark(function t(e,n){var r,i;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.chr1.name+"_"+e.chr2.name+"_"+e.zoom.binSize+"_"+e.zoom.unit+"_"+n,!this.blockCache.hasOwnProperty(r)){t.next=5;break}return t.abrupt("return",this.blockCache[r]);case 5:return t.next=7,this.hicFile.readBlock(n,e);case 7:return i=t.sent,this.blockCacheKeys.length>this.blockCacheLimit&&(delete this.blockCache[this.blockCacheKeys[0]],this.blockCacheKeys.shift()),this.blockCacheKeys.push(r),this.blockCache[r]=i,t.abrupt("return",i);case 12:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),t.Dataset.prototype.getNormalizationVector=function(){var e=u(d.mark(function e(n,r,i,o){var s,a;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.getNormalizationVectorKey(n,r,i,o),!this.normVectorCache.hasOwnProperty(s)){e.next=5;break}return e.abrupt("return",this.normVectorCache[s]);case 5:return e.next=7,this.hicFile.getNormalizationVector(n,r,i,o);case 7:return a=e.sent,this.normVectorCache[s]=a,e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}(),t.Dataset.prototype.getZoomIndexForBinSize=function(t,e){var n,r;if("BP"===(e=e||"BP"))r=this.bpResolutions;else{if("FRAG"!==e)throw new Error("Invalid unit: "+e);r=this.fragResolutions}for(n=0;n<r.length;n++)if(r[n]===t)return n;return-1},t.Dataset.prototype.getChrIndexFromName=function(t){var e;for(e=0;e<this.chromosomes.length;e++)if(t===this.chromosomes[e].name)return e},t.Dataset.prototype.compareChromosomes=function(t){var e=this.chromosomes,n=t.chromosomes;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].size!==n[r].size)return!1;return!0},t.Dataset.prototype.getNormVectorIndex=u(d.mark(function t(){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.hicFile.getNormVectorIndex());case 1:case"end":return t.stop()}},t,this)})),t.Dataset.prototype.getNormalizationOptions=u(d.mark(function t(){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.hicFile.getNormalizationOptions());case 1:case"end":return t.stop()}},t,this)})),t.Block=function(t,e,n){this.blockNumber=t,this.zoomData=e,this.records=n},t.ContactRecord=function(t,e,n){this.bin1=t,this.bin2=e,this.counts=n},t.ContactRecord.prototype.getKey=function(){return this.bin1+"_"+this.bin2},t}((C=function(t){function e(t,e,n){var r,i;return(r=t.getColorScale())?(i=r.getColorComponents(e),igv.Color.rgbColor(i.r,i.g,i.b)):n}function n(t,e,n,r){var i={$parent:e,width:456,height:void 0,closeHandler:r},o=new igv.genericContainer(i);return igv.createColorSwatchSelector(o.$container,function(r){var i;e.find(".fa-square").css({color:r}),i=igv.Color.hexToRgb(r).split("(").pop().split(")").shift().split(",").map(function(t){return parseInt(t,10)}),t.getColorScale().setColorComponents({r:i[0],g:i[1],b:i[2]},n),t.repaintMatrix()},void 0),o}return t.ColorScaleWidget=function(r,i){var o,s,a=this;function l(t){var e,n;e=(n=r.getColorScale()).getThreshold()*t,r.setColorScaleThreshold(e),a.$high_colorscale_input.val(igv.numberFormatter(n.getThreshold()))}this.browser=r,this.$container=h('<div class="hic-colorscale-widget-container">'),i.append(this.$container),s=e(r,"-","blue"),this.$minusButton=t.colorSwatch(s),this.$container.append(this.$minusButton),this.$minusButton.hide(),this.minusColorPicker=n(r,this.$minusButton,"-",function(){a.minusColorPicker.$container.hide()}),this.minusColorPicker.$container.hide(),s=e(r,"+","red"),this.$plusButton=t.colorSwatch(s),this.$container.append(this.$plusButton),this.plusColorPicker=n(r,this.$plusButton,"+",function(){a.plusColorPicker.$container.hide()}),this.plusColorPicker.$container.hide(),this.$minusButton.on("click",function(t){a.presentColorPicker(h(this),a.minusColorPicker.$container)}),this.$plusButton.on("click",function(t){a.presentColorPicker(h(this),a.plusColorPicker.$container)}),this.$high_colorscale_input=h("<input>",{type:"text",placeholder:"",title:"color scale input"}),this.$container.append(this.$high_colorscale_input),this.$high_colorscale_input.on("change",function(t){var e;e=igv.numberUnFormatter(h(this).val()),isNaN(e)||r.setColorScaleThreshold(e)}),(o=h("<i>",{class:"fa fa-minus","aria-hidden":"true",title:"negative threshold"})).on("click",function(t){l(.5)}),this.$container.append(o),(o=h("<i>",{class:"fa fa-plus","aria-hidden":"true",title:"positive threshold"})).on("click",function(t){l(2)}),this.$container.append(o),this.browser.eventBus.subscribe("MapLoad",this),this.browser.eventBus.subscribe("ColorScale",this),this.browser.eventBus.subscribe("DisplayMode",this)},t.ColorScaleWidget.prototype.receiveEvent=function(t){"ColorScale"===t.type?(this.$high_colorscale_input.val(t.data.threshold),this.$plusButton.find(".fa-square").css({color:igv.Color.rgbColor(t.data.r,t.data.g,t.data.b)})):"DisplayMode"===t.type&&("AOB"===t.data||"BOA"===t.data?this.$minusButton.show():this.$minusButton.hide())},t.ColorScaleWidget.prototype.presentColorPicker=function(t,e){this.$plusButton.find(".fa-square").css({"-webkit-text-stroke-color":"transparent"}),this.$minusButton.find(".fa-square").css({"-webkit-text-stroke-color":"transparent"}),this.$presentingButton=t,this.$presentingButton.find(".fa-square").css({"-webkit-text-stroke-color":"black"}),e.show()},t}((C=function(t){var e,n=1,r={width:640,height:640};function i(t,e){return t.genomeId===e.genomeId||t.compareChromosomes(e)}function o(t){return s.apply(this,arguments)}function s(){return(s=u(d.mark(function e(n){var r;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n.name||"string"!=typeof n.url||!n.url.includes("drive.google.com")){e.next=7;break}return e.next=3,igv.google.getDriveFileInfo(n.url);case 3:return r=e.sent,e.abrupt("return",r.name);case 7:if(void 0!==n.name){e.next=11;break}return e.abrupt("return",t.extractFilename(n.url));case 11:return e.abrupt("return",n.name);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function a(t,e){return l.apply(this,arguments)}function l(){return(l=u(d.mark(function t(e,n){var r,i,o,s,a;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.contactMatrixView.getViewDimensions(),i=this.dataset.chromosomes[e].size,o=this.dataset.chromosomes[n].size,s=Math.max(i/r.width,o/r.height),t.next=6,this.dataset.getMatrix(e,n);case 6:return a=t.sent,t.abrupt("return",a.findZoomForResolution(s));case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function c(t,e,n){return p.apply(this,arguments)}function p(){return(p=u(d.mark(function t(e,n,r){var i,o,s,a,l,c,h,u;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.contactMatrixView.getViewDimensions(),o=this.dataset.chromosomes[e].size,s=this.dataset.chromosomes[n].size,t.next=5,this.dataset.getMatrix(e,n);case 5:return a=t.sent,l=a.getZoomDataByIndex(r,"BP"),c=l.zoom.binSize,h=o/c,u=s/c,t.abrupt("return",Math.min(i.width/h,i.height/u));case 11:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function f(i){e=new t.State(0,0,0,0,0,n,"NONE"),!0===i.figureMode?(i.showLocusGoto=!1,i.showHicContactMapLabel=!1,i.showChromosomeSelector=!1):(void 0===i.width&&(i.width=r.width),void 0===i.height&&(i.height=r.height),void 0===i.showLocusGoto&&(i.showLocusGoto=!0),void 0===i.showHicContactMapLabel&&(i.showHicContactMapLabel=!0),void 0===i.showChromosomeSelector&&(i.showChromosomeSelector=!0)),i.state&&(i.state=new t.State(i.state.chr1,i.state.chr2,i.state.zoom,i.state.x,i.state.y,i.state.pixelSize,i.state.normalization))}function g(t){return t.hicFile.config.nvi}function m(t,e,n){return t.split(e).join(n)}t.allBrowsers=[],t.createBrowser=function(){var e=u(d.mark(function e(n,r,i){var o,s,a,l,c,p,g,m,v,y,w;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w=function(){return(w=u(d.mark(function t(e){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.controlUrl){t.next=4;break}return t.abrupt("return",p.loadHicControlFile({url:e.controlUrl,name:e.controlName,nvi:e.controlNvi,isControl:!0},!0));case 4:return t.abrupt("return",void 0);case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)},y=function(t){return w.apply(this,arguments)},v=function(){return(v=u(d.mark(function e(n,r){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.dataset){e.next=12;break}return r.dataset.name=r.name,n.$contactMaplabel.text(r.name),n.$contactMaplabel.attr("title",r.name),n.dataset=r.dataset,n.genome=new t.Genome(n.dataset.genomeId,n.dataset.chromosomes),igv.browser.genome=n.genome,n.eventBus.post(t.Event("GenomeChange",n.genome.id)),n.eventBus.post(t.Event("MapLoad",n.dataset)),e.abrupt("return",r.dataset);case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)},function(t,e){return v.apply(this,arguments)},o=h(n),f(r),(s=r.apiKey)&&(igv.setApiKey(s),t.apiKey=s),void 0===(a=r.queryString||r.href)&&!1!==r.initFromUrl&&(a=window.location.href),a&&(a.includes("?")||(a="?"+a),l=t.extractQuery(a),c=a.includes("%2C"),igv.Browser.decodeQuery(l,r,c)),(p=new t.Browser(o,r)).eventBus.hold(),t.allBrowsers.push(p),t.Browser.setCurrentBrowser(p),t.allBrowsers.length>1&&t.allBrowsers.forEach(function(t){t.$browser_panel_delete_button.show()}),void 0===igv.browser&&x(o,p),e.prev=17,p.contactMatrixView.startSpinner(),p.$user_interaction_shield.show(),void 0!==r.controlUrl,e.next=23,p.loadHicFile(r,!0);case 23:return e.next=25,y(r);case 25:return r.cycle&&(r.displayMode="A"),r.displayMode&&(p.contactMatrixView.displayMode=r.displayMode,p.eventBus.post({type:"DisplayMode",data:r.displayMode})),r.colorScale&&(p.contactMatrixView.setColorScale(r.colorScale),p.eventBus.post({type:"ColorScale",data:p.contactMatrixView.getColorScale()})),g=[],r.tracks&&g.push(p.loadTracks(r.tracks)),r.normVectorFiles&&r.normVectorFiles.forEach(function(t){g.push(p.loadNormalizationFile(t))}),e.next=33,Promise.all(g);case 33:m=p.contactMatrixView.colorScaleThresholdCache,p.eventBus.release(),p.contactMatrixView.colorScaleThresholdCache=m,r.cycle?p.controlMapWidget.toggleDisplayModeCycle():p.update(),"function"==typeof i&&i();case 38:return e.prev=38,p.contactMatrixView.stopSpinner(),p.$user_interaction_shield.hide(),e.finish(38);case 42:return e.abrupt("return",p);case 43:case"end":return e.stop()}},e,this,[[17,,38,42]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.deleteBrowserPanel=function(e){e===t.Browser.getCurrentBrowser()&&t.Browser.setCurrentBrowser(void 0),t.allBrowsers.splice(b.indexOf(t.allBrowsers,e),1),e.$root.remove(),e=void 0,1===t.allBrowsers.length&&(t.Browser.setCurrentBrowser(t.allBrowsers[0]),t.Browser.getCurrentBrowser().$browser_panel_delete_button.hide())},t.loadDataset=function(){var e=u(d.mark(function e(n){var r,i,s,a,l;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(n);case 2:return r=e.sent,n.name=r,i=new t.HiCReader(n),new HicStraw(n),e.next=8,C(n);case 8:if((s=e.sent).name=r,s.name=this.name,!n.nvi){e.next=18;break}return a=decodeURIComponent(n.nvi).split(","),l={start:parseInt(a[0]),size:parseInt(a[1])},e.next=15,i.readNormVectorIndex(s,l);case 15:case 18:return e.abrupt("return",s);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.syncBrowsers=function(t){var e,n;function r(t){switch(t){case"GRCh38":return"hg38";case"GRCh37":return"hg19";case"GRCm38":return"mm10";default:return t}}(e=t.filter(function(t){return void 0!==t.dataset})).length<2||(r(t[0].dataset.genomeId),n=[],e.forEach(function(e){r(e.dataset.genomeId),i(t[0].dataset,e.dataset)?t.forEach(function(t){e===t||e.synchedBrowsers.includes(t)||e.synchedBrowsers.push(t)}):n.push(e.dataset.genomeId)}),n.length>0&&igv.presentAlert("Not all maps could be synchronized.  Incompatible assemblies: "+t[0].dataset.genomeId+" vs "+n.join()))},t.Browser=function(n,r){this.config=r,this.figureMode=r.figureMode||r.miniMode,this.resolutionLocked=!1,this.eventBus=new t.EventBus,this.id=b.uniqueId("browser_"),this.trackRenderers=[],this.tracks2D=[],this.normVectorFiles=[],this.synchedBrowsers=[],this.isMobile=t.isMobile(),this.$root=h('<div class="hic-root unselect">'),r.width&&this.$root.css("width",String(r.width)),r.height&&this.$root.css("height",String(r.height+t.LayoutController.navbarHeight(this.config.figureMode))),n.append(this.$root),this.layoutController=new t.LayoutController(this,this.$root),this.$user_interaction_shield=h("<div>",{class:"hic-root-prevent-interaction"}),this.$root.append(this.$user_interaction_shield),this.$user_interaction_shield.hide(),this.hideCrosshairs(),this.state=r.state?r.state:e.clone(),this.eventBus.subscribe("LocusChange",this)},t.Browser.getCurrentBrowser=function(){return 1===t.allBrowsers.length?t.allBrowsers[0]:t.Browser.currentBrowser},t.Browser.setCurrentBrowser=function(e){if(void 0===e)return t.Browser.currentBrowser&&t.Browser.currentBrowser.$root.removeClass("hic-root-selected"),void(t.Browser.currentBrowser=e);e!==t.Browser.currentBrowser&&(t.Browser.currentBrowser&&t.Browser.currentBrowser.$root.removeClass("hic-root-selected"),e.$root.addClass("hic-root-selected"),t.Browser.currentBrowser=e,t.eventBus.post(t.Event("BrowserSelect",e)))},t.Browser.prototype.toggleMenu=function(){this.$menu.is(":visible")?this.hideMenu():this.showMenu()},t.Browser.prototype.showMenu=function(){this.$menu.show()},t.Browser.prototype.hideMenu=function(){this.$menu.hide()},t.Browser.prototype.startSpinner=function(){this.contactMatrixView.startSpinner()},t.Browser.prototype.stopSpinner=function(){this.contactMatrixView.stopSpinner()},t.Browser.prototype.setDisplayMode=function(){var e=u(d.mark(function e(n){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contactMatrixView.setDisplayMode(n);case 2:this.eventBus.post(t.Event("DisplayMode",n));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.Browser.prototype.getDisplayMode=function(){return this.contactMatrixView?this.contactMatrixView.displayMode:void 0},t.Browser.prototype.toggleDisplayMode=function(){this.controlMapWidget.toggleDisplayMode()},t.Browser.prototype.getColorScale=function(){if(this.contactMatrixView)switch(this.getDisplayMode()){case"AOB":case"BOA":return this.contactMatrixView.ratioColorScale;case"AMB":return this.contactMatrixView.diffColorScale;default:return this.contactMatrixView.colorScale}},t.Browser.prototype.setColorScaleThreshold=function(t){this.contactMatrixView.setColorScaleThreshold(t)},t.Browser.prototype.updateCrosshairs=function(t){var e,n;e=t.y<0?{left:0}:{top:t.y,left:0},this.contactMatrixView.$x_guide.css(e),this.layoutController.$x_track_guide.css(e),n=t.x<0?{top:0}:{top:0,left:t.x},this.contactMatrixView.$y_guide.css(n),this.layoutController.$y_track_guide.css(n)},t.Browser.prototype.hideCrosshairs=function(){this.contactMatrixView.$x_guide.hide(),this.layoutController.$x_track_guide.hide(),this.contactMatrixView.$y_guide.hide(),this.layoutController.$y_track_guide.hide()},t.Browser.prototype.showCrosshairs=function(){this.contactMatrixView.$x_guide.show(),this.layoutController.$x_track_guide.show(),this.contactMatrixView.$y_guide.show(),this.layoutController.$y_track_guide.show()},t.Browser.prototype.genomicState=function(t){var e,n;return e={bpp:(n=this.dataset.bpResolutions[this.state.zoom])/this.state.pixelSize},"x"===t?(e.chromosome=this.dataset.chromosomes[this.state.chr1],e.startBP=this.state.x*n,e.endBP=e.startBP+e.bpp*this.contactMatrixView.getViewDimensions().width):(e.chromosome=this.dataset.chromosomes[this.state.chr2],e.startBP=this.state.y*n,e.endBP=e.startBP+e.bpp*this.contactMatrixView.getViewDimensions().height),e},t.Browser.prototype.loadTracks=function(){var e=u(d.mark(function e(n){var r,i,o,s,a,l,c,h,u,p,f,g,m,v,y,w,b,x;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x=function(e){var n=[];return e.forEach(function(e){var r=e.url;r&&"string"==typeof r&&r.includes("drive.google.com")?n.push(igv.google.getDriveFileInfo(e.url).then(function(t){return e.url=t.originalFilename,igv.inferTrackTypes(e),void 0===e.name&&(e.name=t.originalFilename),e.url=r,e})):(igv.inferTrackTypes(e),e.name||(e.name=t.extractFilename(e.url)),n.push(Promise.resolve(e)))}),n},r=this,i=1===n.length?"Error loading track "+n[0].name:"Error loading tracks",e.prev=3,this.contactMatrixView.startSpinner(),o=x(n),e.next=8,Promise.all(o);case 8:for(s=e.sent,a=[],l=[],c=[],h=!0,u=!1,p=void 0,e.prev=15,f=s[Symbol.iterator]();!(h=(g=f.next()).done);h=!0)(m=g.value)&&(v=m.url instanceof File,y=v?m.url.name:m.url,"annotation"===m.type&&void 0===m.color&&(m.color="rgb(22, 129, 198)"),m.height=this.layoutController.track_height,(y.endsWith(".juicerformat")||y.endsWith("nv")||y.endsWith(".juicerformat.gz")||y.endsWith("nv.gz"))&&c.push(this.loadNormalizationFile(m.url)),void 0===m.type||"interaction"===m.type?l.push(t.loadTrack2D(m)):(w=igv.createTrack(m,this),a.push({x:w,y:w})));e.next=23;break;case 19:e.prev=19,e.t0=e.catch(15),u=!0,p=e.t0;case 23:e.prev=23,e.prev=24,h||null==f.return||f.return();case 26:if(e.prev=26,!u){e.next=29;break}throw p;case 29:return e.finish(26);case 30:return e.finish(23);case 31:if(!(a.length>0)){e.next=35;break}return this.layoutController.tracksLoaded(a),e.next=35,this.updateLayout();case 35:return e.next=37,Promise.all(l);case 37:return(b=e.sent)&&b.length>0&&(this.tracks2D=r.tracks2D.concat(b),this.eventBus.post(t.Event("TrackLoad2D",this.tracks2D))),e.next=41,Promise.all(c);case 41:e.sent,e.next=48;break;case 44:e.prev=44,e.t1=e.catch(3),t.presentError(i,e.t1),console.error(e.t1);case 48:return e.prev=48,this.contactMatrixView.stopSpinner(),e.finish(48);case 51:case"end":return e.stop()}},e,this,[[3,44,48,51],[15,19,23,31],[24,,26,30]])}));return function(t){return e.apply(this,arguments)}}(),t.Browser.prototype.loadNormalizationFile=function(e){var n=this;if(this.dataset)return n.eventBus.post(t.Event("NormalizationFileLoad","start")),this.dataset.hicFile.readNormalizationVectorFile(e,this.dataset.chromosomes).then(function(e){return Object.assign(n.dataset.normVectorCache,e),e.types.forEach(function(e){n.dataset.normalizationTypes||(n.dataset.normalizationTypes=[]),!1===b.contains(n.dataset.normalizationTypes,e)&&n.dataset.normalizationTypes.push(e),n.eventBus.post(t.Event("NormVectorIndexLoad",n.dataset))}),e})},t.Browser.prototype.renderTracks=function(){var t=this;this.trackRenderers.forEach(function(e,n){t.renderTrackXY(e)})},t.Browser.prototype.renderTrackXY=function(){var t=u(d.mark(function t(e){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.startSpinner(),t.next=4,e.x.repaint();case 4:return t.next=6,e.y.repaint();case 6:return t.prev=6,this.stopSpinner(),t.finish(6);case 9:case"end":return t.stop()}},t,this,[[0,,6,9]])}));return function(e){return t.apply(this,arguments)}}(),t.Browser.prototype.reset=function(){this.layoutController.removeAllTrackXYPairs(),this.contactMatrixView.clearImageCaches(),this.tracks2D=[],this.tracks=[],this.$contactMaplabel.text(""),this.$contactMaplabel.attr("title",""),this.$controlMaplabel.text(""),this.$controlMaplabel.attr("title",""),this.dataset=void 0,this.controlDataset=void 0},t.Browser.prototype.clearSession=function(){this.dataset=void 0,this.controlDataset=void 0,this.setDisplayMode("A")},t.Browser.prototype.loadHicFile=function(){var n=u(d.mark(function n(r,i){var s,a,l,c,h,u,p,f,g;return d.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.url){n.next=2;break}return n.abrupt("return",void 0);case 2:return this.clearSession(),n.prev=3,i||(this.contactMatrixView.startSpinner(),this.$user_interaction_shield.show()),n.next=7,o(r);case 7:return s=n.sent,a=this.controlDataset?"A: ":"",this.$contactMaplabel.text(a+s),this.$contactMaplabel.attr("title",s),r.name=s,n.next=14,C(r);case 14:this.dataset=n.sent,this.dataset.name=s,l=this.genome?this.genome.id:void 0,this.genome=new t.Genome(this.dataset.genomeId,this.dataset.chromosomes),igv.browser.genome=this.genome,this.genome.id!==l&&this.eventBus.post(t.Event("GenomeChange",this.genome.id)),this.eventBus.post(t.Event("MapLoad",this.dataset)),r.state?this.setState(r.state):r.synchState&&this.canBeSynched(r.synchState)?this.syncState(r.synchState):this.setState(e.clone());case 22:return n.prev=22,i||(this.$user_interaction_shield.hide(),this.stopSpinner()),n.finish(22);case 25:if(c=this.eventBus,r.nvi||"string"!=typeof r.url){n.next=37;break}return h=new URL(r.url),u=encodeURIComponent(h.hostname+h.pathname),n.next=31,fetch("https://t5dvc6kn3f.execute-api.us-east-1.amazonaws.com/dev/nvi/"+u);case 31:if(200!==(p=n.sent).status){n.next=37;break}return n.next=35,p.text();case 35:(f=n.sent)&&(r.nvi=f);case 37:if(!r.nvi){n.next=43;break}return n.next=40,this.dataset.getNormVectorIndex(r);case 40:c.post(t.Event("NormVectorIndexLoad",this.dataset)),n.next=45;break;case 43:(g=this.dataset).getNormVectorIndex(r).then(function(e){r.isControl||c.post(t.Event("NormVectorIndexLoad",g))});case 45:case"end":return n.stop()}},n,this,[[3,,22,25]])}));return function(t,e){return n.apply(this,arguments)}}(),t.Browser.prototype.loadHicControlFile=function(){var e=u(d.mark(function e(n,r){var s,a;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.$user_interaction_shield.show(),this.contactMatrixView.startSpinner(),this.controlUrl=n.url,e.next=6,o(n);case 6:return s=e.sent,n.name=s,e.next=10,C(n);case 10:if((a=e.sent).name=s,this.dataset&&!i(this.dataset,a)){e.next=23;break}return this.controlDataset=a,this.dataset&&this.$contactMaplabel.text("A: "+this.dataset.name),this.$controlMaplabel.text("B: "+a.name),this.$controlMaplabel.attr("title",a.name),e.next=19,a.getNormVectorIndex(n);case 19:this.eventBus.post(t.Event("ControlMapLoad",this.controlDataset)),r||this.update(),e.next=24;break;case 23:igv.presentAlert('"B" map genome ('+a.genomeId+') does not match "A" map genome ('+this.genome.id+")");case 24:return e.prev=24,this.$user_interaction_shield.hide(),this.stopSpinner(),e.finish(24);case 28:case"end":return e.stop()}},e,this,[[0,,24,28]])}));return function(t,n){return e.apply(this,arguments)}}(),t.Browser.prototype.parseGotoInput=function(){var e=u(d.mark(function e(n){var r,i,o,s,a;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,1===(i=n.split(" ")).length?(o=r.parseLocusString(i[0]),s=o):(o=r.parseLocusString(i[0]),void 0===(s=r.parseLocusString(i[1]))&&(s=o)),void 0!==o){e.next=9;break}return e.next=5,t.geneSearch(this.genome.id,i[0].trim());case 5:(a=e.sent)?(igv.selectedGene=i[0].trim(),o=r.parseLocusString(a),s=o,r.state.selectedGene=i[0].trim(),r.goto(o.chr,o.start,o.end,s.chr,s.start,s.end,5e3)):alert('No feature found with name "'+i[0]+'"'),e.next=10;break;case 9:o.wholeChr&&s.wholeChr?r.setChromosomes(o.chr,s.chr):r.goto(o.chr,o.start,o.end,s.chr,s.start,s.end);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.Browser.prototype.findMatchingZoomIndex=function(t,e){var n;for(n=e.length-1;n>0;n--)if(e[n]>=t)return n;return 0},t.Browser.prototype.parseLocusString=function(t){var e,n,r,i,o={};if(e=t.trim().split(":"),n=this.genome.getChromosome(b.first(e).toLowerCase())){if(o.chr=n.index,1===e.length)o.start=0,o.end=this.dataset.chromosomes[o.chr].size,o.wholeChr=!0;else{if(2!==(r=e[1].split("-")).length)return;i=r[0].replace(/\,/g,""),o.start=isNaN(i)?void 0:parseInt(i,10)-1,i=r[1].replace(/\,/g,""),o.end=isNaN(i)?void 0:parseInt(i,10)}return o}},t.Browser.prototype.pinchZoom=function(){var e=u(d.mark(function e(n,r,i){var o,s,l,h,u,p,f,g,m,v,y,w;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.state.chr1){e.next=5;break}return e.next=3,this.zoomAndCenter(1,n,r);case 3:e.next=34;break;case 5:return e.prev=5,this.startSpinner(),o=this.dataset.bpResolutions,s=o[this.state.zoom],this.resolutionLocked||this.state.zoom===o.length-1&&i>1||0===this.state.zoom&&i<1?(l=s,u=Math.min(12,this.state.pixelSize*i),h=this.state.zoom,p=!1):(f=s/this.state.pixelSize/i,h=this.findMatchingZoomIndex(f,o),l=o[h],p=h!==this.state.zoom,u=Math.min(12,l/f)),e.next=12,a.call(this,this.state.chr1,this.state.chr2);case 12:if(g=e.sent,!(!this.resolutionLocked&&i<1&&h<g)){e.next=17;break}this.setChromosomes(0,0),e.next=31;break;case 17:return e.next=19,c.call(this,this.state.chr1,this.state.chr2,h);case 19:m=e.sent,v=this.state,u=Math.max(u,m),y=(v.x+n/v.pixelSize)*s,w=(v.y+r/v.pixelSize)*s,v.x=y/l-n/u,v.y=w/l-r/u,v.zoom=h,v.pixelSize=u,this.clamp(),this.contactMatrixView.zoomIn(n,r,1/i),this.eventBus.post(t.Event("LocusChange",{state:v,resolutionChanged:p}));case 31:return e.prev=31,this.stopSpinner(),e.finish(31);case 34:case"end":return e.stop()}},e,this,[[5,,31,34]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.Browser.prototype.wheelClickZoom=function(){var t=u(d.mark(function t(e,n,r){var i,o;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.resolutionLocked&&0!==this.state.chr1){t.next=4;break}this.zoomAndCenter(e,n,r),t.next=9;break;case 4:return t.next=6,a.call(this,this.state.chr1,this.state.chr2);case 6:i=t.sent,o=this.state.zoom+e,e<0&&o<i?this.setChromosomes(0,0):this.zoomAndCenter(e,n,r);case 9:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),t.Browser.prototype.zoomAndCenter=function(){var e=u(d.mark(function e(n,r,i){var o,s,a,l,h,u,p,f,g,m,v,y;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.dataset){e.next=2;break}return e.abrupt("return");case 2:if(!(0===this.state.chr1&&n>0)){e.next=7;break}o=r*this.dataset.wholeGenomeResolution/this.state.pixelSize,s=i*this.dataset.wholeGenomeResolution/this.state.pixelSize,a=this.genome.getChromsosomeForCoordinate(o),l=this.genome.getChromsosomeForCoordinate(s),this.setChromosomes(a.index,l.index),e.next=28;break;case 7:if(h=this.dataset.bpResolutions,u=this.contactMatrixView.getViewDimensions(),p=void 0===r?0:r-u.width/2,f=void 0===i?0:i-u.height/2,this.state.x+=p/this.state.pixelSize,this.state.y+=f/this.state.pixelSize,!(this.resolutionLocked||n>0&&this.state.zoom===h.length-1||n<0&&0===this.state.zoom)){e.next=27;break}return e.next=16,c.call(this,this.state.chr1,this.state.chr2,this.state.zoom);case 16:g=e.sent,m=this.state,v=Math.max(Math.min(12,m.pixelSize*(n>0?2:.5)),g),y=(v-m.pixelSize)/v,m.pixelSize=v,m.x+=y*(u.width/m.pixelSize),m.y+=y*(u.height/m.pixelSize),this.clamp(),this.eventBus.post(t.Event("LocusChange",{state:m,resolutionChanged:!1})),e.next=28;break;case 27:this.setZoom(this.state.zoom+n,i,i);case 28:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.Browser.prototype.setZoom=function(){var e=u(d.mark(function e(r,i,o){var s,a,l,h,u,p,f,g,m,v,y,w,b;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y=this,s=this.dataset.bpResolutions,a=s[this.state.zoom],l=this.contactMatrixView.getViewDimensions(),h=this.state.x+l.width/(2*this.state.pixelSize),u=this.state.y+l.height/(2*this.state.pixelSize),p=s[r],f=h*(a/p),g=u*(a/p),e.next=12,c.call(this,this.state.chr1,this.state.chr2,r);case 12:return w=e.sent,b=y.state,m=Math.max(n,w),v=b.zoom!==r,b.zoom=r,b.x=Math.max(0,f-l.width/(2*m)),b.y=Math.max(0,g-l.height/(2*m)),b.pixelSize=m,y.clamp(),e.next=23,y.contactMatrixView.zoomIn();case 23:y.eventBus.post(t.Event("LocusChange",{state:b,resolutionChanged:v}));case 24:return e.prev=24,e.finish(24);case 26:case"end":return e.stop()}},e,this,[[0,,24,26]])}));return function(t,n,r){return e.apply(this,arguments)}}(),t.Browser.prototype.setChromosomes=function(){var e=u(d.mark(function e(r,i){var o,s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.startSpinner(),this.state.chr1=Math.min(r,i),this.state.chr2=Math.max(r,i),this.state.x=0,this.state.y=0,e.next=8,a.call(this,r,i);case 8:return o=e.sent,this.state.zoom=o,e.next=12,c.call(this,this.state.chr1,this.state.chr2,this.state.zoom);case 12:s=e.sent,this.state.pixelSize=Math.min(100,Math.max(n,s)),this.eventBus.post(t.Event("LocusChange",{state:this.state,resolutionChanged:!0}));case 15:return e.prev=15,this.stopSpinner(),e.finish(15);case 18:case"end":return e.stop()}},e,this,[[0,,15,18]])}));return function(t,n){return e.apply(this,arguments)}}(),t.Browser.prototype.updateLayout=u(d.mark(function t(){var e;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(t,e){t.$viewport.css({order:e}),t.syncCanvas()},this,this.clamp(),this.trackRenderers.forEach(function(t,n){e(t.x,n),e(t.y,n)}),this.layoutController.xAxisRuler.update(),this.layoutController.yAxisRuler.update(),t.next=8,this.update();case 8:case"end":return t.stop()}},t,this)})),t.Browser.prototype.setState=function(){var e=u(d.mark(function e(n){var r;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.state=n,e.next=3,c.call(this,this.state.chr1,this.state.chr2,this.state.zoom);case 3:r=e.sent,this.state.pixelSize=Math.max(n.pixelSize,r),this.eventBus.post(new t.Event("LocusChange",{state:this.state,resolutionChanged:!0}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.Browser.prototype.getSyncState=function(){return{chr1Name:this.dataset.chromosomes[this.state.chr1].name,chr2Name:this.dataset.chromosomes[this.state.chr2].name,binSize:this.dataset.bpResolutions[this.state.zoom],binX:this.state.x,binY:this.state.y,pixelSize:this.state.pixelSize}},t.Browser.prototype.canBeSynched=function(t){return this.dataset&&void 0!==this.dataset.getChrIndexFromName(t.chr1Name)&&void 0!==this.dataset.getChrIndexFromName(t.chr2Name)},t.Browser.prototype.syncState=function(e){if(this.dataset){var n=this.genome.getChromosome(e.chr1Name),r=this.genome.getChromosome(e.chr2Name),i=this.dataset.getZoomIndexForBinSize(e.binSize,"BP"),o=e.binX,s=e.binY,a=e.pixelSize;if(n&&r&&!(void 0===i&&(i=this.findMatchingZoomIndex(e.binSize,this.dataset.bpResolutions),a=e.pixelSize/e.binSize*this.dataset.bpResolutions[i],o=e.binX/e.pixelSize*a,s=e.binY/e.pixelSize*a,a>12))){var l=this.state.zoom!==i;this.state.chr1=n.index,this.state.chr2=r.index,this.state.zoom=i,this.state.x=o,this.state.y=s,this.state.pixelSize=a,this.eventBus.post(t.Event("LocusChange",{state:this.state,resolutionChanged:l},!1))}}},t.Browser.prototype.setNormalization=function(e){this.state.normalization=e,this.eventBus.post(t.Event("NormalizationChange",this.state.normalization))},t.Browser.prototype.shiftPixels=function(e,n){if(this.dataset){this.state.x+=e/this.state.pixelSize,this.state.y+=n/this.state.pixelSize,this.clamp();var r=t.Event("LocusChange",{state:this.state,resolutionChanged:!1,dragging:!0});r.dragging=!0,this.eventBus.post(r)}},t.Browser.prototype.goto=function(e,n,r,i,o,s,a){var l,c,h,u,p,f,d,g,m,v,y=this.contactMatrixView.getViewDimensions(),w=this.dataset.bpResolutions,b=y.width;h=Math.max((r-n)/y.width,(s-o)/y.height),a&&h<a&&(p=b*a,l=(n+r)/2,c=(o+s)/2,n=Math.max(l-p/2),o=Math.max(0,c-p/2),h=a),!0===this.resolutionLocked&&void 0===a?(v=!1,f=this.state.zoom):v=(f=this.findMatchingZoomIndex(h,w))!==this.state.zoom,u=w[f],d=Math.min(12,Math.max(1,u/h)),g=n/u,m=o/u,this.state.chr1=e,this.state.chr2=i,this.state.zoom=f,this.state.x=g,this.state.y=m,this.state.pixelSize=d,this.contactMatrixView.clearImageCaches(),this.eventBus.post(t.Event("LocusChange",{state:this.state,resolutionChanged:v}))},t.Browser.prototype.clamp=function(){var t=this.contactMatrixView.getViewDimensions(),e=this.dataset.chromosomes[this.state.chr1].size,n=this.dataset.chromosomes[this.state.chr2].size,r=this.dataset.bpResolutions[this.state.zoom],i=e/r-t.width/this.state.pixelSize,o=n/r-t.height/this.state.pixelSize;i=Math.max(0,i),o=Math.max(0,o),this.state.x=Math.min(Math.max(0,this.state.x),i),this.state.y=Math.min(Math.max(0,this.state.y),o)},t.Browser.prototype.receiveEvent=function(t){var e=this;"LocusChange"===t.type&&(t.propogate&&e.synchedBrowsers.forEach(function(t){t.syncState(e.getSyncState())}),this.update(t))},t.Browser.prototype.update=function(){var t=u(d.mark(function t(e){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{this.startSpinner(),void 0!==e&&"LocusChange"===e.type&&(this.layoutController.xAxisRuler.locusChange(e),this.layoutController.yAxisRuler.locusChange(e)),this.renderTracks()}finally{this.stopSpinner()}case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),t.Browser.prototype.repaintMatrix=function(){this.contactMatrixView.imageTileCache={},this.contactMatrixView.initialImage=void 0,this.contactMatrixView.update()},t.Browser.prototype.resolution=function(){return this.dataset.bpResolutions[this.state.zoom]};var v={"*s3e/":"https://hicfiles.s3.amazonaws.com/external/","*s3/":"https://hicfiles.s3.amazonaws.com/","*s3e_/":"http://hicfiles.s3.amazonaws.com/external/","*s3_/":"http://hicfiles.s3.amazonaws.com/","*enc/":"https://www.encodeproject.org/files/"};function y(t){var e=m(t,"&","%26");return e=m(e," ","+"),e=m(e,"#","%23"),e=m(e,"?","%3F"),e=m(e,"=","%3D")}function w(t,e){if(e)return decodeURIComponent(t);var n=m(t,"%26","&");return n=m(n,"%20"," "),n=m(n,"+"," "),n=m(n,"%7C","|"),n=m(n,"%23","#"),n=m(n,"%3F","?"),n=m(n,"%3D","=")}function x(e,n){igv.browser={constants:{defaultColor:"rgb(0,0,150)"},trackContainerDiv:n.layoutController.$x_track_container.get(0)},t.IGVReplacements(igv),igv.popover=new igv.Popover(e,igv.browser),igv.alertDialog=new igv.AlertDialog(n.$root,n),n.inputDialog=new igv.InputDialog(e,n),n.trackRemovalDialog=new igv.TrackRemovalDialog(e,n),n.dataRangeDialog=new igv.DataRangeDialog(e,n)}function C(t){return k.apply(this,arguments)}function k(){return(k=u(d.mark(function e(n){var r,i,o;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.url instanceof File?(n.blob=n.url,delete n.url):(n.url.indexOf("drive.google.com")>=0||n.url.indexOf("www.googleapis.com")>0)&&(n.url=igv.google.driveDownloadURL(n.url),n.apiKey=igv.google.apiKey),r=new HicStraw(n),i=r.hicFile,e.next=5,i.init();case 5:return(o=new t.Dataset(i)).url=n.url,e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}return t.Browser.prototype.getQueryString=function(){var t,e,n;if(!this.dataset||!this.dataset.url)return"";(t=[]).push(o("hicUrl",this.dataset.url)),this.dataset.name&&t.push(o("name",this.dataset.name)),t.push(o("state",this.state.stringify())),t.push(o("colorScale",this.contactMatrixView.getColorScale().stringify())),igv.selectedGene&&t.push(o("selectedGene",igv.selectedGene)),(e=g(this.dataset))&&t.push(o("nvi",e)),this.controlDataset&&(t.push(o("controlUrl",this.controlUrl)),this.controlDataset.name&&t.push(o("controlName",this.controlDataset.name)),this.getDisplayMode()&&t.push(o("displayMode",this.getDisplayMode())),(e=g(this.controlDataset))&&t.push(o("controlNvi",e)),void 0!==this.controlMapWidget.getDisplayModeCycle()&&t.push(o("cycle","true"))),(this.trackRenderers.length>0||this.tracks2D.length>0)&&(n="",this.trackRenderers.forEach(function(t){var e=t.x.track,r=e.config.url,i=e.dataRange;"string"==typeof r&&(n.length>0&&(n+="|||"),n+=r,n+="|"+(e.name?m(e.name,"|","$"):""),n+="|"+(i?i.min+"-"+i.max:""),n+="|"+e.color)}),this.tracks2D.forEach(function(t){var e=t.config.url;"string"==typeof e&&(n.length>0&&(n+="|||"),n+=e,n+="|"+(t.name?m(t.name,"|","$"):""),n+="|",n+="|"+t.color)}),n.length>0&&t.push(o("tracks",n)));var r=document.getElementById("hic-caption");if(r){var i=r.textContent;i&&(i=i.trim())&&t.push(o("caption",i))}return t.join("&");function o(t,e){return t+"="+y(e)}},igv.Browser.decodeQuery=function(e,n,r){var i,o,s,a,l,c,h,u,p,f,d,g,y,b,x,C,k,S,_,T;if(i=e.hicUrl,o=e.name,s=e.state,a=e.colorScale,l=e.tracks,c=e.selectedGene,h=e.nvi,e.normVectorFiles,u=e.controlUrl,p=e.controlName,e.ratioColorScale,f=e.displayMode,d=e.controlNvi,g=e.caption,y=e.cycle,i&&(i=w(i,r),Object.keys(v).forEach(function(t){var e=v[t];i.startsWith(t)&&(i=i.replace(t,e))}),n.url=i),o&&(n.name=w(o,r)),u&&(u=w(u,r),Object.keys(v).forEach(function(t){var e=v[t];u.startsWith(t)&&(u=u.replace(t,e))}),n.controlUrl=u),p&&(n.controlName=w(p,r)),s&&(s=w(s,r),n.state=(b=s.split(","),new t.State(parseInt(b[0]),parseInt(b[1]),parseFloat(b[2]),parseFloat(b[3]),parseFloat(b[4]),parseFloat(b[5]),b.length>6?b[6]:"NONE"))),a&&(a=w(a,r),n.colorScale=t.destringifyColorScale(a)),f&&(n.displayMode=w(f,r)),l&&(l=w(l,r),n.tracks=(_=l.split("|||"),T=[],_.forEach(function(t){var e,n,r,i,o,s,a;if(s=(e=t.split("|")).pop(),(n=e[0])&&n.trim().length>0){for(x=Object.keys(v),k=0,S=x.length;k<S;k++){C=x[k];var l=v[C];if(n.startsWith(C)){n=n.replace(C,l);break}}r={url:n},e.length>1&&(i=e[1]),e.length>2&&(o=e[2]),i&&(r.name=m(i,"$","|")),o&&(o.startsWith("-")?(a=o.substring(1).split("-"),r.min=-parseFloat(a[0]),r.max=parseFloat(a[1])):(a=o.split("-"),r.min=parseFloat(a[0]),r.max=parseFloat(a[1]))),s&&(r.color=s),T.push(r)}}),T),n.tracks&&n.oauthToken&&n.tracks.forEach(function(t){t.oauthToken=n.oauthToken})),c&&(igv.selectedGene=c),g){g=w(g,r);var M=document.getElementById("hic-caption");M&&(M.textContent=g)}n.cycle=y,h&&(n.nvi=w(h,r)),d&&(n.controlNvi=w(d,r))},t}((C=function(t){return t.Genome=function(t,e){var n=this;this.id=t,this.chromosomes=e,this.chromosomeLookupTable={},this.genomeLength=0,this.chromosomes.forEach(function(t){t.bpLength=t.size,"all"!==t.name.toLowerCase()&&(n.genomeLength+=t.size)});var r={};e.forEach(function(t){var e=t.name,i=e.startsWith("chr")?e.substring(3):"chr"+e;r[i]=e,"chrM"===e&&(r.MT="chrM"),"MT"===e&&(r.chrmM="MT"),n.chromosomeLookupTable[e.toLowerCase()]=t}),this.chrAliasTable=r},t.Genome.prototype.getChromosomeName=function(t){var e=this.chrAliasTable[t];return e||t},t.Genome.prototype.getChromosome=function(t){var e=this.getChromosomeName(t).toLowerCase();return this.chromosomeLookupTable[e]},t.Genome.prototype.getGenomeCoordinate=function(t,e){return this.getCumulativeOffset(t.name)+e},t.Genome.prototype.getChromsosomeForCoordinate=function(t){var e,n=0,r=0;for(n=1;n<this.chromosomes.length;n++){if(r+(e=this.chromosomes[n].size)>t)return this.chromosomes[n];r+=e}return this.chromosomes[this.chromosomes.length-1]},t.Genome.prototype.getCumulativeOffset=function(t){var e;return e=this.getChromosomeName(t),void 0===this.cumulativeOffsets&&function(){var t,e,n,r;for(t={},e=0,n=1;n<this.chromosomes.length;n++)r=this.chromosomes[n],t[r.name]=Math.floor(e),e+=r.size;this.cumulativeOffsets=t}.call(this),this.cumulativeOffsets[e]},t.Genome.prototype.getGenomeLength=function(){return this.genomeLength},t}((C=function(t){return t.geneSearch=function(t,e){return new Promise(function(n,r){var i="https://portals.broadinstitute.org/webservices/igv/locus?genome="+t+"&name="+e;igv.xhr.loadString(i).then(function(t){var e=function(t){var e=igv.splitLines(t),n=[],r=[];return e.forEach(function(t){""===t||n.push(t)}),n.forEach(function(t){var e=t.split("\t");e.length>=3&&r.push(e[1])}),r}(t);0==e.length?n(void 0):n(e[0])}).catch(r)})},t}((C=function(t){return t.EventBus=function(){this.subscribers={},this.stack=[]},t.EventBus.prototype.subscribe=function(t,e){var n=this.subscribers[t];null==n&&(n=[],this.subscribers[t]=n),n.push(e)},t.EventBus.prototype.post=function(t){var e=t.type;if(this.hold)this.stack.push(t);else{var n=this.subscribers[e];if(n){var r=!0,i=!1,o=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;"function"==typeof l.receiveEvent?l.receiveEvent(t):"function"==typeof l&&l(t)}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}}}},t.EventBus.prototype.hold=function(){this.hold=!0},t.EventBus.prototype.release=function(){this.hold=!1;var t=!0,e=!1,n=void 0;try{for(var r,i=this.stack[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;this.post(o)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}this.stack=[]},t.Event=function(t,e,n){return{type:t,data:e||{},propogate:void 0===n||n}},t.eventBus=new t.EventBus,t}((C=function(t){function e(t){this.hash[t].$hidden.hide(),this.hash[t].$shown.show(),this.$cycle.show(),this.$toggle.show()}return t.ControlMapWidget=function(e,n){var r=this;this.browser=e,this.$container=h('<div class="hic-control-map-selector-container">'),this.$container.hide(),n.append(this.$container),this.$select=h("<select>"),this.$select.attr("name","control_map_selector"),this.$container.append(this.$select);var i=h("<div>");this.$container.append(i);var o,s,a=h("<div>");this.$container.append(a),this.controlMapHash=new t.ControlMapHash(e,this.$select,i,a,(s='<svg width="34px" height="34px" viewBox="0 0 34 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 51 (57462) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Toggle Maps</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Group">\n            <rect id="Rectangle" stroke="#A6A6A6" stroke-width="1.25201381" fill="#F8F8F8" x="0.626006904" y="0.626006904" width="32.7479862" height="32.7479862" rx="3.91254315"></rect>\n            <g id="arrows" transform="translate(6.533947, 7.003452)" fill-rule="nonzero" stroke="#5F5F5F" stroke-width="0.626006904">\n                <path d="M25.9411017,8.76431329 L11.8559464,8.76431329 L11.8559464,6.88629258 C11.8559464,6.05237313 10.8440845,5.63114873 10.2529383,6.22229488 L7.12290378,9.3523294 C6.75622024,9.71905207 6.75622024,10.3136021 7.12290378,10.6802857 L10.2529383,13.8103202 C10.8409153,14.3982581 11.8559464,13.9850935 11.8559464,13.1463616 L11.8559464,11.2683409 L25.9411017,11.2683409 C26.4597093,11.2683409 26.8801121,10.8479381 26.8801121,10.3293306 L26.8801121,9.70332365 C26.8801121,9.18471605 26.4597093,8.76431329 25.9411017,8.76431329 Z" id="down-arrow" fill="#F8F8F8" transform="translate(16.864002, 10.016110) rotate(-90.000000) translate(-16.864002, -10.016110) "></path>\n                <path d="M13.1470856,8.76431329 L-0.938069748,8.76431329 L-0.938069748,6.88629258 C-0.938069748,6.05237313 -1.94993166,5.63114873 -2.5410778,6.22229488 L-5.67111233,9.3523294 C-6.03779587,9.71905207 -6.03779587,10.3136021 -5.67111233,10.6802857 L-2.5410778,13.8103202 C-1.95310082,14.3982581 -0.938069748,13.9850935 -0.938069748,13.1463616 L-0.938069748,11.2683409 L13.1470856,11.2683409 C13.6656932,11.2683409 14.086096,10.8479381 14.086096,10.3293306 L14.086096,9.70332365 C14.086096,9.18471605 13.6656932,8.76431329 13.1470856,8.76431329 Z" id="up-arrow" fill="#5F5F5F" transform="translate(4.069985, 10.016110) scale(1, -1) rotate(-90.000000) translate(-4.069985, -10.016110) "></path>\n            </g>\n        </g>\n    </g>\n</svg>'.split("\n").join(" "),h(s)),(o='<svg width="34px" height="34px" viewBox="0 0 34 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 51 (57462) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Toggle Maps</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Group">\n            <rect id="Rectangle" stroke="#A6A6A6" stroke-width="1.25201381" fill="#F8F8F8" x="0.626006904" y="0.626006904" width="32.7479862" height="32.7479862" rx="3.91254315"></rect>\n            <g id="arrows" transform="translate(6.533947, 7.003452)" fill-rule="nonzero" stroke="#5F5F5F" stroke-width="0.626006904">\n                <path d="M25.9411017,8.76431329 L11.8559464,8.76431329 L11.8559464,6.88629258 C11.8559464,6.05237313 10.8440845,5.63114873 10.2529383,6.22229488 L7.12290378,9.3523294 C6.75622024,9.71905207 6.75622024,10.3136021 7.12290378,10.6802857 L10.2529383,13.8103202 C10.8409153,14.3982581 11.8559464,13.9850935 11.8559464,13.1463616 L11.8559464,11.2683409 L25.9411017,11.2683409 C26.4597093,11.2683409 26.8801121,10.8479381 26.8801121,10.3293306 L26.8801121,9.70332365 C26.8801121,9.18471605 26.4597093,8.76431329 25.9411017,8.76431329 Z" id="down-arrow" fill="#5F5F5F" transform="translate(16.864002, 10.016110) rotate(-90.000000) translate(-16.864002, -10.016110) "></path>\n                <path d="M13.1470856,8.76431329 L-0.938069748,8.76431329 L-0.938069748,6.88629258 C-0.938069748,6.05237313 -1.94993166,5.63114873 -2.5410778,6.22229488 L-5.67111233,9.3523294 C-6.03779587,9.71905207 -6.03779587,10.3136021 -5.67111233,10.6802857 L-2.5410778,13.8103202 C-1.95310082,14.3982581 -0.938069748,13.9850935 -0.938069748,13.1463616 L-0.938069748,11.2683409 L13.1470856,11.2683409 C13.6656932,11.2683409 14.086096,10.8479381 14.086096,10.3293306 L14.086096,9.70332365 C14.086096,9.18471605 13.6656932,8.76431329 13.1470856,8.76431329 Z" id="up-arrow" fill="#F8F8F8" transform="translate(4.069985, 10.016110) scale(1, -1) rotate(-90.000000) translate(-4.069985, -10.016110) "></path>\n            </g>\n        </g>\n    </g>\n</svg>'.split("\n").join(" "),h(o))),e.eventBus.subscribe("ControlMapLoad",function(t){r.controlMapHash.updateOptions(e.getDisplayMode()),r.$container.show()}),e.eventBus.subscribe("MapLoad",function(t){e.controlDataset||r.$container.hide()}),e.eventBus.subscribe("DisplayMode",function(t){r.controlMapHash.updateOptions(t.data)})},t.ControlMapWidget.prototype.toggleDisplayMode=function(){this.controlMapHash.toggleDisplayMode()},t.ControlMapWidget.prototype.toggleDisplayModeCycle=function(){this.controlMapHash.toggleDisplayModeCycle()},t.ControlMapWidget.prototype.getDisplayModeCycle=function(){return this.controlMapHash.cycleID},t.ControlMapWidget.prototype,t.ControlMapHash=function(t,e,n,r,i,o){var s=this;this.browser=t,this.$select=e,this.$toggle=n,this.$cycle=r,this.$img_a=i,this.$toggle.append(this.$img_a),this.$img_b=o,this.$toggle.append(this.$img_b);var a,l={title:"A",value:"A",other:"B",$hidden:o,$shown:i},c={title:"B",value:"B",other:"A",$hidden:i,$shown:o},u={title:"A/B",value:"AOB",other:"BOA",$hidden:o,$shown:i},p={title:"B/A",value:"BOA",other:"AOB",$hidden:i,$shown:o};this.hash={A:l,B:c,AOB:u,BOA:p},this.$select.on("change",function(t){var e;s.disableDisplayModeCycle(),e=h(this).val(),s.setDisplayMode(e)}),this.$toggle.on("click",function(t){s.disableDisplayModeCycle(),s.toggleDisplayMode()}),this.$cycle_outline=(a='<svg width="34px" height="34px" viewBox="0 0 34 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 51 (57462) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Cycle Maps</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Group" fill="#F8F8F8">\n            <rect id="Rectangle" stroke="#A6A6A6" stroke-width="1.25201381" x="0.626006904" y="0.626006904" width="32.7479862" height="32.7479862" rx="3.91254315"></rect>\n            <g id="circle-notch-group" transform="translate(5.947066, 6.103567)" fill-rule="nonzero" stroke="#5F5F5F" stroke-width="0.75">\n                <path d="M12.5012159,1.07356655 L12.5012159,1.81734411 C12.5012159,2.29971235 12.8262916,2.71738683 13.2908449,2.84717621 C16.7518005,3.81392183 19.2875784,6.98762275 19.2875784,10.7595067 C19.2875784,15.2996349 15.6133435,18.9745898 11.072508,18.9745898 C6.53238683,18.9745898 2.85743758,15.3003493 2.85743758,10.7595067 C2.85743758,6.98815851 5.39276905,3.81401113 8.85408182,2.84717621 C9.31872442,2.71738683 9.64380011,2.29962306 9.64380011,1.81721016 L9.64380011,1.07392373 C9.64380011,0.372561009 8.98150471,-0.138381443 8.30233269,0.0365908983 C3.5094195,1.27117502 -0.0270343765,5.6342771 0.00015572077,10.8189768 C0.0323016485,16.9379636 4.97728293,21.8448684 11.0963496,21.8319654 C17.2005487,21.819107 22.1449942,16.8667067 22.1449942,10.7595067 C22.1449942,5.5968181 18.611621,1.2595221 13.831209,0.0336441837 C13.1565464,-0.139363681 12.5012159,0.377070376 12.5012159,1.07356655 Z" id="circle-notch---solid"></path>\n            </g>\n        </g>\n    </g>\n</svg>'.split("\n").join(" "),h(a)),r.append(this.$cycle_outline),this.$cycle_solid=function(){var t;return t='<svg width="34px" height="34px" viewBox="0 0 34 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 51 (57462) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Cycle Maps</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Group">\n            <rect id="Rectangle" stroke="#A6A6A6" stroke-width="1.25201381" fill="#F8F8F8" x="0.626006904" y="0.626006904" width="32.7479862" height="32.7479862" rx="3.91254315"></rect>\n            <g id="circle-notch-group" transform="translate(5.947066, 6.103567)" fill="#5F5F5F" fill-rule="nonzero">\n                <path d="M12.5012159,1.07356655 L12.5012159,1.81734411 C12.5012159,2.29971235 12.8262916,2.71738683 13.2908449,2.84717621 C16.7518005,3.81392183 19.2875784,6.98762275 19.2875784,10.7595067 C19.2875784,15.2996349 15.6133435,18.9745898 11.072508,18.9745898 C6.53238683,18.9745898 2.85743758,15.3003493 2.85743758,10.7595067 C2.85743758,6.98815851 5.39276905,3.81401113 8.85408182,2.84717621 C9.31872442,2.71738683 9.64380011,2.29962306 9.64380011,1.81721016 L9.64380011,1.07392373 C9.64380011,0.372561009 8.98150471,-0.138381443 8.30233269,0.0365908983 C3.5094195,1.27117502 -0.0270343765,5.6342771 0.00015572077,10.8189768 C0.0323016485,16.9379636 4.97728293,21.8448684 11.0963496,21.8319654 C17.2005487,21.819107 22.1449942,16.8667067 22.1449942,10.7595067 C22.1449942,5.5968181 18.611621,1.2595221 13.831209,0.0336441837 C13.1565464,-0.139363681 12.5012159,0.377070376 12.5012159,1.07356655 Z" id="circle-notch---solid"></path>\n            </g>\n        </g>\n    </g>\n</svg>'.split("\n").join(" "),h(t)}(),r.append(this.$cycle_solid),this.$cycle_solid.hide(),r.on("click",function(){s.toggleDisplayModeCycle()}),r.hide()},t.ControlMapHash.prototype.disableDisplayModeCycle=function(){this.cycleID&&(clearTimeout(this.cycleID),this.cycleID=void 0,this.$cycle_solid.hide(),this.$cycle_outline.show())},t.ControlMapHash.prototype.toggleDisplayModeCycle=function(){var t=this;this.cycleID?this.disableDisplayModeCycle():(!function e(){t.cycleID=setTimeout(u(d.mark(function n(){return d.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.toggleDisplayMode();case 2:e();case 3:case"end":return n.stop()}},n,this)})),2500)}(),this.$cycle_solid.show(),this.$cycle_outline.hide())},t.ControlMapHash.prototype.toggleDisplayMode=u(d.mark(function t(){var e,n,r;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.browser.getDisplayMode(),n=this.hash[e].other,t.next=4,this.browser.setDisplayMode(n);case 4:this.hash[n].$hidden.hide(),this.hash[n].$shown.show(),r="option[value="+n+"]",this.$select.find(r).prop("selected",!0);case 8:case"end":return t.stop()}},t,this)})),t.ControlMapHash.prototype.setDisplayMode=function(t){e.call(this,t),this.browser.setDisplayMode(t)},t.ControlMapHash.prototype.updateOptions=function(t){var n=this;this.$img_a.hide(),this.$img_b.hide(),this.$select.empty(),Object.keys(this.hash).forEach(function(r){var i,o;i=n.hash[r],o=h("<option>").attr("title",i.title).attr("value",i.value).text(i.title),t===i.value&&(o.attr("selected",!0),i.$shown.show(),e.call(n,t)),n.$select.append(o)})},t}((C=function(e){var n=2,r=20,o=300;function s(t,e){return t.chr1+"_"+t.chr2+"_"+t.zoom+"_"+t.normalization+"_"+e}e.ContactMatrixView=function(t,n){var r;this.browser=t,this.scrollbarWidget=new e.ScrollbarWidget(t),r=t.id+"_viewport",this.$viewport=h("<div>",{id:r}),n.append(this.$viewport),this.$canvas=h("<canvas>"),this.$viewport.append(this.$canvas),this.$fa_spinner=h('<i class="fa fa-spinner fa-spin">'),this.$fa_spinner.css("font-size","48px"),this.$fa_spinner.css("position","absolute"),this.$fa_spinner.css("left","40%"),this.$fa_spinner.css("top","40%"),this.$fa_spinner.css("display","none"),this.$viewport.append(this.$fa_spinner),this.spinnerCount=0,this.sweepZoom=new e.SweepZoom(t,this.$viewport),this.$viewport.append(this.sweepZoom.$rulerSweeper),r=t.id+"_x-guide",this.$x_guide=h("<div>",{id:r}),this.$viewport.append(this.$x_guide),r=t.id+"_y-guide",this.$y_guide=h("<div>",{id:r}),this.$viewport.append(this.$y_guide),n.append(this.scrollbarWidget.$y_axis_scrollbar_container),this.displayMode="A",this.imageTileCache={},this.imageTileCacheKeys=[],this.imageTileCacheLimit=8,this.colorScaleThresholdCache={},this.colorScale=new ColorScale({threshold:2e3,r:255,g:0,b:0}),this.ratioColorScale=new y(5),this.browser.eventBus.subscribe("NormalizationChange",this),this.browser.eventBus.subscribe("TrackLoad2D",this),this.browser.eventBus.subscribe("TrackState2D",this),this.browser.eventBus.subscribe("MapLoad",this),this.browser.eventBus.subscribe("LocusChange",this),this.browser.eventBus.subscribe("ControlMapLoad",this),this.browser.eventBus.subscribe("ColorChange",this),this.drawsInProgress=new Set},e.ContactMatrixView.prototype.setColorScale=function(t){switch(this.displayMode){case"AOB":case"BOA":this.ratioColorScale=t;break;case"AMB":this.diffColorScale=t;break;default:this.colorScale=t}this.colorScaleThresholdCache[s(this.browser.state,this.displayMode)]=t.threshold},e.ContactMatrixView.prototype.setColorScaleThreshold=function(){var t=u(d.mark(function t(e){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.getColorScale().setThreshold(e),this.colorScaleThresholdCache[s(this.browser.state,this.displayMode)]=e,this.imageTileCache={},t.next=5,this.update();case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.ContactMatrixView.prototype.getColorScale=function(){switch(this.displayMode){case"AOB":case"BOA":return this.ratioColorScale;case"AMB":return this.diffColorScale;default:return this.colorScale}},e.ContactMatrixView.prototype.setDisplayMode=function(){var t=u(d.mark(function t(e){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.displayMode=e,this.clearImageCaches(),t.next=4,this.update();case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.ContactMatrixView.prototype.clearImageCaches=function(){this.imageTileCache={},this.imageTileCacheKeys=[]},e.ContactMatrixView.prototype.getViewDimensions=function(){return{width:this.$viewport.width(),height:this.$viewport.height()}},e.ContactMatrixView.prototype.receiveEvent=function(){var t=u(d.mark(function t(e){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("MapLoad"!==e.type&&"ControlMapLoad"!==e.type){t.next=6;break}this.mouseHandlersEnabled||(v.call(this,this.$viewport),m.call(this,this.$viewport),this.mouseHandlersEnabled=!0),this.clearImageCaches(),this.colorScaleThresholdCache={},t.next=9;break;case 6:return"LocusChange"!==e.type&&"DragStopped"!==e.type&&this.clearImageCaches(),t.next=9,this.update();case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.ContactMatrixView.prototype.update=u(d.mark(function t(){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.disableUpdates){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.repaint();case 4:case"end":return t.stop()}},t,this)})),e.ContactMatrixView.prototype.repaint=u(d.mark(function t(){var e,n,r,i,o,s,a,l,c,h,u,f,g,m,v,y,w,b,x,C,k,S;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.browser.dataset){t.next=2;break}return t.abrupt("return");case 2:this.ctx||(this.ctx=this.$canvas.get(0).getContext("2d")),e=this.$viewport.width(),n=this.$viewport.height(),r=this.$canvas.width(),i=this.$canvas.height(),r===e&&i===n||(this.$canvas.width(e),this.$canvas.height(n),this.$canvas.attr("width",this.$viewport.width()),this.$canvas.attr("height",this.$viewport.height())),o=this.browser.state,t.t0=this.displayMode,t.next="A"===t.t0?12:"B"===t.t0?14:"AOB"===t.t0?16:"AMB"===t.t0?16:"BOA"===t.t0?19:21;break;case 12:return s=this.browser.dataset,t.abrupt("break",21);case 14:return s=this.browser.controlDataset,t.abrupt("break",21);case 16:return s=this.browser.dataset,a=this.browser.controlDataset,t.abrupt("break",21);case 19:s=this.browser.controlDataset,a=this.browser.dataset;case 21:return t.next=23,s.getMatrix(o.chr1,o.chr2);case 23:if(l=t.sent,c=l.bpZoomData[o.zoom],!a){t.next=30;break}return t.next=28,a.getMatrix(o.chr1,o.chr2);case 28:u=t.sent,h=u.bpZoomData[o.zoom];case 30:return f=c.blockBinCount,g=Math.max(1,Math.floor(o.pixelSize)),m=this.$viewport.width()/g,v=this.$viewport.height()/g,y=Math.floor(o.x/f),w=Math.floor((o.x+m)/f),b=Math.floor(o.y/f),x=Math.floor((o.y+v)/f),t.next=40,p.call(this,s,c,b,x,y,w,o.normalization);case 40:C=b;case 41:if(!(C<=x)){t.next=54;break}k=y;case 43:if(!(k<=w)){t.next=51;break}return t.next=46,this.getImageTile(s,a,c,h,C,k,o);case 46:S=t.sent,this.paintTile(S);case 48:k++,t.next=43;break;case 51:C++,t.next=41;break;case 54:this.genomicExtent={chr1:o.chr1,chr2:o.chr2,x:o.x*c.zoom.binSize,y:o.y*c.zoom.binSize,w:e*c.zoom.binSize/o.pixelSize,h:n*c.zoom.binSize/o.pixelSize};case 55:case"end":return t.stop()}},t,this)}));var a={};function l(t){var e=a[t];if(!e){(e=document.createElement("canvas")).width=t,e.height=t;var n=e.getContext("2d");n.font="24px sans-serif",n.fillStyle="rgb(230, 230, 230)",n.fillRect(0,0,e.width,e.height),n.fillStyle="black";for(var r=100;r<t;r+=300)for(var i=100;i<t;i+=300)n.fillText("Loading...",r,i);a[t]=e}return e}function c(t,e){var n=[];return"B"===this.displayMode&&this.browser.controlDataset?n.push(this.browser.controlDataset.getMatrix(t,e)):(n.push(this.browser.dataset.getMatrix(t,e)),this.displayMode&&"A"!==this.displayMode&&this.browser.controlDataset&&n.push(this.browser.controlDataset.getMatrix(t,e))),Promise.all(n)}function p(t,e,n,r,i,o,s){return f.apply(this,arguments)}function f(){return(f=u(d.mark(function t(n,r,i,o,a,l,c){var h,u,p,f,m,v,y,w,b;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h=s(this.browser.state,this.displayMode),"AOB"!==this.displayMode&&"BOA"!==this.displayMode){t.next=3;break}return t.abrupt("return",this.ratioColorScale);case 3:if(!this.colorScaleThresholdCache[h]){t.next=10;break}return u=this.colorScale.threshold!==this.colorScaleThresholdCache[h],this.colorScale.setThreshold(this.colorScaleThresholdCache[h]),u&&this.browser.eventBus.post(e.Event("ColorScale",this.colorScale)),t.abrupt("return",this.colorScale);case 10:for(p=[],f=r.chr1.index===r.chr2.index,v=i;v<=o;v++)for(y=a;y<=l;y++)m=f&&v<y?y*r.blockColumnCount+v:v*r.blockColumnCount+y,p.push(n.getNormalizedBlock(r,m,c,this.browser.eventBus));return t.prev=13,this.startSpinner(),t.next=17,Promise.all(p);case 17:return w=t.sent,this.stopSpinner(),b=g(w,95),isNaN(b)||(0===r.chr1.index&&(b*=4),this.colorScale=new ColorScale(this.colorScale),this.colorScale.setThreshold(b),this.computeColorScale=!1,this.browser.eventBus.post(e.Event("ColorScale",this.colorScale))),this.colorScaleThresholdCache[h]=b,t.abrupt("return",this.colorScale);case 23:return t.prev=23,this.stopSpinner(),t.finish(23);case 26:case"end":return t.stop()}},t,this,[[13,,23,26]])}))).apply(this,arguments)}function g(t,n){var r=[];return t.forEach(function(t){if(t)for(i=0;i<t.records.length;i++)r.push(t.records[i].counts)}),e.Math.percentile(r,n)}function m(t){var r,i,o,s,a=this,l=!1,c=!1;function u(t){!0===a.isDragging&&(a.isDragging=!1,a.browser.eventBus.post(e.Event("DragStopped"))),l=!1,r=i=void 0}this.isDragging=!1,this.browser.isMobile||(t.dblclick(function(t){t.preventDefault(),t.stopPropagation();var e=t.offsetX||t.layerX,n=t.offsetY||t.layerX;a.browser.zoomAndCenter(1,e,n)}),t.on("mouseover",function(t){o=!0}),t.on("mouseout",function(t){o=void 0}),t.on("mousedown",function(t){var e;t.preventDefault(),t.stopPropagation(),a.browser.$menu.is(":visible")&&a.browser.hideMenu(),i={x:t.offsetX,y:t.offsetY},r={x:t.offsetX,y:t.offsetY},(c=!0===t.altKey)&&(e=h.event.fix(t),a.sweepZoom.initialize({x:e.pageX,y:e.pageY})),l=!0}),t.on("mousemove",function(o){var s,u,p;if(o.preventDefault(),o.stopPropagation(),s={x:o.offsetX,y:o.offsetY},p={x:(u=h.event.fix(o)).pageX-t.offset().left,y:u.pageY-t.offset().top},a.browser.eventBus.post(e.Event("UpdateContactMapMousePosition",p,!1)),!0===a.willShowCrosshairs&&(a.browser.updateCrosshairs(p),a.browser.showCrosshairs()),l){if(c)a.sweepZoom.update({x:u.pageX,y:u.pageY});else if(r.x&&Math.abs(s.x-r.x)>n){a.isDragging=!0;var f=i.x-s.x,d=i.y-s.y;a.updating&&function(t,e,n){var r,i=t.$canvas.width(),o=t.$canvas.height();r=t.ctx.getImageData(0,0,i,o),t.ctx.clearRect(0,0,i,o),t.ctx.putImageData(r,e,n)}(a,-f,-d),a.browser.shiftPixels(f,d)}i=s}}),t.on("mouseup",u),t.on("mouseleave",function(){a.browser.layoutController.xAxisRuler.unhighlightWholeChromosome(),a.browser.layoutController.yAxisRuler.unhighlightWholeChromosome(),u()}),t[0].addEventListener("wheel",function(e){e.preventDefault(),e.stopPropagation();var n=Date.now();if(void 0===s||n-s>1e3){var r=e.deltaY<0?1:-1,i=igv.translateMouseCoordinates(e,t),o=i.x,l=i.y;a.browser.wheelClickZoom(r,o,l),s=n}},250,!1),h(document).on("keydown.contact_matrix_view",function(t){void 0===a.willShowCrosshairs&&!0===o&&!0===t.shiftKey&&(a.willShowCrosshairs=!0)}),h(document).on("keyup.contact_matrix_view",function(t){a.browser.hideCrosshairs(),a.willShowCrosshairs=void 0}),h(document).on("mouseup.contact_matrix_view",function(t){t.preventDefault(),t.stopPropagation(),c&&(c=!1,a.sweepZoom.commit())}))}function v(t){var n,i,s=this,a=t[0];function l(t,e){var n=h(e);return{x:t.pageX-n.offset().left,y:t.pageY-n.offset().top}}a.ontouchstart=function(t){t.preventDefault(),t.stopPropagation();var e,i,c,h=l(t.targetTouches[0],a),u=h.x,p=h.y,f=t.targetTouches.length,d=t.timeStamp||Date.now(),g=!1;2===f&&(u=(u+(h=l(t.targetTouches[0],a)).x)/2,p=(p+h.y)/2),n&&d-n.timeStamp<o&&t.targetTouches.length>1&&1===n.count?n={x:u,y:p,timeStamp:d,count:t.targetTouches.length}:(n&&d-n.timeStamp<o&&(c=2===n.count||2===f?-1:1,e=n.x-u,i=n.y-p,Math.sqrt(e*e+i*i)<r&&(s.browser.zoomAndCenter(c,u,p),n=void 0,g=!0)),g||(n={x:u,y:p,timeStamp:d,count:t.targetTouches.length}))},a.ontouchmove=e.throttle(function(t){var e,r,o;if(t.preventDefault(),t.stopPropagation(),2===t.targetTouches.length)e=l(t.targetTouches[0],a),r=l(t.targetTouches[1],a),o={x1:e.x,y1:e.y,x2:r.x,y2:r.y},i?i.end=o:i={start:o};else{var c=l(t.targetTouches[0],a),h=c.x,u=c.y;if(n){var p=n.x-h,f=n.y-u;isNaN(p)||isNaN(f)||(s.isDragging=!0,s.browser.shiftPixels(n.x-h,n.y-u))}n={x:h,y:u,timeStamp:t.timeStamp||Date.now(),count:t.targetTouches.length}}},50),a.ontouchend=function(t){if(t.preventDefault(),t.stopPropagation(),i&&void 0!==i.end){var r=i.start,o=i.end,a=r.x2-r.x1,l=r.y2-r.y1,c=o.x2-o.x1,h=o.y2-o.y1,u=Math.sqrt(a*a+l*l),p=Math.sqrt(c*c+h*h)/u,f=(o.x1,o.x2,r.x1,r.x2,o.y1,o.y2,r.y1,r.y2,(r.x1+r.x2)/2),d=(r.y1+r.y2)/2;(p<.8||p>1.2)&&(n=void 0,s.browser.pinchZoom(f,d,p))}else s.isDragging&&(s.isDragging=!1,s.browser.eventBus.post(e.Event("DragStopped")));i=void 0}}function y(t){this.threshold=t,this.positiveScale=new ColorScale({threshold:Math.log(t),r:255,g:0,b:0}),this.negativeScale=new ColorScale({threshold:Math.log(t),r:0,g:0,b:255})}return e.ContactMatrixView.prototype.getImageTile=function(){var e=u(d.mark(function e(n,r,i,o,s,a,c){var h,u,p,f,g,m,v,y,w,b,x,C,k,S,_,T,M,D,R,E;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(t,e,n,r,i,o){var s=[];return s.push(t.getNormalizedBlock(n,i,o,this.browser.eventBus)),r&&s.push(e.getNormalizedBlock(r,i,o,this.browser.eventBus)),Promise.all(s)},h=Math.max(1,Math.floor(c.pixelSize)),u=1===h,p=i.blockBinCount,f=i.chr1.name+"_"+i.chr2.name+"_"+i.zoom.binSize+"_"+i.zoom.unit+"_"+s+"_"+a+"_"+h+"_"+c.normalization+"_"+this.displayMode,!this.imageTileCache.hasOwnProperty(f)){e.next=9;break}return e.abrupt("return",this.imageTileCache[f]);case 9:if(!this.drawsInProgress.has(f)){e.next=13;break}return g=Math.ceil(p*h),m=l(g),e.abrupt("return",{row:s,column:a,blockBinCount:p,image:m,inProgress:!0});case 13:return this.drawsInProgress.add(f),e.prev=14,v=function(e,n,r){var o=Math.ceil(x*h),s=e.blockNumber,a=Math.floor(s/b),l=s-a*b,c=p*l,f=p*a,d=document.createElement("canvas");d.width=o,d.height=o;var g,m=d.getContext("2d"),v={};if("AOB"===this.displayMode||"BOA"===this.displayMode||"AMB"===this.displayMode){var C=!0,k=!1,S=void 0;try{for(var _,R=n.records[Symbol.iterator]();!(C=(_=R.next()).done);C=!0){var E=_.value;v[E.getKey()]=E}}catch(t){k=!0,S=t}finally{try{C||null==R.return||R.return()}finally{if(k)throw S}}}u&&(g=m.getImageData(0,0,d.width,d.height));for(var L=0;L<e.records.length;L++){var B=e.records[L],A=Math.floor((B.bin1-c)*h),$=Math.floor((B.bin2-f)*h);if(r){var z=$;$=A,A=z}var N=void 0;switch(this.displayMode){case"AOB":case"BOA":var I=B.getKey(),P=v[I];if(!P)continue;var F=B.counts/T/(P.counts/M);N=this.ratioColorScale.getColor(F);break;case"AMB":if(!(P=v[I=B.getKey()]))continue;F=D*(B.counts/T-P.counts/M),N=this.diffColorScale.getColor(F);break;default:N=this.colorScale.getColor(B.counts)}u?(y(g,A,$,N.red,N.green,N.blue,255),w&&a===l&&y(g,$,A,N.red,N.green,N.blue,255)):(m.fillStyle=N.rgb,m.fillRect(A,$,h,h),w&&a===l&&m.fillRect($,A,h,h))}u&&m.putImageData(g,0,0),m.save(),m.lineWidth=2;var O=!0,H=!1,j=void 0;try{for(var U,W=function(){var e=U.value;e.isVisible&&(q=e.getFeatures(i.chr1.name,i.chr2.name))&&q.forEach(function(n){var o=Math.round((n.x1/i.zoom.binSize-c)*h),s=Math.round((n.x2/i.zoom.binSize-c)*h),u=Math.round((n.y1/i.zoom.binSize-f)*h),p=Math.round((n.y2/i.zoom.binSize-f)*h),g=s-o,v=p-u;r&&(t=u,u=o,o=t,t=v,v=g,g=t);var y=Math.max(d.width,d.height);s>0&&o<y&&p>0&&u<y&&(m.strokeStyle=e.color?e.color:n.color,m.strokeRect(o,u,g,v),w&&a===l&&m.strokeRect(u,o,v,g))})},V=this.browser.tracks2D[Symbol.iterator]();!(O=(U=V.next()).done);O=!0){var q;W()}}catch(t){H=!0,j=t}finally{try{O||null==V.return||V.return()}finally{if(H)throw j}}m.restore();(new Date).getTime();return d},y=function(t,e,n,r,i,o,s){var a=4*(e+n*t.width);t.data[a+0]=r,t.data[a+1]=i,t.data[a+2]=o,t.data[a+3]=s},this.startSpinner(),w=i.chr1.index===i.chr2.index,b=i.blockColumnCount,x=i.blockBinCount,C=w&&s<a,k=w&&s<a?a*b+s:s*b+a,e.next=25,n.getNormalizedBlock(i,k,c.normalization,this.browser.eventBus);case 25:if(S=e.sent,!o){e.next=30;break}return e.next=29,r.getNormalizedBlock(o,k,c.normalization,this.browser.eventBus);case 29:_=e.sent;case 30:return T=i.averageCount,M=o?o.averageCount:1,D=(T+M)/2,S&&S.records.length>0&&(R=v.call(this,S,_,C)),E={row:s,column:a,blockBinCount:p,image:R},this.imageTileCacheLimit>0&&(this.imageTileCacheKeys.length>this.imageTileCacheLimit&&(delete this.imageTileCache[this.imageTileCacheKeys[0]],this.imageTileCacheKeys.shift()),this.imageTileCache[f]=E),this.drawsInProgress.delete(f),e.abrupt("return",E);case 38:return e.prev=38,this.stopSpinner(),e.finish(38);case 41:case"end":return e.stop()}},e,this,[[14,,38,41]])}));return function(t,n,r,i,o,s,a){return e.apply(this,arguments)}}(),e.ContactMatrixView.prototype.zoomIn=u(d.mark(function t(){var e,n,r,i,o,s,a,l,h,u,p,f,g;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.browser.state,n=this.$viewport.width(),r=this.$viewport.height(),t.next=5,c.call(this,e.chr1,e.chr2);case 5:if(i=t.sent,!(o=i[0])){t.next=26;break}return t.next=10,o.bpZoomData[e.zoom];case 10:if(s=t.sent,!((a={x:e.x*s.zoom.binSize,y:e.y*s.zoom.binSize,w:n*s.zoom.binSize/e.pixelSize,h:r*s.zoom.binSize/e.pixelSize}).w>this.genomicExtent.w)){t.next=14;break}return t.abrupt("return");case 14:l=(a.x-this.genomicExtent.x)/this.genomicExtent.w*n,h=(a.y-this.genomicExtent.y)/this.genomicExtent.w*r,u=a.w/this.genomicExtent.w*n,p=a.h/this.genomicExtent.h*r,f=this.$canvas[0],(g=document.createElement("canvas")).width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,l,h,u,p,0,0,n,r),this.ctx.clearRect(0,0,n,r),this.ctx.drawImage(g,0,0);case 26:case"end":return t.stop()}},t,this)})),e.ContactMatrixView.prototype.paintTile=function(t){var e=this.browser.state,n=this.$viewport.width(),r=this.$viewport.height(),i=t.image,o=Math.max(1,Math.floor(e.pixelSize));if(null!=i){var s=t.row,a=t.column,l=t.blockBinCount*a,c=t.blockBinCount*s,h=(l-e.x)*e.pixelSize,u=(c-e.y)*e.pixelSize,p=e.pixelSize/o,f=i.width*p,d=i.height*p;h<=n&&h+f>=0&&u<=r&&u+d>=0&&(this.ctx.clearRect(h,u,f,d),1===p?this.ctx.drawImage(i,h,u):this.ctx.drawImage(i,h,u,f,d))}},e.ContactMatrixView.prototype.startSpinner=function(){!0===this.browser.isLoadingHICFile&&this.browser.$user_interaction_shield&&this.browser.$user_interaction_shield.show(),this.$fa_spinner.css("display","inline-block"),this.spinnerCount++},e.ContactMatrixView.prototype.stopSpinner=function(){this.spinnerCount--,0===this.spinnerCount&&this.$fa_spinner.css("display","none"),this.spinnerCount=Math.max(0,this.spinnerCount)},ColorScale=function(t){this.threshold=t.threshold,this.r=t.r,this.g=t.g,this.b=t.b,this.cache=[],this.nbins=2e3,this.binsize=this.threshold/this.nbins},ColorScale.prototype.setThreshold=function(t){this.threshold=t,this.cache=[],this.binsize=this.threshold/this.nbins},ColorScale.prototype.getThreshold=function(){return this.threshold},ColorScale.prototype.setColorComponents=function(t){this.r=t.r,this.g=t.g,this.b=t.b,this.cache=[]},ColorScale.prototype.getColorComponents=function(){return{r:this.r,g:this.g,b:this.b}},ColorScale.prototype.equals=function(t){return JSON.stringify(this)===JSON.stringify(t)},ColorScale.prototype.getColor=function(t){var e=Math.floor(Math.min(this.threshold,t)/this.binsize),n=this.cache[e];if(!n){t<=0?t=0:t>=this.threshold&&(t=this.threshold);var r=(t-0)/(this.threshold-0),i=Math.floor(255+r*(this.r-255)),o=Math.floor(255+r*(this.g-255)),s=Math.floor(255+r*(this.b-255));n={red:i,green:o,blue:s,rgb:"rgb("+i+","+o+","+s+")"},this.cache[e]=n}return n},ColorScale.prototype.stringify=function(){return this.threshold+","+this.r+","+this.g+","+this.b},y.prototype.setThreshold=function(t){this.threshold=t,this.positiveScale.setThreshold(Math.log(t)),this.negativeScale.setThreshold(Math.log(t))},y.prototype.getThreshold=function(){return this.threshold},y.prototype.setColorComponents=function(t,e){return"-"===e?this.negativeScale.setColorComponents(t):this.positiveScale.setColorComponents(t)},y.prototype.getColorComponents=function(t){return"-"===t?this.negativeScale.getColorComponents():this.positiveScale.getColorComponents()},y.prototype.getColor=function(t){var e=Math.log(t);return e<0?this.negativeScale.getColor(-e):this.positiveScale.getColor(e)},y.prototype.stringify=function(){return"R:"+this.threshold+":"+this.positiveScale.stringify()+":"+this.negativeScale.stringify()},e.destringifyColorScale=function(t){var e,n;return t.startsWith("R:")?(e=t.substring(2).split(":"),(n=new y(Number.parseFloat(e[0]))).positiveScale=r(e[1]),n.negativeScale=r(e[2]),n):r(t);function r(t){var e,n;return e={threshold:(n=t.split(","))[0],r:n[1],g:n[2],b:n[3]},new ColorScale(e)}},e}((C=function(t){return t.ChromosomeSelectorWidget=function(t,e){var n,r,i,o=this;this.browser=t,this.$container=h('<div class="hic-chromosome-selector-widget-container">'),e.append(this.$container),n=h("<div>"),this.$container.append(n),n.text("Chromosomes"),r=h("<div>"),this.$container.append(r),this.$x_axis_selector=h('<select name="x-axis-selector">'),r.append(this.$x_axis_selector),this.$y_axis_selector=h('<select name="y-axis-selector">'),r.append(this.$y_axis_selector),this.$x_axis_selector.on("change",function(t){0===parseInt(h(this).val(),10)?o.$y_axis_selector.val(h(this).val()):0===parseInt(o.$y_axis_selector.val(),10)&&o.$y_axis_selector.val(h(this).val())}),this.$y_axis_selector.on("change",function(t){0===parseInt(h(this).val(),10)?o.$x_axis_selector.val(h(this).val()):0===parseInt(o.$x_axis_selector.val(),10)&&o.$x_axis_selector.val(h(this).val())}),i=h("<div>"),r.append(i),i.on("click",function(t){var e,n;e=parseInt(o.$x_axis_selector.find("option:selected").val(),10),n=parseInt(o.$y_axis_selector.find("option:selected").val(),10),o.browser.setChromosomes(e,n)}),this.dataLoadConfig={receiveEvent:function(t){"MapLoad"===t.type&&o.respondToDataLoadWithDataset(t.data)}},this.browser.eventBus.subscribe("MapLoad",this.dataLoadConfig),this.locusChangeConfig={receiveEvent:function(t){"LocusChange"===t.type&&o.respondToLocusChangeWithState(t.data.state)}},this.browser.eventBus.subscribe("LocusChange",this.locusChangeConfig)},t.ChromosomeSelectorWidget.prototype.respondToDataLoadWithDataset=function(t){var e,n;this.$x_axis_selector.empty(),this.$y_axis_selector.empty(),e=b.map(t.chromosomes,function(t,e){return"<option value="+e.toString()+">"+t.name+"</option>"}),this.$x_axis_selector.append(e.join("")),this.$y_axis_selector.append(e.join("")),n="option[value="+this.browser.state.chr1.toString()+"]",this.$x_axis_selector.find(n).prop("selected",!0),n="option[value="+this.browser.state.chr2.toString()+"]",this.$y_axis_selector.find(n).prop("selected",!0)},t.ChromosomeSelectorWidget.prototype.respondToLocusChangeWithState=function(t){var e,n,r,i;r=this.$x_axis_selector.find("option"),i=this.$y_axis_selector.find("option"),0!==b.size(r)&&0!==b.size(i)&&(r=this.$x_axis_selector.find("option:selected"),i=this.$y_axis_selector.find("option:selected"),r.prop("selected",!1),i.prop("selected",!1),e="option[value="+t.chr1.toString()+"]",n="option[value="+t.chr2.toString()+"]",this.$x_axis_selector.find(e).prop("selected",!0),this.$y_axis_selector.find(n).prop("selected",!0))},t}((C=function(t){return t.CaptionManager=function(t){var e=this;this.$caption=t,t.keyup(function(t){e.getCaption(h(this))})},t.CaptionManager.prototype.getCaption=function(t){this.text=t.text()},t.CaptionManager.prototype.setCaption=function(t){this.text=t,this.$caption.text(t)},t}((C=function(t){function e(e,n){var r,i,o,s,a,l,c,u,p,f,d,g,m,v,y,w,x,C,k,S,_,T=this;if(d=n instanceof t.Track2D,g=this.trackListRetrievalCallback(),!1===d&&(y=(m=n).x.track,v=m.x.track.trackView),o=h("<div>",{class:"hic-annotation-row-container"}),e.append(o),s=h("<div>",{class:"hic-annotation-modal-row"}),o.append(s),(p=h("<div>")).text(d?n.config.name:y.config.name),s.append(p),d&&(f=!0===n.isVisible?"fa fa-eye fa-lg":"fa fa-eye-slash fa-lg",a=h("<i>",{class:f,"aria-hidden":"true"}),s.append(a),a.on("click",function(t){a.hasClass("fa-eye")?(a.addClass("fa-eye-slash"),a.removeClass("fa-eye"),n.isVisible=!1):(a.addClass("fa-eye"),a.removeClass("fa-eye-slash"),n.isVisible=!0),T.browser.contactMatrixView.clearImageCaches(),T.browser.contactMatrixView.update()})),d){var M=h("<div>",{class:"matrix-diagonal-widget-container matrix-diagonal-widget-all"});s.append(M),M.on("click.matrix_diagonal_div",function(e){var r,i;e.preventDefault(),i=n,(r=M).hasClass("matrix-diagonal-widget-all")?(r.removeClass("matrix-diagonal-widget-all"),r.addClass("matrix-diagonal-widget-lower"),i.displayMode=t.Track2DDisplaceModes.displayLowerMatrix):r.hasClass("matrix-diagonal-widget-lower")?(r.removeClass("matrix-diagonal-widget-lower"),r.addClass("matrix-diagonal-widget-upper"),i.displayMode=t.Track2DDisplaceModes.displayUpperMatrix):r.hasClass("matrix-diagonal-widget-upper")?(r.removeClass("matrix-diagonal-widget-upper"),r.addClass("matrix-diagonal-widget-all"),i.displayMode=t.Track2DDisplaceModes.displayAllMatrix):(r.addClass("matrix-diagonal-widget-all"),i.displayMode=t.Track2DDisplaceModes.displayAllMatrix)})}k=d?n.getColor():y.color,S=h("<div>",{class:"igv-color-swatch"}),_=h("<i>",{class:"fa fa-square fa-lg","aria-hidden":"true"}),S.append(_),_.css({color:k}),i=S,s.append(i),r=function(t,e,n){var r,i,o;r=h("<div>",{class:"hic-color-swatch-container"}),t.append(r),e&&e.width&&r.width(e.width);e&&e.height&&r.height(e.height);return i=h("<div>"),r.append(i),o=h("<i>",{class:"fa fa-times"}),i.append(o),o.on("click",function(t){n()}),r}(o,{width:698},function(){s.next(".hic-color-swatch-container").toggle()}),i.on("click",function(t){s.next(".hic-color-swatch-container").toggle()}),r.hide(),igv.createColorSwatchSelector(r,function(e){s.find(".fa-square").css({color:e}),d?(n.color=e,T.browser.eventBus.post(t.Event("TrackState2D",n))):v.setColor(e)}),p=h("<div>",{class:"up-down-arrow-container"}),s.append(p),c=h("<i>",{class:"fa fa-arrow-up","aria-hidden":"true"}),p.append(c),u=h("<i>",{class:"fa fa-arrow-down","aria-hidden":"true"}),p.append(u),1===b.size(g)?(c.css("color","#f7f7f7"),u.css("color","#f7f7f7")):n===b.first(g)?(d?u:c).css("color","#f7f7f7"):n===b.last(g)&&(d?c:u).css("color","#f7f7f7"),w=b.indexOf(g,n),x=function(e){n=g[w+1],g[w+1]=g[w],g[w]=n,d?(T.browser.eventBus.post(t.Event("TrackState2D",g)),T.updateBody(g)):(T.browser.updateLayout(),T.updateBody(g))},C=function(e){n=g[w-1],g[w-1]=g[w],g[w]=n,d?(T.browser.eventBus.post(t.Event("TrackState2D",g)),T.updateBody(g)):(T.browser.updateLayout(),T.updateBody(g))},c.on("click",d?x:C),u.on("click",d?C:x),l=h("<i>",{class:"fa fa-trash-o fa-lg","aria-hidden":"true"}),s.append(l),l.on("click",function(e){var r;d?(r=b.indexOf(g,n),g.splice(r,1),T.browser.contactMatrixView.clearImageCaches(),T.browser.contactMatrixView.update(),T.browser.eventBus.post(t.Event("TrackLoad2D",g))):T.browser.layoutController.removeTrackRendererPair(v.trackRenderPair),T.updateBody(g)})}return t.AnnotationWidget=function(t,e,n,r){var i;this.browser=t,this.trackListRetrievalCallback=r,i=h("<div>",{class:"hic-annotation-presentation-button-container"}),e.append(i),function(t,e,n){var r,i=this;(r=h("<button>",{type:"button"})).text(e),t.append(r),r.on("click",function(){i.trackListRetrievalCallback().length>0?(i.updateBody(i.trackListRetrievalCallback()),i.$annotationPanel.toggle()):igv.presentAlert(n),i.browser.hideMenu()})}.call(this,i,n.title,n.alertMessage),function(t,e){var n,r,i,o=this;this.$annotationPanel=h("<div>",{class:"hic-annotation-panel-container"}),t.append(this.$annotationPanel),n=h("<div>",{class:"hic-annotation-panel-header"}),this.$annotationPanel.append(n),(r=h("<div>")).text(e),n.append(r),r=h("<div>",{class:"hic-menu-close-button"}),n.append(r),i=h("<i>",{class:"fa fa-times"}),r.append(i),i.on("click",function(t){o.$annotationPanel.toggle()}),igv.makeDraggable(this.$annotationPanel.get(0),n.get(0)),this.$annotationPanel.hide()}.call(this,this.browser.$root,n.title)},t.AnnotationWidget.prototype.updateBody=function(n){var r,i,o=this;if(o.$annotationPanel.find(".hic-annotation-row-container").remove(),b.first(n)instanceof t.Track2D)for(i=n.length-1;i>=0;i--)e.call(o,o.$annotationPanel,n[i]);else r=n,b.each(r,function(t){e.call(o,o.$annotationPanel,t)})},t}(C||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{})}()},function(t,e,n){!function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),s=new M(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=c(t,e,n);if("normal"===l.type){if(r=n.done?f:u,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}(t,n,s),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h="suspendedStart",u="suspendedYield",p="executing",f="completed",d={};function g(){}function m(){}function v(){}var y={};y[o]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(D([])));b&&b!==n&&r.call(b,o)&&(y=b);var x=v.prototype=g.prototype=Object.create(y);function C(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,s){var a=c(t[n],t,i);if("throw"!==a.type){var l=a.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(h).then(function(t){l.value=t,o(l)},function(t){return e("throw",t,o,s)})}s(a.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function D(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:R}}function R(){return{value:e,done:!0}}m.prototype=x.constructor=v,v.constructor=m,v[a]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},C(k.prototype),k.prototype[s]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,r,i){var o=new k(l(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},C(x),x[a]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=D,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}}}(t.exports)}])});
//# sourceMappingURL=juicebox.min.js.map